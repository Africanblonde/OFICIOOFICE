var F6=Object.defineProperty;var G6=(e,t,r)=>t in e?F6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var vy=(e,t,r)=>G6(e,typeof t!="symbol"?t+"":t,r);function H6(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();function ci(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var xy={exports:{}},ju={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EE;function K6(){if(EE)return ju;EE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,i,s){var c=null;if(s!==void 0&&(c=""+s),i.key!==void 0&&(c=""+i.key),"key"in i){s={};for(var d in i)d!=="key"&&(s[d]=i[d])}else s=i;return i=s.ref,{$$typeof:e,type:n,key:c,ref:i!==void 0?i:null,props:s}}return ju.Fragment=t,ju.jsx=r,ju.jsxs=r,ju}var AE;function W6(){return AE||(AE=1,xy.exports=K6()),xy.exports}var l=W6(),by={exports:{}},tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OE;function Y6(){if(OE)return tt;OE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function x(L){return L===null||typeof L!="object"?null:(L=v&&L[v]||L["@@iterator"],typeof L=="function"?L:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,N={};function S(L,ee,je){this.props=L,this.context=ee,this.refs=N,this.updater=je||j}S.prototype.isReactComponent={},S.prototype.setState=function(L,ee){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,ee,"setState")},S.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function O(){}O.prototype=S.prototype;function A(L,ee,je){this.props=L,this.context=ee,this.refs=N,this.updater=je||j}var P=A.prototype=new O;P.constructor=A,_(P,S.prototype),P.isPureReactComponent=!0;var D=Array.isArray;function T(){}var R={H:null,A:null,T:null,S:null},q=Object.prototype.hasOwnProperty;function Y(L,ee,je){var Ne=je.ref;return{$$typeof:e,type:L,key:ee,ref:Ne!==void 0?Ne:null,props:je}}function G(L,ee){return Y(L.type,ee,L.props)}function U(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function z(L){var ee={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(je){return ee[je]})}var J=/\/+/g;function B(L,ee){return typeof L=="object"&&L!==null&&L.key!=null?z(""+L.key):ee.toString(36)}function K(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(T,T):(L.status="pending",L.then(function(ee){L.status==="pending"&&(L.status="fulfilled",L.value=ee)},function(ee){L.status==="pending"&&(L.status="rejected",L.reason=ee)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function M(L,ee,je,Ne,Ie){var Oe=typeof L;(Oe==="undefined"||Oe==="boolean")&&(L=null);var ke=!1;if(L===null)ke=!0;else switch(Oe){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(L.$$typeof){case e:case t:ke=!0;break;case p:return ke=L._init,M(ke(L._payload),ee,je,Ne,Ie)}}if(ke)return Ie=Ie(L),ke=Ne===""?"."+B(L,0):Ne,D(Ie)?(je="",ke!=null&&(je=ke.replace(J,"$&/")+"/"),M(Ie,ee,je,"",function(Q){return Q})):Ie!=null&&(U(Ie)&&(Ie=G(Ie,je+(Ie.key==null||L&&L.key===Ie.key?"":(""+Ie.key).replace(J,"$&/")+"/")+ke)),ee.push(Ie)),1;ke=0;var dt=Ne===""?".":Ne+":";if(D(L))for(var $=0;$<L.length;$++)Ne=L[$],Oe=dt+B(Ne,$),ke+=M(Ne,ee,je,Oe,Ie);else if($=x(L),typeof $=="function")for(L=$.call(L),$=0;!(Ne=L.next()).done;)Ne=Ne.value,Oe=dt+B(Ne,$++),ke+=M(Ne,ee,je,Oe,Ie);else if(Oe==="object"){if(typeof L.then=="function")return M(K(L),ee,je,Ne,Ie);throw ee=String(L),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return ke}function H(L,ee,je){if(L==null)return L;var Ne=[],Ie=0;return M(L,Ne,"","",function(Oe){return ee.call(je,Oe,Ie++)}),Ne}function re(L){if(L._status===-1){var ee=L._result;ee=ee(),ee.then(function(je){(L._status===0||L._status===-1)&&(L._status=1,L._result=je)},function(je){(L._status===0||L._status===-1)&&(L._status=2,L._result=je)}),L._status===-1&&(L._status=0,L._result=ee)}if(L._status===1)return L._result.default;throw L._result}var be=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},Se={map:H,forEach:function(L,ee,je){H(L,function(){ee.apply(this,arguments)},je)},count:function(L){var ee=0;return H(L,function(){ee++}),ee},toArray:function(L){return H(L,function(ee){return ee})||[]},only:function(L){if(!U(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return tt.Activity=g,tt.Children=Se,tt.Component=S,tt.Fragment=r,tt.Profiler=i,tt.PureComponent=A,tt.StrictMode=n,tt.Suspense=f,tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,tt.__COMPILER_RUNTIME={__proto__:null,c:function(L){return R.H.useMemoCache(L)}},tt.cache=function(L){return function(){return L.apply(null,arguments)}},tt.cacheSignal=function(){return null},tt.cloneElement=function(L,ee,je){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var Ne=_({},L.props),Ie=L.key;if(ee!=null)for(Oe in ee.key!==void 0&&(Ie=""+ee.key),ee)!q.call(ee,Oe)||Oe==="key"||Oe==="__self"||Oe==="__source"||Oe==="ref"&&ee.ref===void 0||(Ne[Oe]=ee[Oe]);var Oe=arguments.length-2;if(Oe===1)Ne.children=je;else if(1<Oe){for(var ke=Array(Oe),dt=0;dt<Oe;dt++)ke[dt]=arguments[dt+2];Ne.children=ke}return Y(L.type,Ie,Ne)},tt.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:s,_context:L},L},tt.createElement=function(L,ee,je){var Ne,Ie={},Oe=null;if(ee!=null)for(Ne in ee.key!==void 0&&(Oe=""+ee.key),ee)q.call(ee,Ne)&&Ne!=="key"&&Ne!=="__self"&&Ne!=="__source"&&(Ie[Ne]=ee[Ne]);var ke=arguments.length-2;if(ke===1)Ie.children=je;else if(1<ke){for(var dt=Array(ke),$=0;$<ke;$++)dt[$]=arguments[$+2];Ie.children=dt}if(L&&L.defaultProps)for(Ne in ke=L.defaultProps,ke)Ie[Ne]===void 0&&(Ie[Ne]=ke[Ne]);return Y(L,Oe,Ie)},tt.createRef=function(){return{current:null}},tt.forwardRef=function(L){return{$$typeof:d,render:L}},tt.isValidElement=U,tt.lazy=function(L){return{$$typeof:p,_payload:{_status:-1,_result:L},_init:re}},tt.memo=function(L,ee){return{$$typeof:h,type:L,compare:ee===void 0?null:ee}},tt.startTransition=function(L){var ee=R.T,je={};R.T=je;try{var Ne=L(),Ie=R.S;Ie!==null&&Ie(je,Ne),typeof Ne=="object"&&Ne!==null&&typeof Ne.then=="function"&&Ne.then(T,be)}catch(Oe){be(Oe)}finally{ee!==null&&je.types!==null&&(ee.types=je.types),R.T=ee}},tt.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},tt.use=function(L){return R.H.use(L)},tt.useActionState=function(L,ee,je){return R.H.useActionState(L,ee,je)},tt.useCallback=function(L,ee){return R.H.useCallback(L,ee)},tt.useContext=function(L){return R.H.useContext(L)},tt.useDebugValue=function(){},tt.useDeferredValue=function(L,ee){return R.H.useDeferredValue(L,ee)},tt.useEffect=function(L,ee){return R.H.useEffect(L,ee)},tt.useEffectEvent=function(L){return R.H.useEffectEvent(L)},tt.useId=function(){return R.H.useId()},tt.useImperativeHandle=function(L,ee,je){return R.H.useImperativeHandle(L,ee,je)},tt.useInsertionEffect=function(L,ee){return R.H.useInsertionEffect(L,ee)},tt.useLayoutEffect=function(L,ee){return R.H.useLayoutEffect(L,ee)},tt.useMemo=function(L,ee){return R.H.useMemo(L,ee)},tt.useOptimistic=function(L,ee){return R.H.useOptimistic(L,ee)},tt.useReducer=function(L,ee,je){return R.H.useReducer(L,ee,je)},tt.useRef=function(L){return R.H.useRef(L)},tt.useState=function(L){return R.H.useState(L)},tt.useSyncExternalStore=function(L,ee,je){return R.H.useSyncExternalStore(L,ee,je)},tt.useTransition=function(){return R.H.useTransition()},tt.version="19.2.0",tt}var TE;function yc(){return TE||(TE=1,by.exports=Y6()),by.exports}var w=yc();const Ba=ci(w),X6=H6({__proto__:null,default:Ba},[w]);var wy={exports:{}},_u={},jy={exports:{}},_y={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CE;function Z6(){return CE||(CE=1,(function(e){function t(M,H){var re=M.length;M.push(H);e:for(;0<re;){var be=re-1>>>1,Se=M[be];if(0<i(Se,H))M[be]=H,M[re]=Se,re=be;else break e}}function r(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var H=M[0],re=M.pop();if(re!==H){M[0]=re;e:for(var be=0,Se=M.length,L=Se>>>1;be<L;){var ee=2*(be+1)-1,je=M[ee],Ne=ee+1,Ie=M[Ne];if(0>i(je,re))Ne<Se&&0>i(Ie,je)?(M[be]=Ie,M[Ne]=re,be=Ne):(M[be]=je,M[ee]=re,be=ee);else if(Ne<Se&&0>i(Ie,re))M[be]=Ie,M[Ne]=re,be=Ne;else break e}}return H}function i(M,H){var re=M.sortIndex-H.sortIndex;return re!==0?re:M.id-H.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var f=[],h=[],p=1,g=null,v=3,x=!1,j=!1,_=!1,N=!1,S=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function P(M){for(var H=r(h);H!==null;){if(H.callback===null)n(h);else if(H.startTime<=M)n(h),H.sortIndex=H.expirationTime,t(f,H);else break;H=r(h)}}function D(M){if(_=!1,P(M),!j)if(r(f)!==null)j=!0,T||(T=!0,z());else{var H=r(h);H!==null&&K(D,H.startTime-M)}}var T=!1,R=-1,q=5,Y=-1;function G(){return N?!0:!(e.unstable_now()-Y<q)}function U(){if(N=!1,T){var M=e.unstable_now();Y=M;var H=!0;try{e:{j=!1,_&&(_=!1,O(R),R=-1),x=!0;var re=v;try{t:{for(P(M),g=r(f);g!==null&&!(g.expirationTime>M&&G());){var be=g.callback;if(typeof be=="function"){g.callback=null,v=g.priorityLevel;var Se=be(g.expirationTime<=M);if(M=e.unstable_now(),typeof Se=="function"){g.callback=Se,P(M),H=!0;break t}g===r(f)&&n(f),P(M)}else n(f);g=r(f)}if(g!==null)H=!0;else{var L=r(h);L!==null&&K(D,L.startTime-M),H=!1}}break e}finally{g=null,v=re,x=!1}H=void 0}}finally{H?z():T=!1}}}var z;if(typeof A=="function")z=function(){A(U)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,B=J.port2;J.port1.onmessage=U,z=function(){B.postMessage(null)}}else z=function(){S(U,0)};function K(M,H){R=S(function(){M(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(M){switch(v){case 1:case 2:case 3:var H=3;break;default:H=v}var re=v;v=H;try{return M()}finally{v=re}},e.unstable_requestPaint=function(){N=!0},e.unstable_runWithPriority=function(M,H){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var re=v;v=M;try{return H()}finally{v=re}},e.unstable_scheduleCallback=function(M,H,re){var be=e.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?be+re:be):re=be,M){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=re+Se,M={id:p++,callback:H,priorityLevel:M,startTime:re,expirationTime:Se,sortIndex:-1},re>be?(M.sortIndex=re,t(h,M),r(f)===null&&M===r(h)&&(_?(O(R),R=-1):_=!0,K(D,re-be))):(M.sortIndex=Se,t(f,M),j||x||(j=!0,T||(T=!0,z()))),M},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(M){var H=v;return function(){var re=v;v=H;try{return M.apply(this,arguments)}finally{v=re}}}})(_y)),_y}var PE;function Q6(){return PE||(PE=1,jy.exports=Z6()),jy.exports}var Ny={exports:{}},mn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DE;function J6(){if(DE)return mn;DE=1;var e=yc();function t(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(f,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:f,containerInfo:h,implementation:p}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,mn.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return s(f,h,null,p)},mn.flushSync=function(f){var h=c.T,p=n.p;try{if(c.T=null,n.p=2,f)return f()}finally{c.T=h,n.p=p,n.d.f()}},mn.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(f,h))},mn.prefetchDNS=function(f){typeof f=="string"&&n.d.D(f)},mn.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,x=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?n.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:x}):p==="script"&&n.d.X(f,{crossOrigin:g,integrity:v,fetchPriority:x,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},mn.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=d(h.as,h.crossOrigin);n.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(f)},mn.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin);n.d.L(f,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},mn.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=d(h.as,h.crossOrigin);n.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(f)},mn.requestFormReset=function(f){n.d.r(f)},mn.unstable_batchedUpdates=function(f,h){return f(h)},mn.useFormState=function(f,h,p){return c.H.useFormState(f,h,p)},mn.useFormStatus=function(){return c.H.useHostTransitionStatus()},mn.version="19.2.0",mn}var kE;function KP(){if(kE)return Ny.exports;kE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Ny.exports=J6(),Ny.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RE;function eL(){if(RE)return _u;RE=1;var e=Q6(),t=yc(),r=KP();function n(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,u=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(u=o.return),a=o.return;while(a)}return o.tag===3?u:null}function c(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function d(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function f(a){if(s(a)!==a)throw Error(n(188))}function h(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(n(188));return o!==a?null:a}for(var u=a,m=o;;){var y=u.return;if(y===null)break;var b=y.alternate;if(b===null){if(m=y.return,m!==null){u=m;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===u)return f(y),a;if(b===m)return f(y),o;b=b.sibling}throw Error(n(188))}if(u.return!==m.return)u=y,m=b;else{for(var E=!1,k=y.child;k;){if(k===u){E=!0,u=y,m=b;break}if(k===m){E=!0,m=y,u=b;break}k=k.sibling}if(!E){for(k=b.child;k;){if(k===u){E=!0,u=b,m=y;break}if(k===m){E=!0,m=b,u=y;break}k=k.sibling}if(!E)throw Error(n(189))}}if(u.alternate!==m)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?a:o}function p(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=p(a),o!==null)return o;a=a.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),A=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function z(a){return a===null||typeof a!="object"?null:(a=U&&a[U]||a["@@iterator"],typeof a=="function"?a:null)}var J=Symbol.for("react.client.reference");function B(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===J?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case _:return"Fragment";case S:return"Profiler";case N:return"StrictMode";case D:return"Suspense";case T:return"SuspenseList";case Y:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case j:return"Portal";case A:return a.displayName||"Context";case O:return(a._context.displayName||"Context")+".Consumer";case P:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case R:return o=a.displayName||null,o!==null?o:B(a.type)||"Memo";case q:o=a._payload,a=a._init;try{return B(a(o))}catch{}}return null}var K=Array.isArray,M=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},be=[],Se=-1;function L(a){return{current:a}}function ee(a){0>Se||(a.current=be[Se],be[Se]=null,Se--)}function je(a,o){Se++,be[Se]=a.current,a.current=o}var Ne=L(null),Ie=L(null),Oe=L(null),ke=L(null);function dt(a,o){switch(je(Oe,o),je(Ie,a),je(Ne,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?YS(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=YS(o),a=XS(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}ee(Ne),je(Ne,a)}function $(){ee(Ne),ee(Ie),ee(Oe)}function Q(a){a.memoizedState!==null&&je(ke,a);var o=Ne.current,u=XS(o,a.type);o!==u&&(je(Ie,a),je(Ne,u))}function ue(a){Ie.current===a&&(ee(Ne),ee(Ie)),ke.current===a&&(ee(ke),vu._currentValue=re)}var oe,Je;function Le(a){if(oe===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);oe=o&&o[1]||"",Je=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+oe+a+Je}var mt=!1;function lt(a,o){if(!a||mt)return"";mt=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var xe=function(){throw Error()};if(Object.defineProperty(xe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(xe,[])}catch(de){var se=de}Reflect.construct(a,[],xe)}else{try{xe.call()}catch(de){se=de}a.call(xe.prototype)}}else{try{throw Error()}catch(de){se=de}(xe=a())&&typeof xe.catch=="function"&&xe.catch(function(){})}}catch(de){if(de&&se&&typeof de.stack=="string")return[de.stack,se.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=m.DetermineComponentFrameRoot(),E=b[0],k=b[1];if(E&&k){var F=E.split(`
`),ae=k.split(`
`);for(y=m=0;m<F.length&&!F[m].includes("DetermineComponentFrameRoot");)m++;for(;y<ae.length&&!ae[y].includes("DetermineComponentFrameRoot");)y++;if(m===F.length||y===ae.length)for(m=F.length-1,y=ae.length-1;1<=m&&0<=y&&F[m]!==ae[y];)y--;for(;1<=m&&0<=y;m--,y--)if(F[m]!==ae[y]){if(m!==1||y!==1)do if(m--,y--,0>y||F[m]!==ae[y]){var he=`
`+F[m].replace(" at new "," at ");return a.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",a.displayName)),he}while(1<=m&&0<=y);break}}}finally{mt=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?Le(u):""}function Ve(a,o){switch(a.tag){case 26:case 27:case 5:return Le(a.type);case 16:return Le("Lazy");case 13:return a.child!==o&&o!==null?Le("Suspense Fallback"):Le("Suspense");case 19:return Le("SuspenseList");case 0:case 15:return lt(a.type,!1);case 11:return lt(a.type.render,!1);case 1:return lt(a.type,!0);case 31:return Le("Activity");default:return""}}function hr(a){try{var o="",u=null;do o+=Ve(a,u),u=a,a=a.return;while(a);return o}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var xt=Object.prototype.hasOwnProperty,An=e.unstable_scheduleCallback,$t=e.unstable_cancelCallback,Wa=e.unstable_shouldYield,Ae=e.unstable_requestPaint,et=e.unstable_now,De=e.unstable_getCurrentPriorityLevel,rt=e.unstable_ImmediatePriority,Pr=e.unstable_UserBlockingPriority,Bn=e.unstable_NormalPriority,bn=e.unstable_LowPriority,qn=e.unstable_IdlePriority,ui=e.log,Aa=e.unstable_setDisableYieldValue,Dr=null,Zt=null;function Bt(a){if(typeof ui=="function"&&Aa(a),Zt&&typeof Zt.setStrictMode=="function")try{Zt.setStrictMode(Dr,a)}catch{}}var ge=Math.clz32?Math.clz32:ce,it=Math.log,Gr=Math.LN2;function ce(a){return a>>>=0,a===0?32:31-(it(a)/Gr|0)|0}var Ya=256,rs=262144,Xa=4194304;function sa(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function ns(a,o,u){var m=a.pendingLanes;if(m===0)return 0;var y=0,b=a.suspendedLanes,E=a.pingedLanes;a=a.warmLanes;var k=m&134217727;return k!==0?(m=k&~b,m!==0?y=sa(m):(E&=k,E!==0?y=sa(E):u||(u=k&~a,u!==0&&(y=sa(u))))):(k=m&~b,k!==0?y=sa(k):E!==0?y=sa(E):u||(u=m&~a,u!==0&&(y=sa(u)))),y===0?0:o!==0&&o!==y&&(o&b)===0&&(b=y&-y,u=o&-o,b>=u||b===32&&(u&4194048)!==0)?o:y}function di(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function Cc(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mr(){var a=Xa;return Xa<<=1,(Xa&62914560)===0&&(Xa=4194304),a}function le(a){for(var o=[],u=0;31>u;u++)o.push(a);return o}function Ke(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function vt(a,o,u,m,y,b){var E=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var k=a.entanglements,F=a.expirationTimes,ae=a.hiddenUpdates;for(u=E&~u;0<u;){var he=31-ge(u),xe=1<<he;k[he]=0,F[he]=-1;var se=ae[he];if(se!==null)for(ae[he]=null,he=0;he<se.length;he++){var de=se[he];de!==null&&(de.lane&=-536870913)}u&=~xe}m!==0&&Et(a,m,0),b!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=b&~(E&~o))}function Et(a,o,u){a.pendingLanes|=o,a.suspendedLanes&=~o;var m=31-ge(o);a.entangledLanes|=o,a.entanglements[m]=a.entanglements[m]|1073741824|u&261930}function kr(a,o){var u=a.entangledLanes|=o;for(a=a.entanglements;u;){var m=31-ge(u),y=1<<m;y&o|a[m]&o&&(a[m]|=o),u&=~y}}function wn(a,o){var u=o&-o;return u=(u&42)!==0?1:At(u),(u&(a.suspendedLanes|o))!==0?0:u}function At(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function qt(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function tn(){var a=H.p;return a!==0?a:(a=window.event,a===void 0?32:xE(a.type))}function as(a,o){var u=H.p;try{return H.p=a,o()}finally{H.p=u}}var bt=Math.random().toString(36).slice(2),Tt="__reactFiber$"+bt,hn="__reactProps$"+bt,is="__reactContainer$"+bt,Pc="__reactEvents$"+bt,mg="__reactListeners$"+bt,pg="__reactHandles$"+bt,ef="__reactResources$"+bt,Qs="__reactMarker$"+bt;function Dc(a){delete a[Tt],delete a[hn],delete a[Pc],delete a[mg],delete a[pg]}function ss(a){var o=a[Tt];if(o)return o;for(var u=a.parentNode;u;){if(o=u[is]||u[Tt]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(a=nE(a);a!==null;){if(u=a[Tt])return u;a=nE(a)}return o}a=u,u=a.parentNode}return null}function os(a){if(a=a[Tt]||a[is]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function Js(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(n(33))}function ls(a){var o=a[ef];return o||(o=a[ef]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function wr(a){a[Qs]=!0}var tf=new Set,rf={};function fi(a,o){cs(a,o),cs(a+"Capture",o)}function cs(a,o){for(rf[a]=o,a=0;a<o.length;a++)tf.add(o[a])}var gg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nf={},af={};function sf(a){return xt.call(af,a)?!0:xt.call(nf,a)?!1:gg.test(a)?af[a]=!0:(nf[a]=!0,!1)}function Jo(a,o,u){if(sf(o))if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+u)}}function el(a,o,u){if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+u)}}function Oa(a,o,u,m){if(m===null)a.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(o,u,""+m)}}function On(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function of(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function yg(a,o,u){var m=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var y=m.get,b=m.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return y.call(this)},set:function(E){u=""+E,b.call(this,E)}}),Object.defineProperty(a,o,{enumerable:m.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function kc(a){if(!a._valueTracker){var o=of(a)?"checked":"value";a._valueTracker=yg(a,o,""+a[o])}}function lf(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var u=o.getValue(),m="";return a&&(m=of(a)?a.checked?"true":"false":a.value),a=m,a!==u?(o.setValue(a),!0):!1}function tl(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var vg=/[\n"\\]/g;function Tn(a){return a.replace(vg,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Rc(a,o,u,m,y,b,E,k){a.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?a.type=E:a.removeAttribute("type"),o!=null?E==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+On(o)):a.value!==""+On(o)&&(a.value=""+On(o)):E!=="submit"&&E!=="reset"||a.removeAttribute("value"),o!=null?Mc(a,E,On(o)):u!=null?Mc(a,E,On(u)):m!=null&&a.removeAttribute("value"),y==null&&b!=null&&(a.defaultChecked=!!b),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?a.name=""+On(k):a.removeAttribute("name")}function cf(a,o,u,m,y,b,E,k){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(a.type=b),o!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||o!=null)){kc(a);return}u=u!=null?""+On(u):"",o=o!=null?""+On(o):u,k||o===a.value||(a.value=o),a.defaultValue=o}m=m??y,m=typeof m!="function"&&typeof m!="symbol"&&!!m,a.checked=k?a.checked:!!m,a.defaultChecked=!!m,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(a.name=E),kc(a)}function Mc(a,o,u){o==="number"&&tl(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function us(a,o,u,m){if(a=a.options,o){o={};for(var y=0;y<u.length;y++)o["$"+u[y]]=!0;for(u=0;u<a.length;u++)y=o.hasOwnProperty("$"+a[u].value),a[u].selected!==y&&(a[u].selected=y),y&&m&&(a[u].defaultSelected=!0)}else{for(u=""+On(u),o=null,y=0;y<a.length;y++){if(a[y].value===u){a[y].selected=!0,m&&(a[y].defaultSelected=!0);return}o!==null||a[y].disabled||(o=a[y])}o!==null&&(o.selected=!0)}}function uf(a,o,u){if(o!=null&&(o=""+On(o),o!==a.value&&(a.value=o),u==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=u!=null?""+On(u):""}function df(a,o,u,m){if(o==null){if(m!=null){if(u!=null)throw Error(n(92));if(K(m)){if(1<m.length)throw Error(n(93));m=m[0]}u=m}u==null&&(u=""),o=u}u=On(o),a.defaultValue=u,m=a.textContent,m===u&&m!==""&&m!==null&&(a.value=m),kc(a)}function ds(a,o){if(o){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=o;return}}a.textContent=o}var xg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ff(a,o,u){var m=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?m?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":m?a.setProperty(o,u):typeof u!="number"||u===0||xg.has(o)?o==="float"?a.cssFloat=u:a[o]=(""+u).trim():a[o]=u+"px"}function hf(a,o,u){if(o!=null&&typeof o!="object")throw Error(n(62));if(a=a.style,u!=null){for(var m in u)!u.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?a.setProperty(m,""):m==="float"?a.cssFloat="":a[m]="");for(var y in o)m=o[y],o.hasOwnProperty(y)&&u[y]!==m&&ff(a,y,m)}else for(var b in o)o.hasOwnProperty(b)&&ff(a,b,o[b])}function Ic(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rl(a){return wg.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Ta(){}var Lc=null;function zc(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var C=null,I=null;function V(a){var o=os(a);if(o&&(a=o.stateNode)){var u=a[hn]||null;e:switch(a=o.stateNode,o.type){case"input":if(Rc(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Tn(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var m=u[o];if(m!==a&&m.form===a.form){var y=m[hn]||null;if(!y)throw Error(n(90));Rc(m,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<u.length;o++)m=u[o],m.form===a.form&&lf(m)}break e;case"textarea":uf(a,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&us(a,!!u.multiple,o,!1)}}}var X=!1;function ye(a,o,u){if(X)return a(o,u);X=!0;try{var m=a(o);return m}finally{if(X=!1,(C!==null||I!==null)&&(Xf(),C&&(o=C,a=I,I=C=null,V(o),a)))for(o=0;o<a.length;o++)V(a[o])}}function we(a,o){var u=a.stateNode;if(u===null)return null;var m=u[hn]||null;if(m===null)return null;u=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var Te=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ce=!1;if(Te)try{var _e={};Object.defineProperty(_e,"passive",{get:function(){Ce=!0}}),window.addEventListener("test",_e,_e),window.removeEventListener("test",_e,_e)}catch{Ce=!1}var fe=null,Pe=null,$e=null;function Vt(){if($e)return $e;var a,o=Pe,u=o.length,m,y="value"in fe?fe.value:fe.textContent,b=y.length;for(a=0;a<u&&o[a]===y[a];a++);var E=u-a;for(m=1;m<=E&&o[u-m]===y[b-m];m++);return $e=y.slice(a,1<m?1-m:void 0)}function st(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function He(){return!0}function wt(){return!1}function ct(a){function o(u,m,y,b,E){this._reactName=u,this._targetInst=y,this.type=m,this.nativeEvent=b,this.target=E,this.currentTarget=null;for(var k in a)a.hasOwnProperty(k)&&(u=a[k],this[k]=u?u(b):b[k]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?He:wt,this.isPropagationStopped=wt,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=He)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=He)},persist:function(){},isPersistent:He}),o}var me={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pe=ct(me),Me=g({},me,{view:0,detail:0}),pr=ct(Me),ar,Rr,jr,mf=g({},Me,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_g,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==jr&&(jr&&a.type==="mousemove"?(ar=a.screenX-jr.screenX,Rr=a.screenY-jr.screenY):Rr=ar=0,jr=a),ar)},movementY:function(a){return"movementY"in a?a.movementY:Rr}}),Qj=ct(mf),V5=g({},mf,{dataTransfer:0}),F5=ct(V5),G5=g({},Me,{relatedTarget:0}),jg=ct(G5),H5=g({},me,{animationName:0,elapsedTime:0,pseudoElement:0}),K5=ct(H5),W5=g({},me,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Y5=ct(W5),X5=g({},me,{data:0}),Jj=ct(X5),Z5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Q5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},J5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function e3(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=J5[a])?!!o[a]:!1}function _g(){return e3}var t3=g({},Me,{key:function(a){if(a.key){var o=Z5[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=st(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Q5[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_g,charCode:function(a){return a.type==="keypress"?st(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?st(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),r3=ct(t3),n3=g({},mf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),e_=ct(n3),a3=g({},Me,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_g}),i3=ct(a3),s3=g({},me,{propertyName:0,elapsedTime:0,pseudoElement:0}),o3=ct(s3),l3=g({},mf,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),c3=ct(l3),u3=g({},me,{newState:0,oldState:0}),d3=ct(u3),f3=[9,13,27,32],Ng=Te&&"CompositionEvent"in window,Uc=null;Te&&"documentMode"in document&&(Uc=document.documentMode);var h3=Te&&"TextEvent"in window&&!Uc,t_=Te&&(!Ng||Uc&&8<Uc&&11>=Uc),r_=" ",n_=!1;function a_(a,o){switch(a){case"keyup":return f3.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function i_(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var nl=!1;function m3(a,o){switch(a){case"compositionend":return i_(o);case"keypress":return o.which!==32?null:(n_=!0,r_);case"textInput":return a=o.data,a===r_&&n_?null:a;default:return null}}function p3(a,o){if(nl)return a==="compositionend"||!Ng&&a_(a,o)?(a=Vt(),$e=Pe=fe=null,nl=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return t_&&o.locale!=="ko"?null:o.data;default:return null}}var g3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function s_(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!g3[a.type]:o==="textarea"}function o_(a,o,u,m){C?I?I.push(m):I=[m]:C=m,o=nh(o,"onChange"),0<o.length&&(u=new pe("onChange","change",null,u,m),a.push({event:u,listeners:o}))}var $c=null,Bc=null;function y3(a){VS(a,0)}function pf(a){var o=Js(a);if(lf(o))return a}function l_(a,o){if(a==="change")return o}var c_=!1;if(Te){var Sg;if(Te){var Eg="oninput"in document;if(!Eg){var u_=document.createElement("div");u_.setAttribute("oninput","return;"),Eg=typeof u_.oninput=="function"}Sg=Eg}else Sg=!1;c_=Sg&&(!document.documentMode||9<document.documentMode)}function d_(){$c&&($c.detachEvent("onpropertychange",f_),Bc=$c=null)}function f_(a){if(a.propertyName==="value"&&pf(Bc)){var o=[];o_(o,Bc,a,zc(a)),ye(y3,o)}}function v3(a,o,u){a==="focusin"?(d_(),$c=o,Bc=u,$c.attachEvent("onpropertychange",f_)):a==="focusout"&&d_()}function x3(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return pf(Bc)}function b3(a,o){if(a==="click")return pf(o)}function w3(a,o){if(a==="input"||a==="change")return pf(o)}function j3(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var Vn=typeof Object.is=="function"?Object.is:j3;function qc(a,o){if(Vn(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var u=Object.keys(a),m=Object.keys(o);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var y=u[m];if(!xt.call(o,y)||!Vn(a[y],o[y]))return!1}return!0}function h_(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function m_(a,o){var u=h_(a);a=0;for(var m;u;){if(u.nodeType===3){if(m=a+u.textContent.length,a<=o&&m>=o)return{node:u,offset:o-a};a=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=h_(u)}}function p_(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?p_(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function g_(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=tl(a.document);o instanceof a.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)a=o.contentWindow;else break;o=tl(a.document)}return o}function Ag(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var _3=Te&&"documentMode"in document&&11>=document.documentMode,al=null,Og=null,Vc=null,Tg=!1;function y_(a,o,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Tg||al==null||al!==tl(m)||(m=al,"selectionStart"in m&&Ag(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Vc&&qc(Vc,m)||(Vc=m,m=nh(Og,"onSelect"),0<m.length&&(o=new pe("onSelect","select",null,o,u),a.push({event:o,listeners:m}),o.target=al)))}function eo(a,o){var u={};return u[a.toLowerCase()]=o.toLowerCase(),u["Webkit"+a]="webkit"+o,u["Moz"+a]="moz"+o,u}var il={animationend:eo("Animation","AnimationEnd"),animationiteration:eo("Animation","AnimationIteration"),animationstart:eo("Animation","AnimationStart"),transitionrun:eo("Transition","TransitionRun"),transitionstart:eo("Transition","TransitionStart"),transitioncancel:eo("Transition","TransitionCancel"),transitionend:eo("Transition","TransitionEnd")},Cg={},v_={};Te&&(v_=document.createElement("div").style,"AnimationEvent"in window||(delete il.animationend.animation,delete il.animationiteration.animation,delete il.animationstart.animation),"TransitionEvent"in window||delete il.transitionend.transition);function to(a){if(Cg[a])return Cg[a];if(!il[a])return a;var o=il[a],u;for(u in o)if(o.hasOwnProperty(u)&&u in v_)return Cg[a]=o[u];return a}var x_=to("animationend"),b_=to("animationiteration"),w_=to("animationstart"),N3=to("transitionrun"),S3=to("transitionstart"),E3=to("transitioncancel"),j_=to("transitionend"),__=new Map,Pg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pg.push("scrollEnd");function Ca(a,o){__.set(a,o),fi(o,[a])}var gf=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},oa=[],sl=0,Dg=0;function yf(){for(var a=sl,o=Dg=sl=0;o<a;){var u=oa[o];oa[o++]=null;var m=oa[o];oa[o++]=null;var y=oa[o];oa[o++]=null;var b=oa[o];if(oa[o++]=null,m!==null&&y!==null){var E=m.pending;E===null?y.next=y:(y.next=E.next,E.next=y),m.pending=y}b!==0&&N_(u,y,b)}}function vf(a,o,u,m){oa[sl++]=a,oa[sl++]=o,oa[sl++]=u,oa[sl++]=m,Dg|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function kg(a,o,u,m){return vf(a,o,u,m),xf(a)}function ro(a,o){return vf(a,null,null,o),xf(a)}function N_(a,o,u){a.lanes|=u;var m=a.alternate;m!==null&&(m.lanes|=u);for(var y=!1,b=a.return;b!==null;)b.childLanes|=u,m=b.alternate,m!==null&&(m.childLanes|=u),b.tag===22&&(a=b.stateNode,a===null||a._visibility&1||(y=!0)),a=b,b=b.return;return a.tag===3?(b=a.stateNode,y&&o!==null&&(y=31-ge(u),a=b.hiddenUpdates,m=a[y],m===null?a[y]=[o]:m.push(o),o.lane=u|536870912),b):null}function xf(a){if(50<du)throw du=0,q0=null,Error(n(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var ol={};function A3(a,o,u,m){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(a,o,u,m){return new A3(a,o,u,m)}function Rg(a){return a=a.prototype,!(!a||!a.isReactComponent)}function hi(a,o){var u=a.alternate;return u===null?(u=Fn(a.tag,o,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=o,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,o=a.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function S_(a,o){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,o=u.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function bf(a,o,u,m,y,b){var E=0;if(m=a,typeof a=="function")Rg(a)&&(E=1);else if(typeof a=="string")E=D6(a,u,Ne.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case Y:return a=Fn(31,u,o,y),a.elementType=Y,a.lanes=b,a;case _:return no(u.children,y,b,o);case N:E=8,y|=24;break;case S:return a=Fn(12,u,o,y|2),a.elementType=S,a.lanes=b,a;case D:return a=Fn(13,u,o,y),a.elementType=D,a.lanes=b,a;case T:return a=Fn(19,u,o,y),a.elementType=T,a.lanes=b,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case A:E=10;break e;case O:E=9;break e;case P:E=11;break e;case R:E=14;break e;case q:E=16,m=null;break e}E=29,u=Error(n(130,a===null?"null":typeof a,"")),m=null}return o=Fn(E,u,o,y),o.elementType=a,o.type=m,o.lanes=b,o}function no(a,o,u,m){return a=Fn(7,a,m,o),a.lanes=u,a}function Mg(a,o,u){return a=Fn(6,a,null,o),a.lanes=u,a}function E_(a){var o=Fn(18,null,null,0);return o.stateNode=a,o}function Ig(a,o,u){return o=Fn(4,a.children!==null?a.children:[],a.key,o),o.lanes=u,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var A_=new WeakMap;function la(a,o){if(typeof a=="object"&&a!==null){var u=A_.get(a);return u!==void 0?u:(o={value:a,source:o,stack:hr(o)},A_.set(a,o),o)}return{value:a,source:o,stack:hr(o)}}var ll=[],cl=0,wf=null,Fc=0,ca=[],ua=0,fs=null,Za=1,Qa="";function mi(a,o){ll[cl++]=Fc,ll[cl++]=wf,wf=a,Fc=o}function O_(a,o,u){ca[ua++]=Za,ca[ua++]=Qa,ca[ua++]=fs,fs=a;var m=Za;a=Qa;var y=32-ge(m)-1;m&=~(1<<y),u+=1;var b=32-ge(o)+y;if(30<b){var E=y-y%5;b=(m&(1<<E)-1).toString(32),m>>=E,y-=E,Za=1<<32-ge(o)+y|u<<y|m,Qa=b+a}else Za=1<<b|u<<y|m,Qa=a}function Lg(a){a.return!==null&&(mi(a,1),O_(a,1,0))}function zg(a){for(;a===wf;)wf=ll[--cl],ll[cl]=null,Fc=ll[--cl],ll[cl]=null;for(;a===fs;)fs=ca[--ua],ca[ua]=null,Qa=ca[--ua],ca[ua]=null,Za=ca[--ua],ca[ua]=null}function T_(a,o){ca[ua++]=Za,ca[ua++]=Qa,ca[ua++]=fs,Za=o.id,Qa=o.overflow,fs=a}var rn=null,Kt=null,yt=!1,hs=null,da=!1,Ug=Error(n(519));function ms(a){var o=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Gc(la(o,a)),Ug}function C_(a){var o=a.stateNode,u=a.type,m=a.memoizedProps;switch(o[Tt]=a,o[hn]=m,u){case"dialog":ht("cancel",o),ht("close",o);break;case"iframe":case"object":case"embed":ht("load",o);break;case"video":case"audio":for(u=0;u<hu.length;u++)ht(hu[u],o);break;case"source":ht("error",o);break;case"img":case"image":case"link":ht("error",o),ht("load",o);break;case"details":ht("toggle",o);break;case"input":ht("invalid",o),cf(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":ht("invalid",o);break;case"textarea":ht("invalid",o),df(o,m.value,m.defaultValue,m.children)}u=m.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||m.suppressHydrationWarning===!0||KS(o.textContent,u)?(m.popover!=null&&(ht("beforetoggle",o),ht("toggle",o)),m.onScroll!=null&&ht("scroll",o),m.onScrollEnd!=null&&ht("scrollend",o),m.onClick!=null&&(o.onclick=Ta),o=!0):o=!1,o||ms(a,!0)}function P_(a){for(rn=a.return;rn;)switch(rn.tag){case 5:case 31:case 13:da=!1;return;case 27:case 3:da=!0;return;default:rn=rn.return}}function ul(a){if(a!==rn)return!1;if(!yt)return P_(a),yt=!0,!1;var o=a.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||ny(a.type,a.memoizedProps)),u=!u),u&&Kt&&ms(a),P_(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));Kt=rE(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));Kt=rE(a)}else o===27?(o=Kt,Os(a.type)?(a=ly,ly=null,Kt=a):Kt=o):Kt=rn?ha(a.stateNode.nextSibling):null;return!0}function ao(){Kt=rn=null,yt=!1}function $g(){var a=hs;return a!==null&&(kn===null?kn=a:kn.push.apply(kn,a),hs=null),a}function Gc(a){hs===null?hs=[a]:hs.push(a)}var Bg=L(null),io=null,pi=null;function ps(a,o,u){je(Bg,o._currentValue),o._currentValue=u}function gi(a){a._currentValue=Bg.current,ee(Bg)}function qg(a,o,u){for(;a!==null;){var m=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),a===u)break;a=a.return}}function Vg(a,o,u,m){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var b=y.dependencies;if(b!==null){var E=y.child;b=b.firstContext;e:for(;b!==null;){var k=b;b=y;for(var F=0;F<o.length;F++)if(k.context===o[F]){b.lanes|=u,k=b.alternate,k!==null&&(k.lanes|=u),qg(b.return,u,a),m||(E=null);break e}b=k.next}}else if(y.tag===18){if(E=y.return,E===null)throw Error(n(341));E.lanes|=u,b=E.alternate,b!==null&&(b.lanes|=u),qg(E,u,a),E=null}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===a){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}}function dl(a,o,u,m){a=null;for(var y=o,b=!1;y!==null;){if(!b){if((y.flags&524288)!==0)b=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var E=y.alternate;if(E===null)throw Error(n(387));if(E=E.memoizedProps,E!==null){var k=y.type;Vn(y.pendingProps.value,E.value)||(a!==null?a.push(k):a=[k])}}else if(y===ke.current){if(E=y.alternate,E===null)throw Error(n(387));E.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(vu):a=[vu])}y=y.return}a!==null&&Vg(o,a,u,m),o.flags|=262144}function jf(a){for(a=a.firstContext;a!==null;){if(!Vn(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function so(a){io=a,pi=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function nn(a){return D_(io,a)}function _f(a,o){return io===null&&so(a),D_(a,o)}function D_(a,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},pi===null){if(a===null)throw Error(n(308));pi=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else pi=pi.next=o;return u}var O3=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(u,m){a.push(m)}};this.abort=function(){o.aborted=!0,a.forEach(function(u){return u()})}},T3=e.unstable_scheduleCallback,C3=e.unstable_NormalPriority,_r={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fg(){return{controller:new O3,data:new Map,refCount:0}}function Hc(a){a.refCount--,a.refCount===0&&T3(C3,function(){a.controller.abort()})}var Kc=null,Gg=0,fl=0,hl=null;function P3(a,o){if(Kc===null){var u=Kc=[];Gg=0,fl=W0(),hl={status:"pending",value:void 0,then:function(m){u.push(m)}}}return Gg++,o.then(k_,k_),o}function k_(){if(--Gg===0&&Kc!==null){hl!==null&&(hl.status="fulfilled");var a=Kc;Kc=null,fl=0,hl=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function D3(a,o){var u=[],m={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return a.then(function(){m.status="fulfilled",m.value=o;for(var y=0;y<u.length;y++)(0,u[y])(o)},function(y){for(m.status="rejected",m.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),m}var R_=M.S;M.S=function(a,o){yS=et(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&P3(a,o),R_!==null&&R_(a,o)};var oo=L(null);function Hg(){var a=oo.current;return a!==null?a:zt.pooledCache}function Nf(a,o){o===null?je(oo,oo.current):je(oo,o.pool)}function M_(){var a=Hg();return a===null?null:{parent:_r._currentValue,pool:a}}var ml=Error(n(460)),Kg=Error(n(474)),Sf=Error(n(542)),Ef={then:function(){}};function I_(a){return a=a.status,a==="fulfilled"||a==="rejected"}function L_(a,o,u){switch(u=a[u],u===void 0?a.push(o):u!==o&&(o.then(Ta,Ta),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,U_(a),a;default:if(typeof o.status=="string")o.then(Ta,Ta);else{if(a=zt,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=o,a.status="pending",a.then(function(m){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=m}},function(m){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,U_(a),a}throw co=o,ml}}function lo(a){try{var o=a._init;return o(a._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(co=u,ml):u}}var co=null;function z_(){if(co===null)throw Error(n(459));var a=co;return co=null,a}function U_(a){if(a===ml||a===Sf)throw Error(n(483))}var pl=null,Wc=0;function Af(a){var o=Wc;return Wc+=1,pl===null&&(pl=[]),L_(pl,a,o)}function Yc(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function Of(a,o){throw o.$$typeof===v?Error(n(525)):(a=Object.prototype.toString.call(o),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function $_(a){function o(Z,W){if(a){var ne=Z.deletions;ne===null?(Z.deletions=[W],Z.flags|=16):ne.push(W)}}function u(Z,W){if(!a)return null;for(;W!==null;)o(Z,W),W=W.sibling;return null}function m(Z){for(var W=new Map;Z!==null;)Z.key!==null?W.set(Z.key,Z):W.set(Z.index,Z),Z=Z.sibling;return W}function y(Z,W){return Z=hi(Z,W),Z.index=0,Z.sibling=null,Z}function b(Z,W,ne){return Z.index=ne,a?(ne=Z.alternate,ne!==null?(ne=ne.index,ne<W?(Z.flags|=67108866,W):ne):(Z.flags|=67108866,W)):(Z.flags|=1048576,W)}function E(Z){return a&&Z.alternate===null&&(Z.flags|=67108866),Z}function k(Z,W,ne,ve){return W===null||W.tag!==6?(W=Mg(ne,Z.mode,ve),W.return=Z,W):(W=y(W,ne),W.return=Z,W)}function F(Z,W,ne,ve){var We=ne.type;return We===_?he(Z,W,ne.props.children,ve,ne.key):W!==null&&(W.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===q&&lo(We)===W.type)?(W=y(W,ne.props),Yc(W,ne),W.return=Z,W):(W=bf(ne.type,ne.key,ne.props,null,Z.mode,ve),Yc(W,ne),W.return=Z,W)}function ae(Z,W,ne,ve){return W===null||W.tag!==4||W.stateNode.containerInfo!==ne.containerInfo||W.stateNode.implementation!==ne.implementation?(W=Ig(ne,Z.mode,ve),W.return=Z,W):(W=y(W,ne.children||[]),W.return=Z,W)}function he(Z,W,ne,ve,We){return W===null||W.tag!==7?(W=no(ne,Z.mode,ve,We),W.return=Z,W):(W=y(W,ne),W.return=Z,W)}function xe(Z,W,ne){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=Mg(""+W,Z.mode,ne),W.return=Z,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case x:return ne=bf(W.type,W.key,W.props,null,Z.mode,ne),Yc(ne,W),ne.return=Z,ne;case j:return W=Ig(W,Z.mode,ne),W.return=Z,W;case q:return W=lo(W),xe(Z,W,ne)}if(K(W)||z(W))return W=no(W,Z.mode,ne,null),W.return=Z,W;if(typeof W.then=="function")return xe(Z,Af(W),ne);if(W.$$typeof===A)return xe(Z,_f(Z,W),ne);Of(Z,W)}return null}function se(Z,W,ne,ve){var We=W!==null?W.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return We!==null?null:k(Z,W,""+ne,ve);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case x:return ne.key===We?F(Z,W,ne,ve):null;case j:return ne.key===We?ae(Z,W,ne,ve):null;case q:return ne=lo(ne),se(Z,W,ne,ve)}if(K(ne)||z(ne))return We!==null?null:he(Z,W,ne,ve,null);if(typeof ne.then=="function")return se(Z,W,Af(ne),ve);if(ne.$$typeof===A)return se(Z,W,_f(Z,ne),ve);Of(Z,ne)}return null}function de(Z,W,ne,ve,We){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return Z=Z.get(ne)||null,k(W,Z,""+ve,We);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case x:return Z=Z.get(ve.key===null?ne:ve.key)||null,F(W,Z,ve,We);case j:return Z=Z.get(ve.key===null?ne:ve.key)||null,ae(W,Z,ve,We);case q:return ve=lo(ve),de(Z,W,ne,ve,We)}if(K(ve)||z(ve))return Z=Z.get(ne)||null,he(W,Z,ve,We,null);if(typeof ve.then=="function")return de(Z,W,ne,Af(ve),We);if(ve.$$typeof===A)return de(Z,W,ne,_f(W,ve),We);Of(W,ve)}return null}function Ue(Z,W,ne,ve){for(var We=null,jt=null,Be=W,at=W=0,gt=null;Be!==null&&at<ne.length;at++){Be.index>at?(gt=Be,Be=null):gt=Be.sibling;var _t=se(Z,Be,ne[at],ve);if(_t===null){Be===null&&(Be=gt);break}a&&Be&&_t.alternate===null&&o(Z,Be),W=b(_t,W,at),jt===null?We=_t:jt.sibling=_t,jt=_t,Be=gt}if(at===ne.length)return u(Z,Be),yt&&mi(Z,at),We;if(Be===null){for(;at<ne.length;at++)Be=xe(Z,ne[at],ve),Be!==null&&(W=b(Be,W,at),jt===null?We=Be:jt.sibling=Be,jt=Be);return yt&&mi(Z,at),We}for(Be=m(Be);at<ne.length;at++)gt=de(Be,Z,at,ne[at],ve),gt!==null&&(a&&gt.alternate!==null&&Be.delete(gt.key===null?at:gt.key),W=b(gt,W,at),jt===null?We=gt:jt.sibling=gt,jt=gt);return a&&Be.forEach(function(ks){return o(Z,ks)}),yt&&mi(Z,at),We}function Ye(Z,W,ne,ve){if(ne==null)throw Error(n(151));for(var We=null,jt=null,Be=W,at=W=0,gt=null,_t=ne.next();Be!==null&&!_t.done;at++,_t=ne.next()){Be.index>at?(gt=Be,Be=null):gt=Be.sibling;var ks=se(Z,Be,_t.value,ve);if(ks===null){Be===null&&(Be=gt);break}a&&Be&&ks.alternate===null&&o(Z,Be),W=b(ks,W,at),jt===null?We=ks:jt.sibling=ks,jt=ks,Be=gt}if(_t.done)return u(Z,Be),yt&&mi(Z,at),We;if(Be===null){for(;!_t.done;at++,_t=ne.next())_t=xe(Z,_t.value,ve),_t!==null&&(W=b(_t,W,at),jt===null?We=_t:jt.sibling=_t,jt=_t);return yt&&mi(Z,at),We}for(Be=m(Be);!_t.done;at++,_t=ne.next())_t=de(Be,Z,at,_t.value,ve),_t!==null&&(a&&_t.alternate!==null&&Be.delete(_t.key===null?at:_t.key),W=b(_t,W,at),jt===null?We=_t:jt.sibling=_t,jt=_t);return a&&Be.forEach(function(V6){return o(Z,V6)}),yt&&mi(Z,at),We}function It(Z,W,ne,ve){if(typeof ne=="object"&&ne!==null&&ne.type===_&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case x:e:{for(var We=ne.key;W!==null;){if(W.key===We){if(We=ne.type,We===_){if(W.tag===7){u(Z,W.sibling),ve=y(W,ne.props.children),ve.return=Z,Z=ve;break e}}else if(W.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===q&&lo(We)===W.type){u(Z,W.sibling),ve=y(W,ne.props),Yc(ve,ne),ve.return=Z,Z=ve;break e}u(Z,W);break}else o(Z,W);W=W.sibling}ne.type===_?(ve=no(ne.props.children,Z.mode,ve,ne.key),ve.return=Z,Z=ve):(ve=bf(ne.type,ne.key,ne.props,null,Z.mode,ve),Yc(ve,ne),ve.return=Z,Z=ve)}return E(Z);case j:e:{for(We=ne.key;W!==null;){if(W.key===We)if(W.tag===4&&W.stateNode.containerInfo===ne.containerInfo&&W.stateNode.implementation===ne.implementation){u(Z,W.sibling),ve=y(W,ne.children||[]),ve.return=Z,Z=ve;break e}else{u(Z,W);break}else o(Z,W);W=W.sibling}ve=Ig(ne,Z.mode,ve),ve.return=Z,Z=ve}return E(Z);case q:return ne=lo(ne),It(Z,W,ne,ve)}if(K(ne))return Ue(Z,W,ne,ve);if(z(ne)){if(We=z(ne),typeof We!="function")throw Error(n(150));return ne=We.call(ne),Ye(Z,W,ne,ve)}if(typeof ne.then=="function")return It(Z,W,Af(ne),ve);if(ne.$$typeof===A)return It(Z,W,_f(Z,ne),ve);Of(Z,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint"?(ne=""+ne,W!==null&&W.tag===6?(u(Z,W.sibling),ve=y(W,ne),ve.return=Z,Z=ve):(u(Z,W),ve=Mg(ne,Z.mode,ve),ve.return=Z,Z=ve),E(Z)):u(Z,W)}return function(Z,W,ne,ve){try{Wc=0;var We=It(Z,W,ne,ve);return pl=null,We}catch(Be){if(Be===ml||Be===Sf)throw Be;var jt=Fn(29,Be,null,Z.mode);return jt.lanes=ve,jt.return=Z,jt}finally{}}}var uo=$_(!0),B_=$_(!1),gs=!1;function Wg(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yg(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function ys(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function vs(a,o,u){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(Ot&2)!==0){var y=m.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),m.pending=o,o=xf(a),N_(a,null,u),o}return vf(a,m,o,u),xf(a)}function Xc(a,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var m=o.lanes;m&=a.pendingLanes,u|=m,o.lanes=u,kr(a,u)}}function Xg(a,o){var u=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var y=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var E={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?y=b=E:b=b.next=E,u=u.next}while(u!==null);b===null?y=b=o:b=b.next=o}else y=b=o;u={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:m.shared,callbacks:m.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=o:a.next=o,u.lastBaseUpdate=o}var Zg=!1;function Zc(){if(Zg){var a=hl;if(a!==null)throw a}}function Qc(a,o,u,m){Zg=!1;var y=a.updateQueue;gs=!1;var b=y.firstBaseUpdate,E=y.lastBaseUpdate,k=y.shared.pending;if(k!==null){y.shared.pending=null;var F=k,ae=F.next;F.next=null,E===null?b=ae:E.next=ae,E=F;var he=a.alternate;he!==null&&(he=he.updateQueue,k=he.lastBaseUpdate,k!==E&&(k===null?he.firstBaseUpdate=ae:k.next=ae,he.lastBaseUpdate=F))}if(b!==null){var xe=y.baseState;E=0,he=ae=F=null,k=b;do{var se=k.lane&-536870913,de=se!==k.lane;if(de?(pt&se)===se:(m&se)===se){se!==0&&se===fl&&(Zg=!0),he!==null&&(he=he.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var Ue=a,Ye=k;se=o;var It=u;switch(Ye.tag){case 1:if(Ue=Ye.payload,typeof Ue=="function"){xe=Ue.call(It,xe,se);break e}xe=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=Ye.payload,se=typeof Ue=="function"?Ue.call(It,xe,se):Ue,se==null)break e;xe=g({},xe,se);break e;case 2:gs=!0}}se=k.callback,se!==null&&(a.flags|=64,de&&(a.flags|=8192),de=y.callbacks,de===null?y.callbacks=[se]:de.push(se))}else de={lane:se,tag:k.tag,payload:k.payload,callback:k.callback,next:null},he===null?(ae=he=de,F=xe):he=he.next=de,E|=se;if(k=k.next,k===null){if(k=y.shared.pending,k===null)break;de=k,k=de.next,de.next=null,y.lastBaseUpdate=de,y.shared.pending=null}}while(!0);he===null&&(F=xe),y.baseState=F,y.firstBaseUpdate=ae,y.lastBaseUpdate=he,b===null&&(y.shared.lanes=0),_s|=E,a.lanes=E,a.memoizedState=xe}}function q_(a,o){if(typeof a!="function")throw Error(n(191,a));a.call(o)}function V_(a,o){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)q_(u[a],o)}var gl=L(null),Tf=L(0);function F_(a,o){a=Si,je(Tf,a),je(gl,o),Si=a|o.baseLanes}function Qg(){je(Tf,Si),je(gl,gl.current)}function Jg(){Si=Tf.current,ee(gl),ee(Tf)}var Gn=L(null),fa=null;function xs(a){var o=a.alternate;je(gr,gr.current&1),je(Gn,a),fa===null&&(o===null||gl.current!==null||o.memoizedState!==null)&&(fa=a)}function e0(a){je(gr,gr.current),je(Gn,a),fa===null&&(fa=a)}function G_(a){a.tag===22?(je(gr,gr.current),je(Gn,a),fa===null&&(fa=a)):bs()}function bs(){je(gr,gr.current),je(Gn,Gn.current)}function Hn(a){ee(Gn),fa===a&&(fa=null),ee(gr)}var gr=L(0);function Cf(a){for(var o=a;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||sy(u)||oy(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var yi=0,nt=null,Rt=null,Nr=null,Pf=!1,yl=!1,fo=!1,Df=0,Jc=0,vl=null,k3=0;function or(){throw Error(n(321))}function t0(a,o){if(o===null)return!1;for(var u=0;u<o.length&&u<a.length;u++)if(!Vn(a[u],o[u]))return!1;return!0}function r0(a,o,u,m,y,b){return yi=b,nt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,M.H=a===null||a.memoizedState===null?ON:y0,fo=!1,b=u(m,y),fo=!1,yl&&(b=K_(o,u,m,y)),H_(a),b}function H_(a){M.H=ru;var o=Rt!==null&&Rt.next!==null;if(yi=0,Nr=Rt=nt=null,Pf=!1,Jc=0,vl=null,o)throw Error(n(300));a===null||Sr||(a=a.dependencies,a!==null&&jf(a)&&(Sr=!0))}function K_(a,o,u,m){nt=a;var y=0;do{if(yl&&(vl=null),Jc=0,yl=!1,25<=y)throw Error(n(301));if(y+=1,Nr=Rt=null,a.updateQueue!=null){var b=a.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}M.H=TN,b=o(u,m)}while(yl);return b}function R3(){var a=M.H,o=a.useState()[0];return o=typeof o.then=="function"?eu(o):o,a=a.useState()[0],(Rt!==null?Rt.memoizedState:null)!==a&&(nt.flags|=1024),o}function n0(){var a=Df!==0;return Df=0,a}function a0(a,o,u){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~u}function i0(a){if(Pf){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Pf=!1}yi=0,Nr=Rt=nt=null,yl=!1,Jc=Df=0,vl=null}function jn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nr===null?nt.memoizedState=Nr=a:Nr=Nr.next=a,Nr}function yr(){if(Rt===null){var a=nt.alternate;a=a!==null?a.memoizedState:null}else a=Rt.next;var o=Nr===null?nt.memoizedState:Nr.next;if(o!==null)Nr=o,Rt=a;else{if(a===null)throw nt.alternate===null?Error(n(467)):Error(n(310));Rt=a,a={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},Nr===null?nt.memoizedState=Nr=a:Nr=Nr.next=a}return Nr}function kf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function eu(a){var o=Jc;return Jc+=1,vl===null&&(vl=[]),a=L_(vl,a,o),o=nt,(Nr===null?o.memoizedState:Nr.next)===null&&(o=o.alternate,M.H=o===null||o.memoizedState===null?ON:y0),a}function Rf(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return eu(a);if(a.$$typeof===A)return nn(a)}throw Error(n(438,String(a)))}function s0(a){var o=null,u=nt.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var m=nt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=kf(),nt.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(a),m=0;m<a;m++)u[m]=G;return o.index++,u}function vi(a,o){return typeof o=="function"?o(a):o}function Mf(a){var o=yr();return o0(o,Rt,a)}function o0(a,o,u){var m=a.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=u;var y=a.baseQueue,b=m.pending;if(b!==null){if(y!==null){var E=y.next;y.next=b.next,b.next=E}o.baseQueue=y=b,m.pending=null}if(b=a.baseState,y===null)a.memoizedState=b;else{o=y.next;var k=E=null,F=null,ae=o,he=!1;do{var xe=ae.lane&-536870913;if(xe!==ae.lane?(pt&xe)===xe:(yi&xe)===xe){var se=ae.revertLane;if(se===0)F!==null&&(F=F.next={lane:0,revertLane:0,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),xe===fl&&(he=!0);else if((yi&se)===se){ae=ae.next,se===fl&&(he=!0);continue}else xe={lane:0,revertLane:ae.revertLane,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},F===null?(k=F=xe,E=b):F=F.next=xe,nt.lanes|=se,_s|=se;xe=ae.action,fo&&u(b,xe),b=ae.hasEagerState?ae.eagerState:u(b,xe)}else se={lane:xe,revertLane:ae.revertLane,gesture:ae.gesture,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},F===null?(k=F=se,E=b):F=F.next=se,nt.lanes|=xe,_s|=xe;ae=ae.next}while(ae!==null&&ae!==o);if(F===null?E=b:F.next=k,!Vn(b,a.memoizedState)&&(Sr=!0,he&&(u=hl,u!==null)))throw u;a.memoizedState=b,a.baseState=E,a.baseQueue=F,m.lastRenderedState=b}return y===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function l0(a){var o=yr(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=a;var m=u.dispatch,y=u.pending,b=o.memoizedState;if(y!==null){u.pending=null;var E=y=y.next;do b=a(b,E.action),E=E.next;while(E!==y);Vn(b,o.memoizedState)||(Sr=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),u.lastRenderedState=b}return[b,m]}function W_(a,o,u){var m=nt,y=yr(),b=yt;if(b){if(u===void 0)throw Error(n(407));u=u()}else u=o();var E=!Vn((Rt||y).memoizedState,u);if(E&&(y.memoizedState=u,Sr=!0),y=y.queue,d0(Z_.bind(null,m,y,a),[a]),y.getSnapshot!==o||E||Nr!==null&&Nr.memoizedState.tag&1){if(m.flags|=2048,xl(9,{destroy:void 0},X_.bind(null,m,y,u,o),null),zt===null)throw Error(n(349));b||(yi&127)!==0||Y_(m,o,u)}return u}function Y_(a,o,u){a.flags|=16384,a={getSnapshot:o,value:u},o=nt.updateQueue,o===null?(o=kf(),nt.updateQueue=o,o.stores=[a]):(u=o.stores,u===null?o.stores=[a]:u.push(a))}function X_(a,o,u,m){o.value=u,o.getSnapshot=m,Q_(o)&&J_(a)}function Z_(a,o,u){return u(function(){Q_(o)&&J_(a)})}function Q_(a){var o=a.getSnapshot;a=a.value;try{var u=o();return!Vn(a,u)}catch{return!0}}function J_(a){var o=ro(a,2);o!==null&&Rn(o,a,2)}function c0(a){var o=jn();if(typeof a=="function"){var u=a;if(a=u(),fo){Bt(!0);try{u()}finally{Bt(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:a},o}function eN(a,o,u,m){return a.baseState=u,o0(a,Rt,typeof m=="function"?m:vi)}function M3(a,o,u,m,y){if(zf(a))throw Error(n(485));if(a=o.action,a!==null){var b={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){b.listeners.push(E)}};M.T!==null?u(!0):b.isTransition=!1,m(b),u=o.pending,u===null?(b.next=o.pending=b,tN(o,b)):(b.next=u.next,o.pending=u.next=b)}}function tN(a,o){var u=o.action,m=o.payload,y=a.state;if(o.isTransition){var b=M.T,E={};M.T=E;try{var k=u(y,m),F=M.S;F!==null&&F(E,k),rN(a,o,k)}catch(ae){u0(a,o,ae)}finally{b!==null&&E.types!==null&&(b.types=E.types),M.T=b}}else try{b=u(y,m),rN(a,o,b)}catch(ae){u0(a,o,ae)}}function rN(a,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(m){nN(a,o,m)},function(m){return u0(a,o,m)}):nN(a,o,u)}function nN(a,o,u){o.status="fulfilled",o.value=u,aN(o),a.state=u,o=a.pending,o!==null&&(u=o.next,u===o?a.pending=null:(u=u.next,o.next=u,tN(a,u)))}function u0(a,o,u){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=u,aN(o),o=o.next;while(o!==m)}a.action=null}function aN(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function iN(a,o){return o}function sN(a,o){if(yt){var u=zt.formState;if(u!==null){e:{var m=nt;if(yt){if(Kt){t:{for(var y=Kt,b=da;y.nodeType!==8;){if(!b){y=null;break t}if(y=ha(y.nextSibling),y===null){y=null;break t}}b=y.data,y=b==="F!"||b==="F"?y:null}if(y){Kt=ha(y.nextSibling),m=y.data==="F!";break e}}ms(m)}m=!1}m&&(o=u[0])}}return u=jn(),u.memoizedState=u.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:iN,lastRenderedState:o},u.queue=m,u=SN.bind(null,nt,m),m.dispatch=u,m=c0(!1),b=g0.bind(null,nt,!1,m.queue),m=jn(),y={state:o,dispatch:null,action:a,pending:null},m.queue=y,u=M3.bind(null,nt,y,b,u),y.dispatch=u,m.memoizedState=a,[o,u,!1]}function oN(a){var o=yr();return lN(o,Rt,a)}function lN(a,o,u){if(o=o0(a,o,iN)[0],a=Mf(vi)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=eu(o)}catch(E){throw E===ml?Sf:E}else m=o;o=yr();var y=o.queue,b=y.dispatch;return u!==o.memoizedState&&(nt.flags|=2048,xl(9,{destroy:void 0},I3.bind(null,y,u),null)),[m,b,a]}function I3(a,o){a.action=o}function cN(a){var o=yr(),u=Rt;if(u!==null)return lN(o,u,a);yr(),o=o.memoizedState,u=yr();var m=u.queue.dispatch;return u.memoizedState=a,[o,m,!1]}function xl(a,o,u,m){return a={tag:a,create:u,deps:m,inst:o,next:null},o=nt.updateQueue,o===null&&(o=kf(),nt.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=a.next=a:(m=u.next,u.next=a,a.next=m,o.lastEffect=a),a}function uN(){return yr().memoizedState}function If(a,o,u,m){var y=jn();nt.flags|=a,y.memoizedState=xl(1|o,{destroy:void 0},u,m===void 0?null:m)}function Lf(a,o,u,m){var y=yr();m=m===void 0?null:m;var b=y.memoizedState.inst;Rt!==null&&m!==null&&t0(m,Rt.memoizedState.deps)?y.memoizedState=xl(o,b,u,m):(nt.flags|=a,y.memoizedState=xl(1|o,b,u,m))}function dN(a,o){If(8390656,8,a,o)}function d0(a,o){Lf(2048,8,a,o)}function L3(a){nt.flags|=4;var o=nt.updateQueue;if(o===null)o=kf(),nt.updateQueue=o,o.events=[a];else{var u=o.events;u===null?o.events=[a]:u.push(a)}}function fN(a){var o=yr().memoizedState;return L3({ref:o,nextImpl:a}),function(){if((Ot&2)!==0)throw Error(n(440));return o.impl.apply(void 0,arguments)}}function hN(a,o){return Lf(4,2,a,o)}function mN(a,o){return Lf(4,4,a,o)}function pN(a,o){if(typeof o=="function"){a=a();var u=o(a);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function gN(a,o,u){u=u!=null?u.concat([a]):null,Lf(4,4,pN.bind(null,o,a),u)}function f0(){}function yN(a,o){var u=yr();o=o===void 0?null:o;var m=u.memoizedState;return o!==null&&t0(o,m[1])?m[0]:(u.memoizedState=[a,o],a)}function vN(a,o){var u=yr();o=o===void 0?null:o;var m=u.memoizedState;if(o!==null&&t0(o,m[1]))return m[0];if(m=a(),fo){Bt(!0);try{a()}finally{Bt(!1)}}return u.memoizedState=[m,o],m}function h0(a,o,u){return u===void 0||(yi&1073741824)!==0&&(pt&261930)===0?a.memoizedState=o:(a.memoizedState=u,a=xS(),nt.lanes|=a,_s|=a,u)}function xN(a,o,u,m){return Vn(u,o)?u:gl.current!==null?(a=h0(a,u,m),Vn(a,o)||(Sr=!0),a):(yi&42)===0||(yi&1073741824)!==0&&(pt&261930)===0?(Sr=!0,a.memoizedState=u):(a=xS(),nt.lanes|=a,_s|=a,o)}function bN(a,o,u,m,y){var b=H.p;H.p=b!==0&&8>b?b:8;var E=M.T,k={};M.T=k,g0(a,!1,o,u);try{var F=y(),ae=M.S;if(ae!==null&&ae(k,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var he=D3(F,m);tu(a,o,he,Yn(a))}else tu(a,o,m,Yn(a))}catch(xe){tu(a,o,{then:function(){},status:"rejected",reason:xe},Yn())}finally{H.p=b,E!==null&&k.types!==null&&(E.types=k.types),M.T=E}}function z3(){}function m0(a,o,u,m){if(a.tag!==5)throw Error(n(476));var y=wN(a).queue;bN(a,y,o,re,u===null?z3:function(){return jN(a),u(m)})}function wN(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:re},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:u},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function jN(a){var o=wN(a);o.next===null&&(o=a.alternate.memoizedState),tu(a,o.next.queue,{},Yn())}function p0(){return nn(vu)}function _N(){return yr().memoizedState}function NN(){return yr().memoizedState}function U3(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var u=Yn();a=ys(u);var m=vs(o,a,u);m!==null&&(Rn(m,o,u),Xc(m,o,u)),o={cache:Fg()},a.payload=o;return}o=o.return}}function $3(a,o,u){var m=Yn();u={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},zf(a)?EN(o,u):(u=kg(a,o,u,m),u!==null&&(Rn(u,a,m),AN(u,o,m)))}function SN(a,o,u){var m=Yn();tu(a,o,u,m)}function tu(a,o,u,m){var y={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(zf(a))EN(o,y);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var E=o.lastRenderedState,k=b(E,u);if(y.hasEagerState=!0,y.eagerState=k,Vn(k,E))return vf(a,o,y,0),zt===null&&yf(),!1}catch{}finally{}if(u=kg(a,o,y,m),u!==null)return Rn(u,a,m),AN(u,o,m),!0}return!1}function g0(a,o,u,m){if(m={lane:2,revertLane:W0(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},zf(a)){if(o)throw Error(n(479))}else o=kg(a,u,m,2),o!==null&&Rn(o,a,2)}function zf(a){var o=a.alternate;return a===nt||o!==null&&o===nt}function EN(a,o){yl=Pf=!0;var u=a.pending;u===null?o.next=o:(o.next=u.next,u.next=o),a.pending=o}function AN(a,o,u){if((u&4194048)!==0){var m=o.lanes;m&=a.pendingLanes,u|=m,o.lanes=u,kr(a,u)}}var ru={readContext:nn,use:Rf,useCallback:or,useContext:or,useEffect:or,useImperativeHandle:or,useLayoutEffect:or,useInsertionEffect:or,useMemo:or,useReducer:or,useRef:or,useState:or,useDebugValue:or,useDeferredValue:or,useTransition:or,useSyncExternalStore:or,useId:or,useHostTransitionStatus:or,useFormState:or,useActionState:or,useOptimistic:or,useMemoCache:or,useCacheRefresh:or};ru.useEffectEvent=or;var ON={readContext:nn,use:Rf,useCallback:function(a,o){return jn().memoizedState=[a,o===void 0?null:o],a},useContext:nn,useEffect:dN,useImperativeHandle:function(a,o,u){u=u!=null?u.concat([a]):null,If(4194308,4,pN.bind(null,o,a),u)},useLayoutEffect:function(a,o){return If(4194308,4,a,o)},useInsertionEffect:function(a,o){If(4,2,a,o)},useMemo:function(a,o){var u=jn();o=o===void 0?null:o;var m=a();if(fo){Bt(!0);try{a()}finally{Bt(!1)}}return u.memoizedState=[m,o],m},useReducer:function(a,o,u){var m=jn();if(u!==void 0){var y=u(o);if(fo){Bt(!0);try{u(o)}finally{Bt(!1)}}}else y=o;return m.memoizedState=m.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},m.queue=a,a=a.dispatch=$3.bind(null,nt,a),[m.memoizedState,a]},useRef:function(a){var o=jn();return a={current:a},o.memoizedState=a},useState:function(a){a=c0(a);var o=a.queue,u=SN.bind(null,nt,o);return o.dispatch=u,[a.memoizedState,u]},useDebugValue:f0,useDeferredValue:function(a,o){var u=jn();return h0(u,a,o)},useTransition:function(){var a=c0(!1);return a=bN.bind(null,nt,a.queue,!0,!1),jn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,u){var m=nt,y=jn();if(yt){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),zt===null)throw Error(n(349));(pt&127)!==0||Y_(m,o,u)}y.memoizedState=u;var b={value:u,getSnapshot:o};return y.queue=b,dN(Z_.bind(null,m,b,a),[a]),m.flags|=2048,xl(9,{destroy:void 0},X_.bind(null,m,b,u,o),null),u},useId:function(){var a=jn(),o=zt.identifierPrefix;if(yt){var u=Qa,m=Za;u=(m&~(1<<32-ge(m)-1)).toString(32)+u,o="_"+o+"R_"+u,u=Df++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=k3++,o="_"+o+"r_"+u.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:p0,useFormState:sN,useActionState:sN,useOptimistic:function(a){var o=jn();o.memoizedState=o.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=g0.bind(null,nt,!0,u),u.dispatch=o,[a,o]},useMemoCache:s0,useCacheRefresh:function(){return jn().memoizedState=U3.bind(null,nt)},useEffectEvent:function(a){var o=jn(),u={impl:a};return o.memoizedState=u,function(){if((Ot&2)!==0)throw Error(n(440));return u.impl.apply(void 0,arguments)}}},y0={readContext:nn,use:Rf,useCallback:yN,useContext:nn,useEffect:d0,useImperativeHandle:gN,useInsertionEffect:hN,useLayoutEffect:mN,useMemo:vN,useReducer:Mf,useRef:uN,useState:function(){return Mf(vi)},useDebugValue:f0,useDeferredValue:function(a,o){var u=yr();return xN(u,Rt.memoizedState,a,o)},useTransition:function(){var a=Mf(vi)[0],o=yr().memoizedState;return[typeof a=="boolean"?a:eu(a),o]},useSyncExternalStore:W_,useId:_N,useHostTransitionStatus:p0,useFormState:oN,useActionState:oN,useOptimistic:function(a,o){var u=yr();return eN(u,Rt,a,o)},useMemoCache:s0,useCacheRefresh:NN};y0.useEffectEvent=fN;var TN={readContext:nn,use:Rf,useCallback:yN,useContext:nn,useEffect:d0,useImperativeHandle:gN,useInsertionEffect:hN,useLayoutEffect:mN,useMemo:vN,useReducer:l0,useRef:uN,useState:function(){return l0(vi)},useDebugValue:f0,useDeferredValue:function(a,o){var u=yr();return Rt===null?h0(u,a,o):xN(u,Rt.memoizedState,a,o)},useTransition:function(){var a=l0(vi)[0],o=yr().memoizedState;return[typeof a=="boolean"?a:eu(a),o]},useSyncExternalStore:W_,useId:_N,useHostTransitionStatus:p0,useFormState:cN,useActionState:cN,useOptimistic:function(a,o){var u=yr();return Rt!==null?eN(u,Rt,a,o):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:s0,useCacheRefresh:NN};TN.useEffectEvent=fN;function v0(a,o,u,m){o=a.memoizedState,u=u(m,o),u=u==null?o:g({},o,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var x0={enqueueSetState:function(a,o,u){a=a._reactInternals;var m=Yn(),y=ys(m);y.payload=o,u!=null&&(y.callback=u),o=vs(a,y,m),o!==null&&(Rn(o,a,m),Xc(o,a,m))},enqueueReplaceState:function(a,o,u){a=a._reactInternals;var m=Yn(),y=ys(m);y.tag=1,y.payload=o,u!=null&&(y.callback=u),o=vs(a,y,m),o!==null&&(Rn(o,a,m),Xc(o,a,m))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var u=Yn(),m=ys(u);m.tag=2,o!=null&&(m.callback=o),o=vs(a,m,u),o!==null&&(Rn(o,a,u),Xc(o,a,u))}};function CN(a,o,u,m,y,b,E){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,b,E):o.prototype&&o.prototype.isPureReactComponent?!qc(u,m)||!qc(y,b):!0}function PN(a,o,u,m){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,m),o.state!==a&&x0.enqueueReplaceState(o,o.state,null)}function ho(a,o){var u=o;if("ref"in o){u={};for(var m in o)m!=="ref"&&(u[m]=o[m])}if(a=a.defaultProps){u===o&&(u=g({},u));for(var y in a)u[y]===void 0&&(u[y]=a[y])}return u}function DN(a){gf(a)}function kN(a){console.error(a)}function RN(a){gf(a)}function Uf(a,o){try{var u=a.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function MN(a,o,u){try{var m=a.onCaughtError;m(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function b0(a,o,u){return u=ys(u),u.tag=3,u.payload={element:null},u.callback=function(){Uf(a,o)},u}function IN(a){return a=ys(a),a.tag=3,a}function LN(a,o,u,m){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var b=m.value;a.payload=function(){return y(b)},a.callback=function(){MN(o,u,m)}}var E=u.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(a.callback=function(){MN(o,u,m),typeof y!="function"&&(Ns===null?Ns=new Set([this]):Ns.add(this));var k=m.stack;this.componentDidCatch(m.value,{componentStack:k!==null?k:""})})}function B3(a,o,u,m,y){if(u.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=u.alternate,o!==null&&dl(o,u,y,!0),u=Gn.current,u!==null){switch(u.tag){case 31:case 13:return fa===null?Zf():u.alternate===null&&lr===0&&(lr=3),u.flags&=-257,u.flags|=65536,u.lanes=y,m===Ef?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([m]):o.add(m),G0(a,m,y)),!1;case 22:return u.flags|=65536,m===Ef?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([m]):u.add(m)),G0(a,m,y)),!1}throw Error(n(435,u.tag))}return G0(a,m,y),Zf(),!1}if(yt)return o=Gn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,m!==Ug&&(a=Error(n(422),{cause:m}),Gc(la(a,u)))):(m!==Ug&&(o=Error(n(423),{cause:m}),Gc(la(o,u))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,m=la(m,u),y=b0(a.stateNode,m,y),Xg(a,y),lr!==4&&(lr=2)),!1;var b=Error(n(520),{cause:m});if(b=la(b,u),uu===null?uu=[b]:uu.push(b),lr!==4&&(lr=2),o===null)return!0;m=la(m,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,a=y&-y,u.lanes|=a,a=b0(u.stateNode,m,a),Xg(u,a),!1;case 1:if(o=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ns===null||!Ns.has(b))))return u.flags|=65536,y&=-y,u.lanes|=y,y=IN(y),LN(y,a,u,m),Xg(u,y),!1}u=u.return}while(u!==null);return!1}var w0=Error(n(461)),Sr=!1;function an(a,o,u,m){o.child=a===null?B_(o,null,u,m):uo(o,a.child,u,m)}function zN(a,o,u,m,y){u=u.render;var b=o.ref;if("ref"in m){var E={};for(var k in m)k!=="ref"&&(E[k]=m[k])}else E=m;return so(o),m=r0(a,o,u,E,b,y),k=n0(),a!==null&&!Sr?(a0(a,o,y),xi(a,o,y)):(yt&&k&&Lg(o),o.flags|=1,an(a,o,m,y),o.child)}function UN(a,o,u,m,y){if(a===null){var b=u.type;return typeof b=="function"&&!Rg(b)&&b.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=b,$N(a,o,b,m,y)):(a=bf(u.type,null,m,o,o.mode,y),a.ref=o.ref,a.return=o,o.child=a)}if(b=a.child,!T0(a,y)){var E=b.memoizedProps;if(u=u.compare,u=u!==null?u:qc,u(E,m)&&a.ref===o.ref)return xi(a,o,y)}return o.flags|=1,a=hi(b,m),a.ref=o.ref,a.return=o,o.child=a}function $N(a,o,u,m,y){if(a!==null){var b=a.memoizedProps;if(qc(b,m)&&a.ref===o.ref)if(Sr=!1,o.pendingProps=m=b,T0(a,y))(a.flags&131072)!==0&&(Sr=!0);else return o.lanes=a.lanes,xi(a,o,y)}return j0(a,o,u,m,y)}function BN(a,o,u,m){var y=m.children,b=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((o.flags&128)!==0){if(b=b!==null?b.baseLanes|u:u,a!==null){for(m=o.child=a.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;m=y&~b}else m=0,o.child=null;return qN(a,o,b,u,m)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&Nf(o,b!==null?b.cachePool:null),b!==null?F_(o,b):Qg(),G_(o);else return m=o.lanes=536870912,qN(a,o,b!==null?b.baseLanes|u:u,u,m)}else b!==null?(Nf(o,b.cachePool),F_(o,b),bs(),o.memoizedState=null):(a!==null&&Nf(o,null),Qg(),bs());return an(a,o,y,u),o.child}function nu(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function qN(a,o,u,m,y){var b=Hg();return b=b===null?null:{parent:_r._currentValue,pool:b},o.memoizedState={baseLanes:u,cachePool:b},a!==null&&Nf(o,null),Qg(),G_(o),a!==null&&dl(a,o,m,!0),o.childLanes=y,null}function $f(a,o){return o=qf({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function VN(a,o,u){return uo(o,a.child,null,u),a=$f(o,o.pendingProps),a.flags|=2,Hn(o),o.memoizedState=null,a}function q3(a,o,u){var m=o.pendingProps,y=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(yt){if(m.mode==="hidden")return a=$f(o,m),o.lanes=536870912,nu(null,a);if(e0(o),(a=Kt)?(a=tE(a,da),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:fs!==null?{id:Za,overflow:Qa}:null,retryLane:536870912,hydrationErrors:null},u=E_(a),u.return=o,o.child=u,rn=o,Kt=null)):a=null,a===null)throw ms(o);return o.lanes=536870912,null}return $f(o,m)}var b=a.memoizedState;if(b!==null){var E=b.dehydrated;if(e0(o),y)if(o.flags&256)o.flags&=-257,o=VN(a,o,u);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(n(558));else if(Sr||dl(a,o,u,!1),y=(u&a.childLanes)!==0,Sr||y){if(m=zt,m!==null&&(E=wn(m,u),E!==0&&E!==b.retryLane))throw b.retryLane=E,ro(a,E),Rn(m,a,E),w0;Zf(),o=VN(a,o,u)}else a=b.treeContext,Kt=ha(E.nextSibling),rn=o,yt=!0,hs=null,da=!1,a!==null&&T_(o,a),o=$f(o,m),o.flags|=4096;return o}return a=hi(a.child,{mode:m.mode,children:m.children}),a.ref=o.ref,o.child=a,a.return=o,a}function Bf(a,o){var u=o.ref;if(u===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(n(284));(a===null||a.ref!==u)&&(o.flags|=4194816)}}function j0(a,o,u,m,y){return so(o),u=r0(a,o,u,m,void 0,y),m=n0(),a!==null&&!Sr?(a0(a,o,y),xi(a,o,y)):(yt&&m&&Lg(o),o.flags|=1,an(a,o,u,y),o.child)}function FN(a,o,u,m,y,b){return so(o),o.updateQueue=null,u=K_(o,m,u,y),H_(a),m=n0(),a!==null&&!Sr?(a0(a,o,b),xi(a,o,b)):(yt&&m&&Lg(o),o.flags|=1,an(a,o,u,b),o.child)}function GN(a,o,u,m,y){if(so(o),o.stateNode===null){var b=ol,E=u.contextType;typeof E=="object"&&E!==null&&(b=nn(E)),b=new u(m,b),o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=x0,o.stateNode=b,b._reactInternals=o,b=o.stateNode,b.props=m,b.state=o.memoizedState,b.refs={},Wg(o),E=u.contextType,b.context=typeof E=="object"&&E!==null?nn(E):ol,b.state=o.memoizedState,E=u.getDerivedStateFromProps,typeof E=="function"&&(v0(o,u,E,m),b.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(E=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),E!==b.state&&x0.enqueueReplaceState(b,b.state,null),Qc(o,m,b,y),Zc(),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(a===null){b=o.stateNode;var k=o.memoizedProps,F=ho(u,k);b.props=F;var ae=b.context,he=u.contextType;E=ol,typeof he=="object"&&he!==null&&(E=nn(he));var xe=u.getDerivedStateFromProps;he=typeof xe=="function"||typeof b.getSnapshotBeforeUpdate=="function",k=o.pendingProps!==k,he||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(k||ae!==E)&&PN(o,b,m,E),gs=!1;var se=o.memoizedState;b.state=se,Qc(o,m,b,y),Zc(),ae=o.memoizedState,k||se!==ae||gs?(typeof xe=="function"&&(v0(o,u,xe,m),ae=o.memoizedState),(F=gs||CN(o,u,F,m,se,ae,E))?(he||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=ae),b.props=m,b.state=ae,b.context=E,m=F):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{b=o.stateNode,Yg(a,o),E=o.memoizedProps,he=ho(u,E),b.props=he,xe=o.pendingProps,se=b.context,ae=u.contextType,F=ol,typeof ae=="object"&&ae!==null&&(F=nn(ae)),k=u.getDerivedStateFromProps,(ae=typeof k=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(E!==xe||se!==F)&&PN(o,b,m,F),gs=!1,se=o.memoizedState,b.state=se,Qc(o,m,b,y),Zc();var de=o.memoizedState;E!==xe||se!==de||gs||a!==null&&a.dependencies!==null&&jf(a.dependencies)?(typeof k=="function"&&(v0(o,u,k,m),de=o.memoizedState),(he=gs||CN(o,u,he,m,se,de,F)||a!==null&&a.dependencies!==null&&jf(a.dependencies))?(ae||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(m,de,F),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(m,de,F)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||E===a.memoizedProps&&se===a.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||E===a.memoizedProps&&se===a.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=de),b.props=m,b.state=de,b.context=F,m=he):(typeof b.componentDidUpdate!="function"||E===a.memoizedProps&&se===a.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||E===a.memoizedProps&&se===a.memoizedState||(o.flags|=1024),m=!1)}return b=m,Bf(a,o),m=(o.flags&128)!==0,b||m?(b=o.stateNode,u=m&&typeof u.getDerivedStateFromError!="function"?null:b.render(),o.flags|=1,a!==null&&m?(o.child=uo(o,a.child,null,y),o.child=uo(o,null,u,y)):an(a,o,u,y),o.memoizedState=b.state,a=o.child):a=xi(a,o,y),a}function HN(a,o,u,m){return ao(),o.flags|=256,an(a,o,u,m),o.child}var _0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function N0(a){return{baseLanes:a,cachePool:M_()}}function S0(a,o,u){return a=a!==null?a.childLanes&~u:0,o&&(a|=Wn),a}function KN(a,o,u){var m=o.pendingProps,y=!1,b=(o.flags&128)!==0,E;if((E=b)||(E=a!==null&&a.memoizedState===null?!1:(gr.current&2)!==0),E&&(y=!0,o.flags&=-129),E=(o.flags&32)!==0,o.flags&=-33,a===null){if(yt){if(y?xs(o):bs(),(a=Kt)?(a=tE(a,da),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:fs!==null?{id:Za,overflow:Qa}:null,retryLane:536870912,hydrationErrors:null},u=E_(a),u.return=o,o.child=u,rn=o,Kt=null)):a=null,a===null)throw ms(o);return oy(a)?o.lanes=32:o.lanes=536870912,null}var k=m.children;return m=m.fallback,y?(bs(),y=o.mode,k=qf({mode:"hidden",children:k},y),m=no(m,y,u,null),k.return=o,m.return=o,k.sibling=m,o.child=k,m=o.child,m.memoizedState=N0(u),m.childLanes=S0(a,E,u),o.memoizedState=_0,nu(null,m)):(xs(o),E0(o,k))}var F=a.memoizedState;if(F!==null&&(k=F.dehydrated,k!==null)){if(b)o.flags&256?(xs(o),o.flags&=-257,o=A0(a,o,u)):o.memoizedState!==null?(bs(),o.child=a.child,o.flags|=128,o=null):(bs(),k=m.fallback,y=o.mode,m=qf({mode:"visible",children:m.children},y),k=no(k,y,u,null),k.flags|=2,m.return=o,k.return=o,m.sibling=k,o.child=m,uo(o,a.child,null,u),m=o.child,m.memoizedState=N0(u),m.childLanes=S0(a,E,u),o.memoizedState=_0,o=nu(null,m));else if(xs(o),oy(k)){if(E=k.nextSibling&&k.nextSibling.dataset,E)var ae=E.dgst;E=ae,m=Error(n(419)),m.stack="",m.digest=E,Gc({value:m,source:null,stack:null}),o=A0(a,o,u)}else if(Sr||dl(a,o,u,!1),E=(u&a.childLanes)!==0,Sr||E){if(E=zt,E!==null&&(m=wn(E,u),m!==0&&m!==F.retryLane))throw F.retryLane=m,ro(a,m),Rn(E,a,m),w0;sy(k)||Zf(),o=A0(a,o,u)}else sy(k)?(o.flags|=192,o.child=a.child,o=null):(a=F.treeContext,Kt=ha(k.nextSibling),rn=o,yt=!0,hs=null,da=!1,a!==null&&T_(o,a),o=E0(o,m.children),o.flags|=4096);return o}return y?(bs(),k=m.fallback,y=o.mode,F=a.child,ae=F.sibling,m=hi(F,{mode:"hidden",children:m.children}),m.subtreeFlags=F.subtreeFlags&65011712,ae!==null?k=hi(ae,k):(k=no(k,y,u,null),k.flags|=2),k.return=o,m.return=o,m.sibling=k,o.child=m,nu(null,m),m=o.child,k=a.child.memoizedState,k===null?k=N0(u):(y=k.cachePool,y!==null?(F=_r._currentValue,y=y.parent!==F?{parent:F,pool:F}:y):y=M_(),k={baseLanes:k.baseLanes|u,cachePool:y}),m.memoizedState=k,m.childLanes=S0(a,E,u),o.memoizedState=_0,nu(a.child,m)):(xs(o),u=a.child,a=u.sibling,u=hi(u,{mode:"visible",children:m.children}),u.return=o,u.sibling=null,a!==null&&(E=o.deletions,E===null?(o.deletions=[a],o.flags|=16):E.push(a)),o.child=u,o.memoizedState=null,u)}function E0(a,o){return o=qf({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function qf(a,o){return a=Fn(22,a,null,o),a.lanes=0,a}function A0(a,o,u){return uo(o,a.child,null,u),a=E0(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function WN(a,o,u){a.lanes|=o;var m=a.alternate;m!==null&&(m.lanes|=o),qg(a.return,o,u)}function O0(a,o,u,m,y,b){var E=a.memoizedState;E===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:y,treeForkCount:b}:(E.isBackwards=o,E.rendering=null,E.renderingStartTime=0,E.last=m,E.tail=u,E.tailMode=y,E.treeForkCount=b)}function YN(a,o,u){var m=o.pendingProps,y=m.revealOrder,b=m.tail;m=m.children;var E=gr.current,k=(E&2)!==0;if(k?(E=E&1|2,o.flags|=128):E&=1,je(gr,E),an(a,o,m,u),m=yt?Fc:0,!k&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&WN(a,u,o);else if(a.tag===19)WN(a,u,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(y){case"forwards":for(u=o.child,y=null;u!==null;)a=u.alternate,a!==null&&Cf(a)===null&&(y=u),u=u.sibling;u=y,u===null?(y=o.child,o.child=null):(y=u.sibling,u.sibling=null),O0(o,!1,y,u,b,m);break;case"backwards":case"unstable_legacy-backwards":for(u=null,y=o.child,o.child=null;y!==null;){if(a=y.alternate,a!==null&&Cf(a)===null){o.child=y;break}a=y.sibling,y.sibling=u,u=y,y=a}O0(o,!0,u,null,b,m);break;case"together":O0(o,!1,null,null,void 0,m);break;default:o.memoizedState=null}return o.child}function xi(a,o,u){if(a!==null&&(o.dependencies=a.dependencies),_s|=o.lanes,(u&o.childLanes)===0)if(a!==null){if(dl(a,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(n(153));if(o.child!==null){for(a=o.child,u=hi(a,a.pendingProps),o.child=u,u.return=o;a.sibling!==null;)a=a.sibling,u=u.sibling=hi(a,a.pendingProps),u.return=o;u.sibling=null}return o.child}function T0(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&jf(a)))}function V3(a,o,u){switch(o.tag){case 3:dt(o,o.stateNode.containerInfo),ps(o,_r,a.memoizedState.cache),ao();break;case 27:case 5:Q(o);break;case 4:dt(o,o.stateNode.containerInfo);break;case 10:ps(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,e0(o),null;break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(xs(o),o.flags|=128,null):(u&o.child.childLanes)!==0?KN(a,o,u):(xs(o),a=xi(a,o,u),a!==null?a.sibling:null);xs(o);break;case 19:var y=(a.flags&128)!==0;if(m=(u&o.childLanes)!==0,m||(dl(a,o,u,!1),m=(u&o.childLanes)!==0),y){if(m)return YN(a,o,u);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),je(gr,gr.current),m)break;return null;case 22:return o.lanes=0,BN(a,o,u,o.pendingProps);case 24:ps(o,_r,a.memoizedState.cache)}return xi(a,o,u)}function XN(a,o,u){if(a!==null)if(a.memoizedProps!==o.pendingProps)Sr=!0;else{if(!T0(a,u)&&(o.flags&128)===0)return Sr=!1,V3(a,o,u);Sr=(a.flags&131072)!==0}else Sr=!1,yt&&(o.flags&1048576)!==0&&O_(o,Fc,o.index);switch(o.lanes=0,o.tag){case 16:e:{var m=o.pendingProps;if(a=lo(o.elementType),o.type=a,typeof a=="function")Rg(a)?(m=ho(a,m),o.tag=1,o=GN(null,o,a,m,u)):(o.tag=0,o=j0(null,o,a,m,u));else{if(a!=null){var y=a.$$typeof;if(y===P){o.tag=11,o=zN(null,o,a,m,u);break e}else if(y===R){o.tag=14,o=UN(null,o,a,m,u);break e}}throw o=B(a)||a,Error(n(306,o,""))}}return o;case 0:return j0(a,o,o.type,o.pendingProps,u);case 1:return m=o.type,y=ho(m,o.pendingProps),GN(a,o,m,y,u);case 3:e:{if(dt(o,o.stateNode.containerInfo),a===null)throw Error(n(387));m=o.pendingProps;var b=o.memoizedState;y=b.element,Yg(a,o),Qc(o,m,null,u);var E=o.memoizedState;if(m=E.cache,ps(o,_r,m),m!==b.cache&&Vg(o,[_r],u,!0),Zc(),m=E.element,b.isDehydrated)if(b={element:m,isDehydrated:!1,cache:E.cache},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){o=HN(a,o,m,u);break e}else if(m!==y){y=la(Error(n(424)),o),Gc(y),o=HN(a,o,m,u);break e}else{switch(a=o.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Kt=ha(a.firstChild),rn=o,yt=!0,hs=null,da=!0,u=B_(o,null,m,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(ao(),m===y){o=xi(a,o,u);break e}an(a,o,m,u)}o=o.child}return o;case 26:return Bf(a,o),a===null?(u=oE(o.type,null,o.pendingProps,null))?o.memoizedState=u:yt||(u=o.type,a=o.pendingProps,m=ah(Oe.current).createElement(u),m[Tt]=o,m[hn]=a,sn(m,u,a),wr(m),o.stateNode=m):o.memoizedState=oE(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return Q(o),a===null&&yt&&(m=o.stateNode=aE(o.type,o.pendingProps,Oe.current),rn=o,da=!0,y=Kt,Os(o.type)?(ly=y,Kt=ha(m.firstChild)):Kt=y),an(a,o,o.pendingProps.children,u),Bf(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&yt&&((y=m=Kt)&&(m=x6(m,o.type,o.pendingProps,da),m!==null?(o.stateNode=m,rn=o,Kt=ha(m.firstChild),da=!1,y=!0):y=!1),y||ms(o)),Q(o),y=o.type,b=o.pendingProps,E=a!==null?a.memoizedProps:null,m=b.children,ny(y,b)?m=null:E!==null&&ny(y,E)&&(o.flags|=32),o.memoizedState!==null&&(y=r0(a,o,R3,null,null,u),vu._currentValue=y),Bf(a,o),an(a,o,m,u),o.child;case 6:return a===null&&yt&&((a=u=Kt)&&(u=b6(u,o.pendingProps,da),u!==null?(o.stateNode=u,rn=o,Kt=null,a=!0):a=!1),a||ms(o)),null;case 13:return KN(a,o,u);case 4:return dt(o,o.stateNode.containerInfo),m=o.pendingProps,a===null?o.child=uo(o,null,m,u):an(a,o,m,u),o.child;case 11:return zN(a,o,o.type,o.pendingProps,u);case 7:return an(a,o,o.pendingProps,u),o.child;case 8:return an(a,o,o.pendingProps.children,u),o.child;case 12:return an(a,o,o.pendingProps.children,u),o.child;case 10:return m=o.pendingProps,ps(o,o.type,m.value),an(a,o,m.children,u),o.child;case 9:return y=o.type._context,m=o.pendingProps.children,so(o),y=nn(y),m=m(y),o.flags|=1,an(a,o,m,u),o.child;case 14:return UN(a,o,o.type,o.pendingProps,u);case 15:return $N(a,o,o.type,o.pendingProps,u);case 19:return YN(a,o,u);case 31:return q3(a,o,u);case 22:return BN(a,o,u,o.pendingProps);case 24:return so(o),m=nn(_r),a===null?(y=Hg(),y===null&&(y=zt,b=Fg(),y.pooledCache=b,b.refCount++,b!==null&&(y.pooledCacheLanes|=u),y=b),o.memoizedState={parent:m,cache:y},Wg(o),ps(o,_r,y)):((a.lanes&u)!==0&&(Yg(a,o),Qc(o,null,null,u),Zc()),y=a.memoizedState,b=o.memoizedState,y.parent!==m?(y={parent:m,cache:m},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),ps(o,_r,m)):(m=b.cache,ps(o,_r,m),m!==y.cache&&Vg(o,[_r],u,!0))),an(a,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function bi(a){a.flags|=4}function C0(a,o,u,m,y){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(y&335544128)===y)if(a.stateNode.complete)a.flags|=8192;else if(_S())a.flags|=8192;else throw co=Ef,Kg}else a.flags&=-16777217}function ZN(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!fE(o))if(_S())a.flags|=8192;else throw co=Ef,Kg}function Vf(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?mr():536870912,a.lanes|=o,_l|=o)}function au(a,o){if(!yt)switch(a.tailMode){case"hidden":o=a.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function Wt(a){var o=a.alternate!==null&&a.alternate.child===a.child,u=0,m=0;if(o)for(var y=a.child;y!==null;)u|=y.lanes|y.childLanes,m|=y.subtreeFlags&65011712,m|=y.flags&65011712,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)u|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=m,a.childLanes=u,o}function F3(a,o,u){var m=o.pendingProps;switch(zg(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(o),null;case 1:return Wt(o),null;case 3:return u=o.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),gi(_r),$(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(ul(o)?bi(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,$g())),Wt(o),null;case 26:var y=o.type,b=o.memoizedState;return a===null?(bi(o),b!==null?(Wt(o),ZN(o,b)):(Wt(o),C0(o,y,null,m,u))):b?b!==a.memoizedState?(bi(o),Wt(o),ZN(o,b)):(Wt(o),o.flags&=-16777217):(a=a.memoizedProps,a!==m&&bi(o),Wt(o),C0(o,y,a,m,u)),null;case 27:if(ue(o),u=Oe.current,y=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==m&&bi(o);else{if(!m){if(o.stateNode===null)throw Error(n(166));return Wt(o),null}a=Ne.current,ul(o)?C_(o):(a=aE(y,m,u),o.stateNode=a,bi(o))}return Wt(o),null;case 5:if(ue(o),y=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==m&&bi(o);else{if(!m){if(o.stateNode===null)throw Error(n(166));return Wt(o),null}if(b=Ne.current,ul(o))C_(o);else{var E=ah(Oe.current);switch(b){case 1:b=E.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:b=E.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":b=E.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":b=E.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":b=E.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof m.is=="string"?E.createElement("select",{is:m.is}):E.createElement("select"),m.multiple?b.multiple=!0:m.size&&(b.size=m.size);break;default:b=typeof m.is=="string"?E.createElement(y,{is:m.is}):E.createElement(y)}}b[Tt]=o,b[hn]=m;e:for(E=o.child;E!==null;){if(E.tag===5||E.tag===6)b.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===o)break e;for(;E.sibling===null;){if(E.return===null||E.return===o)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}o.stateNode=b;e:switch(sn(b,y,m),y){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&bi(o)}}return Wt(o),C0(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,u),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==m&&bi(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(n(166));if(a=Oe.current,ul(o)){if(a=o.stateNode,u=o.memoizedProps,m=null,y=rn,y!==null)switch(y.tag){case 27:case 5:m=y.memoizedProps}a[Tt]=o,a=!!(a.nodeValue===u||m!==null&&m.suppressHydrationWarning===!0||KS(a.nodeValue,u)),a||ms(o,!0)}else a=ah(a).createTextNode(m),a[Tt]=o,o.stateNode=a}return Wt(o),null;case 31:if(u=o.memoizedState,a===null||a.memoizedState!==null){if(m=ul(o),u!==null){if(a===null){if(!m)throw Error(n(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(557));a[Tt]=o}else ao(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Wt(o),a=!1}else u=$g(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=u),a=!0;if(!a)return o.flags&256?(Hn(o),o):(Hn(o),null);if((o.flags&128)!==0)throw Error(n(558))}return Wt(o),null;case 13:if(m=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=ul(o),m!==null&&m.dehydrated!==null){if(a===null){if(!y)throw Error(n(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[Tt]=o}else ao(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Wt(o),y=!1}else y=$g(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(Hn(o),o):(Hn(o),null)}return Hn(o),(o.flags&128)!==0?(o.lanes=u,o):(u=m!==null,a=a!==null&&a.memoizedState!==null,u&&(m=o.child,y=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(y=m.alternate.memoizedState.cachePool.pool),b=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(b=m.memoizedState.cachePool.pool),b!==y&&(m.flags|=2048)),u!==a&&u&&(o.child.flags|=8192),Vf(o,o.updateQueue),Wt(o),null);case 4:return $(),a===null&&Q0(o.stateNode.containerInfo),Wt(o),null;case 10:return gi(o.type),Wt(o),null;case 19:if(ee(gr),m=o.memoizedState,m===null)return Wt(o),null;if(y=(o.flags&128)!==0,b=m.rendering,b===null)if(y)au(m,!1);else{if(lr!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(b=Cf(a),b!==null){for(o.flags|=128,au(m,!1),a=b.updateQueue,o.updateQueue=a,Vf(o,a),o.subtreeFlags=0,a=u,u=o.child;u!==null;)S_(u,a),u=u.sibling;return je(gr,gr.current&1|2),yt&&mi(o,m.treeForkCount),o.child}a=a.sibling}m.tail!==null&&et()>Wf&&(o.flags|=128,y=!0,au(m,!1),o.lanes=4194304)}else{if(!y)if(a=Cf(b),a!==null){if(o.flags|=128,y=!0,a=a.updateQueue,o.updateQueue=a,Vf(o,a),au(m,!0),m.tail===null&&m.tailMode==="hidden"&&!b.alternate&&!yt)return Wt(o),null}else 2*et()-m.renderingStartTime>Wf&&u!==536870912&&(o.flags|=128,y=!0,au(m,!1),o.lanes=4194304);m.isBackwards?(b.sibling=o.child,o.child=b):(a=m.last,a!==null?a.sibling=b:o.child=b,m.last=b)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=et(),a.sibling=null,u=gr.current,je(gr,y?u&1|2:u&1),yt&&mi(o,m.treeForkCount),a):(Wt(o),null);case 22:case 23:return Hn(o),Jg(),m=o.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(u&536870912)!==0&&(o.flags&128)===0&&(Wt(o),o.subtreeFlags&6&&(o.flags|=8192)):Wt(o),u=o.updateQueue,u!==null&&Vf(o,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==u&&(o.flags|=2048),a!==null&&ee(oo),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),gi(_r),Wt(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function G3(a,o){switch(zg(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return gi(_r),$(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return ue(o),null;case 31:if(o.memoizedState!==null){if(Hn(o),o.alternate===null)throw Error(n(340));ao()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(Hn(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(n(340));ao()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return ee(gr),null;case 4:return $(),null;case 10:return gi(o.type),null;case 22:case 23:return Hn(o),Jg(),a!==null&&ee(oo),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return gi(_r),null;case 25:return null;default:return null}}function QN(a,o){switch(zg(o),o.tag){case 3:gi(_r),$();break;case 26:case 27:case 5:ue(o);break;case 4:$();break;case 31:o.memoizedState!==null&&Hn(o);break;case 13:Hn(o);break;case 19:ee(gr);break;case 10:gi(o.type);break;case 22:case 23:Hn(o),Jg(),a!==null&&ee(oo);break;case 24:gi(_r)}}function iu(a,o){try{var u=o.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var y=m.next;u=y;do{if((u.tag&a)===a){m=void 0;var b=u.create,E=u.inst;m=b(),E.destroy=m}u=u.next}while(u!==y)}}catch(k){Pt(o,o.return,k)}}function ws(a,o,u){try{var m=o.updateQueue,y=m!==null?m.lastEffect:null;if(y!==null){var b=y.next;m=b;do{if((m.tag&a)===a){var E=m.inst,k=E.destroy;if(k!==void 0){E.destroy=void 0,y=o;var F=u,ae=k;try{ae()}catch(he){Pt(y,F,he)}}}m=m.next}while(m!==b)}}catch(he){Pt(o,o.return,he)}}function JN(a){var o=a.updateQueue;if(o!==null){var u=a.stateNode;try{V_(o,u)}catch(m){Pt(a,a.return,m)}}}function eS(a,o,u){u.props=ho(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(m){Pt(a,o,m)}}function su(a,o){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var m=a.stateNode;break;case 30:m=a.stateNode;break;default:m=a.stateNode}typeof u=="function"?a.refCleanup=u(m):u.current=m}}catch(y){Pt(a,o,y)}}function Ja(a,o){var u=a.ref,m=a.refCleanup;if(u!==null)if(typeof m=="function")try{m()}catch(y){Pt(a,o,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){Pt(a,o,y)}else u.current=null}function tS(a){var o=a.type,u=a.memoizedProps,m=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&m.focus();break e;case"img":u.src?m.src=u.src:u.srcSet&&(m.srcset=u.srcSet)}}catch(y){Pt(a,a.return,y)}}function P0(a,o,u){try{var m=a.stateNode;h6(m,a.type,u,o),m[hn]=o}catch(y){Pt(a,a.return,y)}}function rS(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Os(a.type)||a.tag===4}function D0(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||rS(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Os(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function k0(a,o,u){var m=a.tag;if(m===5||m===6)a=a.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(a),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Ta));else if(m!==4&&(m===27&&Os(a.type)&&(u=a.stateNode,o=null),a=a.child,a!==null))for(k0(a,o,u),a=a.sibling;a!==null;)k0(a,o,u),a=a.sibling}function Ff(a,o,u){var m=a.tag;if(m===5||m===6)a=a.stateNode,o?u.insertBefore(a,o):u.appendChild(a);else if(m!==4&&(m===27&&Os(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(Ff(a,o,u),a=a.sibling;a!==null;)Ff(a,o,u),a=a.sibling}function nS(a){var o=a.stateNode,u=a.memoizedProps;try{for(var m=a.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);sn(o,m,u),o[Tt]=a,o[hn]=u}catch(b){Pt(a,a.return,b)}}var wi=!1,Er=!1,R0=!1,aS=typeof WeakSet=="function"?WeakSet:Set,Hr=null;function H3(a,o){if(a=a.containerInfo,ty=dh,a=g_(a),Ag(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var y=m.anchorOffset,b=m.focusNode;m=m.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var E=0,k=-1,F=-1,ae=0,he=0,xe=a,se=null;t:for(;;){for(var de;xe!==u||y!==0&&xe.nodeType!==3||(k=E+y),xe!==b||m!==0&&xe.nodeType!==3||(F=E+m),xe.nodeType===3&&(E+=xe.nodeValue.length),(de=xe.firstChild)!==null;)se=xe,xe=de;for(;;){if(xe===a)break t;if(se===u&&++ae===y&&(k=E),se===b&&++he===m&&(F=E),(de=xe.nextSibling)!==null)break;xe=se,se=xe.parentNode}xe=de}u=k===-1||F===-1?null:{start:k,end:F}}else u=null}u=u||{start:0,end:0}}else u=null;for(ry={focusedElem:a,selectionRange:u},dh=!1,Hr=o;Hr!==null;)if(o=Hr,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,Hr=a;else for(;Hr!==null;){switch(o=Hr,b=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(u=0;u<a.length;u++)y=a[u],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&b!==null){a=void 0,u=o,y=b.memoizedProps,b=b.memoizedState,m=u.stateNode;try{var Ue=ho(u.type,y);a=m.getSnapshotBeforeUpdate(Ue,b),m.__reactInternalSnapshotBeforeUpdate=a}catch(Ye){Pt(u,u.return,Ye)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,u=a.nodeType,u===9)iy(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":iy(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=o.sibling,a!==null){a.return=o.return,Hr=a;break}Hr=o.return}}function iS(a,o,u){var m=u.flags;switch(u.tag){case 0:case 11:case 15:_i(a,u),m&4&&iu(5,u);break;case 1:if(_i(a,u),m&4)if(a=u.stateNode,o===null)try{a.componentDidMount()}catch(E){Pt(u,u.return,E)}else{var y=ho(u.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(y,o,a.__reactInternalSnapshotBeforeUpdate)}catch(E){Pt(u,u.return,E)}}m&64&&JN(u),m&512&&su(u,u.return);break;case 3:if(_i(a,u),m&64&&(a=u.updateQueue,a!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{V_(a,o)}catch(E){Pt(u,u.return,E)}}break;case 27:o===null&&m&4&&nS(u);case 26:case 5:_i(a,u),o===null&&m&4&&tS(u),m&512&&su(u,u.return);break;case 12:_i(a,u);break;case 31:_i(a,u),m&4&&lS(a,u);break;case 13:_i(a,u),m&4&&cS(a,u),m&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=t6.bind(null,u),w6(a,u))));break;case 22:if(m=u.memoizedState!==null||wi,!m){o=o!==null&&o.memoizedState!==null||Er,y=wi;var b=Er;wi=m,(Er=o)&&!b?Ni(a,u,(u.subtreeFlags&8772)!==0):_i(a,u),wi=y,Er=b}break;case 30:break;default:_i(a,u)}}function sS(a){var o=a.alternate;o!==null&&(a.alternate=null,sS(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&Dc(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Qt=null,Cn=!1;function ji(a,o,u){for(u=u.child;u!==null;)oS(a,o,u),u=u.sibling}function oS(a,o,u){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(Dr,u)}catch{}switch(u.tag){case 26:Er||Ja(u,o),ji(a,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Er||Ja(u,o);var m=Qt,y=Cn;Os(u.type)&&(Qt=u.stateNode,Cn=!1),ji(a,o,u),pu(u.stateNode),Qt=m,Cn=y;break;case 5:Er||Ja(u,o);case 6:if(m=Qt,y=Cn,Qt=null,ji(a,o,u),Qt=m,Cn=y,Qt!==null)if(Cn)try{(Qt.nodeType===9?Qt.body:Qt.nodeName==="HTML"?Qt.ownerDocument.body:Qt).removeChild(u.stateNode)}catch(b){Pt(u,o,b)}else try{Qt.removeChild(u.stateNode)}catch(b){Pt(u,o,b)}break;case 18:Qt!==null&&(Cn?(a=Qt,JS(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),Pl(a)):JS(Qt,u.stateNode));break;case 4:m=Qt,y=Cn,Qt=u.stateNode.containerInfo,Cn=!0,ji(a,o,u),Qt=m,Cn=y;break;case 0:case 11:case 14:case 15:ws(2,u,o),Er||ws(4,u,o),ji(a,o,u);break;case 1:Er||(Ja(u,o),m=u.stateNode,typeof m.componentWillUnmount=="function"&&eS(u,o,m)),ji(a,o,u);break;case 21:ji(a,o,u);break;case 22:Er=(m=Er)||u.memoizedState!==null,ji(a,o,u),Er=m;break;default:ji(a,o,u)}}function lS(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Pl(a)}catch(u){Pt(o,o.return,u)}}}function cS(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Pl(a)}catch(u){Pt(o,o.return,u)}}function K3(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new aS),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new aS),o;default:throw Error(n(435,a.tag))}}function Gf(a,o){var u=K3(a);o.forEach(function(m){if(!u.has(m)){u.add(m);var y=r6.bind(null,a,m);m.then(y,y)}})}function Pn(a,o){var u=o.deletions;if(u!==null)for(var m=0;m<u.length;m++){var y=u[m],b=a,E=o,k=E;e:for(;k!==null;){switch(k.tag){case 27:if(Os(k.type)){Qt=k.stateNode,Cn=!1;break e}break;case 5:Qt=k.stateNode,Cn=!1;break e;case 3:case 4:Qt=k.stateNode.containerInfo,Cn=!0;break e}k=k.return}if(Qt===null)throw Error(n(160));oS(b,E,y),Qt=null,Cn=!1,b=y.alternate,b!==null&&(b.return=null),y.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)uS(o,a),o=o.sibling}var Pa=null;function uS(a,o){var u=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Pn(o,a),Dn(a),m&4&&(ws(3,a,a.return),iu(3,a),ws(5,a,a.return));break;case 1:Pn(o,a),Dn(a),m&512&&(Er||u===null||Ja(u,u.return)),m&64&&wi&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?m:u.concat(m))));break;case 26:var y=Pa;if(Pn(o,a),Dn(a),m&512&&(Er||u===null||Ja(u,u.return)),m&4){var b=u!==null?u.memoizedState:null;if(m=a.memoizedState,u===null)if(m===null)if(a.stateNode===null){e:{m=a.type,u=a.memoizedProps,y=y.ownerDocument||y;t:switch(m){case"title":b=y.getElementsByTagName("title")[0],(!b||b[Qs]||b[Tt]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=y.createElement(m),y.head.insertBefore(b,y.querySelector("head > title"))),sn(b,m,u),b[Tt]=a,wr(b),m=b;break e;case"link":var E=uE("link","href",y).get(m+(u.href||""));if(E){for(var k=0;k<E.length;k++)if(b=E[k],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){E.splice(k,1);break t}}b=y.createElement(m),sn(b,m,u),y.head.appendChild(b);break;case"meta":if(E=uE("meta","content",y).get(m+(u.content||""))){for(k=0;k<E.length;k++)if(b=E[k],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){E.splice(k,1);break t}}b=y.createElement(m),sn(b,m,u),y.head.appendChild(b);break;default:throw Error(n(468,m))}b[Tt]=a,wr(b),m=b}a.stateNode=m}else dE(y,a.type,a.stateNode);else a.stateNode=cE(y,m,a.memoizedProps);else b!==m?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,m===null?dE(y,a.type,a.stateNode):cE(y,m,a.memoizedProps)):m===null&&a.stateNode!==null&&P0(a,a.memoizedProps,u.memoizedProps)}break;case 27:Pn(o,a),Dn(a),m&512&&(Er||u===null||Ja(u,u.return)),u!==null&&m&4&&P0(a,a.memoizedProps,u.memoizedProps);break;case 5:if(Pn(o,a),Dn(a),m&512&&(Er||u===null||Ja(u,u.return)),a.flags&32){y=a.stateNode;try{ds(y,"")}catch(Ue){Pt(a,a.return,Ue)}}m&4&&a.stateNode!=null&&(y=a.memoizedProps,P0(a,y,u!==null?u.memoizedProps:y)),m&1024&&(R0=!0);break;case 6:if(Pn(o,a),Dn(a),m&4){if(a.stateNode===null)throw Error(n(162));m=a.memoizedProps,u=a.stateNode;try{u.nodeValue=m}catch(Ue){Pt(a,a.return,Ue)}}break;case 3:if(oh=null,y=Pa,Pa=ih(o.containerInfo),Pn(o,a),Pa=y,Dn(a),m&4&&u!==null&&u.memoizedState.isDehydrated)try{Pl(o.containerInfo)}catch(Ue){Pt(a,a.return,Ue)}R0&&(R0=!1,dS(a));break;case 4:m=Pa,Pa=ih(a.stateNode.containerInfo),Pn(o,a),Dn(a),Pa=m;break;case 12:Pn(o,a),Dn(a);break;case 31:Pn(o,a),Dn(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Gf(a,m)));break;case 13:Pn(o,a),Dn(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Kf=et()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Gf(a,m)));break;case 22:y=a.memoizedState!==null;var F=u!==null&&u.memoizedState!==null,ae=wi,he=Er;if(wi=ae||y,Er=he||F,Pn(o,a),Er=he,wi=ae,Dn(a),m&8192)e:for(o=a.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(u===null||F||wi||Er||mo(a)),u=null,o=a;;){if(o.tag===5||o.tag===26){if(u===null){F=u=o;try{if(b=F.stateNode,y)E=b.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{k=F.stateNode;var xe=F.memoizedProps.style,se=xe!=null&&xe.hasOwnProperty("display")?xe.display:null;k.style.display=se==null||typeof se=="boolean"?"":(""+se).trim()}}catch(Ue){Pt(F,F.return,Ue)}}}else if(o.tag===6){if(u===null){F=o;try{F.stateNode.nodeValue=y?"":F.memoizedProps}catch(Ue){Pt(F,F.return,Ue)}}}else if(o.tag===18){if(u===null){F=o;try{var de=F.stateNode;y?eE(de,!0):eE(F.stateNode,!1)}catch(Ue){Pt(F,F.return,Ue)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=a.updateQueue,m!==null&&(u=m.retryQueue,u!==null&&(m.retryQueue=null,Gf(a,u))));break;case 19:Pn(o,a),Dn(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Gf(a,m)));break;case 30:break;case 21:break;default:Pn(o,a),Dn(a)}}function Dn(a){var o=a.flags;if(o&2){try{for(var u,m=a.return;m!==null;){if(rS(m)){u=m;break}m=m.return}if(u==null)throw Error(n(160));switch(u.tag){case 27:var y=u.stateNode,b=D0(a);Ff(a,b,y);break;case 5:var E=u.stateNode;u.flags&32&&(ds(E,""),u.flags&=-33);var k=D0(a);Ff(a,k,E);break;case 3:case 4:var F=u.stateNode.containerInfo,ae=D0(a);k0(a,ae,F);break;default:throw Error(n(161))}}catch(he){Pt(a,a.return,he)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function dS(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;dS(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function _i(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)iS(a,o.alternate,o),o=o.sibling}function mo(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:ws(4,o,o.return),mo(o);break;case 1:Ja(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&eS(o,o.return,u),mo(o);break;case 27:pu(o.stateNode);case 26:case 5:Ja(o,o.return),mo(o);break;case 22:o.memoizedState===null&&mo(o);break;case 30:mo(o);break;default:mo(o)}a=a.sibling}}function Ni(a,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,y=a,b=o,E=b.flags;switch(b.tag){case 0:case 11:case 15:Ni(y,b,u),iu(4,b);break;case 1:if(Ni(y,b,u),m=b,y=m.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(ae){Pt(m,m.return,ae)}if(m=b,y=m.updateQueue,y!==null){var k=m.stateNode;try{var F=y.shared.hiddenCallbacks;if(F!==null)for(y.shared.hiddenCallbacks=null,y=0;y<F.length;y++)q_(F[y],k)}catch(ae){Pt(m,m.return,ae)}}u&&E&64&&JN(b),su(b,b.return);break;case 27:nS(b);case 26:case 5:Ni(y,b,u),u&&m===null&&E&4&&tS(b),su(b,b.return);break;case 12:Ni(y,b,u);break;case 31:Ni(y,b,u),u&&E&4&&lS(y,b);break;case 13:Ni(y,b,u),u&&E&4&&cS(y,b);break;case 22:b.memoizedState===null&&Ni(y,b,u),su(b,b.return);break;case 30:break;default:Ni(y,b,u)}o=o.sibling}}function M0(a,o){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&Hc(u))}function I0(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Hc(a))}function Da(a,o,u,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)fS(a,o,u,m),o=o.sibling}function fS(a,o,u,m){var y=o.flags;switch(o.tag){case 0:case 11:case 15:Da(a,o,u,m),y&2048&&iu(9,o);break;case 1:Da(a,o,u,m);break;case 3:Da(a,o,u,m),y&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Hc(a)));break;case 12:if(y&2048){Da(a,o,u,m),a=o.stateNode;try{var b=o.memoizedProps,E=b.id,k=b.onPostCommit;typeof k=="function"&&k(E,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(F){Pt(o,o.return,F)}}else Da(a,o,u,m);break;case 31:Da(a,o,u,m);break;case 13:Da(a,o,u,m);break;case 23:break;case 22:b=o.stateNode,E=o.alternate,o.memoizedState!==null?b._visibility&2?Da(a,o,u,m):ou(a,o):b._visibility&2?Da(a,o,u,m):(b._visibility|=2,bl(a,o,u,m,(o.subtreeFlags&10256)!==0||!1)),y&2048&&M0(E,o);break;case 24:Da(a,o,u,m),y&2048&&I0(o.alternate,o);break;default:Da(a,o,u,m)}}function bl(a,o,u,m,y){for(y=y&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var b=a,E=o,k=u,F=m,ae=E.flags;switch(E.tag){case 0:case 11:case 15:bl(b,E,k,F,y),iu(8,E);break;case 23:break;case 22:var he=E.stateNode;E.memoizedState!==null?he._visibility&2?bl(b,E,k,F,y):ou(b,E):(he._visibility|=2,bl(b,E,k,F,y)),y&&ae&2048&&M0(E.alternate,E);break;case 24:bl(b,E,k,F,y),y&&ae&2048&&I0(E.alternate,E);break;default:bl(b,E,k,F,y)}o=o.sibling}}function ou(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=a,m=o,y=m.flags;switch(m.tag){case 22:ou(u,m),y&2048&&M0(m.alternate,m);break;case 24:ou(u,m),y&2048&&I0(m.alternate,m);break;default:ou(u,m)}o=o.sibling}}var lu=8192;function wl(a,o,u){if(a.subtreeFlags&lu)for(a=a.child;a!==null;)hS(a,o,u),a=a.sibling}function hS(a,o,u){switch(a.tag){case 26:wl(a,o,u),a.flags&lu&&a.memoizedState!==null&&k6(u,Pa,a.memoizedState,a.memoizedProps);break;case 5:wl(a,o,u);break;case 3:case 4:var m=Pa;Pa=ih(a.stateNode.containerInfo),wl(a,o,u),Pa=m;break;case 22:a.memoizedState===null&&(m=a.alternate,m!==null&&m.memoizedState!==null?(m=lu,lu=16777216,wl(a,o,u),lu=m):wl(a,o,u));break;default:wl(a,o,u)}}function mS(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function cu(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];Hr=m,gS(m,a)}mS(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)pS(a),a=a.sibling}function pS(a){switch(a.tag){case 0:case 11:case 15:cu(a),a.flags&2048&&ws(9,a,a.return);break;case 3:cu(a);break;case 12:cu(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,Hf(a)):cu(a);break;default:cu(a)}}function Hf(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];Hr=m,gS(m,a)}mS(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:ws(8,o,o.return),Hf(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Hf(o));break;default:Hf(o)}a=a.sibling}}function gS(a,o){for(;Hr!==null;){var u=Hr;switch(u.tag){case 0:case 11:case 15:ws(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var m=u.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Hc(u.memoizedState.cache)}if(m=u.child,m!==null)m.return=u,Hr=m;else e:for(u=a;Hr!==null;){m=Hr;var y=m.sibling,b=m.return;if(sS(m),m===u){Hr=null;break e}if(y!==null){y.return=b,Hr=y;break e}Hr=b}}}var W3={getCacheForType:function(a){var o=nn(_r),u=o.data.get(a);return u===void 0&&(u=a(),o.data.set(a,u)),u},cacheSignal:function(){return nn(_r).controller.signal}},Y3=typeof WeakMap=="function"?WeakMap:Map,Ot=0,zt=null,ft=null,pt=0,Ct=0,Kn=null,js=!1,jl=!1,L0=!1,Si=0,lr=0,_s=0,po=0,z0=0,Wn=0,_l=0,uu=null,kn=null,U0=!1,Kf=0,yS=0,Wf=1/0,Yf=null,Ns=null,Mr=0,Ss=null,Nl=null,Ei=0,$0=0,B0=null,vS=null,du=0,q0=null;function Yn(){return(Ot&2)!==0&&pt!==0?pt&-pt:M.T!==null?W0():tn()}function xS(){if(Wn===0)if((pt&536870912)===0||yt){var a=rs;rs<<=1,(rs&3932160)===0&&(rs=262144),Wn=a}else Wn=536870912;return a=Gn.current,a!==null&&(a.flags|=32),Wn}function Rn(a,o,u){(a===zt&&(Ct===2||Ct===9)||a.cancelPendingCommit!==null)&&(Sl(a,0),Es(a,pt,Wn,!1)),Ke(a,u),((Ot&2)===0||a!==zt)&&(a===zt&&((Ot&2)===0&&(po|=u),lr===4&&Es(a,pt,Wn,!1)),ei(a))}function bS(a,o,u){if((Ot&6)!==0)throw Error(n(327));var m=!u&&(o&127)===0&&(o&a.expiredLanes)===0||di(a,o),y=m?Q3(a,o):F0(a,o,!0),b=m;do{if(y===0){jl&&!m&&Es(a,o,0,!1);break}else{if(u=a.current.alternate,b&&!X3(u)){y=F0(a,o,!1),b=!1;continue}if(y===2){if(b=o,a.errorRecoveryDisabledLanes&b)var E=0;else E=a.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){o=E;e:{var k=a;y=uu;var F=k.current.memoizedState.isDehydrated;if(F&&(Sl(k,E).flags|=256),E=F0(k,E,!1),E!==2){if(L0&&!F){k.errorRecoveryDisabledLanes|=b,po|=b,y=4;break e}b=kn,kn=y,b!==null&&(kn===null?kn=b:kn.push.apply(kn,b))}y=E}if(b=!1,y!==2)continue}}if(y===1){Sl(a,0),Es(a,o,0,!0);break}e:{switch(m=a,b=y,b){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:Es(m,o,Wn,!js);break e;case 2:kn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(y=Kf+300-et(),10<y)){if(Es(m,o,Wn,!js),ns(m,0,!0)!==0)break e;Ei=o,m.timeoutHandle=ZS(wS.bind(null,m,u,kn,Yf,U0,o,Wn,po,_l,js,b,"Throttled",-0,0),y);break e}wS(m,u,kn,Yf,U0,o,Wn,po,_l,js,b,null,-0,0)}}break}while(!0);ei(a)}function wS(a,o,u,m,y,b,E,k,F,ae,he,xe,se,de){if(a.timeoutHandle=-1,xe=o.subtreeFlags,xe&8192||(xe&16785408)===16785408){xe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ta},hS(o,b,xe);var Ue=(b&62914560)===b?Kf-et():(b&4194048)===b?yS-et():0;if(Ue=R6(xe,Ue),Ue!==null){Ei=b,a.cancelPendingCommit=Ue(TS.bind(null,a,o,b,u,m,y,E,k,F,he,xe,null,se,de)),Es(a,b,E,!ae);return}}TS(a,o,b,u,m,y,E,k,F)}function X3(a){for(var o=a;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var m=0;m<u.length;m++){var y=u[m],b=y.getSnapshot;y=y.value;try{if(!Vn(b(),y))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Es(a,o,u,m){o&=~z0,o&=~po,a.suspendedLanes|=o,a.pingedLanes&=~o,m&&(a.warmLanes|=o),m=a.expirationTimes;for(var y=o;0<y;){var b=31-ge(y),E=1<<b;m[b]=-1,y&=~E}u!==0&&Et(a,u,o)}function Xf(){return(Ot&6)===0?(fu(0),!1):!0}function V0(){if(ft!==null){if(Ct===0)var a=ft.return;else a=ft,pi=io=null,i0(a),pl=null,Wc=0,a=ft;for(;a!==null;)QN(a.alternate,a),a=a.return;ft=null}}function Sl(a,o){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,g6(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),Ei=0,V0(),zt=a,ft=u=hi(a.current,null),pt=o,Ct=0,Kn=null,js=!1,jl=di(a,o),L0=!1,_l=Wn=z0=po=_s=lr=0,kn=uu=null,U0=!1,(o&8)!==0&&(o|=o&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=o;0<m;){var y=31-ge(m),b=1<<y;o|=a[y],m&=~b}return Si=o,yf(),u}function jS(a,o){nt=null,M.H=ru,o===ml||o===Sf?(o=z_(),Ct=3):o===Kg?(o=z_(),Ct=4):Ct=o===w0?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Kn=o,ft===null&&(lr=1,Uf(a,la(o,a.current)))}function _S(){var a=Gn.current;return a===null?!0:(pt&4194048)===pt?fa===null:(pt&62914560)===pt||(pt&536870912)!==0?a===fa:!1}function NS(){var a=M.H;return M.H=ru,a===null?ru:a}function SS(){var a=M.A;return M.A=W3,a}function Zf(){lr=4,js||(pt&4194048)!==pt&&Gn.current!==null||(jl=!0),(_s&134217727)===0&&(po&134217727)===0||zt===null||Es(zt,pt,Wn,!1)}function F0(a,o,u){var m=Ot;Ot|=2;var y=NS(),b=SS();(zt!==a||pt!==o)&&(Yf=null,Sl(a,o)),o=!1;var E=lr;e:do try{if(Ct!==0&&ft!==null){var k=ft,F=Kn;switch(Ct){case 8:V0(),E=6;break e;case 3:case 2:case 9:case 6:Gn.current===null&&(o=!0);var ae=Ct;if(Ct=0,Kn=null,El(a,k,F,ae),u&&jl){E=0;break e}break;default:ae=Ct,Ct=0,Kn=null,El(a,k,F,ae)}}Z3(),E=lr;break}catch(he){jS(a,he)}while(!0);return o&&a.shellSuspendCounter++,pi=io=null,Ot=m,M.H=y,M.A=b,ft===null&&(zt=null,pt=0,yf()),E}function Z3(){for(;ft!==null;)ES(ft)}function Q3(a,o){var u=Ot;Ot|=2;var m=NS(),y=SS();zt!==a||pt!==o?(Yf=null,Wf=et()+500,Sl(a,o)):jl=di(a,o);e:do try{if(Ct!==0&&ft!==null){o=ft;var b=Kn;t:switch(Ct){case 1:Ct=0,Kn=null,El(a,o,b,1);break;case 2:case 9:if(I_(b)){Ct=0,Kn=null,AS(o);break}o=function(){Ct!==2&&Ct!==9||zt!==a||(Ct=7),ei(a)},b.then(o,o);break e;case 3:Ct=7;break e;case 4:Ct=5;break e;case 7:I_(b)?(Ct=0,Kn=null,AS(o)):(Ct=0,Kn=null,El(a,o,b,7));break;case 5:var E=null;switch(ft.tag){case 26:E=ft.memoizedState;case 5:case 27:var k=ft;if(E?fE(E):k.stateNode.complete){Ct=0,Kn=null;var F=k.sibling;if(F!==null)ft=F;else{var ae=k.return;ae!==null?(ft=ae,Qf(ae)):ft=null}break t}}Ct=0,Kn=null,El(a,o,b,5);break;case 6:Ct=0,Kn=null,El(a,o,b,6);break;case 8:V0(),lr=6;break e;default:throw Error(n(462))}}J3();break}catch(he){jS(a,he)}while(!0);return pi=io=null,M.H=m,M.A=y,Ot=u,ft!==null?0:(zt=null,pt=0,yf(),lr)}function J3(){for(;ft!==null&&!Wa();)ES(ft)}function ES(a){var o=XN(a.alternate,a,Si);a.memoizedProps=a.pendingProps,o===null?Qf(a):ft=o}function AS(a){var o=a,u=o.alternate;switch(o.tag){case 15:case 0:o=FN(u,o,o.pendingProps,o.type,void 0,pt);break;case 11:o=FN(u,o,o.pendingProps,o.type.render,o.ref,pt);break;case 5:i0(o);default:QN(u,o),o=ft=S_(o,Si),o=XN(u,o,Si)}a.memoizedProps=a.pendingProps,o===null?Qf(a):ft=o}function El(a,o,u,m){pi=io=null,i0(o),pl=null,Wc=0;var y=o.return;try{if(B3(a,y,o,u,pt)){lr=1,Uf(a,la(u,a.current)),ft=null;return}}catch(b){if(y!==null)throw ft=y,b;lr=1,Uf(a,la(u,a.current)),ft=null;return}o.flags&32768?(yt||m===1?a=!0:jl||(pt&536870912)!==0?a=!1:(js=a=!0,(m===2||m===9||m===3||m===6)&&(m=Gn.current,m!==null&&m.tag===13&&(m.flags|=16384))),OS(o,a)):Qf(o)}function Qf(a){var o=a;do{if((o.flags&32768)!==0){OS(o,js);return}a=o.return;var u=F3(o.alternate,o,Si);if(u!==null){ft=u;return}if(o=o.sibling,o!==null){ft=o;return}ft=o=a}while(o!==null);lr===0&&(lr=5)}function OS(a,o){do{var u=G3(a.alternate,a);if(u!==null){u.flags&=32767,ft=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(a=a.sibling,a!==null)){ft=a;return}ft=a=u}while(a!==null);lr=6,ft=null}function TS(a,o,u,m,y,b,E,k,F){a.cancelPendingCommit=null;do Jf();while(Mr!==0);if((Ot&6)!==0)throw Error(n(327));if(o!==null){if(o===a.current)throw Error(n(177));if(b=o.lanes|o.childLanes,b|=Dg,vt(a,u,b,E,k,F),a===zt&&(ft=zt=null,pt=0),Nl=o,Ss=a,Ei=u,$0=b,B0=y,vS=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,n6(Bn,function(){return RS(),null})):(a.callbackNode=null,a.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=M.T,M.T=null,y=H.p,H.p=2,E=Ot,Ot|=4;try{H3(a,o,u)}finally{Ot=E,H.p=y,M.T=m}}Mr=1,CS(),PS(),DS()}}function CS(){if(Mr===1){Mr=0;var a=Ss,o=Nl,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=M.T,M.T=null;var m=H.p;H.p=2;var y=Ot;Ot|=4;try{uS(o,a);var b=ry,E=g_(a.containerInfo),k=b.focusedElem,F=b.selectionRange;if(E!==k&&k&&k.ownerDocument&&p_(k.ownerDocument.documentElement,k)){if(F!==null&&Ag(k)){var ae=F.start,he=F.end;if(he===void 0&&(he=ae),"selectionStart"in k)k.selectionStart=ae,k.selectionEnd=Math.min(he,k.value.length);else{var xe=k.ownerDocument||document,se=xe&&xe.defaultView||window;if(se.getSelection){var de=se.getSelection(),Ue=k.textContent.length,Ye=Math.min(F.start,Ue),It=F.end===void 0?Ye:Math.min(F.end,Ue);!de.extend&&Ye>It&&(E=It,It=Ye,Ye=E);var Z=m_(k,Ye),W=m_(k,It);if(Z&&W&&(de.rangeCount!==1||de.anchorNode!==Z.node||de.anchorOffset!==Z.offset||de.focusNode!==W.node||de.focusOffset!==W.offset)){var ne=xe.createRange();ne.setStart(Z.node,Z.offset),de.removeAllRanges(),Ye>It?(de.addRange(ne),de.extend(W.node,W.offset)):(ne.setEnd(W.node,W.offset),de.addRange(ne))}}}}for(xe=[],de=k;de=de.parentNode;)de.nodeType===1&&xe.push({element:de,left:de.scrollLeft,top:de.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<xe.length;k++){var ve=xe[k];ve.element.scrollLeft=ve.left,ve.element.scrollTop=ve.top}}dh=!!ty,ry=ty=null}finally{Ot=y,H.p=m,M.T=u}}a.current=o,Mr=2}}function PS(){if(Mr===2){Mr=0;var a=Ss,o=Nl,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=M.T,M.T=null;var m=H.p;H.p=2;var y=Ot;Ot|=4;try{iS(a,o.alternate,o)}finally{Ot=y,H.p=m,M.T=u}}Mr=3}}function DS(){if(Mr===4||Mr===3){Mr=0,Ae();var a=Ss,o=Nl,u=Ei,m=vS;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Mr=5:(Mr=0,Nl=Ss=null,kS(a,a.pendingLanes));var y=a.pendingLanes;if(y===0&&(Ns=null),qt(u),o=o.stateNode,Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(Dr,o,void 0,(o.current.flags&128)===128)}catch{}if(m!==null){o=M.T,y=H.p,H.p=2,M.T=null;try{for(var b=a.onRecoverableError,E=0;E<m.length;E++){var k=m[E];b(k.value,{componentStack:k.stack})}}finally{M.T=o,H.p=y}}(Ei&3)!==0&&Jf(),ei(a),y=a.pendingLanes,(u&261930)!==0&&(y&42)!==0?a===q0?du++:(du=0,q0=a):du=0,fu(0)}}function kS(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,Hc(o)))}function Jf(){return CS(),PS(),DS(),RS()}function RS(){if(Mr!==5)return!1;var a=Ss,o=$0;$0=0;var u=qt(Ei),m=M.T,y=H.p;try{H.p=32>u?32:u,M.T=null,u=B0,B0=null;var b=Ss,E=Ei;if(Mr=0,Nl=Ss=null,Ei=0,(Ot&6)!==0)throw Error(n(331));var k=Ot;if(Ot|=4,pS(b.current),fS(b,b.current,E,u),Ot=k,fu(0,!1),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(Dr,b)}catch{}return!0}finally{H.p=y,M.T=m,kS(a,o)}}function MS(a,o,u){o=la(u,o),o=b0(a.stateNode,o,2),a=vs(a,o,2),a!==null&&(Ke(a,2),ei(a))}function Pt(a,o,u){if(a.tag===3)MS(a,a,u);else for(;o!==null;){if(o.tag===3){MS(o,a,u);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Ns===null||!Ns.has(m))){a=la(u,a),u=IN(2),m=vs(o,u,2),m!==null&&(LN(u,m,o,a),Ke(m,2),ei(m));break}}o=o.return}}function G0(a,o,u){var m=a.pingCache;if(m===null){m=a.pingCache=new Y3;var y=new Set;m.set(o,y)}else y=m.get(o),y===void 0&&(y=new Set,m.set(o,y));y.has(u)||(L0=!0,y.add(u),a=e6.bind(null,a,o,u),o.then(a,a))}function e6(a,o,u){var m=a.pingCache;m!==null&&m.delete(o),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,zt===a&&(pt&u)===u&&(lr===4||lr===3&&(pt&62914560)===pt&&300>et()-Kf?(Ot&2)===0&&Sl(a,0):z0|=u,_l===pt&&(_l=0)),ei(a)}function IS(a,o){o===0&&(o=mr()),a=ro(a,o),a!==null&&(Ke(a,o),ei(a))}function t6(a){var o=a.memoizedState,u=0;o!==null&&(u=o.retryLane),IS(a,u)}function r6(a,o){var u=0;switch(a.tag){case 31:case 13:var m=a.stateNode,y=a.memoizedState;y!==null&&(u=y.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(n(314))}m!==null&&m.delete(o),IS(a,u)}function n6(a,o){return An(a,o)}var eh=null,Al=null,H0=!1,th=!1,K0=!1,As=0;function ei(a){a!==Al&&a.next===null&&(Al===null?eh=Al=a:Al=Al.next=a),th=!0,H0||(H0=!0,i6())}function fu(a,o){if(!K0&&th){K0=!0;do for(var u=!1,m=eh;m!==null;){if(a!==0){var y=m.pendingLanes;if(y===0)var b=0;else{var E=m.suspendedLanes,k=m.pingedLanes;b=(1<<31-ge(42|a)+1)-1,b&=y&~(E&~k),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,$S(m,b))}else b=pt,b=ns(m,m===zt?b:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(b&3)===0||di(m,b)||(u=!0,$S(m,b));m=m.next}while(u);K0=!1}}function a6(){LS()}function LS(){th=H0=!1;var a=0;As!==0&&p6()&&(a=As);for(var o=et(),u=null,m=eh;m!==null;){var y=m.next,b=zS(m,o);b===0?(m.next=null,u===null?eh=y:u.next=y,y===null&&(Al=u)):(u=m,(a!==0||(b&3)!==0)&&(th=!0)),m=y}Mr!==0&&Mr!==5||fu(a),As!==0&&(As=0)}function zS(a,o){for(var u=a.suspendedLanes,m=a.pingedLanes,y=a.expirationTimes,b=a.pendingLanes&-62914561;0<b;){var E=31-ge(b),k=1<<E,F=y[E];F===-1?((k&u)===0||(k&m)!==0)&&(y[E]=Cc(k,o)):F<=o&&(a.expiredLanes|=k),b&=~k}if(o=zt,u=pt,u=ns(a,a===o?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m=a.callbackNode,u===0||a===o&&(Ct===2||Ct===9)||a.cancelPendingCommit!==null)return m!==null&&m!==null&&$t(m),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||di(a,u)){if(o=u&-u,o===a.callbackPriority)return o;switch(m!==null&&$t(m),qt(u)){case 2:case 8:u=Pr;break;case 32:u=Bn;break;case 268435456:u=qn;break;default:u=Bn}return m=US.bind(null,a),u=An(u,m),a.callbackPriority=o,a.callbackNode=u,o}return m!==null&&m!==null&&$t(m),a.callbackPriority=2,a.callbackNode=null,2}function US(a,o){if(Mr!==0&&Mr!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(Jf()&&a.callbackNode!==u)return null;var m=pt;return m=ns(a,a===zt?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m===0?null:(bS(a,m,o),zS(a,et()),a.callbackNode!=null&&a.callbackNode===u?US.bind(null,a):null)}function $S(a,o){if(Jf())return null;bS(a,o,!0)}function i6(){y6(function(){(Ot&6)!==0?An(rt,a6):LS()})}function W0(){if(As===0){var a=fl;a===0&&(a=Ya,Ya<<=1,(Ya&261888)===0&&(Ya=256)),As=a}return As}function BS(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:rl(""+a)}function qS(a,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,a.id&&u.setAttribute("form",a.id),o.parentNode.insertBefore(u,o),a=new FormData(a),u.parentNode.removeChild(u),a}function s6(a,o,u,m,y){if(o==="submit"&&u&&u.stateNode===y){var b=BS((y[hn]||null).action),E=m.submitter;E&&(o=(o=E[hn]||null)?BS(o.formAction):E.getAttribute("formAction"),o!==null&&(b=o,E=null));var k=new pe("action","action",null,m,y);a.push({event:k,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(As!==0){var F=E?qS(y,E):new FormData(y);m0(u,{pending:!0,data:F,method:y.method,action:b},null,F)}}else typeof b=="function"&&(k.preventDefault(),F=E?qS(y,E):new FormData(y),m0(u,{pending:!0,data:F,method:y.method,action:b},b,F))},currentTarget:y}]})}}for(var Y0=0;Y0<Pg.length;Y0++){var X0=Pg[Y0],o6=X0.toLowerCase(),l6=X0[0].toUpperCase()+X0.slice(1);Ca(o6,"on"+l6)}Ca(x_,"onAnimationEnd"),Ca(b_,"onAnimationIteration"),Ca(w_,"onAnimationStart"),Ca("dblclick","onDoubleClick"),Ca("focusin","onFocus"),Ca("focusout","onBlur"),Ca(N3,"onTransitionRun"),Ca(S3,"onTransitionStart"),Ca(E3,"onTransitionCancel"),Ca(j_,"onTransitionEnd"),cs("onMouseEnter",["mouseout","mouseover"]),cs("onMouseLeave",["mouseout","mouseover"]),cs("onPointerEnter",["pointerout","pointerover"]),cs("onPointerLeave",["pointerout","pointerover"]),fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),c6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hu));function VS(a,o){o=(o&4)!==0;for(var u=0;u<a.length;u++){var m=a[u],y=m.event;m=m.listeners;e:{var b=void 0;if(o)for(var E=m.length-1;0<=E;E--){var k=m[E],F=k.instance,ae=k.currentTarget;if(k=k.listener,F!==b&&y.isPropagationStopped())break e;b=k,y.currentTarget=ae;try{b(y)}catch(he){gf(he)}y.currentTarget=null,b=F}else for(E=0;E<m.length;E++){if(k=m[E],F=k.instance,ae=k.currentTarget,k=k.listener,F!==b&&y.isPropagationStopped())break e;b=k,y.currentTarget=ae;try{b(y)}catch(he){gf(he)}y.currentTarget=null,b=F}}}}function ht(a,o){var u=o[Pc];u===void 0&&(u=o[Pc]=new Set);var m=a+"__bubble";u.has(m)||(FS(o,a,2,!1),u.add(m))}function Z0(a,o,u){var m=0;o&&(m|=4),FS(u,a,m,o)}var rh="_reactListening"+Math.random().toString(36).slice(2);function Q0(a){if(!a[rh]){a[rh]=!0,tf.forEach(function(u){u!=="selectionchange"&&(c6.has(u)||Z0(u,!1,a),Z0(u,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[rh]||(o[rh]=!0,Z0("selectionchange",!1,o))}}function FS(a,o,u,m){switch(xE(o)){case 2:var y=L6;break;case 8:y=z6;break;default:y=hy}u=y.bind(null,o,u,a),y=void 0,!Ce||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),m?y!==void 0?a.addEventListener(o,u,{capture:!0,passive:y}):a.addEventListener(o,u,!0):y!==void 0?a.addEventListener(o,u,{passive:y}):a.addEventListener(o,u,!1)}function J0(a,o,u,m,y){var b=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var E=m.tag;if(E===3||E===4){var k=m.stateNode.containerInfo;if(k===y)break;if(E===4)for(E=m.return;E!==null;){var F=E.tag;if((F===3||F===4)&&E.stateNode.containerInfo===y)return;E=E.return}for(;k!==null;){if(E=ss(k),E===null)return;if(F=E.tag,F===5||F===6||F===26||F===27){m=b=E;continue e}k=k.parentNode}}m=m.return}ye(function(){var ae=b,he=zc(u),xe=[];e:{var se=__.get(a);if(se!==void 0){var de=pe,Ue=a;switch(a){case"keypress":if(st(u)===0)break e;case"keydown":case"keyup":de=r3;break;case"focusin":Ue="focus",de=jg;break;case"focusout":Ue="blur",de=jg;break;case"beforeblur":case"afterblur":de=jg;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=Qj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=F5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=i3;break;case x_:case b_:case w_:de=K5;break;case j_:de=o3;break;case"scroll":case"scrollend":de=pr;break;case"wheel":de=c3;break;case"copy":case"cut":case"paste":de=Y5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=e_;break;case"toggle":case"beforetoggle":de=d3}var Ye=(o&4)!==0,It=!Ye&&(a==="scroll"||a==="scrollend"),Z=Ye?se!==null?se+"Capture":null:se;Ye=[];for(var W=ae,ne;W!==null;){var ve=W;if(ne=ve.stateNode,ve=ve.tag,ve!==5&&ve!==26&&ve!==27||ne===null||Z===null||(ve=we(W,Z),ve!=null&&Ye.push(mu(W,ve,ne))),It)break;W=W.return}0<Ye.length&&(se=new de(se,Ue,null,u,he),xe.push({event:se,listeners:Ye}))}}if((o&7)===0){e:{if(se=a==="mouseover"||a==="pointerover",de=a==="mouseout"||a==="pointerout",se&&u!==Lc&&(Ue=u.relatedTarget||u.fromElement)&&(ss(Ue)||Ue[is]))break e;if((de||se)&&(se=he.window===he?he:(se=he.ownerDocument)?se.defaultView||se.parentWindow:window,de?(Ue=u.relatedTarget||u.toElement,de=ae,Ue=Ue?ss(Ue):null,Ue!==null&&(It=s(Ue),Ye=Ue.tag,Ue!==It||Ye!==5&&Ye!==27&&Ye!==6)&&(Ue=null)):(de=null,Ue=ae),de!==Ue)){if(Ye=Qj,ve="onMouseLeave",Z="onMouseEnter",W="mouse",(a==="pointerout"||a==="pointerover")&&(Ye=e_,ve="onPointerLeave",Z="onPointerEnter",W="pointer"),It=de==null?se:Js(de),ne=Ue==null?se:Js(Ue),se=new Ye(ve,W+"leave",de,u,he),se.target=It,se.relatedTarget=ne,ve=null,ss(he)===ae&&(Ye=new Ye(Z,W+"enter",Ue,u,he),Ye.target=ne,Ye.relatedTarget=It,ve=Ye),It=ve,de&&Ue)t:{for(Ye=u6,Z=de,W=Ue,ne=0,ve=Z;ve;ve=Ye(ve))ne++;ve=0;for(var We=W;We;We=Ye(We))ve++;for(;0<ne-ve;)Z=Ye(Z),ne--;for(;0<ve-ne;)W=Ye(W),ve--;for(;ne--;){if(Z===W||W!==null&&Z===W.alternate){Ye=Z;break t}Z=Ye(Z),W=Ye(W)}Ye=null}else Ye=null;de!==null&&GS(xe,se,de,Ye,!1),Ue!==null&&It!==null&&GS(xe,It,Ue,Ye,!0)}}e:{if(se=ae?Js(ae):window,de=se.nodeName&&se.nodeName.toLowerCase(),de==="select"||de==="input"&&se.type==="file")var jt=l_;else if(s_(se))if(c_)jt=w3;else{jt=x3;var Be=v3}else de=se.nodeName,!de||de.toLowerCase()!=="input"||se.type!=="checkbox"&&se.type!=="radio"?ae&&Ic(ae.elementType)&&(jt=l_):jt=b3;if(jt&&(jt=jt(a,ae))){o_(xe,jt,u,he);break e}Be&&Be(a,se,ae),a==="focusout"&&ae&&se.type==="number"&&ae.memoizedProps.value!=null&&Mc(se,"number",se.value)}switch(Be=ae?Js(ae):window,a){case"focusin":(s_(Be)||Be.contentEditable==="true")&&(al=Be,Og=ae,Vc=null);break;case"focusout":Vc=Og=al=null;break;case"mousedown":Tg=!0;break;case"contextmenu":case"mouseup":case"dragend":Tg=!1,y_(xe,u,he);break;case"selectionchange":if(_3)break;case"keydown":case"keyup":y_(xe,u,he)}var at;if(Ng)e:{switch(a){case"compositionstart":var gt="onCompositionStart";break e;case"compositionend":gt="onCompositionEnd";break e;case"compositionupdate":gt="onCompositionUpdate";break e}gt=void 0}else nl?a_(a,u)&&(gt="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(gt="onCompositionStart");gt&&(t_&&u.locale!=="ko"&&(nl||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&nl&&(at=Vt()):(fe=he,Pe="value"in fe?fe.value:fe.textContent,nl=!0)),Be=nh(ae,gt),0<Be.length&&(gt=new Jj(gt,a,null,u,he),xe.push({event:gt,listeners:Be}),at?gt.data=at:(at=i_(u),at!==null&&(gt.data=at)))),(at=h3?m3(a,u):p3(a,u))&&(gt=nh(ae,"onBeforeInput"),0<gt.length&&(Be=new Jj("onBeforeInput","beforeinput",null,u,he),xe.push({event:Be,listeners:gt}),Be.data=at)),s6(xe,a,ae,u,he)}VS(xe,o)})}function mu(a,o,u){return{instance:a,listener:o,currentTarget:u}}function nh(a,o){for(var u=o+"Capture",m=[];a!==null;){var y=a,b=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||b===null||(y=we(a,u),y!=null&&m.unshift(mu(a,y,b)),y=we(a,o),y!=null&&m.push(mu(a,y,b))),a.tag===3)return m;a=a.return}return[]}function u6(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function GS(a,o,u,m,y){for(var b=o._reactName,E=[];u!==null&&u!==m;){var k=u,F=k.alternate,ae=k.stateNode;if(k=k.tag,F!==null&&F===m)break;k!==5&&k!==26&&k!==27||ae===null||(F=ae,y?(ae=we(u,b),ae!=null&&E.unshift(mu(u,ae,F))):y||(ae=we(u,b),ae!=null&&E.push(mu(u,ae,F)))),u=u.return}E.length!==0&&a.push({event:o,listeners:E})}var d6=/\r\n?/g,f6=/\u0000|\uFFFD/g;function HS(a){return(typeof a=="string"?a:""+a).replace(d6,`
`).replace(f6,"")}function KS(a,o){return o=HS(o),HS(a)===o}function Mt(a,o,u,m,y,b){switch(u){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||ds(a,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&ds(a,""+m);break;case"className":el(a,"class",m);break;case"tabIndex":el(a,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":el(a,u,m);break;case"style":hf(a,m,b);break;case"data":if(o!=="object"){el(a,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||u!=="href")){a.removeAttribute(u);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(u);break}m=rl(""+m),a.setAttribute(u,m);break;case"action":case"formAction":if(typeof m=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(o!=="input"&&Mt(a,o,"name",y.name,y,null),Mt(a,o,"formEncType",y.formEncType,y,null),Mt(a,o,"formMethod",y.formMethod,y,null),Mt(a,o,"formTarget",y.formTarget,y,null)):(Mt(a,o,"encType",y.encType,y,null),Mt(a,o,"method",y.method,y,null),Mt(a,o,"target",y.target,y,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(u);break}m=rl(""+m),a.setAttribute(u,m);break;case"onClick":m!=null&&(a.onclick=Ta);break;case"onScroll":m!=null&&ht("scroll",a);break;case"onScrollEnd":m!=null&&ht("scrollend",a);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(u=m.__html,u!=null){if(y.children!=null)throw Error(n(60));a.innerHTML=u}}break;case"multiple":a.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":a.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){a.removeAttribute("xlink:href");break}u=rl(""+m),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(u,""+m):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":m===!0?a.setAttribute(u,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(u,m):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?a.setAttribute(u,m):a.removeAttribute(u);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?a.removeAttribute(u):a.setAttribute(u,m);break;case"popover":ht("beforetoggle",a),ht("toggle",a),Jo(a,"popover",m);break;case"xlinkActuate":Oa(a,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Oa(a,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Oa(a,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Oa(a,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Oa(a,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Oa(a,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Oa(a,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Oa(a,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Oa(a,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Jo(a,"is",m);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=bg.get(u)||u,Jo(a,u,m))}}function ey(a,o,u,m,y,b){switch(u){case"style":hf(a,m,b);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(u=m.__html,u!=null){if(y.children!=null)throw Error(n(60));a.innerHTML=u}}break;case"children":typeof m=="string"?ds(a,m):(typeof m=="number"||typeof m=="bigint")&&ds(a,""+m);break;case"onScroll":m!=null&&ht("scroll",a);break;case"onScrollEnd":m!=null&&ht("scrollend",a);break;case"onClick":m!=null&&(a.onclick=Ta);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rf.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),o=u.slice(2,y?u.length-7:void 0),b=a[hn]||null,b=b!=null?b[u]:null,typeof b=="function"&&a.removeEventListener(o,b,y),typeof m=="function")){typeof b!="function"&&b!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(o,m,y);break e}u in a?a[u]=m:m===!0?a.setAttribute(u,""):Jo(a,u,m)}}}function sn(a,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ht("error",a),ht("load",a);var m=!1,y=!1,b;for(b in u)if(u.hasOwnProperty(b)){var E=u[b];if(E!=null)switch(b){case"src":m=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:Mt(a,o,b,E,u,null)}}y&&Mt(a,o,"srcSet",u.srcSet,u,null),m&&Mt(a,o,"src",u.src,u,null);return;case"input":ht("invalid",a);var k=b=E=y=null,F=null,ae=null;for(m in u)if(u.hasOwnProperty(m)){var he=u[m];if(he!=null)switch(m){case"name":y=he;break;case"type":E=he;break;case"checked":F=he;break;case"defaultChecked":ae=he;break;case"value":b=he;break;case"defaultValue":k=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(n(137,o));break;default:Mt(a,o,m,he,u,null)}}cf(a,b,k,F,ae,E,y,!1);return;case"select":ht("invalid",a),m=E=b=null;for(y in u)if(u.hasOwnProperty(y)&&(k=u[y],k!=null))switch(y){case"value":b=k;break;case"defaultValue":E=k;break;case"multiple":m=k;default:Mt(a,o,y,k,u,null)}o=b,u=E,a.multiple=!!m,o!=null?us(a,!!m,o,!1):u!=null&&us(a,!!m,u,!0);return;case"textarea":ht("invalid",a),b=y=m=null;for(E in u)if(u.hasOwnProperty(E)&&(k=u[E],k!=null))switch(E){case"value":m=k;break;case"defaultValue":y=k;break;case"children":b=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(n(91));break;default:Mt(a,o,E,k,u,null)}df(a,m,y,b);return;case"option":for(F in u)if(u.hasOwnProperty(F)&&(m=u[F],m!=null))switch(F){case"selected":a.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Mt(a,o,F,m,u,null)}return;case"dialog":ht("beforetoggle",a),ht("toggle",a),ht("cancel",a),ht("close",a);break;case"iframe":case"object":ht("load",a);break;case"video":case"audio":for(m=0;m<hu.length;m++)ht(hu[m],a);break;case"image":ht("error",a),ht("load",a);break;case"details":ht("toggle",a);break;case"embed":case"source":case"link":ht("error",a),ht("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ae in u)if(u.hasOwnProperty(ae)&&(m=u[ae],m!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:Mt(a,o,ae,m,u,null)}return;default:if(Ic(o)){for(he in u)u.hasOwnProperty(he)&&(m=u[he],m!==void 0&&ey(a,o,he,m,u,void 0));return}}for(k in u)u.hasOwnProperty(k)&&(m=u[k],m!=null&&Mt(a,o,k,m,u,null))}function h6(a,o,u,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,b=null,E=null,k=null,F=null,ae=null,he=null;for(de in u){var xe=u[de];if(u.hasOwnProperty(de)&&xe!=null)switch(de){case"checked":break;case"value":break;case"defaultValue":F=xe;default:m.hasOwnProperty(de)||Mt(a,o,de,null,m,xe)}}for(var se in m){var de=m[se];if(xe=u[se],m.hasOwnProperty(se)&&(de!=null||xe!=null))switch(se){case"type":b=de;break;case"name":y=de;break;case"checked":ae=de;break;case"defaultChecked":he=de;break;case"value":E=de;break;case"defaultValue":k=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(n(137,o));break;default:de!==xe&&Mt(a,o,se,de,m,xe)}}Rc(a,E,k,F,ae,he,b,y);return;case"select":de=E=k=se=null;for(b in u)if(F=u[b],u.hasOwnProperty(b)&&F!=null)switch(b){case"value":break;case"multiple":de=F;default:m.hasOwnProperty(b)||Mt(a,o,b,null,m,F)}for(y in m)if(b=m[y],F=u[y],m.hasOwnProperty(y)&&(b!=null||F!=null))switch(y){case"value":se=b;break;case"defaultValue":k=b;break;case"multiple":E=b;default:b!==F&&Mt(a,o,y,b,m,F)}o=k,u=E,m=de,se!=null?us(a,!!u,se,!1):!!m!=!!u&&(o!=null?us(a,!!u,o,!0):us(a,!!u,u?[]:"",!1));return;case"textarea":de=se=null;for(k in u)if(y=u[k],u.hasOwnProperty(k)&&y!=null&&!m.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:Mt(a,o,k,null,m,y)}for(E in m)if(y=m[E],b=u[E],m.hasOwnProperty(E)&&(y!=null||b!=null))switch(E){case"value":se=y;break;case"defaultValue":de=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(n(91));break;default:y!==b&&Mt(a,o,E,y,m,b)}uf(a,se,de);return;case"option":for(var Ue in u)if(se=u[Ue],u.hasOwnProperty(Ue)&&se!=null&&!m.hasOwnProperty(Ue))switch(Ue){case"selected":a.selected=!1;break;default:Mt(a,o,Ue,null,m,se)}for(F in m)if(se=m[F],de=u[F],m.hasOwnProperty(F)&&se!==de&&(se!=null||de!=null))switch(F){case"selected":a.selected=se&&typeof se!="function"&&typeof se!="symbol";break;default:Mt(a,o,F,se,m,de)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ye in u)se=u[Ye],u.hasOwnProperty(Ye)&&se!=null&&!m.hasOwnProperty(Ye)&&Mt(a,o,Ye,null,m,se);for(ae in m)if(se=m[ae],de=u[ae],m.hasOwnProperty(ae)&&se!==de&&(se!=null||de!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(n(137,o));break;default:Mt(a,o,ae,se,m,de)}return;default:if(Ic(o)){for(var It in u)se=u[It],u.hasOwnProperty(It)&&se!==void 0&&!m.hasOwnProperty(It)&&ey(a,o,It,void 0,m,se);for(he in m)se=m[he],de=u[he],!m.hasOwnProperty(he)||se===de||se===void 0&&de===void 0||ey(a,o,he,se,m,de);return}}for(var Z in u)se=u[Z],u.hasOwnProperty(Z)&&se!=null&&!m.hasOwnProperty(Z)&&Mt(a,o,Z,null,m,se);for(xe in m)se=m[xe],de=u[xe],!m.hasOwnProperty(xe)||se===de||se==null&&de==null||Mt(a,o,xe,se,m,de)}function WS(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function m6(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,u=performance.getEntriesByType("resource"),m=0;m<u.length;m++){var y=u[m],b=y.transferSize,E=y.initiatorType,k=y.duration;if(b&&k&&WS(E)){for(E=0,k=y.responseEnd,m+=1;m<u.length;m++){var F=u[m],ae=F.startTime;if(ae>k)break;var he=F.transferSize,xe=F.initiatorType;he&&WS(xe)&&(F=F.responseEnd,E+=he*(F<k?1:(k-ae)/(F-ae)))}if(--m,o+=8*(b+E)/(y.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var ty=null,ry=null;function ah(a){return a.nodeType===9?a:a.ownerDocument}function YS(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function XS(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function ny(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var ay=null;function p6(){var a=window.event;return a&&a.type==="popstate"?a===ay?!1:(ay=a,!0):(ay=null,!1)}var ZS=typeof setTimeout=="function"?setTimeout:void 0,g6=typeof clearTimeout=="function"?clearTimeout:void 0,QS=typeof Promise=="function"?Promise:void 0,y6=typeof queueMicrotask=="function"?queueMicrotask:typeof QS<"u"?function(a){return QS.resolve(null).then(a).catch(v6)}:ZS;function v6(a){setTimeout(function(){throw a})}function Os(a){return a==="head"}function JS(a,o){var u=o,m=0;do{var y=u.nextSibling;if(a.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"||u==="/&"){if(m===0){a.removeChild(y),Pl(o);return}m--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")m++;else if(u==="html")pu(a.ownerDocument.documentElement);else if(u==="head"){u=a.ownerDocument.head,pu(u);for(var b=u.firstChild;b;){var E=b.nextSibling,k=b.nodeName;b[Qs]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&b.rel.toLowerCase()==="stylesheet"||u.removeChild(b),b=E}}else u==="body"&&pu(a.ownerDocument.body);u=y}while(u);Pl(o)}function eE(a,o){var u=a;a=0;do{var m=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(a===0)break;a--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||a++;u=m}while(u)}function iy(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":iy(u),Dc(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function x6(a,o,u,m){for(;a.nodeType===1;){var y=u;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(m){if(!a[Qs])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(b=a.getAttribute("rel"),b==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(b!==y.rel||a.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(b=a.getAttribute("src"),(b!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&b&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var b=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===b)return a}else return a;if(a=ha(a.nextSibling),a===null)break}return null}function b6(a,o,u){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=ha(a.nextSibling),a===null))return null;return a}function tE(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=ha(a.nextSibling),a===null))return null;return a}function sy(a){return a.data==="$?"||a.data==="$~"}function oy(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function w6(a,o){var u=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||u.readyState!=="loading")o();else{var m=function(){o(),u.removeEventListener("DOMContentLoaded",m)};u.addEventListener("DOMContentLoaded",m),a._reactRetry=m}}function ha(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var ly=null;function rE(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"||u==="/&"){if(o===0)return ha(a.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}a=a.nextSibling}return null}function nE(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return a;o--}else u!=="/$"&&u!=="/&"||o++}a=a.previousSibling}return null}function aE(a,o,u){switch(o=ah(u),a){case"html":if(a=o.documentElement,!a)throw Error(n(452));return a;case"head":if(a=o.head,!a)throw Error(n(453));return a;case"body":if(a=o.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}function pu(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);Dc(a)}var ma=new Map,iE=new Set;function ih(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Ai=H.d;H.d={f:j6,r:_6,D:N6,C:S6,L:E6,m:A6,X:T6,S:O6,M:C6};function j6(){var a=Ai.f(),o=Xf();return a||o}function _6(a){var o=os(a);o!==null&&o.tag===5&&o.type==="form"?jN(o):Ai.r(a)}var Ol=typeof document>"u"?null:document;function sE(a,o,u){var m=Ol;if(m&&typeof o=="string"&&o){var y=Tn(o);y='link[rel="'+a+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),iE.has(y)||(iE.add(y),a={rel:a,crossOrigin:u,href:o},m.querySelector(y)===null&&(o=m.createElement("link"),sn(o,"link",a),wr(o),m.head.appendChild(o)))}}function N6(a){Ai.D(a),sE("dns-prefetch",a,null)}function S6(a,o){Ai.C(a,o),sE("preconnect",a,o)}function E6(a,o,u){Ai.L(a,o,u);var m=Ol;if(m&&a&&o){var y='link[rel="preload"][as="'+Tn(o)+'"]';o==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+Tn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+Tn(u.imageSizes)+'"]')):y+='[href="'+Tn(a)+'"]';var b=y;switch(o){case"style":b=Tl(a);break;case"script":b=Cl(a)}ma.has(b)||(a=g({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:a,as:o},u),ma.set(b,a),m.querySelector(y)!==null||o==="style"&&m.querySelector(gu(b))||o==="script"&&m.querySelector(yu(b))||(o=m.createElement("link"),sn(o,"link",a),wr(o),m.head.appendChild(o)))}}function A6(a,o){Ai.m(a,o);var u=Ol;if(u&&a){var m=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+Tn(m)+'"][href="'+Tn(a)+'"]',b=y;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Cl(a)}if(!ma.has(b)&&(a=g({rel:"modulepreload",href:a},o),ma.set(b,a),u.querySelector(y)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(yu(b)))return}m=u.createElement("link"),sn(m,"link",a),wr(m),u.head.appendChild(m)}}}function O6(a,o,u){Ai.S(a,o,u);var m=Ol;if(m&&a){var y=ls(m).hoistableStyles,b=Tl(a);o=o||"default";var E=y.get(b);if(!E){var k={loading:0,preload:null};if(E=m.querySelector(gu(b)))k.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":o},u),(u=ma.get(b))&&cy(a,u);var F=E=m.createElement("link");wr(F),sn(F,"link",a),F._p=new Promise(function(ae,he){F.onload=ae,F.onerror=he}),F.addEventListener("load",function(){k.loading|=1}),F.addEventListener("error",function(){k.loading|=2}),k.loading|=4,sh(E,o,m)}E={type:"stylesheet",instance:E,count:1,state:k},y.set(b,E)}}}function T6(a,o){Ai.X(a,o);var u=Ol;if(u&&a){var m=ls(u).hoistableScripts,y=Cl(a),b=m.get(y);b||(b=u.querySelector(yu(y)),b||(a=g({src:a,async:!0},o),(o=ma.get(y))&&uy(a,o),b=u.createElement("script"),wr(b),sn(b,"link",a),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},m.set(y,b))}}function C6(a,o){Ai.M(a,o);var u=Ol;if(u&&a){var m=ls(u).hoistableScripts,y=Cl(a),b=m.get(y);b||(b=u.querySelector(yu(y)),b||(a=g({src:a,async:!0,type:"module"},o),(o=ma.get(y))&&uy(a,o),b=u.createElement("script"),wr(b),sn(b,"link",a),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},m.set(y,b))}}function oE(a,o,u,m){var y=(y=Oe.current)?ih(y):null;if(!y)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Tl(u.href),u=ls(y).hoistableStyles,m=u.get(o),m||(m={type:"style",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=Tl(u.href);var b=ls(y).hoistableStyles,E=b.get(a);if(E||(y=y.ownerDocument||y,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(a,E),(b=y.querySelector(gu(a)))&&!b._p&&(E.instance=b,E.state.loading=5),ma.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},ma.set(a,u),b||P6(y,a,u,E.state))),o&&m===null)throw Error(n(528,""));return E}if(o&&m!==null)throw Error(n(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Cl(u),u=ls(y).hoistableScripts,m=u.get(o),m||(m={type:"script",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function Tl(a){return'href="'+Tn(a)+'"'}function gu(a){return'link[rel="stylesheet"]['+a+"]"}function lE(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function P6(a,o,u,m){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=a.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),sn(o,"link",u),wr(o),a.head.appendChild(o))}function Cl(a){return'[src="'+Tn(a)+'"]'}function yu(a){return"script[async]"+a}function cE(a,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var m=a.querySelector('style[data-href~="'+Tn(u.href)+'"]');if(m)return o.instance=m,wr(m),m;var y=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return m=(a.ownerDocument||a).createElement("style"),wr(m),sn(m,"style",y),sh(m,u.precedence,a),o.instance=m;case"stylesheet":y=Tl(u.href);var b=a.querySelector(gu(y));if(b)return o.state.loading|=4,o.instance=b,wr(b),b;m=lE(u),(y=ma.get(y))&&cy(m,y),b=(a.ownerDocument||a).createElement("link"),wr(b);var E=b;return E._p=new Promise(function(k,F){E.onload=k,E.onerror=F}),sn(b,"link",m),o.state.loading|=4,sh(b,u.precedence,a),o.instance=b;case"script":return b=Cl(u.src),(y=a.querySelector(yu(b)))?(o.instance=y,wr(y),y):(m=u,(y=ma.get(b))&&(m=g({},u),uy(m,y)),a=a.ownerDocument||a,y=a.createElement("script"),wr(y),sn(y,"link",m),a.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,sh(m,u.precedence,a));return o.instance}function sh(a,o,u){for(var m=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=m.length?m[m.length-1]:null,b=y,E=0;E<m.length;E++){var k=m[E];if(k.dataset.precedence===o)b=k;else if(b!==y)break}b?b.parentNode.insertBefore(a,b.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(a,o.firstChild))}function cy(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function uy(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var oh=null;function uE(a,o,u){if(oh===null){var m=new Map,y=oh=new Map;y.set(u,m)}else y=oh,m=y.get(u),m||(m=new Map,y.set(u,m));if(m.has(a))return m;for(m.set(a,null),u=u.getElementsByTagName(a),y=0;y<u.length;y++){var b=u[y];if(!(b[Qs]||b[Tt]||a==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var E=b.getAttribute(o)||"";E=a+E;var k=m.get(E);k?k.push(b):m.set(E,[b])}}return m}function dE(a,o,u){a=a.ownerDocument||a,a.head.insertBefore(u,o==="title"?a.querySelector("head > title"):null)}function D6(a,o,u){if(u===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function fE(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function k6(a,o,u,m){if(u.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var y=Tl(m.href),b=o.querySelector(gu(y));if(b){o=b._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=lh.bind(a),o.then(a,a)),u.state.loading|=4,u.instance=b,wr(b);return}b=o.ownerDocument||o,m=lE(m),(y=ma.get(y))&&cy(m,y),b=b.createElement("link"),wr(b);var E=b;E._p=new Promise(function(k,F){E.onload=k,E.onerror=F}),sn(b,"link",m),u.instance=b}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(a.count++,u=lh.bind(a),o.addEventListener("load",u),o.addEventListener("error",u))}}var dy=0;function R6(a,o){return a.stylesheets&&a.count===0&&uh(a,a.stylesheets),0<a.count||0<a.imgCount?function(u){var m=setTimeout(function(){if(a.stylesheets&&uh(a,a.stylesheets),a.unsuspend){var b=a.unsuspend;a.unsuspend=null,b()}},6e4+o);0<a.imgBytes&&dy===0&&(dy=62500*m6());var y=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&uh(a,a.stylesheets),a.unsuspend)){var b=a.unsuspend;a.unsuspend=null,b()}},(a.imgBytes>dy?50:800)+o);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(m),clearTimeout(y)}}:null}function lh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)uh(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var ch=null;function uh(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,ch=new Map,o.forEach(M6,a),ch=null,lh.call(a))}function M6(a,o){if(!(o.state.loading&4)){var u=ch.get(a);if(u)var m=u.get(null);else{u=new Map,ch.set(a,u);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<y.length;b++){var E=y[b];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(u.set(E.dataset.precedence,E),m=E)}m&&u.set(null,m)}y=o.instance,E=y.getAttribute("data-precedence"),b=u.get(E)||m,b===m&&u.set(null,y),u.set(E,y),this.count++,m=lh.bind(this),y.addEventListener("load",m),y.addEventListener("error",m),b?b.parentNode.insertBefore(y,b.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),o.state.loading|=4}}var vu={$$typeof:A,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function I6(a,o,u,m,y,b,E,k,F){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=le(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=le(0),this.hiddenUpdates=le(null),this.identifierPrefix=m,this.onUncaughtError=y,this.onCaughtError=b,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=F,this.incompleteTransitions=new Map}function hE(a,o,u,m,y,b,E,k,F,ae,he,xe){return a=new I6(a,o,u,E,F,ae,he,xe,k),o=1,b===!0&&(o|=24),b=Fn(3,null,null,o),a.current=b,b.stateNode=a,o=Fg(),o.refCount++,a.pooledCache=o,o.refCount++,b.memoizedState={element:m,isDehydrated:u,cache:o},Wg(b),a}function mE(a){return a?(a=ol,a):ol}function pE(a,o,u,m,y,b){y=mE(y),m.context===null?m.context=y:m.pendingContext=y,m=ys(o),m.payload={element:u},b=b===void 0?null:b,b!==null&&(m.callback=b),u=vs(a,m,o),u!==null&&(Rn(u,a,o),Xc(u,a,o))}function gE(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<o?u:o}}function fy(a,o){gE(a,o),(a=a.alternate)&&gE(a,o)}function yE(a){if(a.tag===13||a.tag===31){var o=ro(a,67108864);o!==null&&Rn(o,a,67108864),fy(a,67108864)}}function vE(a){if(a.tag===13||a.tag===31){var o=Yn();o=At(o);var u=ro(a,o);u!==null&&Rn(u,a,o),fy(a,o)}}var dh=!0;function L6(a,o,u,m){var y=M.T;M.T=null;var b=H.p;try{H.p=2,hy(a,o,u,m)}finally{H.p=b,M.T=y}}function z6(a,o,u,m){var y=M.T;M.T=null;var b=H.p;try{H.p=8,hy(a,o,u,m)}finally{H.p=b,M.T=y}}function hy(a,o,u,m){if(dh){var y=my(m);if(y===null)J0(a,o,m,fh,u),bE(a,m);else if($6(y,a,o,u,m))m.stopPropagation();else if(bE(a,m),o&4&&-1<U6.indexOf(a)){for(;y!==null;){var b=os(y);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var E=sa(b.pendingLanes);if(E!==0){var k=b;for(k.pendingLanes|=2,k.entangledLanes|=2;E;){var F=1<<31-ge(E);k.entanglements[1]|=F,E&=~F}ei(b),(Ot&6)===0&&(Wf=et()+500,fu(0))}}break;case 31:case 13:k=ro(b,2),k!==null&&Rn(k,b,2),Xf(),fy(b,2)}if(b=my(m),b===null&&J0(a,o,m,fh,u),b===y)break;y=b}y!==null&&m.stopPropagation()}else J0(a,o,m,null,u)}}function my(a){return a=zc(a),py(a)}var fh=null;function py(a){if(fh=null,a=ss(a),a!==null){var o=s(a);if(o===null)a=null;else{var u=o.tag;if(u===13){if(a=c(o),a!==null)return a;a=null}else if(u===31){if(a=d(o),a!==null)return a;a=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return fh=a,null}function xE(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(De()){case rt:return 2;case Pr:return 8;case Bn:case bn:return 32;case qn:return 268435456;default:return 32}default:return 32}}var gy=!1,Ts=null,Cs=null,Ps=null,xu=new Map,bu=new Map,Ds=[],U6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bE(a,o){switch(a){case"focusin":case"focusout":Ts=null;break;case"dragenter":case"dragleave":Cs=null;break;case"mouseover":case"mouseout":Ps=null;break;case"pointerover":case"pointerout":xu.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":bu.delete(o.pointerId)}}function wu(a,o,u,m,y,b){return a===null||a.nativeEvent!==b?(a={blockedOn:o,domEventName:u,eventSystemFlags:m,nativeEvent:b,targetContainers:[y]},o!==null&&(o=os(o),o!==null&&yE(o)),a):(a.eventSystemFlags|=m,o=a.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),a)}function $6(a,o,u,m,y){switch(o){case"focusin":return Ts=wu(Ts,a,o,u,m,y),!0;case"dragenter":return Cs=wu(Cs,a,o,u,m,y),!0;case"mouseover":return Ps=wu(Ps,a,o,u,m,y),!0;case"pointerover":var b=y.pointerId;return xu.set(b,wu(xu.get(b)||null,a,o,u,m,y)),!0;case"gotpointercapture":return b=y.pointerId,bu.set(b,wu(bu.get(b)||null,a,o,u,m,y)),!0}return!1}function wE(a){var o=ss(a.target);if(o!==null){var u=s(o);if(u!==null){if(o=u.tag,o===13){if(o=c(u),o!==null){a.blockedOn=o,as(a.priority,function(){vE(u)});return}}else if(o===31){if(o=d(u),o!==null){a.blockedOn=o,as(a.priority,function(){vE(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function hh(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var u=my(a.nativeEvent);if(u===null){u=a.nativeEvent;var m=new u.constructor(u.type,u);Lc=m,u.target.dispatchEvent(m),Lc=null}else return o=os(u),o!==null&&yE(o),a.blockedOn=u,!1;o.shift()}return!0}function jE(a,o,u){hh(a)&&u.delete(o)}function B6(){gy=!1,Ts!==null&&hh(Ts)&&(Ts=null),Cs!==null&&hh(Cs)&&(Cs=null),Ps!==null&&hh(Ps)&&(Ps=null),xu.forEach(jE),bu.forEach(jE)}function mh(a,o){a.blockedOn===o&&(a.blockedOn=null,gy||(gy=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,B6)))}var ph=null;function _E(a){ph!==a&&(ph=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){ph===a&&(ph=null);for(var o=0;o<a.length;o+=3){var u=a[o],m=a[o+1],y=a[o+2];if(typeof m!="function"){if(py(m||u)===null)continue;break}var b=os(u);b!==null&&(a.splice(o,3),o-=3,m0(b,{pending:!0,data:y,method:u.method,action:m},m,y))}}))}function Pl(a){function o(F){return mh(F,a)}Ts!==null&&mh(Ts,a),Cs!==null&&mh(Cs,a),Ps!==null&&mh(Ps,a),xu.forEach(o),bu.forEach(o);for(var u=0;u<Ds.length;u++){var m=Ds[u];m.blockedOn===a&&(m.blockedOn=null)}for(;0<Ds.length&&(u=Ds[0],u.blockedOn===null);)wE(u),u.blockedOn===null&&Ds.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(m=0;m<u.length;m+=3){var y=u[m],b=u[m+1],E=y[hn]||null;if(typeof b=="function")E||_E(u);else if(E){var k=null;if(b&&b.hasAttribute("formAction")){if(y=b,E=b[hn]||null)k=E.formAction;else if(py(y)!==null)continue}else k=E.action;typeof k=="function"?u[m+1]=k:(u.splice(m,3),m-=3),_E(u)}}}function NE(){function a(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(E){return y=E})},focusReset:"manual",scroll:"manual"})}function o(){y!==null&&(y(),y=null),m||setTimeout(u,20)}function u(){if(!m&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,y=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){m=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),y!==null&&(y(),y=null)}}}function yy(a){this._internalRoot=a}gh.prototype.render=yy.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(n(409));var u=o.current,m=Yn();pE(u,m,a,o,null,null)},gh.prototype.unmount=yy.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;pE(a.current,2,null,a,null,null),Xf(),o[is]=null}};function gh(a){this._internalRoot=a}gh.prototype.unstable_scheduleHydration=function(a){if(a){var o=tn();a={blockedOn:null,target:a,priority:o};for(var u=0;u<Ds.length&&o!==0&&o<Ds[u].priority;u++);Ds.splice(u,0,a),u===0&&wE(a)}};var SE=t.version;if(SE!=="19.2.0")throw Error(n(527,SE,"19.2.0"));H.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=h(o),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var q6={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yh.isDisabled&&yh.supportsFiber)try{Dr=yh.inject(q6),Zt=yh}catch{}}return _u.createRoot=function(a,o){if(!i(a))throw Error(n(299));var u=!1,m="",y=DN,b=kN,E=RN;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError)),o=hE(a,1,!1,null,null,u,m,null,y,b,E,NE),a[is]=o.current,Q0(a),new yy(o)},_u.hydrateRoot=function(a,o,u){if(!i(a))throw Error(n(299));var m=!1,y="",b=DN,E=kN,k=RN,F=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(E=u.onCaughtError),u.onRecoverableError!==void 0&&(k=u.onRecoverableError),u.formState!==void 0&&(F=u.formState)),o=hE(a,1,!0,o,u??null,m,y,F,b,E,k,NE),o.context=mE(null),u=o.current,m=Yn(),m=At(m),y=ys(m),y.callback=null,vs(u,y,m),u=m,o.current.lanes=u,Ke(o,u),ei(o),a[is]=o.current,Q0(a),new gh(o)},_u.version="19.2.0",_u}var ME;function tL(){if(ME)return wy.exports;ME=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),wy.exports=eL(),wy.exports}var rL=tL();const nL=ci(rL);var Ee=(e=>(e.ADMIN="ADMIN",e.GENERAL_MANAGER="GENERAL_MANAGER",e.MANAGER="MANAGER",e.WORKER="WORKER",e))(Ee||{}),ot=(e=>(e.PENDING="PENDING",e.APPROVED="APPROVED",e.REJECTED="REJECTED",e.IN_TRANSIT="IN_TRANSIT",e.DELIVERED="DELIVERED",e.CONFIRMED="CONFIRMED",e))(ot||{}),Lr=(e=>(e.CENTRAL="CENTRAL",e.BRANCH="BRANCH",e.FIELD="FIELD",e))(Lr||{}),ut=(e=>(e.FULL_DAY="D",e.HALF_DAY="D/2",e.ABSENT="F",e))(ut||{}),er=(e=>(e.CONSUMABLE="CONSUMABLE",e.ASSET="ASSET",e))(er||{}),Yr=(e=>(e.NEW="NEW",e.GOOD="GOOD",e.FAIR="FAIR",e.POOR="POOR",e.DAMAGED="DAMAGED",e))(Yr||{}),La=(e=>(e.SALE="SALE",e.EXPENSE="EXPENSE",e))(La||{}),Mn=(e=>(e.CASH="CASH",e.CARD="CARD",e.MOBILE_MONEY="MOBILE_MONEY",e.BANK_TRANSFER="BANK_TRANSFER",e.CHEQUE="CHEQUE",e))(Mn||{});function lp(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function aL(e,t,r,n){function i(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function d(p){try{h(n.next(p))}catch(g){c(g)}}function f(p){try{h(n.throw(p))}catch(g){c(g)}}function h(p){p.done?s(p.value):i(p.value).then(d,f)}h((n=n.apply(e,t||[])).next())})}const iL=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class lw extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class sL extends lw{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class IE extends lw{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class LE extends lw{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Dx;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Dx||(Dx={}));class oL{constructor(t,{headers:r={},customFetch:n,region:i=Dx.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=iL(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return aL(this,arguments,void 0,function*(r,n={}){var i;let s,c;try{const{headers:d,method:f,body:h,signal:p,timeout:g}=n;let v={},{region:x}=n;x||(x=this.region);const j=new URL(`${this.url}/${r}`);x&&x!=="any"&&(v["x-region"]=x,j.searchParams.set("forceFunctionRegion",x));let _;h&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",_=h):typeof h=="string"?(v["Content-Type"]="text/plain",_=h):typeof FormData<"u"&&h instanceof FormData?_=h:(v["Content-Type"]="application/json",_=JSON.stringify(h)):h&&typeof h!="string"&&!(typeof Blob<"u"&&h instanceof Blob)&&!(h instanceof ArrayBuffer)&&!(typeof FormData<"u"&&h instanceof FormData)?_=JSON.stringify(h):_=h;let N=p;g&&(c=new AbortController,s=setTimeout(()=>c.abort(),g),p?(N=c.signal,p.addEventListener("abort",()=>c.abort())):N=c.signal);const S=yield this.fetch(j.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),d),body:_,signal:N}).catch(D=>{throw new sL(D)}),O=S.headers.get("x-relay-error");if(O&&O==="true")throw new IE(S);if(!S.ok)throw new LE(S);let A=((i=S.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),P;return A==="application/json"?P=yield S.json():A==="application/octet-stream"||A==="application/pdf"?P=yield S.blob():A==="text/event-stream"?P=S:A==="multipart/form-data"?P=yield S.formData():P=yield S.text(),{data:P,error:null,response:S}}catch(d){return{data:null,error:d,response:d instanceof LE||d instanceof IE?d.context:void 0}}finally{s&&clearTimeout(s)}})}}var lL=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},cL=class{constructor(e){var t,r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(n=e.urlLengthLimit)!==null&&n!==void 0?n:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let c=null,d=null,f=null,h=s.status,p=s.statusText;if(s.ok){var g,v;if(r.method!=="HEAD"){var x;const S=await s.text();S===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((x=r.headers.get("Accept"))===null||x===void 0)&&x.includes("application/vnd.pgrst.plan+text"))?d=S:d=JSON.parse(S))}const _=(g=r.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),N=(v=s.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");_&&N&&N.length>1&&(f=parseInt(N[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{var j;const _=await s.text();try{c=JSON.parse(_),Array.isArray(c)&&s.status===404&&(d=[],c=null,h=200,p="OK")}catch{s.status===404&&_===""?(h=204,p="No Content"):c={message:_}}if(c&&r.isMaybeSingle&&(!(c==null||(j=c.details)===null||j===void 0)&&j.includes("0 rows"))&&(c=null,h=200,p="OK"),c&&r.shouldThrowOnError)throw new lL(c)}return{error:c,data:d,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(i=i.catch(s=>{var c;let d="",f="",h="";const p=s==null?void 0:s.cause;if(p){var g,v,x,j;const S=(g=p==null?void 0:p.message)!==null&&g!==void 0?g:"",O=(v=p==null?void 0:p.code)!==null&&v!==void 0?v:"";d=`${(x=s==null?void 0:s.name)!==null&&x!==void 0?x:"FetchError"}: ${s==null?void 0:s.message}`,d+=`

Caused by: ${(j=p==null?void 0:p.name)!==null&&j!==void 0?j:"Error"}: ${S}`,O&&(d+=` (${O})`),p!=null&&p.stack&&(d+=`
${p.stack}`)}else{var _;d=(_=s==null?void 0:s.stack)!==null&&_!==void 0?_:""}const N=this.url.toString().length;return(s==null?void 0:s.name)==="AbortError"||(s==null?void 0:s.code)==="ABORT_ERR"?(h="",f="Request was aborted (timeout or manual cancellation)",N>this.urlLengthLimit&&(f+=`. Note: Your request URL is ${N} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((p==null?void 0:p.name)==="HeadersOverflowError"||(p==null?void 0:p.code)==="UND_ERR_HEADERS_OVERFLOW")&&(h="",f="HTTP headers exceeded server limits (typically 16KB)",N>this.urlLengthLimit&&(f+=`. Your request URL is ${N} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(c=s==null?void 0:s.name)!==null&&c!==void 0?c:"FetchError"}: ${s==null?void 0:s.message}`,details:d,hint:f,code:h},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},uL=class extends cL{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const s=i?`${i}.order`:"order",c=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${c?`${c},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:s="text"}={}){var c;const d=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),f=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${f}"; options=${d};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const zE=new RegExp("[,()]");var Bl=class extends uL{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&zE.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&zE.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},dL=class{constructor(e,{headers:t={},schema:r,fetch:n,urlLengthLimit:i=8e3}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n,this.urlLengthLimit=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},i=r?"HEAD":"GET";let s=!1;const c=(e??"*").split("").map(h=>/\s/.test(h)&&!s?"":(h==='"'&&(s=!s),h)).join(""),{url:d,headers:f}=this.cloneRequestState();return d.searchParams.set("select",c),n&&f.append("Prefer",`count=${n}`),new Bl({method:i,url:d,headers:f,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const i="POST",{url:s,headers:c}=this.cloneRequestState();if(t&&c.append("Prefer",`count=${t}`),r||c.append("Prefer","missing=default"),Array.isArray(e)){const d=e.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(d.length>0){const f=[...new Set(d)].map(h=>`"${h}"`);s.searchParams.set("columns",f.join(","))}}return new Bl({method:i,url:s,headers:c,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){var s;const c="POST",{url:d,headers:f}=this.cloneRequestState();if(f.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&d.searchParams.set("on_conflict",t),n&&f.append("Prefer",`count=${n}`),i||f.append("Prefer","missing=default"),Array.isArray(e)){const h=e.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(h.length>0){const p=[...new Set(h)].map(g=>`"${g}"`);d.searchParams.set("columns",p.join(","))}}return new Bl({method:c,url:d,headers:f,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var r;const n="PATCH",{url:i,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new Bl({method:n,url:i,headers:s,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new Bl({method:r,url:n,headers:i,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function Yu(e){"@babel/helpers - typeof";return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yu(e)}function fL(e,t){if(Yu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hL(e){var t=fL(e,"string");return Yu(t)=="symbol"?t:t+""}function mL(e,t,r){return(t=hL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UE(Object(r),!0).forEach(function(n){mL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var pL=class WP{constructor(t,{headers:r={},schema:n,fetch:i,timeout:s,urlLengthLimit:c=8e3}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.urlLengthLimit=c;const d=i??globalThis.fetch;s!==void 0&&s>0?this.fetch=(f,h)=>{const p=new AbortController,g=setTimeout(()=>p.abort(),s),v=h==null?void 0:h.signal;if(v){if(v.aborted)return clearTimeout(g),d(f,h);const x=()=>{clearTimeout(g),p.abort()};return v.addEventListener("abort",x,{once:!0}),d(f,vh(vh({},h),{},{signal:p.signal})).finally(()=>{clearTimeout(g),v.removeEventListener("abort",x)})}return d(f,vh(vh({},h),{},{signal:p.signal})).finally(()=>clearTimeout(g))}:this.fetch=d}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new dL(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new WP(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,r={},{head:n=!1,get:i=!1,count:s}={}){var c;let d;const f=new URL(`${this.url}/rpc/${t}`);let h;const p=x=>x!==null&&typeof x=="object"&&(!Array.isArray(x)||x.some(p)),g=n&&Object.values(r).some(p);g?(d="POST",h=r):n||i?(d=n?"HEAD":"GET",Object.entries(r).filter(([x,j])=>j!==void 0).map(([x,j])=>[x,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([x,j])=>{f.searchParams.append(x,j)})):(d="POST",h=r);const v=new Headers(this.headers);return g?v.set("Prefer",s?`count=${s},return=minimal`:"return=minimal"):s&&v.set("Prefer",`count=${s}`),new Bl({method:d,url:f,headers:v,schema:this.schemaName,body:h,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch,urlLengthLimit:this.urlLengthLimit})}};class gL{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const i=n.node,s=parseInt(i.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const yL="2.96.0",vL=`realtime-js/${yL}`,xL="1.0.0",YP="2.0.0",$E=YP,kx=1e4,bL=1e3,wL=100;var Ms;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ms||(Ms={}));var Ir;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ir||(Ir={}));var Ia;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ia||(Ia={}));var Rx;(function(e){e.websocket="websocket"})(Rx||(Rx={}));var Eo;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Eo||(Eo={}));class jL{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},c=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(t,r,n){var i,s;const c=t.topic,d=(i=t.ref)!==null&&i!==void 0?i:"",f=(s=t.join_ref)!==null&&s!==void 0?s:"",h=t.payload.event,p=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},g=Object.keys(p).length===0?"":JSON.stringify(p);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`userEvent length ${h.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`metadata length ${g.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+d.length+c.length+h.length+g.length,x=new ArrayBuffer(this.HEADER_LENGTH+v);let j=new DataView(x),_=0;j.setUint8(_++,this.KINDS.userBroadcastPush),j.setUint8(_++,f.length),j.setUint8(_++,d.length),j.setUint8(_++,c.length),j.setUint8(_++,h.length),j.setUint8(_++,g.length),j.setUint8(_++,r),Array.from(f,S=>j.setUint8(_++,S.charCodeAt(0))),Array.from(d,S=>j.setUint8(_++,S.charCodeAt(0))),Array.from(c,S=>j.setUint8(_++,S.charCodeAt(0))),Array.from(h,S=>j.setUint8(_++,S.charCodeAt(0))),Array.from(g,S=>j.setUint8(_++,S.charCodeAt(0)));var N=new Uint8Array(x.byteLength+n.byteLength);return N.set(new Uint8Array(x),0),N.set(new Uint8Array(n),x.byteLength),N.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[i,s,c,d,f]=n;return r({join_ref:i,ref:s,topic:c,event:d,payload:f})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,i)}}_decodeUserBroadcast(t,r,n){const i=r.getUint8(1),s=r.getUint8(2),c=r.getUint8(3),d=r.getUint8(4);let f=this.HEADER_LENGTH+4;const h=n.decode(t.slice(f,f+i));f=f+i;const p=n.decode(t.slice(f,f+s));f=f+s;const g=n.decode(t.slice(f,f+c));f=f+c;const v=t.slice(f,t.byteLength),x=d===this.JSON_ENCODING?JSON.parse(n.decode(v)):v,j={type:this.BROADCAST_EVENT,event:p,payload:x};return c>0&&(j.meta=JSON.parse(g)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST_EVENT,payload:j}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class XP{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ft;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ft||(Ft={}));const BE=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((s,c)=>(s[c]=_L(c,e,t,i),s),{}):{}},_L=(e,t,r,n)=>{const i=t.find(d=>d.name===e),s=i==null?void 0:i.type,c=r[e];return s&&!n.includes(s)?ZP(s,c):Mx(c)},ZP=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return AL(t,r)}switch(e){case Ft.bool:return NL(t);case Ft.float4:case Ft.float8:case Ft.int2:case Ft.int4:case Ft.int8:case Ft.numeric:case Ft.oid:return SL(t);case Ft.json:case Ft.jsonb:return EL(t);case Ft.timestamp:return OL(t);case Ft.abstime:case Ft.date:case Ft.daterange:case Ft.int4range:case Ft.int8range:case Ft.money:case Ft.reltime:case Ft.text:case Ft.time:case Ft.timestamptz:case Ft.timetz:case Ft.tsrange:case Ft.tstzrange:return Mx(t);default:return Mx(t)}},Mx=e=>e,NL=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},SL=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},EL=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},AL=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const c=e.slice(1,r);try{s=JSON.parse("["+c+"]")}catch{s=c?c.split(","):[]}return s.map(d=>ZP(t,d))}return e},OL=e=>typeof e=="string"?e.replace(" ","T"):e,QP=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Sy{constructor(t,r,n={},i=kx){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var qE;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(qE||(qE={}));class $u{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:c,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=$u.syncState(this.state,i,s,c),this.pendingDiffs.forEach(f=>{this.state=$u.syncDiff(this.state,f,s,c)}),this.pendingDiffs=[],d()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:c,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=$u.syncDiff(this.state,i,s,c),d())}),this.onJoin((i,s,c)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:c})}),this.onLeave((i,s,c)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const s=this.cloneDeep(t),c=this.transformState(r),d={},f={};return this.map(s,(h,p)=>{c[h]||(f[h]=p)}),this.map(c,(h,p)=>{const g=s[h];if(g){const v=p.map(N=>N.presence_ref),x=g.map(N=>N.presence_ref),j=p.filter(N=>x.indexOf(N.presence_ref)<0),_=g.filter(N=>v.indexOf(N.presence_ref)<0);j.length>0&&(d[h]=j),_.length>0&&(f[h]=_)}else d[h]=p}),this.syncDiff(s,{joins:d,leaves:f},n,i)}static syncDiff(t,r,n,i){const{joins:s,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(d,f)=>{var h;const p=(h=t[d])!==null&&h!==void 0?h:[];if(t[d]=this.cloneDeep(f),p.length>0){const g=t[d].map(x=>x.presence_ref),v=p.filter(x=>g.indexOf(x.presence_ref)<0);t[d].unshift(...v)}n(d,p,f)}),this.map(c,(d,f)=>{let h=t[d];if(!h)return;const p=f.map(g=>g.presence_ref);h=h.filter(g=>p.indexOf(g.presence_ref)<0),t[d]=h,i(d,h,f),h.length===0&&delete t[d]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var VE;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(VE||(VE={}));var Bu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Bu||(Bu={}));var Oi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Oi||(Oi={}));class Gl{constructor(t,r={config:{}},n){var i,s;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ir.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Sy(this,Ia.join,this.params,this.timeout),this.rejoinTimer=new XP(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ir.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ir.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Ir.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ir.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Ir.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ia.reply,{},(c,d)=>{this._trigger(this._replyEventName(d),c)}),this.presence=new $u(this),this.broadcastEndpointURL=QP(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Ir.closed){const{config:{broadcast:c,presence:d,private:f}}=this.params,h=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(x=>x.filter))!==null&&i!==void 0?i:[],p=!!this.bindings[Bu.PRESENCE]&&this.bindings[Bu.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,g={},v={broadcast:c,presence:Object.assign(Object.assign({},d),{enabled:p}),postgres_changes:h,private:f};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(x=>t==null?void 0:t(Oi.CHANNEL_ERROR,x)),this._onClose(()=>t==null?void 0:t(Oi.CLOSED)),this.updateJoinPayload(Object.assign({config:v},g)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:x})=>{var j;if(this.socket._isManualToken()||this.socket.setAuth(),x===void 0){t==null||t(Oi.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,N=(j=_==null?void 0:_.length)!==null&&j!==void 0?j:0,S=[];for(let O=0;O<N;O++){const A=_[O],{filter:{event:P,schema:D,table:T,filter:R}}=A,q=x&&x[O];if(q&&q.event===P&&Gl.isFilterValueEqual(q.schema,D)&&Gl.isFilterValueEqual(q.table,T)&&Gl.isFilterValueEqual(q.filter,R))S.push(Object.assign(Object.assign({},A),{id:q.id}));else{this.unsubscribe(),this.state=Ir.errored,t==null||t(Oi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,t&&t(Oi.SUBSCRIBED);return}}).receive("error",x=>{this.state=Ir.errored,t==null||t(Oi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Oi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Ir.joined&&t===Bu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var i;if(r==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(d.status===202)return{success:!0};let f=d.statusText;try{const h=await d.json();f=h.error||h.message||f}catch{}return Promise.reject(new Error(f))}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:c}=t,d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:c,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=h.body)===null||i===void 0?void 0:i.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var c,d,f;const h=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((f=(d=(c=this.params)===null||c===void 0?void 0:c.config)===null||d===void 0?void 0:d.broadcast)===null||f===void 0)&&f.ack)&&s("ok"),h.receive("ok",()=>s("ok")),h.receive("error",()=>s("error")),h.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ir.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ia.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Sy(this,Ia.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ir.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),c=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),c}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Sy(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>wL){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,s;const c=t.toLocaleLowerCase(),{close:d,error:f,leave:h,join:p}=Ia;if(n&&[d,f,h,p].indexOf(c)>=0&&n!==this._joinRef())return;let v=this._onMessage(c,r,n);if(r&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(x=>{var j,_,N;return((j=x.filter)===null||j===void 0?void 0:j.event)==="*"||((N=(_=x.filter)===null||_===void 0?void 0:_.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===c}).map(x=>x.callback(v,n)):(s=this.bindings[c])===null||s===void 0||s.filter(x=>{var j,_,N,S,O,A;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in x){const P=x.id,D=(j=x.filter)===null||j===void 0?void 0:j.event;return P&&((_=r.ids)===null||_===void 0?void 0:_.includes(P))&&(D==="*"||(D==null?void 0:D.toLocaleLowerCase())===((N=r.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const P=(O=(S=x==null?void 0:x.filter)===null||S===void 0?void 0:S.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return P==="*"||P===((A=r==null?void 0:r.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===c}).map(x=>{if(typeof v=="object"&&"ids"in v){const j=v.data,{schema:_,table:N,commit_timestamp:S,type:O,errors:A}=j;v=Object.assign(Object.assign({},{schema:_,table:N,commit_timestamp:S,eventType:O,new:{},old:{},errors:A}),this._getPayloadRecords(j))}x.callback(v,n)})}_isClosed(){return this.state===Ir.closed}_isJoined(){return this.state===Ir.joined}_isJoining(){return this.state===Ir.joining}_isLeaving(){return this.state===Ir.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Gl.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ia.close,{},t)}_onError(t){this._on(Ia.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ir.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=BE(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=BE(t.columns,t.old_record)),r}}const Ey=()=>{},xh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},TL=[1e3,2e3,5e3,1e4],CL=1e4,PL=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class DL{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=kx,this.transport=null,this.heartbeatIntervalMs=xh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ey,this.ref=0,this.reconnectTimer=null,this.vsn=$E,this.logger=Ey,this.conn=null,this.sendBuffer=[],this.serializer=new jL,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Rx.websocket}`,this.httpEndpoint=QP(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=gL.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ms.connecting:return Eo.Connecting;case Ms.open:return Eo.Open;case Ms.closing:return Eo.Closing;default:return Eo.Closed}}isConnected(){return this.connectionState()===Eo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new Gl(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:i,ref:s}=t,c=()=>{this.encode(t,d=>{var f;(f=this.conn)===null||f===void 0||f.send(d)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(bL,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},xh.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const h=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",h)}catch(p){this.log("error","error in heartbeat callback",p)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:i,payload:s,ref:c}=r,d=c?`(${c})`:"",f=s.status||"";this.log("receive",`${f} ${n} ${i} ${d}`.trim(),s),this.channels.filter(h=>h._isMember(n)).forEach(h=>h._trigger(i,s,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Ms.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ms.open||this.conn.readyState===Ms.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ia.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([PL],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const s={access_token:r,version:vL};r&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(Ia.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new XP(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},xh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,s,c,d,f,h,p,g,v,x;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:kx,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:xh.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(c=t==null?void 0:t.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(d=t==null?void 0:t.heartbeatCallback)!==null&&d!==void 0?d:Ey,this.vsn=(f=t==null?void 0:t.vsn)!==null&&f!==void 0?f:$E,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=t==null?void 0:t.reconnectAfterMs)!==null&&h!==void 0?h:(j=>TL[j-1]||CL),this.vsn){case xL:this.encode=(p=t==null?void 0:t.encode)!==null&&p!==void 0?p:((j,_)=>_(JSON.stringify(j))),this.decode=(g=t==null?void 0:t.decode)!==null&&g!==void 0?g:((j,_)=>_(JSON.parse(j)));break;case YP:this.encode=(v=t==null?void 0:t.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(x=t==null?void 0:t.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Xu=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function kL(e,t,r){const n=new URL(t,e);if(r)for(const[i,s]of Object.entries(r))s!==void 0&&n.searchParams.set(i,s);return n.toString()}async function RL(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function ML(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:s,headers:c}){const d=kL(e.baseUrl,n,i),f=await RL(e.auth),h=await t(d,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...f,...c},body:s?JSON.stringify(s):void 0}),p=await h.text(),g=(h.headers.get("content-type")||"").includes("application/json"),v=g&&p?JSON.parse(p):p;if(!h.ok){const x=g?v:void 0,j=x==null?void 0:x.error;throw new Xu((j==null?void 0:j.message)??`Request failed with status ${h.status}`,{status:h.status,icebergType:j==null?void 0:j.type,icebergCode:j==null?void 0:j.code,details:x})}return{status:h.status,headers:h.headers,data:v}}}}function bh(e){return e.join("")}var IL=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:bh(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${bh(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${bh(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${bh(e.namespace)}`}),!0}catch(t){if(t instanceof Xu&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Xu&&r.status===409)return;throw r}}};function Dl(e){return e.join("")}var LL=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Dl(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Dl(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Dl(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Dl(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Dl(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Dl(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Xu&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Xu&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},zL=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=ML({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new IL(this.client,t),this.tableOps=new LL(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},cp=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function up(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var wh=class extends cp{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},JP=class extends cp{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const UL=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),$L=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Ix=e=>{if(Array.isArray(e))return e.map(r=>Ix(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=Ix(n)}),t},BL=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Zu(e){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zu(e)}function qL(e,t){if(Zu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VL(e){var t=qL(e,"string");return Zu(t)=="symbol"?t:t+""}function FL(e,t,r){return(t=VL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FE(Object(r),!0).forEach(function(n){FL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const GE=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},GL=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const i=e,s=i.status||500;if(typeof i.json=="function")i.json().then(c=>{const d=(c==null?void 0:c.statusCode)||(c==null?void 0:c.code)||s+"";t(new wh(GE(c),s,d,n))}).catch(()=>{if(n==="vectors"){const c=s+"";t(new wh(i.statusText||`HTTP ${s} error`,s,c,n))}else{const c=s+"";t(new wh(i.statusText||`HTTP ${s} error`,s,c,n))}});else{const c=s+"";t(new wh(i.statusText||`HTTP ${s} error`,s,c,n))}}else t(new JP(GE(e),e,n))},HL=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?Xe(Xe({},i),r):($L(n)?(i.headers=Xe({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Xe(Xe({},i),r))};async function Nu(e,t,r,n,i,s,c){return new Promise((d,f)=>{e(r,HL(t,n,i,s)).then(h=>{if(!h.ok)throw h;if(n!=null&&n.noResolveJson)return h;if(c==="vectors"){const p=h.headers.get("content-type");if(h.headers.get("content-length")==="0"||h.status===204)return{};if(!p||!p.includes("application/json"))return{}}return h.json()}).then(h=>d(h)).catch(h=>GL(h,f,n,c))})}function eD(e="storage"){return{get:async(t,r,n,i)=>Nu(t,"GET",r,n,i,void 0,e),post:async(t,r,n,i,s)=>Nu(t,"POST",r,i,s,n,e),put:async(t,r,n,i,s)=>Nu(t,"PUT",r,i,s,n,e),head:async(t,r,n,i)=>Nu(t,"HEAD",r,Xe(Xe({},n),{},{noResolveJson:!0}),i,void 0,e),remove:async(t,r,n,i,s)=>Nu(t,"DELETE",r,i,s,n,e)}}const KL=eD("storage"),{get:Qu,post:Ma,put:Lx,head:WL,remove:cw}=KL,Qn=eD("vectors");var vc=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=UL(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Xe(Xe({},this.headers),{},{[e]:t}),this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(up(r))return{data:null,error:r};throw r}}},YL=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(up(t))return{data:null,error:t};throw t}}};let tD;tD=Symbol.toStringTag;var XL=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[tD]="BlobDownloadBuilder",this.promise=null}asStream(){return new YL(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(up(t))return{data:null,error:t};throw t}}};const ZL={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},HE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var QL=class extends vc{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var i=this;return i.handleOperation(async()=>{let s;const c=Xe(Xe({},HE),n);let d=Xe(Xe({},i.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const f=c.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",c.cacheControl),f&&s.append("metadata",i.encodeMetadata(f)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.has("cacheControl")||s.append("cacheControl",c.cacheControl),f&&!s.has("metadata")&&s.append("metadata",i.encodeMetadata(f))):(s=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType,f&&(d["x-metadata"]=i.toBase64(i.encodeMetadata(f))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!c.duplex&&(c.duplex="half")),n!=null&&n.headers&&(d=Xe(Xe({},d),n.headers));const h=i._removeEmptyFolders(t),p=i._getFinalPath(h),g=await(e=="PUT"?Lx:Ma)(i.fetch,`${i.url}/object/${p}`,s,Xe({headers:d},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{path:h,id:g.Id,fullPath:g.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var i=this;const s=i._removeEmptyFolders(e),c=i._getFinalPath(s),d=new URL(i.url+`/object/upload/sign/${c}`);return d.searchParams.set("token",t),i.handleOperation(async()=>{let f;const h=Xe({upsert:HE.upsert},n),p=Xe(Xe({},i.headers),{"x-upsert":String(h.upsert)});return typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.append("cacheControl",h.cacheControl)):(f=r,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType),{path:s,fullPath:(await Lx(i.fetch,d.toString(),f,{headers:p})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const i=Xe({},r.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const s=await Ma(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:i}),c=new URL(r.url+s.url),d=c.searchParams.get("token");if(!d)throw new cp("No token returned by API");return{signedUrl:c.toString(),path:e,token:d}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await Ma(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await Ma(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let i=n._getFinalPath(e),s=await Ma(n.fetch,`${n.url}/object/sign/${i}`,Xe({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const c=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${s.signedURL}${c}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const i=await Ma(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i.map(c=>Xe(Xe({},c),{},{signedUrl:c.signedURL?encodeURI(`${n.url}${c.signedURL}${s}`):null}))})}download(e,t,r){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=i?`?${i}`:"",c=this._getFinalPath(e),d=()=>Qu(this.fetch,`${this.url}/${n}/${c}${s}`,{headers:this.headers,noResolveJson:!0},r);return new XL(d,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>Ix(await Qu(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await WL(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(up(n)&&n instanceof JP){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&n.push(i);const s=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});c!==""&&n.push(c);let d=n.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${d}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await cw(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const i=Xe(Xe(Xe({},ZL),t),{},{prefix:e||""});return await Ma(n.fetch,`${n.url}/object/list/${n.bucketId}`,i,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=Xe({},e);return await Ma(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const JL="2.96.0",Sd={"X-Client-Info":`storage-js/${JL}`};var ez=class extends vc{constructor(e,t={},r,n){const i=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const s=i.href.replace(/\/$/,""),c=Xe(Xe({},Sd),t);super(s,c,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await Qu(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Qu(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await Ma(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await Lx(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Ma(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await cw(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},tz=class extends vc{constructor(e,t={},r){const n=e.replace(/\/$/,""),i=Xe(Xe({},Sd),t);super(n,i,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Ma(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),i=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await Qu(t.fetch,i,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await cw(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!BL(e))throw new cp("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new zL({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,s){const c=i[s];return typeof c!="function"?c:async(...d)=>{try{return{data:await c.apply(i,d),error:null}}catch(f){if(n)throw f;return{data:null,error:f}}}}})}},rz=class extends vc{constructor(e,t={},r){const n=e.replace(/\/$/,""),i=Xe(Xe({},Sd),{},{"Content-Type":"application/json"},t);super(n,i,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await Qn.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await Qn.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},nz=class extends vc{constructor(e,t={},r){const n=e.replace(/\/$/,""),i=Xe(Xe({},Sd),{},{"Content-Type":"application/json"},t);super(n,i,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},az=class extends vc{constructor(e,t={},r){const n=e.replace(/\/$/,""),i=Xe(Xe({},Sd),{},{"Content-Type":"application/json"},t);super(n,i,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},iz=class extends az{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new sz(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},sz=class extends rz{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,Xe(Xe({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,Xe(Xe({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new oz(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},oz=class extends nz{constructor(e,t,r,n,i){super(e,t,i),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,Xe(Xe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,Xe(Xe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,Xe(Xe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,Xe(Xe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,Xe(Xe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},lz=class extends ez{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new QL(this.url,this.headers,e,this.fetch)}get vectors(){return new iz(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new tz(this.url+"/iceberg",this.headers,this.fetch)}};const rD="2.96.0",ql=30*1e3,zx=3,Ay=zx*ql,cz="http://localhost:9999",uz="supabase.auth.token",dz={"X-Client-Info":`gotrue-js/${rD}`},Ux="X-Supabase-Api-Version",nD={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},fz=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,hz=600*1e3;class Ju extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ge(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class mz extends Ju{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function pz(e){return Ge(e)&&e.name==="AuthApiError"}class Ao extends Ju{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Yi extends Ju{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class Xn extends Yi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Oy(e){return Ge(e)&&e.name==="AuthSessionMissingError"}class kl extends Yi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class jh extends Yi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class _h extends Yi{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function gz(e){return Ge(e)&&e.name==="AuthImplicitGrantRedirectError"}class KE extends Yi{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class yz extends Yi{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class $x extends Yi{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Ty(e){return Ge(e)&&e.name==="AuthRetryableFetchError"}class WE extends Yi{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Bx extends Yi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const em="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),YE=` 	
\r=`.split(""),vz=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<YE.length;t+=1)e[YE[t].charCodeAt(0)]=-2;for(let t=0;t<em.length;t+=1)e[em[t].charCodeAt(0)]=t;return e})();function XE(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(em[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(em[n]),t.queuedBits-=6}}function aD(e,t,r){const n=vz[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function ZE(e){const t=[],r=c=>{t.push(String.fromCodePoint(c))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=c=>{wz(c,n,r)};for(let c=0;c<e.length;c+=1)aD(e.charCodeAt(c),i,s);return t.join("")}function xz(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function bz(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}xz(n,t)}}function wz(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Jl(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)aD(e.charCodeAt(i),r,n);return new Uint8Array(t)}function jz(e){const t=[];return bz(e,r=>t.push(r)),new Uint8Array(t)}function Oo(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>XE(i,r,n)),XE(null,r,n),t.join("")}function _z(e){return Math.round(Date.now()/1e3)+e}function Nz(){return Symbol("auth-callback")}const ln=()=>typeof window<"u"&&typeof document<"u",go={tested:!1,writable:!1},iD=()=>{if(!ln())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(go.tested)return go.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),go.tested=!0,go.writable=!0}catch{go.tested=!0,go.writable=!1}return go.writable};function Sz(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const sD=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Ez=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Vl=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},yo=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},on=async(e,t)=>{await e.removeItem(t)};class dp{constructor(){this.promise=new dp.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}dp.promiseConstructor=Promise;function Nh(e){const t=e.split(".");if(t.length!==3)throw new Bx("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!fz.test(t[n]))throw new Bx("JWT not in base64url format");return{header:JSON.parse(ZE(t[0])),payload:JSON.parse(ZE(t[1])),signature:Jl(t[2]),raw:{header:t[0],payload:t[1]}}}async function Az(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Oz(e,t){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const c=await e(s);if(!t(s,null,c)){n(c);return}}catch(c){if(!t(s,c)){i(c);return}}})()})}function Tz(e){return("0"+e.toString(16)).substr(-2)}function Cz(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,Tz).join("")}async function Pz(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function Dz(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Pz(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Rl(e,t,r=!1){const n=Cz();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Vl(e,`${t}-code-verifier`,i);const s=await Dz(n);return[s,n===s?"plain":"s256"]}const kz=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Rz(e){const t=e.headers.get(Ux);if(!t||!t.match(kz))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Mz(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Iz(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Lz=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ml(e){if(!Lz.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Cy(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function zz(e,t){return new Proxy(e,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,i)}})}function QE(e){return JSON.parse(JSON.stringify(e))}const bo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Uz=[502,503,504];async function JE(e){var t;if(!Ez(e))throw new $x(bo(e),0);if(Uz.includes(e.status))throw new $x(bo(e),e.status);let r;try{r=await e.json()}catch(s){throw new Ao(bo(s),s)}let n;const i=Rz(e);if(i&&i.getTime()>=nD["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new WE(bo(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Xn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,c)=>s&&typeof c=="string",!0))throw new WE(bo(r),e.status,r.weak_password.reasons);throw new mz(bo(r),e.status||500,n)}const $z=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Ze(e,t,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[Ux]||(s[Ux]=nD["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const c=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(c.redirect_to=n.redirectTo);const d=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",f=await Bz(e,t,r+d,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(f):{data:Object.assign({},f),error:null}}async function Bz(e,t,r,n,i,s){const c=$z(t,n,i,s);let d;try{d=await e(r,Object.assign({},c))}catch(f){throw console.error(f),new $x(bo(f),0)}if(d.ok||await JE(d),n!=null&&n.noResolveJson)return d;try{return await d.json()}catch(f){await JE(f)}}function ka(e){var t;let r=null;Fz(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=_z(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function eA(e){const t=ka(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function zs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function qz(e){return{data:e,error:null}}function Vz(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=e,c=lp(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},f=Object.assign({},c);return{data:{properties:d,user:f},error:null}}function tA(e){return e}function Fz(e){return e.access_token&&e.refresh_token&&e.expires_in}const Py=["global","local","others"];class Gz{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=sD(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Py[0]){if(Py.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Py.join(", ")}`);try{return await Ze(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ze(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:zs})}catch(n){if(Ge(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=lp(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Ze(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Vz,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ge(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ze(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:zs})}catch(r){if(Ge(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,s,c,d,f;try{const h={nextPage:null,lastPage:0,total:0},p=await Ze(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:tA});if(p.error)throw p.error;const g=await p.json(),v=(c=p.headers.get("x-total-count"))!==null&&c!==void 0?c:0,x=(f=(d=p.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return x.length>0&&(x.forEach(j=>{const _=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(j.split(";")[1].split("=")[1]);h[`${N}Page`]=_}),h.total=parseInt(v)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(Ge(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){Ml(t);try{return await Ze(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:zs})}catch(r){if(Ge(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Ml(t);try{return await Ze(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:zs})}catch(n){if(Ge(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Ml(t);try{return await Ze(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:zs})}catch(n){if(Ge(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Ml(t.userId);try{const{data:r,error:n}=await Ze(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Ge(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Ml(t.userId),Ml(t.id);try{return{data:await Ze(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,s,c,d,f;try{const h={nextPage:null,lastPage:0,total:0},p=await Ze(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:tA});if(p.error)throw p.error;const g=await p.json(),v=(c=p.headers.get("x-total-count"))!==null&&c!==void 0?c:0,x=(f=(d=p.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return x.length>0&&(x.forEach(j=>{const _=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(j.split(";")[1].split("=")[1]);h[`${N}Page`]=_}),h.total=parseInt(v)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(Ge(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(t){try{return await Ze(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ge(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Ze(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ge(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Ze(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Ze(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Ze(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ge(r))return{data:null,error:r};throw r}}}function rA(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Il={debug:!!(globalThis&&iD()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class oD extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class nA extends oD{}async function Hz(e,t,r){Il.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;t>0&&setTimeout(()=>{n.abort(),Il.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve();try{return await globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Il.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{Il.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Il.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new nA(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Il.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}})}catch(i){throw(i==null?void 0:i.name)==="AbortError"?new nA(`Acquiring an exclusive Navigator LockManager lock "${e}" timed out waiting ${t}ms`):i}}function Kz(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function lD(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Wz(e){return parseInt(e,16)}function Yz(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function Xz(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:c,notBefore:d,requestId:f,resources:h,scheme:p,uri:g,version:v}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const x=lD(e.address),j=p?`${p}://${n}`:n,_=e.statement?`${e.statement}
`:"",N=`${j} wants you to sign in with your Ethereum account:
${x}

${_}`;let S=`URI: ${g}
Version: ${v}
Chain ID: ${r}${c?`
Nonce: ${c}`:""}
Issued At: ${s.toISOString()}`;if(i&&(S+=`
Expiration Time: ${i.toISOString()}`),d&&(S+=`
Not Before: ${d.toISOString()}`),f&&(S+=`
Request ID: ${f}`),h){let O=`
Resources:`;for(const A of h){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);O+=`
- ${A}`}S+=O}return`${N}
${S}`}class Ar extends Error{constructor({message:t,code:r,cause:n,name:i}){var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class tm extends Ar{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function Zz({error:e,options:t}){var r,n,i;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ar({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ar({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ar({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ar({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ar({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ar({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new Ar({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ar({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const c=window.location.hostname;if(cD(c)){if(s.rp.id!==c)return new Ar({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ar({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Ar({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ar({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ar({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Qz({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ar({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ar({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(cD(n)){if(r.rpId!==n)return new Ar({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ar({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ar({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ar({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Jz{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const eU=new Jz;function tU(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=lp(e,["challenge","user","excludeCredentials"]),s=Jl(t).buffer,c=Object.assign(Object.assign({},r),{id:Jl(r.id).buffer}),d=Object.assign(Object.assign({},i),{challenge:s,user:c});if(n&&n.length>0){d.excludeCredentials=new Array(n.length);for(let f=0;f<n.length;f++){const h=n[f];d.excludeCredentials[f]=Object.assign(Object.assign({},h),{id:Jl(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return d}function rU(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=lp(e,["challenge","allowCredentials"]),i=Jl(t).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const d=r[c];s.allowCredentials[c]=Object.assign(Object.assign({},d),{id:Jl(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return s}function nU(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Oo(new Uint8Array(e.response.attestationObject)),clientDataJSON:Oo(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function aU(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Oo(new Uint8Array(i.authenticatorData)),clientDataJSON:Oo(new Uint8Array(i.clientDataJSON)),signature:Oo(new Uint8Array(i.signature)),userHandle:i.userHandle?Oo(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function cD(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function aA(){var e,t;return!!(ln()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function iU(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new tm("Browser returned unexpected credential type",t)}:{data:null,error:new tm("Empty credential response",t)}}catch(t){return{data:null,error:Zz({error:t,options:e})}}}async function sU(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new tm("Browser returned unexpected credential type",t)}:{data:null,error:new tm("Empty credential response",t)}}catch(t){return{data:null,error:Qz({error:t,options:e})}}}const oU={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},lU={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function rm(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const s in i){const c=i[s];if(c!==void 0)if(Array.isArray(c))n[s]=c;else if(r(c))n[s]=c;else if(t(c)){const d=n[s];t(d)?n[s]=rm(d,c):n[s]=rm(c)}else n[s]=c}return n}function cU(e,t){return rm(oU,e,t||{})}function uU(e,t){return rm(lU,e,t||{})}class dU{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},s){var c;try{const{data:d,error:f}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!d)return{data:null,error:f};const h=i??eU.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:p}=d.webauthn.credential_options.publicKey;if(!p.name){const g=n;if(g)p.name=`${p.id}:${g}`;else{const x=(await this.client.getUser()).data.user,j=((c=x==null?void 0:x.user_metadata)===null||c===void 0?void 0:c.name)||(x==null?void 0:x.email)||(x==null?void 0:x.id)||"User";p.name=`${p.id}:${j}`}}p.displayName||(p.displayName=p.name)}switch(d.webauthn.type){case"create":{const p=cU(d.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:g,error:v}=await iU({publicKey:p,signal:h});return g?{data:{factorId:t,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:g}},error:null}:{data:null,error:v}}case"request":{const p=uU(d.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:g,error:v}=await sU(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:p,signal:h}));return g?{data:{factorId:t,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:g}},error:null}:{data:null,error:v}}}}catch(d){return Ge(d)?{data:null,error:d}:{data:null,error:new Ao("Unexpected error in challenge",d)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new Ju("rpId is required for WebAuthn authentication")};try{if(!aA())return{data:null,error:new Ao("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:s});if(!c)return{data:null,error:d};const{webauthn:f}=c;return this._verify({factorId:t,challengeId:c.challengeId,webauthn:{type:f.type,rpId:r,rpOrigins:n,credential_response:f.credential_response}})}catch(c){return Ge(c)?{data:null,error:c}:{data:null,error:new Ao("Unexpected error in authenticate",c)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new Ju("rpId is required for WebAuthn registration")};try{if(!aA())return{data:null,error:new Ao("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this._enroll({friendlyName:t});if(!c)return await this.client.mfa.listFactors().then(p=>{var g;return(g=p.data)===null||g===void 0?void 0:g.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p==null?void 0:p.id}):void 0),{data:null,error:d};const{data:f,error:h}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:s});return f?this._verify({factorId:c.id,challengeId:f.challengeId,webauthn:{rpId:r,rpOrigins:n,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:h}}catch(c){return Ge(c)?{data:null,error:c}:{data:null,error:new Ao("Unexpected error in register",c)}}}}Kz();const fU={url:cz,storageKey:uz,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:dz,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function iA(e,t,r){return await r()}const Ll={};class ed{get jwks(){var t,r;return(r=(t=Ll[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Ll[this.storageKey]=Object.assign(Object.assign({},Ll[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Ll[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ll[this.storageKey]=Object.assign(Object.assign({},Ll[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},fU),t);if(this.storageKey=s.storageKey,this.instanceID=(r=ed.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,ed.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&ln()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Gz({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=sD(s.fetch),this.lock=s.lock||iA,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&ln()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Hz:this.lock=iA,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new dU(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:iD()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=rA(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=rA(this.memoryStorage)),ln()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c);try{await this._notifyAllSubscribers(c.data.event,c.data.session,!1)}catch(d){this._debug("#broadcastChannel","error",d)}})}this.initialize().catch(c=>{this._debug("#initialize()","error",c)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${rD}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(ln()&&(r=Sz(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),ln()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),gz(s)){const f=(t=s.details)===null||t===void 0?void 0:t.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:s}}return{error:s}}const{session:c,redirectType:d}=i;return this._debug("#_initialize()","detected session in URL",c,"redirect type",d),await this._saveSession(c),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ge(r)?this._returnResult({error:r}):this._returnResult({error:new Ao("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const s=await Ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:ka}),{data:c,error:d}=s;if(d||!c)return this._returnResult({data:{user:null,session:null},error:d});const f=c.session,h=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(s){if(Ge(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var r,n,i;try{let s;if("email"in t){const{email:p,password:g,options:v}=t;let x=null,j=null;this.flowType==="pkce"&&([x,j]=await Rl(this.storage,this.storageKey)),s=await Ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:p,password:g,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:x,code_challenge_method:j},xform:ka})}else if("phone"in t){const{phone:p,password:g,options:v}=t;s=await Ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:g,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},channel:(i=v==null?void 0:v.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:ka})}else throw new jh("You must provide either an email or phone number and a password");const{data:c,error:d}=s;if(d||!c)return await on(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:d});const f=c.session,h=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(s){if(await on(this.storage,`${this.storageKey}-code-verifier`),Ge(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:c,options:d}=t;r=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:eA})}else if("phone"in t){const{phone:s,password:c,options:d}=t;r=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:eA})}else throw new jh("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const s=new kl;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Ge(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,s,c,d,f,h,p,g,v;let x,j;if("message"in t)x=t.message,j=t.signature;else{const{chain:_,wallet:N,statement:S,options:O}=t;let A;if(ln())if(typeof N=="object")A=N;else{const Y=window;if("ethereum"in Y&&typeof Y.ethereum=="object"&&"request"in Y.ethereum&&typeof Y.ethereum.request=="function")A=Y.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(O!=null&&O.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=N}const P=new URL((r=O==null?void 0:O.url)!==null&&r!==void 0?r:window.location.href),D=await A.request({method:"eth_requestAccounts"}).then(Y=>Y).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!D||D.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const T=lD(D[0]);let R=(n=O==null?void 0:O.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!R){const Y=await A.request({method:"eth_chainId"});R=Wz(Y)}const q={domain:P.host,address:T,statement:S,uri:P.href,version:"1",chainId:R,nonce:(i=O==null?void 0:O.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(c=(s=O==null?void 0:O.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(d=O==null?void 0:O.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(f=O==null?void 0:O.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(h=O==null?void 0:O.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(p=O==null?void 0:O.signInWithEthereum)===null||p===void 0?void 0:p.resources};x=Xz(q),j=await A.request({method:"personal_sign",params:[Yz(x),T]})}try{const{data:_,error:N}=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:j},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:ka});if(N)throw N;if(!_||!_.session||!_.user){const S=new kl;return this._returnResult({data:{user:null,session:null},error:S})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:N})}catch(_){if(Ge(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(t){var r,n,i,s,c,d,f,h,p,g,v,x;let j,_;if("message"in t)j=t.message,_=t.signature;else{const{chain:N,wallet:S,statement:O,options:A}=t;let P;if(ln())if(typeof S=="object")P=S;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))P=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(A!=null&&A.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=S}const D=new URL((r=A==null?void 0:A.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in P&&P.signIn){const T=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A==null?void 0:A.signInWithSolana),{version:"1",domain:D.host,uri:D.href}),O?{statement:O}:null));let R;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")R=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)R=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in R&&"signature"in R&&(typeof R.signedMessage=="string"||R.signedMessage instanceof Uint8Array)&&R.signature instanceof Uint8Array)j=typeof R.signedMessage=="string"?R.signedMessage:new TextDecoder().decode(R.signedMessage),_=R.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${D.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${D.href}`,`Issued At: ${(i=(n=A==null?void 0:A.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=A==null?void 0:A.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((c=A==null?void 0:A.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((d=A==null?void 0:A.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((f=A==null?void 0:A.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((h=A==null?void 0:A.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((g=(p=A==null?void 0:A.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||g===void 0)&&g.length?["Resources",...A.signInWithSolana.resources.map(R=>`- ${R}`)]:[]].join(`
`);const T=await P.signMessage(new TextEncoder().encode(j),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=T}}try{const{data:N,error:S}=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:Oo(_)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:ka});if(S)throw S;if(!N||!N.session||!N.user){const O=new kl;return this._returnResult({data:{user:null,session:null},error:O})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:S})}catch(N){if(Ge(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async _exchangeCodeForSession(t){const r=await yo(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new yz;const{data:s,error:c}=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ka});if(await on(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!s||!s.session||!s.user){const d=new kl;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:c})}catch(s){if(await on(this.storage,`${this.storageKey}-code-verifier`),Ge(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:s,nonce:c}=t,d=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:c,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ka}),{data:f,error:h}=d;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!f||!f.session||!f.user){const p=new kl;return this._returnResult({data:{user:null,session:null},error:p})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:h})}catch(r){if(Ge(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,i,s,c;try{if("email"in t){const{email:d,options:f}=t;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await Rl(this.storage,this.storageKey));const{error:g}=await Ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},create_user:(n=f==null?void 0:f.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:p},redirectTo:f==null?void 0:f.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in t){const{phone:d,options:f}=t,{data:h,error:p}=await Ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(i=f==null?void 0:f.data)!==null&&i!==void 0?i:{},create_user:(s=f==null?void 0:f.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(c=f==null?void 0:f.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:p})}throw new jh("You must provide either an email or phone number.")}catch(d){if(await on(this.storage,`${this.storageKey}-code-verifier`),Ge(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(t){var r,n;try{let i,s;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:c,error:d}=await Ze(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:ka});if(d)throw d;if(!c)throw new Error("An error occurred on token verification.");const f=c.session,h=c.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(i){if(Ge(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var r,n,i,s,c;try{let d=null,f=null;this.flowType==="pkce"&&([d,f]=await Rl(this.storage,this.storageKey));const h=await Ze(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:f}),headers:this.headers,xform:qz});return!((s=h.data)===null||s===void 0)&&s.url&&ln()&&!(!((c=t.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(d){if(await on(this.storage,`${this.storageKey}-code-verifier`),Ge(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Xn;const{error:i}=await Ze(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(Ge(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:s}=t,{error:c}=await Ze(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in t){const{phone:n,type:i,options:s}=t,{data:c,error:d}=await Ze(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d})}throw new jh("You must provide either an email or phone number and a type")}catch(r){if(Ge(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await yo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Ay:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const c=await yo(this.userStorage,this.storageKey+"-user");c!=null&&c.user?t.user=c.user:t.user=Cy()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};t.user=zz(t.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:zs}):await this._useSession(async r=>{var n,i,s;const{data:c,error:d}=r;if(d)throw d;return!(!((n=c.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Xn}:await Ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=c.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:zs})})}catch(r){if(Ge(r))return Oy(r)&&(await this._removeSession(),await on(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new Xn;const c=i.session;let d=null,f=null;this.flowType==="pkce"&&t.email!=null&&([d,f]=await Rl(this.storage,this.storageKey));const{data:h,error:p}=await Ze(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:d,code_challenge_method:f}),jwt:c.access_token,xform:zs});if(p)throw p;return c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(n){if(await on(this.storage,`${this.storageKey}-code-verifier`),Ge(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Xn;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:c}=Nh(t.access_token);if(c.exp&&(n=c.exp,i=n<=r),i){const{data:d,error:f}=await this._callRefreshToken(t.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d)return{data:{user:null,session:null},error:null};s=d}else{const{data:d,error:f}=await this._getUser(t.access_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});s={access_token:t.access_token,refresh_token:t.refresh_token,user:d.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(Ge(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:c,error:d}=r;if(d)throw d;t=(n=c.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Xn;const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Ge(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!ln())throw new _h("No browser detected.");if(t.error||t.error_description||t.error_code)throw new _h(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new KE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new _h("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new KE("No code detected.");const{data:O,error:A}=await this._exchangeCodeForSession(t.code);if(A)throw A;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:c,expires_in:d,expires_at:f,token_type:h}=t;if(!s||!d||!c||!h)throw new _h("No session defined in URL");const p=Math.round(Date.now()/1e3),g=parseInt(d);let v=p+g;f&&(v=parseInt(f));const x=v-p;x*1e3<=ql&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${g}s`);const j=v-g;p-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,v,p):p-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,v,p);const{data:_,error:N}=await this._getUser(s);if(N)throw N;const S={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:g,expires_at:v,refresh_token:c,token_type:h,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:S,redirectType:t.type},error:null})}catch(n){if(Ge(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await yo(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s&&!Oy(s))return this._returnResult({error:s});const c=(n=i.session)===null||n===void 0?void 0:n.access_token;if(c){const{error:d}=await this.admin.signOut(c,t);if(d&&!(pz(d)&&(d.status===404||d.status===401||d.status===403)||Oy(d)))return this._returnResult({error:d})}return t!=="others"&&(await this._removeSession(),await on(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=Nz(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:c}=r;if(c)throw c;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Rl(this.storage,this.storageKey,!0));try{return await Ze(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await on(this.storage,`${this.storageKey}-code-verifier`),Ge(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var c,d,f,h,p;const{data:g,error:v}=s;if(v)throw v;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(d=t.options)===null||d===void 0?void 0:d.scopes,queryParams:(f=t.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Ze(this.fetch,"GET",x,{headers:this.headers,jwt:(p=(h=g.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:void 0})});if(i)throw i;return ln()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Ge(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:s}}=r;if(i)throw i;const{options:c,provider:d,token:f,access_token:h,nonce:p}=t,g=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:d,id_token:f,access_token:h,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:ka}),{data:v,error:x}=g;return x?this._returnResult({data:{user:null,session:null},error:x}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new kl}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:x}))}catch(i){if(await on(this.storage,`${this.storageKey}-code-verifier`),Ge(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:c}=r;if(c)throw c;return await Ze(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Oz(async i=>(i>0&&await Az(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Ze(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ka})),(i,s)=>{const c=200*Math.pow(2,i);return s&&Ty(s)&&Date.now()+c-n<ql})}catch(n){if(this._debug(r,"error",n),Ge(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),ln()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await yo(this.storage,this.storageKey);if(i&&this.userStorage){let c=await yo(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:i.user},await Vl(this.userStorage,this.storageKey+"-user",c)),i.user=(t=c==null?void 0:c.user)!==null&&t!==void 0?t:Cy()}else if(i&&!i.user&&!i.user){const c=await yo(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(i.user=c.user,await on(this.storage,this.storageKey+"-user"),await Vl(this.storage,this.storageKey,i)):i.user=Cy()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ay;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Ay}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:c}=await this._callRefreshToken(i.refresh_token);c&&(console.error(c),Ty(c)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:d}=await this._getUser(i.access_token);!d&&(c!=null&&c.user)?(i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(n,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Xn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new dp;const{data:s,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!s.session)throw new Xn;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const d={data:s.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(s){if(this._debug(i,"error",s),Ge(s)){const c={data:null,error:s};return Ty(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],c=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(t,r)}catch(f){s.push(f)}});if(await Promise.all(c),s.length>0){for(let d=0;d<s.length;d+=1)console.error(s[d]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await on(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Vl(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=QE(i);await Vl(this.storage,this.storageKey,s)}else{const i=QE(r);await Vl(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await on(this.storage,this.storageKey),await on(this.storage,this.storageKey+"-code-verifier"),await on(this.storage,this.storageKey+"-user"),this.userStorage&&await on(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ln()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ql);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/ql);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ql}ms, refresh threshold is ${zx} ticks`),i<=zx&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof oD)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ln()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,c]=await Rl(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(c)}`});i.push(d.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?this._returnResult({data:null,error:s}):await Ze(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:c}=r;if(c)return this._returnResult({data:null,error:c});const d=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:f,error:h}=await Ze(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return h?this._returnResult({data:null,error:h}):(t.factorType==="totp"&&f.type==="totp"&&(!((i=f==null?void 0:f.totp)===null||i===void 0)&&i.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const c=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?nU(t.webauthn.credential_response):aU(t.webauthn.credential_response)})}:{code:t.code}),{data:d,error:f}=await Ze(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:c,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:f}))})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const c=await Ze(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(c.error)return c;const{data:d}=c;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:tU(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:rU(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,i,s;if(t)try{const{payload:x}=Nh(t);let j=null;x.aal&&(j=x.aal);let _=j;const{data:{user:N},error:S}=await this.getUser(t);if(S)return this._returnResult({data:null,error:S});((n=(r=N==null?void 0:N.factors)===null||r===void 0?void 0:r.filter(P=>P.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(_="aal2");const A=x.amr||[];return{data:{currentLevel:j,nextLevel:_,currentAuthenticationMethods:A},error:null}}catch(x){if(Ge(x))return this._returnResult({data:null,error:x});throw x}const{data:{session:c},error:d}=await this.getSession();if(d)return this._returnResult({data:null,error:d});if(!c)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=Nh(c.access_token);let h=null;f.aal&&(h=f.aal);let p=h;((s=(i=c.user.factors)===null||i===void 0?void 0:i.filter(x=>x.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(p="aal2");const v=f.amr||[];return{data:{currentLevel:h,nextLevel:p,currentAuthenticationMethods:v},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await Ze(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Xn})})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Xn});const c=await Ze(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&ln()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Xn});const c=await Ze(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&ln()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Ze(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Xn})})}catch(t){if(Ge(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await Ze(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Xn})})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(d=>d.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(d=>d.kid===t),n&&this.jwks_cached_at+hz>i)return n;const{data:s,error:c}=await Ze(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(d=>d.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:x,error:j}=await this.getSession();if(j||!x.session)return this._returnResult({data:null,error:j});n=x.session.access_token}const{header:i,payload:s,signature:c,raw:{header:d,payload:f}}=Nh(n);r!=null&&r.allowExpired||Mz(s.exp);const h=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!h){const{error:x}=await this.getUser(n);if(x)throw x;return{data:{claims:s,header:i,signature:c},error:null}}const p=Iz(i.alg),g=await crypto.subtle.importKey("jwk",h,p,!0,["verify"]);if(!await crypto.subtle.verify(p,g,c,jz(`${d}.${f}`)))throw new Bx("Invalid JWT signature");return{data:{claims:s,header:i,signature:c},error:null}}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}}ed.nextInstanceID={};const hU=ed,mU="2.96.0";let Ru="";typeof Deno<"u"?Ru="deno":typeof document<"u"?Ru="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ru="react-native":Ru="node";const pU={"X-Client-Info":`supabase-js-${Ru}/${mU}`},gU={headers:pU},yU={schema:"public"},vU={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},xU={};function td(e){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},td(e)}function bU(e,t){if(td(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(td(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wU(e){var t=bU(e,"string");return td(t)=="symbol"?t:t+""}function jU(e,t,r){return(t=wU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sA(Object(r),!0).forEach(function(n){jU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const _U=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),NU=()=>Headers,SU=(e,t,r)=>{const n=_U(r),i=NU();return async(s,c)=>{var d;const f=(d=await t())!==null&&d!==void 0?d:e;let h=new i(c==null?void 0:c.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${f}`),n(s,cr(cr({},c),{},{headers:h}))}};function EU(e){return e.endsWith("/")?e:e+"/"}function AU(e,t){var r,n;const{db:i,auth:s,realtime:c,global:d}=e,{db:f,auth:h,realtime:p,global:g}=t,v={db:cr(cr({},f),i),auth:cr(cr({},h),s),realtime:cr(cr({},p),c),storage:{},global:cr(cr(cr({},g),d),{},{headers:cr(cr({},(r=g==null?void 0:g.headers)!==null&&r!==void 0?r:{}),(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?v.accessToken=e.accessToken:delete v.accessToken,v}function OU(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(EU(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var TU=class extends hU{constructor(e){super(e)}},CU=class{constructor(e,t,r){var n,i;this.supabaseUrl=e,this.supabaseKey=t;const s=OU(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const c=`sb-${s.hostname.split(".")[0]}-auth-token`,d={db:yU,realtime:xU,auth:cr(cr({},vU),{},{storageKey:c}),global:gU},f=AU(r??{},d);if(this.storageKey=(n=f.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken)this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(p,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}});else{var h;this.auth=this._initSupabaseAuthClient((h=f.auth)!==null&&h!==void 0?h:{},this.headers,f.global.fetch)}this.fetch=SU(t,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(cr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new pL(new URL("rest/v1",s).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch,timeout:f.db.timeout,urlLengthLimit:f.db.urlLengthLimit}),this.storage=new lz(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new oL(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:s,flowType:c,lock:d,debug:f,throwOnError:h},p,g){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new TU({url:this.authUrl.href,headers:cr(cr({},v),p),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:i,flowType:c,lock:d,debug:f,throwOnError:h,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new DL(this.realtimeUrl.href,cr(cr({},e),{},{params:cr(cr({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const PU=(e,t,r)=>new CU(e,t,r);function DU(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}DU()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const kU="https://kwnbyiqzrphkembkwyvd.supabase.co",RU="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt3bmJ5aXF6cnBoa2VtYmt3eXZkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQwNjcyNDYsImV4cCI6MjA3OTY0MzI0Nn0.EZOCsrZoudDfjQrWS0OmNgj-MPCO2X1_8mhiiWevS_g",te=PU(kU,RU);function MU(e,t){const r=e.channel("public-all-changes"),n=["inventory","requisitions","transactions","invoices","items","users","requisition_sheets","requisition_sheet_items","fichas_individuais","chat_messages","chat_groups","chat_file_attachments","chat_group_members"];for(const s of n)r.on("postgres_changes",{event:"*",schema:"public",table:s},c=>{try{t(c)}catch(d){console.error("Realtime handler error:",d)}});return r.subscribe(),async()=>{try{r.unsubscribe&&await r.unsubscribe()}catch{}try{e.removeChannel&&await e.removeChannel(r)}catch{}}}function IU(e,t,r){const n=e.channel(`chat-group-${t}`);return n.on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages",filter:`group_id=eq.${t}`},i=>r(i)).on("postgres_changes",{event:"UPDATE",schema:"public",table:"chat_messages",filter:`group_id=eq.${t}`},i=>r(i)).subscribe(),async()=>{try{await n.unsubscribe()}catch(i){console.error("Error unsubscribing from chat messages:",i)}}}function LU(e,t,r){const n=e.channel(`typing-${t}`);return n.on("broadcast",{event:"typing"},i=>{r(i.payload)}).subscribe(),async()=>{try{await n.unsubscribe()}catch(i){console.error("Error unsubscribing from typing indicators:",i)}}}async function Dy(e,t,r,n){await e.channel(`typing-${t}`).send({type:"broadcast",event:"typing",payload:{userId:r,isTyping:n}})}async function zU(e){try{const{data:{session:t}}=await te.auth.getSession(),r="https://kwnbyiqzrphkembkwyvd.supabase.co";if(!(t!=null&&t.access_token))return{success:!1,error:"Usurio no autenticado. Faa login para criar usurios."};const n=await fetch(`${r}/functions/v1/create-user`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.access_token}`},body:JSON.stringify({email:e.email,password:e.password,userData:{name:e.name,role:e.role,locationId:e.locationId,jobTitle:e.jobTitle,defaultDailyGoal:e.defaultDailyGoal,dailyRate:e.dailyRate,halfDayRate:e.halfDayRate,absencePenalty:e.absencePenalty,bonusPerUnit:e.bonusPerUnit}})}),i=await n.text();let s={};try{s=i?JSON.parse(i):{}}catch{return{success:!1,error:"Invalid JSON response from Edge Function",raw:i}}return n.ok?{success:!0,data:s}:{success:!1,error:s.error||s.message||`Status ${n.status}`,status:n.status}}catch(t){return{success:!1,error:(t==null?void 0:t.message)||String(t)}}}Lr.CENTRAL,Lr.BRANCH,Lr.BRANCH,Lr.BRANCH,Lr.BRANCH,Lr.BRANCH,Lr.FIELD,Lr.FIELD,Lr.FIELD,Lr.FIELD,Lr.FIELD;const ky=236.5,Ry=118,My=95,Iy=10;Ee.ADMIN,Ee.GENERAL_MANAGER,Ee.MANAGER,Ee.MANAGER,Ee.MANAGER,Ee.MANAGER,Ee.MANAGER,Ee.WORKER,Ee.WORKER,Ee.WORKER,Ee.WORKER,Ee.WORKER,Ee.WORKER;er.ASSET,er.CONSUMABLE,er.CONSUMABLE,er.ASSET,er.CONSUMABLE,er.ASSET;ot.PENDING,Yr.NEW,new Date(Date.now()-864e5).toISOString(),new Date(Date.now()-864e5).toISOString(),new Date(Date.now()-864e5).toISOString(),ot.APPROVED,Yr.NEW,new Date(Date.now()-1728e5).toISOString(),new Date(Date.now()-864e5).toISOString(),new Date(Date.now()-1728e5).toISOString(),new Date(Date.now()-864e5).toISOString();const Ly=new Date(Date.now()-864e5).toISOString().split("T")[0];ut.FULL_DAY,ut.HALF_DAY,ut.FULL_DAY;const oA=[{id:"VIEW_DASHBOARD",label:"Visualizar Dashboard",category:"Geral"},{id:"VIEW_REPORTS",label:"Relatrios Dirios e Executivos",category:"Geral"},{id:"VIEW_REQUISITIONS",label:"Visualizar Requisies",category:"Logstica"},{id:"MANAGE_REQUISITIONS",label:"Aprovar/Rejeitar Requisies",category:"Logstica"},{id:"VIEW_INVENTORY",label:"Visualizar Estoque",category:"Logstica"},{id:"MANAGE_INVENTORY",label:"Adicionar/Criar Estoque",category:"Logstica"},{id:"VIEW_PERFORMANCE",label:"Visualizar Desempenho",category:"RH Operacional"},{id:"MANAGE_PERFORMANCE",label:"Lanar Produo/Presena",category:"RH Operacional"},{id:"VIEW_POS",label:"Acessar Ponto de Venda",category:"Vendas & Finanas"},{id:"MANAGE_POS",label:"Realizar Vendas/Despesas",category:"Vendas & Finanas"},{id:"VIEW_INVOICES",label:"Visualizar Documentos/Faturas",category:"Vendas & Finanas"},{id:"MANAGE_INVOICES",label:"Emitir/Gerenciar Faturas",category:"Vendas & Finanas"},{id:"VIEW_PATRIMONY",label:"Visualizar Patrimnio/Contabilidade",category:"Gesto"},{id:"VIEW_HR",label:"Visualizar Mdulo RH",category:"Gesto"},{id:"MANAGE_HR",label:"Gerenciar Funcionrios (Criar/Editar)",category:"Gesto"},{id:"VIEW_PAYROLL",label:"Visualizar Folha Salarial",category:"Gesto"},{id:"MANAGE_PAYROLL",label:"Processar Folha Salarial",category:"Gesto"},{id:"VIEW_SETTINGS",label:"Acessar Definies",category:"Sistema"},{id:"MANAGE_SETTINGS",label:"Gerenciar Configuraes (Locais/Itens)",category:"Sistema"},{id:"MANAGE_USERS",label:"Gerenciar Usurios",category:"Sistema"},{id:"MANAGE_PERMISSIONS",label:"Gerenciar Permisses",category:"Sistema"}],UU={[Ee.ADMIN]:["VIEW_DASHBOARD","VIEW_REPORTS","VIEW_REQUISITIONS","MANAGE_REQUISITIONS","VIEW_INVENTORY","MANAGE_INVENTORY","VIEW_PERFORMANCE","MANAGE_PERFORMANCE","VIEW_POS","MANAGE_POS","VIEW_INVOICES","MANAGE_INVOICES","VIEW_PATRIMONY","VIEW_HR","MANAGE_HR","VIEW_PAYROLL","MANAGE_PAYROLL","VIEW_SETTINGS","MANAGE_SETTINGS","MANAGE_USERS","MANAGE_PERMISSIONS"],[Ee.GENERAL_MANAGER]:["VIEW_DASHBOARD","VIEW_REPORTS","VIEW_REQUISITIONS","MANAGE_REQUISITIONS","VIEW_INVENTORY","MANAGE_INVENTORY","VIEW_PERFORMANCE","VIEW_POS","VIEW_INVOICES","MANAGE_INVOICES","VIEW_PATRIMONY","VIEW_HR","MANAGE_HR","VIEW_PAYROLL","VIEW_SETTINGS","MANAGE_SETTINGS","MANAGE_USERS"],[Ee.MANAGER]:["VIEW_DASHBOARD","VIEW_REQUISITIONS","VIEW_INVENTORY","MANAGE_INVENTORY","VIEW_PERFORMANCE","MANAGE_PERFORMANCE","VIEW_POS","MANAGE_POS","VIEW_INVOICES","MANAGE_INVOICES"],[Ee.WORKER]:["VIEW_DASHBOARD","VIEW_INVENTORY","VIEW_REQUISITIONS"]},uD=w.createContext(void 0),$U=({children:e})=>{const[t,r]=w.useState(null),[n,i]=w.useState([]),[s,c]=w.useState(null),[d,f]=w.useState(new Date),[h,p]=w.useState(null),[g,v]=w.useState([]),[x,j]=w.useState([]),[_,N]=w.useState([]),[S,O]=w.useState([]),[A,P]=w.useState([]),[D,T]=w.useState([]),[R,q]=w.useState([]),[Y,G]=w.useState([]),[U,z]=w.useState([]),J=C=>{var I;return{id:C.id,type:C.type,date:C.date,userId:C.user_id,locationId:C.location_id,clientName:C.client_name,clientNuit:C.client_nuit,description:C.description,category:C.category,amount:C.amount,paymentMethod:C.payment_method,items:((I=C.items)==null?void 0:I.map(V=>({itemId:V.item_id,name:V.name,quantity:V.quantity,unitPrice:V.unit_price})))||[],invoiceId:C.invoice_id||null}},B=C=>C?/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(C):!1,[K,M]=w.useState([]),[H,re]=w.useState([]),[be,Se]=w.useState(UU),[L,ee]=w.useState({}),[je,Ne]=w.useState(["Equipamento","EPI","Tecnologia","Ferramenta"]),[Ie,Oe]=w.useState(["Unidade","Par","Litros","Kg","Metros"]),[ke,dt]=w.useState([{id:"type-1",name:"Equipamento Pesado",behavior:er.ASSET},{id:"type-2",name:"Ferramenta Manual",behavior:er.ASSET},{id:"type-3",name:"EPI",behavior:er.CONSUMABLE},{id:"type-4",name:"Consumvel Operacional",behavior:er.CONSUMABLE},{id:"type-5",name:"Tecnologia/GPS",behavior:er.ASSET}]),[$,Q]=w.useState(["Dinheiro","Carto","M-Pesa","e-Mola","Transferncia Bancria","Cheque"]),[ue,oe]=w.useState(["Combustvel","Manuteno","Salrios","Aluguel","Utilidades","Outros"]),[Je,Le]=w.useState({nome:"Sua Empresa Lda",nuit:"000000000",endereco:"Maputo, Moambique",contacto:"+258 84 000 0000"}),[mt]=w.useState(["MZN","USD"]),[lt,Ve]=w.useState("MZN"),[hr,xt]=w.useState([]),[An,$t]=w.useState([]),[Wa,Ae]=w.useState([]),[et,De]=w.useState([]),[rt,Pr]=w.useState([]),[Bn,bn]=w.useState([]),[qn,ui]=w.useState([]),[Aa,Dr]=w.useState([]),[Zt,Bt]=w.useState(!0),ge=t?t.role===Ee.ADMIN||t.role===Ee.GENERAL_MANAGER:!1;w.useEffect(()=>{let C=null,I=null,V=null,X=null;return(async()=>{var we,Te;try{const{data:{session:Ce}}=await te.auth.getSession();if(Ce!=null&&Ce.user){console.log(" Sesso encontrada para usurio:",Ce.user.id,Ce.user.email);const{data:me,error:pe}=await te.from("users").select("*").eq("id",Ce.user.id).single();if(me&&!pe){console.log(" Dados do usurio carregados do Supabase:",me);const Me={id:me.id,name:me.name,role:me.role,locationId:me.location_id||null,jobTitle:me.job_title,defaultDailyGoal:me.default_daily_goal,dailyRate:me.daily_rate,halfDayRate:me.half_day_rate,absencePenalty:me.absence_penalty,bonusPerUnit:me.bonus_per_unit};console.log(" Usurio mapeado para aplicao:",Me),console.log(" Role do usurio (BD):",Me.role),X=Me,r(Me)}else if(pe){console.error(" Erro ao buscar usurio do BD:",pe);const Me={id:Ce.user.id,name:((we=Ce.user.user_metadata)==null?void 0:we.name)||Ce.user.email||"User",role:Ee.WORKER,locationId:null};console.warn(" Usando fallback (WORKER) pois usurio no existe no BD ainda"),X=Me,r(Me)}else{console.error(" userData vazio mas sem erro (situao estranha)");const Me={id:Ce.user.id,name:((Te=Ce.user.user_metadata)==null?void 0:Te.name)||Ce.user.email||"User",role:Ee.WORKER,locationId:null};X=Me,r(Me)}}else console.warn(" Nenhuma sesso disponvel");if(X&&(X.role===Ee.ADMIN||X.role===Ee.GENERAL_MANAGER)){const{data:me}=await te.from("users").select("*");if(me){const pe=me.map(Me=>({id:Me.id,name:Me.name,email:Me.email,role:Me.role,locationId:Me.location_id||null,jobTitle:Me.job_title,defaultDailyGoal:Me.default_daily_goal,dailyRate:Me.daily_rate,halfDayRate:Me.half_day_rate,absencePenalty:Me.absence_penalty,bonusPerUnit:Me.bonus_per_unit}));i(pe)}}else X&&i([X]);try{if(X){const me=new Date().toISOString(),{error:pe}=await te.from("users").update({is_online:!0,last_seen:me}).eq("id",X.id).select().single();pe&&console.error("Error updating user presence:",pe.code,pe.message)}}catch(me){console.error("Could not update presence for user",me)}C=te.channel("public:users").on("postgres_changes",{event:"*",schema:"public",table:"users"},me=>{const pe=me.new;pe&&i(Me=>{const pr=Me.findIndex(jr=>jr.id===pe.id),ar={id:pe.id,name:pe.name,email:pe.email,role:pe.role,locationId:pe.location_id||null,jobTitle:pe.job_title,defaultDailyGoal:pe.default_daily_goal,dailyRate:pe.daily_rate,halfDayRate:pe.half_day_rate,absencePenalty:pe.absence_penalty,bonusPerUnit:pe.bonus_per_unit,isOnline:pe.is_online,lastSeen:pe.last_seen};if(pr===-1)return[...Me,ar];const Rr=[...Me];return Rr[pr]={...Rr[pr],...ar},Rr})}).subscribe(),I=async()=>{try{if(X){const me=new Date().toISOString(),{error:pe}=await te.from("users").update({is_online:!1,last_seen:me}).eq("id",X.id).select().single();pe&&console.error("Error marking user offline:",pe.code,pe.message)}}catch(me){console.error("Could not mark user offline",me)}},V=()=>{document.visibilityState==="hidden"?I==null||I():document.visibilityState==="visible"&&X&&te.from("users").update({is_online:!0,last_seen:new Date().toISOString()}).eq("id",X.id).select().single().then(({error:me})=>{me&&console.error("Error updating visibility:",me.code,me.message)})},window.addEventListener("beforeunload",I),document.addEventListener("visibilitychange",V);const{data:_e}=await te.from("locations").select("*");if(_e){const me=(_e||[]).map(pe=>({id:pe.id,name:pe.name,type:pe.type,parentId:pe.parent_id}));j(me||[])}const{data:fe}=await te.from("items").select("*");v(fe||[]);const{data:Pe}=await te.from("inventory").select("*");if(Pe){const me=(Pe||[]).map(pe=>({itemId:pe.item_id,locationId:pe.location_id,quantity:pe.quantity}));N(me||[])}const{data:$e}=await te.from("requisitions").select(`
          *,
          logs:requisition_logs(*)
        `).order("created_at",{ascending:!1});if($e){const me=($e||[]).map(pe=>({id:pe.id,requesterId:pe.requester_id,sourceLocationId:pe.source_location_id,targetLocationId:pe.target_location_id,itemId:pe.item_id,quantity:pe.quantity,status:pe.status,condition:pe.condition,createdAt:pe.created_at,updatedAt:pe.updated_at,logs:pe.logs||[]}));O(me||[])}const{data:Vt}=await te.from("requisition_sheets").select(`
          *,
          items:requisition_sheet_items(*)
        `).order("created_at",{ascending:!1});if(Vt){const me=(Vt||[]).map(pe=>({id:pe.id,requisitionNumber:pe.requisition_number,requesterId:pe.requester_id,sourceLocationId:pe.source_location_id,sourceLocationName:pe.source_location_name,targetLocationId:pe.target_location_id,targetLocationName:pe.target_location_name,status:pe.status,notes:pe.notes,createdAt:pe.created_at,updatedAt:pe.updated_at,items:(pe.items||[]).map(Me=>({id:Me.id,sheetId:Me.sheet_id,itemId:Me.item_id,itemName:Me.item_name,quantity:Me.quantity,unit:Me.unit,condition:Me.condition,isDelivered:Me.is_delivered,notes:Me.notes}))}));P(me||[])}const{data:st}=await te.from("daily_performance").select("*").order("date",{ascending:!1});if(st){const me=(st||[]).map(pe=>({id:pe.id,workerId:pe.worker_id,date:pe.date,status:pe.status,production:pe.production,notes:pe.notes}));T(me||[])}const{data:He}=await te.from("transactions").select(`
          *,
          items:transaction_items(*)
        `).order("date",{ascending:!1});if(He){const me=(He||[]).map(pe=>{var Me;return{id:pe.id,type:pe.type,date:pe.date,userId:pe.user_id,locationId:pe.location_id,clientName:pe.client_name,clientNuit:pe.client_nuit,description:pe.description,category:pe.category,amount:pe.amount,paymentMethod:pe.payment_method,items:((Me=pe.items)==null?void 0:Me.map(pr=>({itemId:pr.item_id,name:pr.name,quantity:pr.quantity,unitPrice:pr.unit_price})))||[]}});z(me||[])}const{data:wt}=await te.from("clients").select("*");re(wt||[]);const{data:ct}=await te.from("invoices").select(`
          *,
          itens:invoice_items(*),
          pagamentos:invoice_payments(*)
        `).order("created_at",{ascending:!1});ct&&M((ct||[]).map(me=>({id:me.id,numero:me.numero,tipo:me.tipo,status:me.status,locationId:me.location_id,empresa:{nome:me.company_name,nuit:me.company_nuit,endereco:me.company_address,contacto:me.company_contact},cliente:{id:me.client_id,nome:me.client_name,nuit:me.client_nuit,endereco:me.client_address,contacto:me.client_contact},itens:(me.itens||[]).map(pe=>({itemId:pe.item_id,descricao:pe.description,quantidade:pe.quantity,precoUnitario:pe.unit_price,impostoPercent:pe.tax_percent})),pagamentos:(me.pagamentos||[]).map(pe=>({data:pe.date,valor:pe.amount,modalidade:pe.method,referencia:pe.reference})),moeda:me.currency,dataEmissao:me.issue_date,vencimento:me.due_date,observacoes:me.notes,createdBy:me.created_by}))),Bt(!1)}catch(Ce){console.error(" Erro crtico ao carregar dados do usurio:",Ce),Bt(!1)}})(),()=>{if(I&&window.removeEventListener("beforeunload",I),V&&document.removeEventListener("visibilitychange",V),C)try{C.unsubscribe()}catch{}}},[]);const it=1200*1e3,Gr=Ba.useRef(null),ce=(C,I=5e3)=>{Gr.current&&clearTimeout(Gr.current),console.log(" Notificao:",C),p(C),Gr.current=setTimeout(()=>{p(null),Gr.current=null},I)},Ya=C=>{if(!t)return!1;const I=be[t.role];return I?I.includes(C):!1},rs=(C,I)=>{Se(V=>{const X=V[C]||[],ye=X.includes(I);let we;return ye?we=X.filter(Te=>Te!==I):we=[...X,I],{...V,[C]:we}}),ce("Permisses atualizadas.")},Xa=async()=>{console.log(" Sincronizando dados com o servidor..."),f(new Date);try{const{data:{session:C}}=await te.auth.getSession();if(!(C!=null&&C.user)){console.warn(" Sem sesso de usurio disponvel");return}console.log(" Buscando dados frescos para usurio:",C.user.id);const{data:I,error:V}=await te.from("users").select("*").eq("id",C.user.id).single();if(!V&&I){console.log(" Dados atualizados do Supabase:",I);const X={id:I.id,name:I.name,role:I.role,locationId:I.location_id||null,jobTitle:I.job_title,defaultDailyGoal:I.default_daily_goal,dailyRate:I.daily_rate,halfDayRate:I.half_day_rate,absencePenalty:I.absence_penalty,bonusPerUnit:I.bonus_per_unit};if(console.log(" Dados mapeados:",X),console.log(" Role atualizada:",I.role,"",X.role),t&&t.role!==X.role?(console.log(" ROLE ALTERADA! De",t==null?void 0:t.role,"para",X.role),ce(` Seu role foi atualizado para: ${X.role}`,6e3)):console.log(" Role mantm-se:",X.role),r(X),X.role===Ee.ADMIN||X.role===Ee.GENERAL_MANAGER){console.log(" Usurio  ADMIN/GM, buscando lista completa de usurios");const{data:fe}=await te.from("users").select("*");if(fe){const Pe=fe.map($e=>({id:$e.id,name:$e.name,role:$e.role,email:$e.email,locationId:$e.location_id||null,jobTitle:$e.job_title,defaultDailyGoal:$e.default_daily_goal,dailyRate:$e.daily_rate,halfDayRate:$e.half_day_rate,absencePenalty:$e.absence_penalty,bonusPerUnit:$e.bonus_per_unit}));console.log(` ${Pe.length} usurios carregados`),i(Pe)}}else i([X]);const{data:we}=await te.from("requisition_sheets").select("*, items:requisition_sheet_items(*)").order("created_at",{ascending:!1});if(we){const fe=we.map(Pe=>({id:Pe.id,requisitionNumber:Pe.requisition_number,requesterId:Pe.requester_id,sourceLocationId:Pe.source_location_id,sourceLocationName:Pe.source_location_name,targetLocationId:Pe.target_location_id,targetLocationName:Pe.target_location_name,status:Pe.status,notes:Pe.notes,createdAt:Pe.created_at,updatedAt:Pe.updated_at,items:(Pe.items||[]).map($e=>({id:$e.id,sheetId:$e.sheet_id,itemId:$e.item_id,itemName:$e.item_name,quantity:$e.quantity,unit:$e.unit,condition:$e.condition,isDelivered:$e.is_delivered,notes:$e.notes}))}));P(fe)}const{data:Te}=await te.from("fichas_individuais").select("*").order("created_at",{ascending:!1});Te&&xt(Te.map(fe=>({id:fe.id,codigo:fe.codigo,tipo:fe.tipo,entidade_id:fe.entidade_id,entidade_tipo:fe.entidade_tipo,data:fe.data,produto_id:fe.produto_id,produto:fe.produto_name||fe.produto,quantidade:fe.quantity_delivered||fe.quantidade||0,unidade:fe.unidade,stock_antes:fe.stock_antes,stock_depois:fe.stock_depois,observacoes:fe.observacoes,usuario_registou:fe.delivered_by||fe.usuario_registou,estado:fe.estado,created_at:fe.created_at,updated_at:fe.updated_at})));const{data:Ce}=await te.from("initial_stock").select("*");Ce&&$t(Ce);const{data:_e}=await te.from("stock_alarms").select("*");if(_e&&Ae(_e),X.role===Ee.ADMIN){const{data:fe}=await te.from("audit_log").select("*").order("timestamp",{ascending:!1});fe&&De(fe)}}else V&&(V.code==="406"||V.status===406?console.error(" Erro 406 (Not Acceptable): Verifique se a query est correta. Error:",V.message):console.error(" Erro ao buscar dados do usurio:",V))}catch(C){console.error(" Error refreshing profile:",{message:C==null?void 0:C.message,status:C==null?void 0:C.status,details:C})}};w.useEffect(()=>{const C=setInterval(()=>{Xa()},it);return()=>clearInterval(C)},[g]),w.useEffect(()=>{if(Zt||!t)return;const C=MU(te,async I=>{var we,Te,Ce;const V=I.table||I.table_name||((we=I==null?void 0:I.schema)==null?void 0:we.table),X=I.eventType||I.event||I.type||((Te=I==null?void 0:I.change)==null?void 0:Te.event),ye=I.record||I.new||I.new_record||((Ce=I==null?void 0:I.change)==null?void 0:Ce.new)||(I==null?void 0:I.after)||I.data;console.log(" Realtime event",{table:V,eventType:X,record:ye});try{if(V==="inventory"){const{data:_e}=await te.from("inventory").select("*");if(_e){const fe=_e.map(Pe=>({itemId:Pe.item_id,locationId:Pe.location_id,quantity:Pe.quantity}));N(fe)}return}if(V==="requisitions"){const{data:_e}=await te.from("requisitions").select("*, logs:requisition_logs(*)").order("created_at",{ascending:!1});_e&&O(_e.map(fe=>({...fe,logs:fe.logs||[]})));return}if(V==="requisition_sheets"||V==="requisition_sheet_items"){const{data:_e}=await te.from("requisition_sheets").select("*, items:requisition_sheet_items(*)").order("created_at",{ascending:!1});if(_e){const fe=_e.map(Pe=>({id:Pe.id,requisitionNumber:Pe.requisition_number,requesterId:Pe.requester_id,sourceLocationId:Pe.source_location_id,sourceLocationName:Pe.source_location_name,targetLocationId:Pe.target_location_id,targetLocationName:Pe.target_location_name,status:Pe.status,notes:Pe.notes,createdAt:Pe.created_at,updatedAt:Pe.updated_at,items:(Pe.items||[]).map($e=>({id:$e.id,sheetId:$e.sheet_id,itemId:$e.item_id,itemName:$e.item_name,quantity:$e.quantity,unit:$e.unit,condition:$e.condition,isDelivered:$e.is_delivered,notes:$e.notes}))}));P(fe)}return}if(V==="fichas_individuais"){const{data:_e}=await te.from("fichas_individuais").select("*").order("created_at",{ascending:!1});_e&&xt(_e.map(fe=>({id:fe.id,codigo:fe.codigo,tipo:fe.tipo,entidade_id:fe.entidade_id,entidade_tipo:fe.entidade_tipo,data:fe.data,produto_id:fe.produto_id,produto:fe.produto_name||fe.produto,quantidade:fe.quantidade,unidade:fe.unidade,stock_antes:fe.stock_antes,stock_depois:fe.stock_depois,observacoes:fe.observacoes,usuario_registou:fe.usuario_registou,estado:fe.estado,created_at:fe.created_at,updated_at:fe.updated_at})));return}if(V==="transactions"){const{data:_e}=await te.from("transactions").select("*, items:transaction_items(*)").order("date",{ascending:!1});_e&&z(_e.map(J));return}if(V==="invoices"){const{data:_e}=await te.from("invoices").select("*, itens:invoice_items(*), pagamentos:invoice_payments(*)").order("created_at",{ascending:!1});_e&&M(_e.map(fe=>({id:fe.id,numero:fe.numero,tipo:fe.tipo,status:fe.status,locationId:fe.location_id,empresa:{nome:fe.company_name,nuit:fe.company_nuit,endereco:fe.company_address,contacto:fe.company_contact},cliente:{id:fe.client_id,nome:fe.client_name,nuit:fe.client_nuit,endereco:fe.client_address,contacto:fe.client_contact},itens:(fe.itens||[]).map(Pe=>({itemId:Pe.item_id,descricao:Pe.description,quantidade:Pe.quantity,precoUnitario:Pe.unit_price,impostoPercent:Pe.tax_percent})),pagamentos:(fe.pagamentos||[]).map(Pe=>({data:Pe.date,valor:Pe.amount,modalidade:Pe.method,referencia:Pe.reference})),moeda:fe.currency,dataEmissao:fe.issue_date,vencimento:fe.due_date,observacoes:fe.notes,createdBy:fe.created_by})));return}if(V==="items"){const{data:_e}=await te.from("items").select("*");_e&&v(_e);return}if(V==="users"){const{data:{session:_e}}=await te.auth.getSession();if(!(_e!=null&&_e.user))return;const fe=_e.user.id,{data:Pe}=await te.from("users").select("*").eq("id",fe).single();if(Pe){const $e={id:Pe.id,name:Pe.name,role:Pe.role,locationId:Pe.location_id||null,jobTitle:Pe.job_title,defaultDailyGoal:Pe.default_daily_goal,dailyRate:Pe.daily_rate,halfDayRate:Pe.half_day_rate,absencePenalty:Pe.absence_penalty,bonusPerUnit:Pe.bonus_per_unit};if(r($e),$e.role===Ee.ADMIN||$e.role===Ee.GENERAL_MANAGER){const{data:Vt}=await te.from("users").select("*");Vt&&i(Vt.map(st=>({id:st.id,name:st.name,role:st.role,locationId:st.location_id||null,jobTitle:st.job_title,defaultDailyGoal:st.default_daily_goal,dailyRate:st.daily_rate,halfDayRate:st.half_day_rate,absencePenalty:st.absence_penalty,bonusPerUnit:st.bonus_per_unit})))}}return}}catch(_e){console.error("Erro ao processar evento realtime:",_e)}});return()=>{C().catch(()=>null)}},[Zt,t]);const sa=C=>{const I=x.find(V=>V.id===C);if(!(I!=null&&I.parentId)){const V=x.find(X=>X.type===Lr.CENTRAL);return(V==null?void 0:V.id)||C}return I.parentId},ns=async(C,I,V,X)=>{if(!t)return;const ye=X||t.locationId;if(!ye){ce("Erro: Localizao de destino no definida.");return}const we=sa(ye),{data:Te,error:Ce}=await te.from("requisitions").insert({requester_id:t.id,source_location_id:we,target_location_id:ye,item_id:C,quantity:I,status:ot.PENDING,condition:V}).select().single();if(Ce){ce(`Erro ao criar requisio: ${Ce.message}`);return}await te.from("requisition_logs").insert({requisition_id:Te.id,actor_id:t.id,action:"CREATE",message:"Solicitao criada. Enviada para aprovao da Administrao/Direo."});const{data:_e}=await te.from("requisitions").select("*, logs:requisition_logs(*)").order("created_at",{ascending:!1});_e&&O(_e.map(fe=>({...fe,logs:fe.logs||[]}))),ce("Requisio criada com sucesso!")},di=async(C,I,V)=>{if(!t)return;const X=sa(C),{data:ye,error:we}=await te.from("requisition_sheets").insert({requester_id:t.id,source_location_id:X,source_location_name:tn(X),target_location_id:C,target_location_name:tn(C),status:ot.PENDING,notes:V,requisition_number:`REQ-${new Date().getFullYear()}/${Math.floor(Math.random()*1e4)}`}).select().single();if(we){ce(`Erro ao criar requisio: ${we.message}`);return}const Te=I.map(_e=>({sheet_id:ye.id,item_id:_e.itemId||null,item_name:_e.itemName,quantity:_e.quantity,unit:_e.unit,condition:_e.condition||Yr.NEW,notes:_e.notes})),{error:Ce}=await te.from("requisition_sheet_items").insert(Te);Ce?ce(`Erro ao adicionar itens: ${Ce.message}`):(ce("Requisio criada com sucesso!"),Xa())},Cc=async(C,I)=>{if(!t)return;const V=S.find(_e=>_e.id===C);if(!V)return;const X=t.role===Ee.ADMIN||t.role===Ee.GENERAL_MANAGER,ye=_e=>{if(!t)return!1;if(_e===t.locationId)return!0;const fe=x.find(Pe=>Pe.id===_e);return(fe==null?void 0:fe.parentId)===t.locationId},we=t.role===Ee.MANAGER&&(ye(V.sourceLocationId)||ye(V.targetLocationId));if(!X&&!we&&t.role!==Ee.WORKER){ce("ACESSO NEGADO: Voc no tem permisso para alterar este setor.");return}const{error:Te}=await te.from("requisitions").update({status:I}).eq("id",C).select().single();if(Te){ce(`Erro ao atualizar requisio: ${Te.message}`);return}await te.from("requisition_logs").insert({requisition_id:C,actor_id:t.id,action:I,message:`Status alterado para ${I} por ${t.name}`}),I===ot.APPROVED&&await mr(V.itemId,V.sourceLocationId,-V.quantity),I===ot.CONFIRMED&&await mr(V.itemId,V.targetLocationId,V.quantity);const{data:Ce}=await te.from("requisitions").select("*, logs:requisition_logs(*)").order("created_at",{ascending:!1});Ce&&O(Ce.map(_e=>({..._e,logs:_e.logs||[]}))),ce(`Status da requisio atualizado: ${I}`)},mr=async(C,I,V)=>{const X=_.find(ye=>ye.itemId===C&&ye.locationId===I);if(X){const ye=Math.max(0,X.quantity+V),{error:we}=await te.from("inventory").update({quantity:ye}).match({item_id:C,location_id:I}).select().single();if(we){console.error("Error updating inventory:",we.code,we.message);return}N(Te=>Te.map(Ce=>Ce.itemId===C&&Ce.locationId===I?{...Ce,quantity:ye}:Ce))}else if(V>0){const{data:ye}=await te.from("inventory").insert({item_id:C,location_id:I,quantity:V}).select().single();ye&&N(we=>[...we,ye])}},le=async(C,I,V,X)=>{if(!t)return;if(!I||!B(I)){ce("Erro: Localizao invlida. Selecione uma localizao vlida antes de adicionar estoque.");return}if(t.role===Ee.MANAGER&&I!==t.locationId){alert("Voc s pode adicionar estoque  sua prpria localizao.");return}N(Te=>{const Ce=Te.findIndex(_e=>_e.itemId===C&&_e.locationId===I);if(Ce>=0){const _e=[...Te];return _e[Ce]={..._e[Ce],quantity:_e[Ce].quantity+V},_e}return[...Te,{id:`temp-${Date.now()}`,itemId:C,locationId:I,quantity:V}]}),await mr(C,I,V);const ye=g.find(Te=>Te.id===C),we={id:`acc-${Date.now()}`,date:new Date().toISOString(),itemId:C,itemName:(ye==null?void 0:ye.name)||"Item Desconhecido",locationId:I,quantity:V,unitPrice:X,totalValue:V*X,type:(ye==null?void 0:ye.type)===er.ASSET?"ATIVO":"PASSIVO",userId:t.id};q(Te=>[we,...Te]);try{const Te=`Compra de estoque: ${V}x ${(ye==null?void 0:ye.name)||"Item Desconhecido"}`;await te.from("transactions").insert({type:La.EXPENSE,user_id:t.id,location_id:I,description:Te,category:"Compra de Estoque",amount:V*X,payment_method:Mn.CASH,date:new Date().toISOString()});const{data:Ce}=await te.from("transactions").select("*, items:transaction_items(*)").order("date",{ascending:!1});Ce&&z(Ce.map(J))}catch(Te){console.error("Erro ao registrar despesa de estoque:",Te)}ce(`Estoque adicionado: ${V}x ${ye==null?void 0:ye.name}`)},Ke=async(C,I)=>{if(!t||t.role!==Ee.ADMIN){ce(" ACESSO NEGADO: Apenas administradores podem editar itens.");return}try{const{data:V,error:X}=await te.from("items").update({name:I.name,sku:I.sku,category:I.category,unit:I.unit,type:I.type,price:I.price,is_for_sale:I.is_for_sale}).eq("id",C).select().single();if(X)throw X;v(ye=>ye.map(we=>we.id===C?V:we)),ce(` Item "${I.name||"item"}" atualizado com sucesso.`)}catch(V){ce(` Erro ao atualizar item: ${V.message}`)}},vt=async(C,I,V,X,ye,we,Te,Ce,_e=!0)=>{const{data:fe,error:Pe}=await te.from("items").insert({name:C,sku:I,category:V,unit:X,type:ye,price:Ce,is_for_sale:_e}).select().single();if(Pe){ce(`Erro ao cadastrar item: ${Pe.message}`);return}const $e=fe;v(Vt=>[...Vt,$e]),we>0?await le($e.id,Te,we,Ce):ce("Item cadastrado com sucesso.")},Et=async C=>{if(!t||t.role!==Ee.ADMIN){ce(" ACESSO NEGADO: Apenas administradores podem apagar itens.");return}const{error:I}=await te.from("items").delete().eq("id",C);if(I){if(I.status===403||/policy/i.test(I.message||"")){console.warn("RLS rejection on deleteItem",{userId:t.id,itemId:C,error:I}),ce(" RLS policy rejected deletion (unauthorized).");return}const V=(I.message||"").toLowerCase();if(V.includes("foreign key")||V.includes("violates")||V.includes("conflict")||V.includes("cannot delete")){ce(" Item tem registos associados (estoque ou dependncias). Remova-os antes de apagar.");return}ce(` Erro ao apagar item: ${I.message}`);return}v(V=>V.filter(X=>X.id!==C)),ce(" Item apagado com sucesso.")},kr=async(C,I)=>{if(!t)return;const V=A.find(ye=>ye.id===C);if(!V){ce(`Erro: Ficha de requisio ${C} no encontrada.`);return}const{error:X}=await te.from("requisition_sheets").update({status:I,updated_at:new Date().toISOString()}).eq("id",C);if(X){ce(`Erro ao atualizar status: ${X.message}`);return}if(I===ot.APPROVED)for(const ye of V.items)ye.itemId&&await mr(ye.itemId,V.sourceLocationId,-ye.quantity);if(I===ot.CONFIRMED)for(const ye of V.items)ye.itemId&&await mr(ye.itemId,V.targetLocationId,ye.quantity);P(ye=>ye.map(we=>we.id===C?{...we,status:I}:we)),ce(`Status da requisio atualizado para ${I}.`)},wn=async(C,I)=>{if(!t)return;const{error:V}=await te.from("requisition_sheet_items").update({is_delivered:I}).eq("id",C);if(V){ce(`Erro ao atualizar entrega do item: ${V.message}`);return}P(X=>X.map(ye=>({...ye,items:ye.items.map(we=>we.id===C?{...we,isDelivered:I}:we)})))},At=C=>_.filter(I=>I.locationId===C),qt=C=>{var I;return((I=g.find(V=>V.id===C))==null?void 0:I.name)||"Item desconhecido"},tn=C=>{var I;return((I=x.find(V=>V.id===C))==null?void 0:I.name)||"Local desconhecido"},as=C=>{var I;return((I=H.find(V=>V.id===C))==null?void 0:I.name)||"Cliente desconhecido"},bt=async C=>{if(!t)return;const I=t.role===Ee.ADMIN||t.role===Ee.GENERAL_MANAGER;if(D.findIndex(we=>we.id===C.id||we.workerId===C.workerId&&we.date===C.date)>=0&&!I){ce("ACESSO NEGADO: Registros submetidos no podem ser alterados por Gerentes. Contate o Administrador.");return}if(!I&&t.role===Ee.MANAGER&&!Tt(t.id).find(Te=>Te.id===C.workerId)){ce("Erro: Voc no gerencia este funcionrio.");return}const{error:X}=await te.from("daily_performance").upsert({id:C.id,worker_id:C.workerId,date:C.date,status:C.status,production:C.production,notes:C.notes});if(X){ce(`Erro ao salvar registro: ${X.message}`);return}const{data:ye}=await te.from("daily_performance").select("*").order("date",{ascending:!1});ye&&T(ye),ce("Registro de desempenho salvo.")},Tt=C=>{const I=n.find(we=>we.id===C);if(!I)return[];const V=I.locationId,X=x.filter(we=>we.parentId===V).map(we=>we.id),ye=[V,...X];return n.filter(we=>we.role===Ee.WORKER&&we.locationId&&ye.includes(we.locationId))},hn=C=>{const I=x.filter(X=>X.parentId===C).map(X=>X.id),V=[C,...I];return n.filter(X=>X.role===Ee.WORKER&&X.locationId&&V.includes(X.locationId))},is=async C=>{try{const{error:I}=await te.from("users").update({name:C.name,role:C.role,email:C.email,location_id:C.locationId,job_title:C.jobTitle,default_daily_goal:C.defaultDailyGoal,daily_rate:C.dailyRate,half_day_rate:C.halfDayRate,absence_penalty:C.absencePenalty,bonus_per_unit:C.bonusPerUnit}).eq("id",C.id).select().single();if(I)throw I;i(V=>V.map(X=>X.id===C.id?C:X)),t&&t.id===C.id&&r(C),ce("Dados do funcionrio atualizados com sucesso.")}catch(I){console.error("Erro ao atualizar usurio:",I),ce(`Erro ao atualizar: ${I.message}`)}},Pc=async C=>{if(!t||t.role!==Ee.ADMIN){ce(" ACESSO NEGADO: Apenas administradores podem apagar funcionrios.");return}if(C===t.id){ce(" No  possvel apagar sua prpria conta.");return}const{error:I}=await te.from("users").delete().eq("id",C);if(I){if(I.status===403||/policy/i.test(I.message||"")){console.warn("RLS rejection on deleteUser",{actorId:t.id,targetUserId:C,error:I}),ce(" RLS policy rejected deletion (unauthorized).");return}const V=(I.message||"").toLowerCase();if(I.status===404||V.includes("not found")||V.includes("no rows")){ce(" Usurio no encontrado.");return}if(V.includes("foreign key")||V.includes("violates")||V.includes("conflict")){ce(" Erro de integridade: o usurio tem registos dependentes. Remova dependncias antes de apagar.");return}ce(` Erro ao apagar funcionrio: ${I.message}`);return}i(V=>V.filter(X=>X.id!==C)),ce(" Funcionrio apagado com sucesso.")},mg=async(C,I,V)=>{const{data:X,error:ye}=await te.from("locations").insert({name:C,type:I,parent_id:V}).select().single();if(ye){ce(`Erro ao adicionar localizao: ${ye.message}`);return}const we={id:X.id,name:X.name,type:X.type,parentId:X.parent_id};j([...x,we]),ce("Nova localizao adicionada.")},pg=async C=>{if(n.some(X=>X.locationId===C)){ce("No  possvel remover. Existem usurios alocados para esta localizao.");return}const{error:V}=await te.from("locations").delete().match({id:C});if(V){ce(`Erro ao remover localizao: ${V.message}`);return}j(X=>X.filter(ye=>ye.id!==C)),ce("Localizao removida com sucesso.")},ef=C=>Ne([...je,C]),Qs=C=>Oe([...Ie,C]),Dc=(C,I)=>{const V={id:`type-${Date.now()}`,name:C,behavior:I};dt([...ke,V]),ce("Novo tipo de item configurado.")},ss=C=>{$.includes(C)||(Q([...$,C]),ce("Mtodo de pagamento adicionado."))},os=C=>{if(U.some(V=>V.paymentMethod===C)||K.some(V=>V.pagamentos.some(X=>X.modalidade===C))){ce("No  possvel remover. Mtodo em uso.");return}Q($.filter(V=>V!==C)),ce("Mtodo de pagamento removido.")},Js=C=>{ue.includes(C)||(oe([...ue,C]),ce("Categoria de despesa adicionada."))},ls=C=>{if(U.some(V=>V.category===C)){ce("No  possvel remover. Categoria em uso.");return}oe(ue.filter(V=>V!==C)),ce("Categoria removida.")},wr=C=>{Le(C),ce("Informaes da empresa atualizadas.")},tf=async C=>{const{data:I,error:V}=await te.from("clients").insert({name:C.name,nuit:C.nuit,email:C.email,contact:C.contact,address:C.address,notes:C.notes}).select().single();if(V){ce(`Erro ao registrar cliente: ${V.message}`);return}re(X=>[...X,I]),ce(`Cliente ${C.name} registrado.`)},rf=C=>{re(I=>I.map(V=>V.id===C.id?C:V)),ce("Dados do cliente atualizados.")},fi=C=>{const I=K.filter(X=>X.cliente.id===C&&X.status!=="CANCELADA");let V=0;return I.forEach(X=>{const ye=X.itens.reduce((_e,fe)=>_e+fe.quantidade*fe.precoUnitario,0),we=X.itens.reduce((_e,fe)=>_e+fe.quantidade*fe.precoUnitario*((fe.impostoPercent||0)/100),0),Te=ye+we,Ce=X.pagamentos.reduce((_e,fe)=>_e+fe.valor,0);V+=Te-Ce}),Math.max(0,V)},cs=async(C,I,V,X,ye)=>{if(!t){ce("Usurio no autenticado");return}if(!B(t.id)){ce("Erro: ID do usurio invlido. Contate o administrador.");return}const we={type:La.SALE,user_id:t.id,client_name:I,client_nuit:V,amount:ye,payment_method:X};if(t.locationId){if(!B(t.locationId)){ce("Erro: Localizao do usurio invlida. Contate o administrador.");return}we.location_id=t.locationId}const{data:Te,error:Ce}=await te.from("transactions").insert(we).select().single();if(Ce){const fe=Ce.message||"";fe.toLowerCase().includes("foreign key")||fe.toLowerCase().includes("violates foreign key")?ce("Erro de integridade referencial ao processar venda. Verifique cliente, localizao ou produtos."):ce(`Erro ao processar venda: ${fe}`);return}for(const fe of C)await te.from("transaction_items").insert({transaction_id:Te.id,item_id:fe.itemId,name:fe.name,quantity:fe.quantity,unit_price:fe.unitPrice}),t.locationId&&await mr(fe.itemId,t.locationId,-fe.quantity);const{data:_e}=await te.from("transactions").select("*, items:transaction_items(*)").order("date",{ascending:!1});_e&&z(_e.map(J)),ce("Venda realizada com sucesso!")},gg=async(C,I,V,X)=>{if(!t){ce("Usurio no autenticado");return}const ye={type:La.EXPENSE,user_id:t.id,description:C,category:I,amount:V,payment_method:X};if(!B(t.id)){ce("Erro: ID do usurio invlido. Contate o administrador.");return}if(t.locationId){if(!B(t.locationId)){ce("Erro: Localizao do usurio invlida. Contate o administrador.");return}ye.location_id=t.locationId}const{data:we,error:Te}=await te.from("transactions").insert(ye).select().single();if(Te){const _e=Te.message||"";_e.toLowerCase().includes("foreign key")||_e.toLowerCase().includes("violates foreign key")?ce("Erro de integridade referencial ao registrar despesa. Verifique cliente/locais."):ce(`Erro ao registrar despesa: ${_e}`);return}const{data:Ce}=await te.from("transactions").select("*, items:transaction_items(*)").order("date",{ascending:!1});Ce&&z(Ce.map(J)),ce("Despesa registrada.")},nf=()=>{const C=new Date().getFullYear(),I=K.filter(V=>V.numero.startsWith(`${C}/`)).length;return`${C}/${String(I+1).padStart(6,"0")}`},af=async C=>{var I,V,X,ye,we,Te,Ce,_e,fe,Pe,$e;try{if(!C.numero||C.numero.trim()===""){ce("Nmero da fatura invlido.");return}const{data:Vt}=await te.from("invoices").select("id").eq("numero",C.numero).limit(1);if(Vt&&Vt.length>0){ce(`Nmero de fatura j existe: ${C.numero}`);return}if(C.locationId&&!B(C.locationId)){ce("Localizao da fatura invlida. Remova ou selecione uma localizao vlida.");return}if(C.cliente&&C.cliente.id&&!B(C.cliente.id)){ce("Cliente selecionado invlido. Verifique o cliente.");return}if(C.cliente.id){const me=H.find(pe=>pe.id===C.cliente.id);if(me){if(me&&me.is_blocked){const Rr=me.block_reason||"No especificado";ce(`Cliente bloqueado: ${Rr}`);return}const pe=C.itens.reduce((Rr,jr)=>Rr+jr.quantidade*jr.precoUnitario*(1+(jr.impostoPercent||0)/100),0),Me=me.credit_limit||0,pr=me.credit_used||0,ar=Me-pr;if(pe>ar&&ar>=0){ce(`Crdito insuficiente. Limite: ${Me.toFixed(2)} MZN | Utilizado: ${pr.toFixed(2)} MZN | Disponvel: ${ar.toFixed(2)} MZN`);return}}}const st={id:C.id,numero:C.numero,tipo:C.tipo,status:C.status,location_id:C.locationId,company_name:((I=C.empresa)==null?void 0:I.nome)||null,company_nuit:((V=C.empresa)==null?void 0:V.nuit)||null,company_address:((X=C.empresa)==null?void 0:X.endereco)||null,company_contact:((ye=C.empresa)==null?void 0:ye.contacto)||null,client_id:((we=C.cliente)==null?void 0:we.id)||null,client_name:((Te=C.cliente)==null?void 0:Te.nome)||null,client_nuit:((Ce=C.cliente)==null?void 0:Ce.nuit)||null,client_address:((_e=C.cliente)==null?void 0:_e.endereco)||null,client_contact:((fe=C.cliente)==null?void 0:fe.contacto)||null,currency:C.moeda,issue_date:C.dataEmissao,due_date:C.vencimento||null,notes:C.observacoes||null,created_by:C.createdBy,is_editable:C.status==="RASCUNHO"},{data:He,error:wt}=await te.from("invoices").insert(st).select().single();if(wt){const me=wt.message||"";me.toLowerCase().includes("foreign key")||me.toLowerCase().includes("violates foreign key")?ce("Erro de integridade referencial: verifique cliente, localizao ou produtos relacionados."):me.toLowerCase().includes("duplicate")||me.toLowerCase().includes("unique")?ce("Nmero de fatura duplicado. Use outro nmero."):ce(`Erro ao salvar fatura: ${me}`);return}if(C.itens&&C.itens.length>0){const me=C.itens.map(Me=>({invoice_id:He.id,item_id:Me.itemId||null,description:Me.descricao,quantity:Me.quantidade,unit_price:Me.precoUnitario,tax_percent:Me.impostoPercent||16})),{error:pe}=await te.from("invoice_items").insert(me);pe&&ce(`Erro ao salvar itens da fatura: ${pe.message}`)}try{await te.from("invoice_audit_log").insert({invoice_id:He.id,action:"CREATE",changed_fields:{old_values:null,new_values:{numero:C.numero,status:C.status,cliente:C.cliente.nome,total_items:C.itens.length}},user_id:(t==null?void 0:t.id)||C.createdBy||null})}catch(me){console.warn("Failed to create audit log entry:",me)}if(C.pagamentos&&C.pagamentos.length>0){const me=C.pagamentos.map(Me=>({invoice_id:He.id,date:Me.data||new Date().toISOString(),amount:Me.valor,method:Me.modalidade,reference:Me.referencia||null})),{error:pe}=await te.from("invoice_payments").insert(me).select();pe&&ce(`Erro ao salvar pagamentos da fatura: ${pe.message}`);try{for(const Me of me){const pr={type:La.SALE,user_id:(t==null?void 0:t.id)||C.createdBy||null,invoice_id:He.id,client_name:((Pe=C.cliente)==null?void 0:Pe.nome)||(($e=C.cliente)==null?void 0:$e.id)||null,amount:Me.amount,payment_method:Me.method,location_id:C.locationId||(t==null?void 0:t.locationId)||null};await te.from("transactions").insert(pr)}}catch(Me){console.warn("failed to insert payment transactions for invoice",Me)}}(C.status==="EMITIDA"||C.status==="PAGA"||C.status==="PAGA_PARCIAL")&&(C.tipo==="FATURA"||C.tipo==="FATURA_RECIBO")&&C.itens.forEach(me=>{me.itemId&&mr(me.itemId,C.locationId,-me.quantidade)});const{data:ct}=await te.from("invoices").select("*, itens:invoice_items(*), pagamentos:invoice_payments(*)").order("created_at",{ascending:!1});ct&&M(ct.map(me=>({id:me.id,numero:me.numero,tipo:me.tipo,status:me.status,locationId:me.location_id,empresa:{nome:me.company_name,nuit:me.company_nuit,endereco:me.company_address,contacto:me.company_contact},cliente:{id:me.client_id,nome:me.client_name,nuit:me.client_nuit,endereco:me.client_address,contacto:me.client_contact},itens:(me.itens||[]).map(pe=>({itemId:pe.item_id,descricao:pe.description,quantidade:pe.quantity,precoUnitario:pe.unit_price,impostoPercent:pe.tax_percent})),pagamentos:(me.pagamentos||[]).map(pe=>({data:pe.date,valor:pe.amount,modalidade:pe.method,referencia:pe.reference})),moeda:me.currency,dataEmissao:me.issue_date,vencimento:me.due_date,observacoes:me.notes,createdBy:me.created_by}))),ce(`Documento ${C.tipo} criado: ${C.numero}`)}catch(Vt){ce(`Erro ao criar fatura: ${(Vt==null?void 0:Vt.message)||String(Vt)}`)}},sf=async C=>{var V,X,ye,we,Te,Ce,_e,fe,Pe;const I=K.find($e=>$e.id===C.id);try{const $e={numero:C.numero,tipo:C.tipo,status:C.status,location_id:C.locationId,company_name:((V=C.empresa)==null?void 0:V.nome)||null,company_nuit:((X=C.empresa)==null?void 0:X.nuit)||null,company_address:((ye=C.empresa)==null?void 0:ye.endereco)||null,company_contact:((we=C.empresa)==null?void 0:we.contacto)||null,client_id:((Te=C.cliente)==null?void 0:Te.id)||null,client_name:((Ce=C.cliente)==null?void 0:Ce.nome)||null,client_nuit:((_e=C.cliente)==null?void 0:_e.nuit)||null,client_address:((fe=C.cliente)==null?void 0:fe.endereco)||null,client_contact:((Pe=C.cliente)==null?void 0:Pe.contacto)||null,currency:C.moeda,issue_date:C.dataEmissao,due_date:C.vencimento||null,notes:C.observacoes||null,created_by:C.createdBy},{error:Vt}=await te.from("invoices").update($e).eq("id",C.id);if(Vt&&ce(`Erro ao atualizar fatura: ${Vt.message}`),await te.from("invoice_items").delete().eq("invoice_id",C.id),C.itens&&C.itens.length>0){const He=C.itens.map(ct=>({invoice_id:C.id,item_id:ct.itemId||null,description:ct.descricao,quantity:ct.quantidade,unit_price:ct.precoUnitario,tax_percent:ct.impostoPercent||0})),{error:wt}=await te.from("invoice_items").insert(He);wt&&ce(`Erro ao salvar itens da fatura: ${wt.message}`)}if(await te.from("invoice_payments").delete().eq("invoice_id",C.id),C.pagamentos&&C.pagamentos.length>0){const He=C.pagamentos.map(ct=>({invoice_id:C.id,date:ct.data||new Date().toISOString(),amount:ct.valor,method:ct.modalidade,reference:ct.referencia||null})),{error:wt}=await te.from("invoice_payments").insert(He);wt&&ce(`Erro ao salvar pagamentos da fatura: ${wt.message}`)}const{data:st}=await te.from("invoices").select("*, itens:invoice_items(*), pagamentos:invoice_payments(*)").order("created_at",{ascending:!1});if(st&&M(st.map(He=>({id:He.id,numero:He.numero,tipo:He.tipo,status:He.status,locationId:He.location_id,empresa:{nome:He.company_name,nuit:He.company_nuit,endereco:He.company_address,contacto:He.company_contact},cliente:{id:He.client_id,nome:He.client_name,nuit:He.client_nuit,endereco:He.client_address,contacto:He.client_contact},itens:(He.itens||[]).map(wt=>({itemId:wt.item_id,descricao:wt.description,quantidade:wt.quantity,precoUnitario:wt.unit_price,impostoPercent:wt.tax_percent})),pagamentos:(He.pagamentos||[]).map(wt=>({data:wt.date,valor:wt.amount,modalidade:wt.method,referencia:wt.reference})),moeda:He.currency,dataEmissao:He.issue_date,vencimento:He.due_date,observacoes:He.notes,createdBy:He.created_by}))),I){const He=I.status==="RASCUNHO",wt=C.status==="EMITIDA"||C.status==="PAGA"||C.status==="PAGA_PARCIAL",ct=C.tipo==="FATURA"||C.tipo==="FATURA_RECIBO";He&&wt&&ct&&C.itens.forEach(me=>{me.itemId&&mr(me.itemId,C.locationId,-me.quantidade)})}ce(`Documento atualizado: ${C.numero}`)}catch($e){ce(`Erro ao atualizar fatura: ${($e==null?void 0:$e.message)||String($e)}`)}},Jo=async C=>{try{const{error:I}=await te.from("invoice_payments").delete().eq("invoice_id",C);I&&ce(`Erro ao remover pagamentos da fatura: ${I.message}`);const{error:V}=await te.from("invoice_items").delete().eq("invoice_id",C);V&&ce(`Erro ao remover itens da fatura: ${V.message}`);const{error:X}=await te.from("invoices").delete().eq("id",C);if(X){ce(`Erro ao remover fatura: ${X.message}`);return}const{data:ye}=await te.from("invoices").select("*, itens:invoice_items(*), pagamentos:invoice_payments(*)").order("created_at",{ascending:!1});ye&&M(ye.map(we=>({id:we.id,numero:we.numero,tipo:we.tipo,status:we.status,locationId:we.location_id,empresa:{nome:we.company_name,nuit:we.company_nuit,endereco:we.company_address,contacto:we.company_contact},cliente:{id:we.client_id,nome:we.client_name,nuit:we.client_nuit,endereco:we.client_address,contacto:we.client_contact},itens:(we.itens||[]).map(Te=>({itemId:Te.item_id,descricao:Te.description,quantidade:Te.quantity,precoUnitario:Te.unit_price,impostoPercent:Te.tax_percent})),pagamentos:(we.pagamentos||[]).map(Te=>({data:Te.date,valor:Te.amount,modalidade:Te.method,referencia:Te.reference})),moeda:we.currency,dataEmissao:we.issue_date,vencimento:we.due_date,observacoes:we.notes,createdBy:we.created_by}))),ce("Fatura removida com sucesso.")}catch(I){ce(`Erro ao remover fatura: ${(I==null?void 0:I.message)||String(I)}`)}},el=async(C,I)=>{var $e,Vt;const V=K.find(st=>st.id===C);if(!V)return;try{const{data:st}=await te.from("invoices").select("id").eq("id",C).single();if(st){const{error:He}=await te.from("invoice_payments").insert({invoice_id:C,date:I.data||new Date().toISOString(),amount:I.valor,method:I.modalidade,reference:I.referencia||null});He&&ce(`Erro ao persistir pagamento: ${He.message}`);const wt=[...V.pagamentos,I],ct=V.itens.reduce((Rr,jr)=>Rr+jr.quantidade*jr.precoUnitario,0),me=V.itens.reduce((Rr,jr)=>Rr+jr.quantidade*jr.precoUnitario*((jr.impostoPercent||0)/100),0),pe=ct+me,Me=wt.reduce((Rr,jr)=>Rr+jr.valor,0);let pr=V.status;Me>=pe-.1?pr="PAGA":Me>0&&(pr="PAGA_PARCIAL");const{error:ar}=await te.from("invoices").update({status:pr}).eq("id",C);ar&&ce(`Erro ao atualizar status da fatura: ${ar.message}`)}}catch(st){console.warn("persisting invoice payment failed",st)}const X={type:La.SALE,user_id:t==null?void 0:t.id,invoice_id:C,description:`Recebimento (${V.numero})`,amount:I.valor,payment_method:I.modalidade};t!=null&&t.locationId&&(B(t.locationId)?t&&(X.location_id=t.locationId):console.warn("Localizao do usurio invlida ao criar transao de pagamento; gravando sem location_id.")),($e=V.cliente)!=null&&$e.nome?X.client_name=V.cliente.nome:V.client_name&&(X.client_name=V.client_name),(Vt=V.cliente)!=null&&Vt.nuit?X.client_nuit=V.cliente.nuit:V.client_nuit&&(X.client_nuit=V.client_nuit);try{if(!B(X.user_id)){ce("Erro: usurio invlido ao registrar transao. Contate o administrador.");return}const{data:st,error:He}=await te.from("transactions").insert(X).select().single();if(He)ce(`Erro ao registrar recebimento: ${He.message}`);else{const{data:wt}=await te.from("transactions").select("*, items:transaction_items(*)").order("date",{ascending:!1});wt&&z(wt.map(J))}}catch(st){console.warn("failed to insert payment transaction",st)}const ye=[...V.pagamentos,I],we=V.itens.reduce((st,He)=>st+He.quantidade*He.precoUnitario,0),Te=V.itens.reduce((st,He)=>st+He.quantidade*He.precoUnitario*((He.impostoPercent||0)/100),0),Ce=we+Te,_e=ye.reduce((st,He)=>st+He.valor,0);let fe=V.status;_e>=Ce-.1?fe="PAGA":_e>0&&(fe="PAGA_PARCIAL");const Pe={...V,pagamentos:ye,status:fe};sf(Pe),ce(`Pagamento de ${I.valor} registrado.`)},Oa=(C,I)=>{ee(V=>({...V,[C]:{advances:I}}))},On=C=>{const I=D.filter(ar=>ar.workerId===C.id),V=I.filter(ar=>ar.status===ut.FULL_DAY).length,X=I.filter(ar=>ar.status===ut.HALF_DAY).length,ye=I.filter(ar=>ar.status===ut.ABSENT).length,we=V+X*.5,Te=I.reduce((ar,Rr)=>ar+(Rr.production||0),0),Ce=C.defaultDailyGoal||0,_e=we*Ce,fe=_e>0?Te/_e*100:0,Pe=C.dailyRate||0,$e=C.halfDayRate||0,Vt=C.bonusPerUnit||0,st=C.absencePenalty||0,He=V*Pe+X*$e,ct=Math.max(0,Te-_e)*Vt,me=L[C.id]||{advances:0},Me=ye*st+me.advances,pr=He+ct-Me;return{userId:C.id,userName:C.name,fullDays:V,halfDays:X,absences:ye,targetProduction:_e,realProduction:Te,efficiency:Math.floor(fe),baseSalary:He,productionBonus:ct,totalDeductions:Me,netSalary:pr}},of=async C=>{var I,V;if(!t)throw new Error("Ao no permitida: Usurio no autenticado.");if(!ge)throw new Error("Apenas administradores podem criar usurios.");if(!C.password)throw new Error("Senha  obrigatria");try{ce(` Criando usurio ${C.name}...`);const X=await zU({name:C.name,email:C.email,password:C.password,role:String(C.role),locationId:C.locationId||null,jobTitle:C.jobTitle||null,defaultDailyGoal:C.defaultDailyGoal??null,dailyRate:C.dailyRate??null,halfDayRate:C.halfDayRate??null,absencePenalty:C.absencePenalty??null,bonusPerUnit:C.bonusPerUnit??null});if(!X.success){console.error(" Edge Function error:",X);const Te=X.error||`Erro ao criar usurio (status ${X.status||"unknown"})`;throw ce(` Erro: ${Te}`),new Error(Te)}console.log(" Usurio criado com sucesso! ID:",((I=X.data)==null?void 0:I.userId)||((V=X.data)==null?void 0:V.user_id)||null),ce(" Usurio criado! Atualizando lista...");const{data:ye,error:we}=await te.from("users").select("*");if(we)console.error("Erro ao buscar lista de usurios:",we),ce(" Usurio criado, mas erro ao atualizar lista");else if(ye){const Te=ye.map(Ce=>({id:Ce.id,name:Ce.name,role:Ce.role,email:Ce.email,locationId:Ce.location_id||null,jobTitle:Ce.job_title,defaultDailyGoal:Ce.default_daily_goal,dailyRate:Ce.daily_rate,halfDayRate:Ce.half_day_rate,absencePenalty:Ce.absence_penalty,bonusPerUnit:Ce.bonus_per_unit}));i(Te),ce(` Usurio ${C.name} criado com sucesso!`,6e3)}}catch(X){console.error(" Exception ao criar usurio:",X);const ye=(X==null?void 0:X.message)||"Erro desconhecido ao criar usurio";throw ce(` Erro: ${ye}`,6e3),X}},yg=async C=>{if(t)try{const I=n.find(_e=>_e.id===C.entidade_id),V=(I==null?void 0:I.locationId)||t.locationId;if(!V){ce("Erro: No foi possvel determinar a localizao para sada de stock.");return}let X=0;if(C.produto_id){const _e=_.find(fe=>fe.itemId===C.produto_id&&fe.locationId===V);X=(_e==null?void 0:_e.quantity)||0}const{count:ye}=await te.from("fichas_individuais").select("id",{count:"exact",head:!0}),we=`FICHA-${new Date().getFullYear()}-${String((ye||0)+1).padStart(4,"0")}`,{data:Te,error:Ce}=await te.from("fichas_individuais").insert({codigo:we,tipo:C.tipo,entidade_id:C.entidade_id,entidade_tipo:C.entidade_tipo,data:C.data,produto_id:C.produto_id,produto_name:C.produto,quantity_delivered:C.quantidade,unidade:C.unidade,stock_antes:X,stock_depois:X-C.quantidade,observacoes:C.observacoes,delivered_by:t.id,estado:"confirmado"}).select().single();if(Ce)throw Ce;C.produto_id&&await mr(C.produto_id,V,-C.quantidade),xt(_e=>[Te,..._e]),ce("Entrega registrada e stock atualizado!")}catch(I){console.error("Erro ao criar ficha:",I),ce(`Erro ao criar ficha: ${I.message}`)}},kc=async C=>{if(t)try{const{error:I}=await te.from("fichas_individuais").update({estado:"confirmado"}).eq("id",C);if(I)throw I;xt(V=>V.map(X=>X.id===C?{...X,estado:"confirmado"}:X)),ce("Ficha confirmada!")}catch(I){ce(`Erro ao confirmar ficha: ${I.message}`)}},lf=async C=>{if(t)try{const{error:I}=await te.from("fichas_individuais").update({estado:"trancado"}).eq("id",C);if(I)throw I;xt(V=>V.map(X=>X.id===C?{...X,estado:"trancado"}:X)),ce("Ficha trancada!")}catch(I){ce(`Erro ao trancar ficha: ${I.message}`)}},tl=async C=>{if(!t||t.role!==Ee.ADMIN){ce("Apenas administradores podem editar fichas.");return}try{const{error:I}=await te.from("fichas_individuais").update(C).eq("id",C.id);if(I)throw I;xt(V=>V.map(X=>X.id===C.id?C:X)),ce("Ficha atualizada!")}catch(I){ce(`Erro ao atualizar ficha: ${I.message}`)}},vg=async C=>{if(!t||t.role!==Ee.ADMIN){ce("Apenas administradores podem apagar fichas.");return}try{const{error:I}=await te.from("fichas_individuais").delete().eq("id",C);if(I)throw I;xt(V=>V.filter(X=>X.id!==C)),ce("Ficha apagada!")}catch(I){ce(`Erro ao apagar ficha: ${I.message}`)}},Tn=async C=>{if(t)try{const{data:I,error:V}=await te.from("initial_stock").insert({...C,usuario_registou:t.id}).select().single();if(V)throw V;$t(X=>[...X,I]),ce("Stock inicial criado!")}catch(I){ce(`Erro ao criar stock inicial: ${I.message}`)}},Rc=async C=>{if(t)try{const{data:I,error:V}=await te.from("stock_alarms").upsert(C).select().single();if(V)throw V;Ae(X=>X.map(ye=>ye.id===C.id?I:ye)),ce("Alarme de stock atualizado!")}catch(I){ce(`Erro ao atualizar alarme: ${I.message}`)}},cf=(C,I)=>et.filter(V=>V.tabela===C&&V.record_id===I),Mc=async C=>{if(t)try{const{data:I,error:V}=await te.from("cost_centers").insert({...C,created_at:new Date().toISOString()}).select().single();if(V)throw V;Pr(X=>[...X,I]),ce("Centro de custo criado!")}catch(I){ce(`Erro ao criar centro de custo: ${I.message}`)}},us=async C=>{if(t)try{const{data:I,error:V}=await te.from("cost_centers").update(C).eq("id",C.id).select().single();if(V)throw V;Pr(X=>X.map(ye=>ye.id===C.id?I:ye)),ce("Centro de custo atualizado!")}catch(I){ce(`Erro ao atualizar centro de custo: ${I.message}`)}},uf=async C=>{if(t)try{const{error:I}=await te.from("cost_centers").delete().eq("id",C);if(I)throw I;Pr(V=>V.filter(X=>X.id!==C)),ce("Centro de custo removido!")}catch(I){ce(`Erro ao remover centro de custo: ${I.message}`)}},df=async C=>{if(t)try{const I=C.quantity*C.unitPrice,{data:V,error:X}=await te.from("pending_invoice_items").insert({...C,total_value:I,invoiced_quantity:0,remaining_quantity:C.quantity,created_by:t.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}).select().single();if(X)throw X;bn(ye=>[...ye,V]),ce("Item por faturar criado!")}catch(I){ce(`Erro ao criar item pendente: ${I.message}`)}},ds=async C=>{if(t)try{const{data:I,error:V}=await te.from("pending_invoice_items").update({...C,updated_at:new Date().toISOString()}).eq("id",C.id).select().single();if(V)throw V;bn(X=>X.map(ye=>ye.id===C.id?I:ye)),ce("Item pendente atualizado!")}catch(I){ce(`Erro ao atualizar item pendente: ${I.message}`)}},xg=async C=>{if(t)try{const{error:I}=await te.from("pending_invoice_items").delete().eq("id",C);if(I)throw I;bn(V=>V.filter(X=>X.id!==C)),ce("Item pendente removido!")}catch(I){ce(`Erro ao remover item pendente: ${I.message}`)}},ff=async(C,I,V)=>{if(t)try{const{data:X,error:ye}=await te.from("invoice_pending_links").insert({invoice_item_id:C,pending_item_id:I,quantity_used:V,created_at:new Date().toISOString()}).select().single();if(ye)throw ye;ui(we=>[...we,X]),ce("Item ligado  fatura!")}catch(X){ce(`Erro ao ligar item: ${X.message}`)}},hf=async C=>{if(t)try{const{data:I,error:V}=await te.from("credit_notes").insert({...C,created_by:t.id,created_at:new Date().toISOString()}).select().single();if(V)throw V;Dr(X=>[...X,I]),ce("Nota de crdito criada!")}catch(I){ce(`Erro ao criar nota de crdito: ${I.message}`)}},Ic=async C=>{if(t)try{const{data:I,error:V}=await te.from("credit_notes").update(C).eq("id",C.id).select().single();if(V)throw V;Dr(X=>X.map(ye=>ye.id===C.id?I:ye)),ce("Nota de crdito atualizada!")}catch(I){ce(`Erro ao atualizar nota de crdito: ${I.message}`)}},bg=async C=>{if(t)try{const{data:I,error:V}=await te.from("clients").update({...C,credit_limit:C.creditLimit,current_balance:C.currentBalance,status:C.status,client_type:C.clientType}).eq("id",C.id).select().single();if(V)throw V;re(X=>X.map(ye=>ye.id===C.id?I:ye)),ce("Cliente atualizado!")}catch(I){ce(`Erro ao atualizar cliente: ${I.message}`)}},wg=C=>{const I=H.find(ye=>ye.id===C);if(!I)return{availableCredit:0,isBlocked:!0};const V=I.creditLimit-I.currentBalance,X=I.status==="BLOCKED"||I.status==="SUSPENDED"||V<0;return{availableCredit:V,isBlocked:X}},rl=async(C,I)=>({period:`${C} - ${I}`,totalSales:0,totalInvoices:K.length,totalClients:H.length,salesByProduct:[],salesByClient:[]}),Ta=async(C,I)=>({accountsReceivable:0,overdueAccounts:0,cashFlow:[],clientBalances:[]}),Lc=async(C,I)=>({costCenters:[],products:[]}),zc=()=>{try{typeof window<"u"&&window.localStorage&&(console.log(" Limpando localStorage..."),localStorage.clear())}catch(C){console.warn("No foi possvel limpar localStorage:",C)}i([]),v([]),j([]),N([]),O([]),P([]),T([]),q([]),G([]),z([]),M([]),re([]),xt([]),$t([]),Ae([]),De([]),Pr([]),bn([]),ui([]),Dr([]),Ne([]),Oe([]),dt([]),Q([]),oe([]),Le({nome:"",nuit:"",endereco:"",contacto:""}),Ve(mt[0]||"MZN"),ee({}),c(null),r(null),f(new Date),p(null),ce("Dados locais reiniciados.")};return Zt?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-white to-blue-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-emerald-600 rounded-2xl mb-4 animate-pulse",children:l.jsx("span",{className:"text-3xl",children:""})}),l.jsx("p",{className:"text-gray-600",children:"Carregando dados..."})]})}):l.jsx(uD.Provider,{value:{currentUser:t,allUsers:n,items:g,locations:x,inventory:_,requisitions:S,requisitionSheets:A,performanceRecords:D,accountingEntries:R,transactions:U,invoices:K,clients:H,fichasIndividuais:hr,initialStocks:An,stockAlarms:Wa,auditLogs:et,logEntries:Y,costCenters:rt,pendingInvoiceItems:Bn,invoicePendingLinks:qn,creditNotes:Aa,selectedDepartmentId:s,lastUpdated:d,notification:h,isAdminOrGM:ge,categories:je,measureUnits:Ie,itemTypes:ke,rolePermissions:be,paymentMethods:$,expenseCategories:ue,companyInfo:Je,availableCurrencies:mt,defaultCurrency:lt,payrollParams:L,setSelectedDepartmentId:c,createRequisition:ns,createRequisitionSheet:di,updateRequisitionStatus:Cc,updateRequisitionSheetStatus:kr,updateRequisitionSheetItemDelivery:wn,getInventoryByLocation:At,getItemName:qt,getLocationName:tn,getClientName:as,savePerformanceRecord:bt,getWorkersByManager:Tt,getWorkersByLocation:hn,refreshData:Xa,registerNewItem:vt,addToInventory:le,deleteItem:Et,updateItem:Ke,resetLocalData:zc,addUser:of,updateUser:is,deleteUser:Pc,addLocation:mg,removeLocation:pg,addCategory:ef,addMeasureUnit:Qs,addItemType:Dc,addPaymentMethod:ss,removePaymentMethod:os,addExpenseCategory:Js,removeExpenseCategory:ls,updateCompanyInfo:wr,setDefaultCurrency:Ve,processSale:cs,registerExpense:gg,hasPermission:Ya,togglePermission:rs,addInvoice:af,updateInvoice:sf,deleteInvoice:Jo,getNextInvoiceNumber:nf,registerPayment:el,addClient:tf,updateClient:rf,getClientBalance:fi,updatePayrollParams:Oa,calculatePayrollForUser:On,createFicha:yg,confirmFicha:kc,lockFicha:lf,updateFicha:tl,deleteFicha:vg,createInitialStock:Tn,updateStockAlarm:Rc,getAuditLogsForTable:cf,addCostCenter:Mc,updateCostCenter:us,deleteCostCenter:uf,createPendingInvoiceItem:df,updatePendingInvoiceItem:ds,deletePendingInvoiceItem:xg,linkInvoiceToPendingItem:ff,createCreditNote:hf,updateCreditNote:Ic,updateClientExtended:bg,getClientCreditStatus:wg,generateSalesReport:rl,generateFinancialReport:Ta,generateProfitabilityReport:Lc},children:e})},$r=()=>{const e=w.useContext(uD);if(!e)throw new Error("useLogistics must be used within a LogisticsProvider");return e};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BU=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qU=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),lA=e=>{const t=qU(e);return t.charAt(0).toUpperCase()+t.slice(1)},dD=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),VU=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var FU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GU=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:c,...d},f)=>w.createElement("svg",{ref:f,...FU,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:dD("lucide",i),...!s&&!VU(d)&&{"aria-hidden":"true"},...d},[...c.map(([h,p])=>w.createElement(h,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=(e,t)=>{const r=w.forwardRef(({className:n,...i},s)=>w.createElement(GU,{ref:s,iconNode:t,className:dD(`lucide-${BU(lA(e))}`,`lucide-${e}`,n),...i}));return r.displayName=lA(e),r};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HU=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],KU=Re("activity",HU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WU=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],YU=Re("arrow-left",WU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XU=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],rc=Re("arrow-right",XU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZU=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],uw=Re("banknote",ZU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QU=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],JU=Re("bell",QU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e8=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],ko=Re("box",e8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t8=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],fD=Re("briefcase",t8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r8=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],nm=Re("building-2",r8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n8=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],a8=Re("calculator",n8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i8=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ed=Re("calendar",i8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s8=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],qx=Re("chart-column",s8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o8=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],l8=Re("chart-no-axes-column",o8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c8=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],hD=Re("chart-pie",c8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u8=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],d8=Re("check",u8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f8=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],cA=Re("chevron-down",f8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h8=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],m8=Re("chevron-left",h8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p8=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],am=Re("chevron-right",p8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g8=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],uA=Re("chevron-up",g8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ro=Re("circle-alert",y8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v8=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],wa=Re("circle-check-big",v8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],b8=Re("circle-user",x8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],im=Re("circle-x",w8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j8=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],Vx=Re("clipboard-check",j8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _8=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],rd=Re("clock",_8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N8=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],S8=Re("coins",N8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E8=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],mD=Re("credit-card",E8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A8=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],zn=Re("dollar-sign",A8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O8=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],dw=Re("download",O8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T8=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Va=Re("file-text",T8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C8=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],pD=Re("funnel",C8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],D8=Re("globe",P8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k8=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],fw=Re("history",k8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R8=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],gD=Re("landmark",R8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M8=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],I8=Re("layout-dashboard",M8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L8=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],dA=Re("loader-circle",L8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z8=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],$o=Re("lock",z8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U8=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],$8=Re("log-out",U8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B8=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],fA=Re("mail",B8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q8=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],$i=Re("map-pin",q8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V8=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],F8=Re("menu",V8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G8=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Fx=Re("message-circle",G8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H8=[["path",{d:"M5 12h14",key:"1ays0h"}]],K8=Re("minus",H8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W8=[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],zy=Re("package-check",W8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y8=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],hw=Re("package",Y8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X8=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],qu=Re("paperclip",X8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z8=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Q8=Re("phone",Z8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J8=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],dn=Re("plus",J8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e$=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],mw=Re("printer",e$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t$=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],r$=Re("receipt",t$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],a$=Re("refresh-cw",n$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i$=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],nc=Re("save",i$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s$=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],o$=Re("scale",s$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l$=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],$s=Re("search",l$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c$=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],u$=Re("send",c$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],pw=Re("settings",d$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f$=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],h$=Re("shield-check",f$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m$=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],yD=Re("shield",m$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p$=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Gx=Re("shopping-cart",p$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g$=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],y$=Re("smartphone",g$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v$=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],x$=Re("sparkles",v$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b$=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],hA=Re("square-pen",b$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w$=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],vD=Re("tag",w$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j$=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Bs=Re("trash-2",j$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _$=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],gw=Re("trending-down",_$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N$=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Ad=Re("trending-up",N$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S$=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],E$=Re("triangle-alert",S$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A$=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Ci=Re("truck",A$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O$=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],T$=Re("user-check",O$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],sm=Re("user-plus",C$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P$=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Vu=Re("user",P$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],fp=Re("users",D$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k$=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],na=Re("x",k$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R$=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],M$=Re("zap",R$),I$=({children:e,activeTab:t,onTabChange:r})=>{var K;const{currentUser:n,locations:i,selectedDepartmentId:s,setSelectedDepartmentId:c,requisitions:d,updateRequisitionStatus:f,getWorkersByLocation:h,refreshData:p,lastUpdated:g,notification:v,isAdminOrGM:x,hasPermission:j}=$r(),[_,N]=w.useState(!1),[S,O]=w.useState(!1),A=async()=>{O(!0);try{console.log(" Usurio clicou em Sincronizar"),await p(),setTimeout(()=>{(n==null?void 0:n.role)==="WORKER"&&(n==null?void 0:n.email)==="davidjuniormuianga@gmail.com"&&(console.log(" Ainda WORKER aps refresh, fazendo hard reload..."),window.location.reload())},1e3)}finally{O(!1)}};if(!n)return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-white to-blue-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-emerald-600 rounded-2xl mb-4 animate-pulse",children:l.jsx("span",{className:"text-3xl",children:""})}),l.jsx("p",{className:"text-gray-600",children:"Carregando..."})]})});const P=async()=>{confirm("Tem certeza que deseja sair?")&&(await te.auth.signOut(),window.location.reload())},D=M=>{switch(M){case Ee.ADMIN:return"bg-purple-100 text-purple-800 border-purple-200";case Ee.GENERAL_MANAGER:return"bg-indigo-100 text-indigo-800 border-indigo-200";case Ee.MANAGER:return"bg-blue-100 text-blue-800 border-blue-200";case Ee.WORKER:return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800"}},T=M=>{r(M),N(!1)},R=M=>{c(M),T("dashboard"),N(!1)},q=M=>{c(null),T(M),N(!1)},Y=d.filter(M=>M.status===ot.PENDING),G=Y.length>0,U=j("MANAGE_REQUISITIONS"),z=M=>{M.stopPropagation(),confirm(`Tem certeza que deseja aprovar TODAS as ${Y.length} requisies pendentes?`)&&(Y.forEach(H=>{f(H.id,ot.APPROVED)}),T("requisitions"))},J=i.filter(M=>M.type===Lr.BRANCH),B=s?(K=i.find(M=>M.id===s))==null?void 0:K.name:"Viso Global";return l.jsxs("div",{className:"flex h-screen bg-gray-50 overflow-hidden",children:[_&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden backdrop-blur-sm transition-opacity",onClick:()=>N(!1)}),l.jsxs("aside",{className:`
        fixed inset-y-0 left-0 z-50 w-72 bg-slate-900 text-white flex flex-col shadow-2xl transform transition-transform duration-300 ease-in-out
        lg:static lg:w-64 lg:translate-x-0
        ${_?"translate-x-0":"-translate-x-full"}
      `,children:[l.jsxs("div",{className:"p-6 border-b border-slate-700 cursor-pointer flex justify-between items-center bg-slate-950",onClick:()=>q("dashboard"),children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-8 h-8 rounded bg-emerald-600 flex items-center justify-center font-bold text-white shadow-lg shadow-emerald-900/50",children:"O"}),l.jsx("h1",{className:"text-lg font-bold tracking-tight leading-tight",children:"OFFICE FLORESTAL"})]}),l.jsx("p",{className:"text-[10px] text-slate-400 mt-1 uppercase tracking-wider",children:"Logstica & Gesto"})]}),l.jsx("button",{onClick:M=>{M.stopPropagation(),N(!1)},className:"lg:hidden text-slate-400 hover:text-white p-2","aria-label":"Fechar menu",title:"Fechar menu",children:l.jsx(na,{size:24})})]}),l.jsxs("nav",{className:"flex-1 p-3 space-y-1 overflow-y-auto custom-scrollbar",children:[j("VIEW_DASHBOARD")&&l.jsxs("button",{onClick:()=>T("dashboard"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${t==="dashboard"?"bg-blue-600 text-white shadow-md":"text-slate-300 hover:bg-slate-800"}`,children:[l.jsx(I8,{size:20}),l.jsx("span",{className:"font-medium text-sm",children:"Viso Geral"})]}),l.jsxs("button",{onClick:()=>T("chat"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${t==="chat"?"bg-blue-600 text-white shadow-md":"text-slate-300 hover:bg-slate-800"}`,"aria-label":"Abrir chat de equipe",title:"Chat de Equipe",children:[l.jsx(Fx,{size:20}),l.jsx("span",{className:"font-medium text-sm",children:"Chat"})]}),j("VIEW_REQUISITIONS")&&l.jsxs("div",{className:"space-y-1",children:[l.jsxs("button",{onClick:()=>T("requisitions"),className:`w-full flex items-center justify-between px-4 py-3 rounded-lg transition-all ${t==="requisitions"?"bg-blue-600 text-white shadow-md":"text-slate-300 hover:bg-slate-800"}`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Ci,{size:20}),l.jsx("span",{className:"font-medium text-sm",children:"Requisies"})]}),G&&l.jsx("span",{className:"bg-orange-500 text-white text-xs font-bold px-2 py-0.5 rounded-full shadow-sm",children:Y.length})]}),U&&G&&l.jsx("div",{className:"px-4 pb-2",children:l.jsxs("button",{onClick:z,className:"w-full text-xs bg-emerald-600 hover:bg-emerald-700 text-white py-2.5 rounded flex items-center justify-center gap-2 transition-colors shadow-sm font-medium border border-emerald-500",children:[l.jsx(wa,{size:14}),"Aprovar ",Y.length," Pendentes"]})})]}),j("VIEW_INVENTORY")&&l.jsxs("button",{onClick:()=>T("inventory"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${t==="inventory"?"bg-blue-600 text-white shadow-md":"text-slate-300 hover:bg-slate-800"}`,children:[l.jsx(hw,{size:20}),l.jsx("span",{className:"font-medium text-sm",children:"Estoque"})]}),j("VIEW_INVENTORY")&&l.jsxs("button",{onClick:()=>T("fichas"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${t==="fichas"?"bg-blue-600 text-white shadow-md":"text-slate-300 hover:bg-slate-800"}`,children:[l.jsx(Vx,{size:20}),l.jsx("span",{className:"font-medium text-sm",children:"Fichas Individuais"})]}),j("VIEW_PERFORMANCE")&&l.jsxs("button",{onClick:()=>T("performance"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${t==="performance"?"bg-blue-600 text-white shadow-md":"text-slate-300 hover:bg-slate-800"}`,children:[l.jsx(Vx,{size:20}),l.jsx("span",{className:"font-medium text-sm",children:"Desempenho"})]}),j("VIEW_POS")&&l.jsxs("div",{className:"space-y-1",children:[l.jsxs("button",{onClick:()=>T("pos"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${t==="pos"?"bg-blue-600 text-white shadow-md":"text-slate-300 hover:bg-slate-800"}`,children:[l.jsx(Gx,{size:20}),l.jsx("span",{className:"font-medium text-sm",children:"POS & Financeiro"})]}),x&&l.jsxs("div",{className:"pl-8 space-y-1",children:[l.jsxs("button",{onClick:()=>T("contas-receber"),className:`w-full flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-all ${t==="contas-receber"?"bg-blue-600 text-white shadow-md":"text-slate-300 hover:bg-slate-800"}`,title:"Contas a Receber",children:[l.jsx(zn,{size:16}),l.jsx("span",{children:"Contas a Receber"})]}),l.jsxs("button",{onClick:()=>T("expense-approvals"),className:`w-full flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-all ${t==="expense-approvals"?"bg-blue-600 text-white shadow-md":"text-slate-300 hover:bg-slate-800"}`,title:"Aprovao de Despesas",children:[l.jsx(zn,{size:16}),l.jsx("span",{children:"Aprovao de Despesas"})]}),l.jsxs("button",{onClick:()=>T("expense-reports"),className:`w-full flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-all ${t==="expense-reports"?"bg-blue-600 text-white shadow-md":"text-slate-300 hover:bg-slate-800"}`,title:"Relatrios de Oramento",children:[l.jsx(zn,{size:16}),l.jsx("span",{children:"Relatrios de Oramento"})]})]})]}),j("VIEW_PATRIMONY")&&l.jsxs("button",{onClick:()=>T("patrimony"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${t==="patrimony"?"bg-blue-600 text-white shadow-md":"text-slate-300 hover:bg-slate-800"}`,children:[l.jsx(gD,{size:20}),l.jsx("span",{className:"font-medium text-sm",children:"Patrimnio"})]}),j("VIEW_HR")&&l.jsxs("button",{onClick:()=>T("hr"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${t==="hr"?"bg-blue-600 text-white shadow-md":"text-slate-300 hover:bg-slate-800"}`,children:[l.jsx(fD,{size:20}),l.jsx("span",{className:"font-medium text-sm",children:"Recursos Humanos"})]}),j("VIEW_PAYROLL")&&l.jsxs("button",{onClick:()=>T("payroll"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${t==="payroll"?"bg-blue-600 text-white shadow-md":"text-slate-300 hover:bg-slate-800"}`,children:[l.jsx(uw,{size:20}),l.jsx("span",{className:"font-medium text-sm",children:"Folha Salarial"})]}),j("VIEW_SETTINGS")&&l.jsxs("button",{onClick:()=>T("settings"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${t==="settings"?"bg-blue-600 text-white shadow-md":"text-slate-300 hover:bg-slate-800"}`,children:[l.jsx(pw,{size:20}),l.jsx("span",{className:"font-medium text-sm",children:"Definies"})]}),j("MANAGE_PERMISSIONS")&&l.jsxs("button",{onClick:()=>T("permissions"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${t==="permissions"?"bg-blue-600 text-white shadow-md":"text-slate-300 hover:bg-slate-800"}`,children:[l.jsx(yD,{size:20}),l.jsx("span",{className:"font-medium text-sm",children:"Permisses"})]}),l.jsxs("div",{className:"pt-4 mt-2 border-t border-slate-700",children:[l.jsx("p",{className:"px-4 text-[10px] font-bold text-slate-500 uppercase mb-2 tracking-wider",children:"Filiais"}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("button",{onClick:()=>q("dashboard"),className:`w-full flex items-center justify-between px-4 py-2.5 rounded-lg transition-colors text-sm ${s?"text-slate-400 hover:bg-slate-800 hover:text-slate-200":"bg-slate-800 text-white border border-slate-600"}`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(D8,{size:16}),l.jsx("span",{className:"font-medium",children:"Todas"})]}),!s&&l.jsx(wa,{size:14,className:"text-emerald-500"})]}),J.map(M=>{const H=h(M.id).length;return l.jsxs("button",{onClick:()=>R(M.id),className:`w-full flex items-center justify-between px-4 py-2.5 rounded-lg transition-colors text-sm ${s===M.id?"bg-slate-800 text-white border border-slate-600":"text-slate-400 hover:bg-slate-800 hover:text-slate-200"}`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(nm,{size:16}),l.jsx("span",{className:"font-medium truncate max-w-[120px]",children:M.name.replace("Filial ","")})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[H>0&&l.jsx("span",{className:"text-[10px] bg-slate-950 text-slate-400 px-1.5 py-0.5 rounded-full",title:`${H} trabalhadores`,children:H}),s===M.id&&l.jsx(am,{size:14})]})]},M.id)})]})]})]})]}),l.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden relative w-full h-full",children:[l.jsxs("header",{className:"h-16 bg-white border-b border-gray-200 flex items-center justify-between px-4 lg:px-8 shadow-sm shrink-0 z-10",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:()=>N(!0),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg lg:hidden active:bg-gray-200 transition-colors","aria-label":"Abrir menu",title:"Abrir menu",children:l.jsx(F8,{size:24})}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-800 capitalize flex items-center gap-2 leading-tight",children:t==="dashboard"?"Dashboard":t==="inventory"?"Estoque":t==="requisitions"?"Requisies":t==="performance"?"Desempenho":t==="hr"?"RH":t==="payroll"?"Folha Salarial":t==="contas-receber"?"Contas a Receber":t==="expense-approvals"?"Aprovao de Despesas":t==="expense-reports"?"Relatrios de Oramento":t==="settings"?"Definies":t==="patrimony"?"Patrimnio":t==="pos"?"POS & Vendas":t==="permissions"?"Permisses":"Office Florestal"}),s&&l.jsx("div",{className:"flex items-center text-xs text-blue-600 font-medium",children:l.jsx("span",{className:"truncate max-w-[200px]",children:B})})]})]}),l.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400 bg-gray-50 px-2 md:px-3 py-1.5 rounded-full border border-gray-100",children:[l.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),l.jsx("span",{className:"hidden md:inline",children:g.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),l.jsx("button",{onClick:A,disabled:S,className:`hover:text-blue-600 transition-colors p-1 ${S?"animate-spin text-blue-600":""}`,title:"Sincronizar agora",children:l.jsx(a$,{size:14})})]}),l.jsx("div",{className:`hidden md:block px-3 py-1 rounded-full text-xs font-bold border ${D(n.role)}`,children:n.role.replace("_"," ")}),l.jsxs("div",{className:"flex items-center gap-2 text-gray-600 bg-gray-100 p-1.5 rounded-lg border border-gray-200",children:[l.jsx(b8,{size:20,className:"text-gray-500"}),l.jsx("span",{className:"text-xs font-bold truncate max-w-[60px] md:max-w-none",children:n.name.split(" ")[0]})]}),l.jsxs("button",{onClick:P,className:"flex items-center gap-2 px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors border border-red-200 hover:border-red-300",title:"Sair",children:[l.jsx($8,{size:18}),l.jsx("span",{className:"hidden md:inline",children:"Sair"})]})]})]}),l.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-50 p-3 md:p-6 lg:p-8 scroll-smooth",children:l.jsx("div",{className:"max-w-7xl mx-auto h-full",children:e})}),v&&l.jsxs("div",{className:"fixed top-4 left-4 right-4 md:top-auto md:left-auto md:bottom-6 md:right-6 bg-slate-900/95 backdrop-blur text-white px-4 py-3 rounded-lg shadow-2xl z-[60] animate-in slide-in-from-top-4 md:slide-in-from-bottom-4 transition-all flex items-center gap-3 border border-slate-700",children:[l.jsx(JU,{size:20,className:"text-blue-400 shrink-0"}),l.jsx("div",{children:l.jsx("p",{className:"text-sm font-medium",children:v})})]})]})]})};function xD(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=xD(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function kt(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=xD(e))&&(n&&(n+=" "),n+=t);return n}var L$=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function yw(e){if(typeof e!="string")return!1;var t=L$;return t.includes(e)}var z$=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],U$=new Set(z$);function bD(e){return typeof e!="string"?!1:U$.has(e)}function wD(e){return typeof e=="string"&&e.startsWith("data-")}function Fa(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(bD(r)||wD(r))&&(t[r]=e[r]);return t}function nd(e){if(e==null)return null;if(w.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Fa(t)}return typeof e=="object"&&!Array.isArray(e)?Fa(e):null}function _a(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(bD(r)||wD(r)||yw(r))&&(t[r]=e[r]);return t}var $$=["children","width","height","viewBox","className","style","title","desc"];function Hx(){return Hx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hx.apply(null,arguments)}function B$(e,t){if(e==null)return{};var r,n,i=q$(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function q$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var vw=w.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:s,className:c,style:d,title:f,desc:h}=e,p=B$(e,$$),g=s||{width:n,height:i,x:0,y:0},v=kt("recharts-surface",c);return w.createElement("svg",Hx({},_a(p),{className:v,width:n,height:i,style:d,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:t}),w.createElement("title",null,f),w.createElement("desc",null,h),r)}),V$=["children","className"];function Kx(){return Kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kx.apply(null,arguments)}function F$(e,t){if(e==null)return{};var r,n,i=G$(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function G$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Sn=w.forwardRef((e,t)=>{var{children:r,className:n}=e,i=F$(e,V$),s=kt("recharts-layer",n);return w.createElement("g",Kx({className:s},_a(i),{ref:t}),r)}),xw=KP(),jD=w.createContext(null),H$=()=>w.useContext(jD);function Gt(e){return function(){return e}}const _D=Math.cos,om=Math.sin,Ha=Math.sqrt,lm=Math.PI,hp=2*lm,Wx=Math.PI,Yx=2*Wx,wo=1e-6,K$=Yx-wo;function ND(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function W$(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return ND;const r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class Y${constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?ND:W$(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,c){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+c}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let c=this._x1,d=this._y1,f=n-t,h=i-r,p=c-t,g=d-r,v=p*p+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(v>wo)if(!(Math.abs(g*f-h*p)>wo)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let x=n-c,j=i-d,_=f*f+h*h,N=x*x+j*j,S=Math.sqrt(_),O=Math.sqrt(v),A=s*Math.tan((Wx-Math.acos((_+v-N)/(2*S*O)))/2),P=A/O,D=A/S;Math.abs(P-1)>wo&&this._append`L${t+P*p},${r+P*g}`,this._append`A${s},${s},0,0,${+(g*x>p*j)},${this._x1=t+D*f},${this._y1=r+D*h}`}}arc(t,r,n,i,s,c){if(t=+t,r=+r,n=+n,c=!!c,n<0)throw new Error(`negative radius: ${n}`);let d=n*Math.cos(i),f=n*Math.sin(i),h=t+d,p=r+f,g=1^c,v=c?i-s:s-i;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>wo||Math.abs(this._y1-p)>wo)&&this._append`L${h},${p}`,n&&(v<0&&(v=v%Yx+Yx),v>K$?this._append`A${n},${n},0,1,${g},${t-d},${r-f}A${n},${n},0,1,${g},${this._x1=h},${this._y1=p}`:v>wo&&this._append`A${n},${n},0,${+(v>=Wx)},${g},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function bw(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Y$(t)}function ww(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function SD(e){this._context=e}SD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function mp(e){return new SD(e)}function ED(e){return e[0]}function AD(e){return e[1]}function OD(e,t){var r=Gt(!0),n=null,i=mp,s=null,c=bw(d);e=typeof e=="function"?e:e===void 0?ED:Gt(e),t=typeof t=="function"?t:t===void 0?AD:Gt(t);function d(f){var h,p=(f=ww(f)).length,g,v=!1,x;for(n==null&&(s=i(x=c())),h=0;h<=p;++h)!(h<p&&r(g=f[h],h,f))===v&&((v=!v)?s.lineStart():s.lineEnd()),v&&s.point(+e(g,h,f),+t(g,h,f));if(x)return s=null,x+""||null}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:Gt(+f),d):e},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:Gt(+f),d):t},d.defined=function(f){return arguments.length?(r=typeof f=="function"?f:Gt(!!f),d):r},d.curve=function(f){return arguments.length?(i=f,n!=null&&(s=i(n)),d):i},d.context=function(f){return arguments.length?(f==null?n=s=null:s=i(n=f),d):n},d}function Sh(e,t,r){var n=null,i=Gt(!0),s=null,c=mp,d=null,f=bw(h);e=typeof e=="function"?e:e===void 0?ED:Gt(+e),t=typeof t=="function"?t:Gt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?AD:Gt(+r);function h(g){var v,x,j,_=(g=ww(g)).length,N,S=!1,O,A=new Array(_),P=new Array(_);for(s==null&&(d=c(O=f())),v=0;v<=_;++v){if(!(v<_&&i(N=g[v],v,g))===S)if(S=!S)x=v,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),j=v-1;j>=x;--j)d.point(A[j],P[j]);d.lineEnd(),d.areaEnd()}S&&(A[v]=+e(N,v,g),P[v]=+t(N,v,g),d.point(n?+n(N,v,g):A[v],r?+r(N,v,g):P[v]))}if(O)return d=null,O+""||null}function p(){return OD().defined(i).curve(c).context(s)}return h.x=function(g){return arguments.length?(e=typeof g=="function"?g:Gt(+g),n=null,h):e},h.x0=function(g){return arguments.length?(e=typeof g=="function"?g:Gt(+g),h):e},h.x1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:Gt(+g),h):n},h.y=function(g){return arguments.length?(t=typeof g=="function"?g:Gt(+g),r=null,h):t},h.y0=function(g){return arguments.length?(t=typeof g=="function"?g:Gt(+g),h):t},h.y1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Gt(+g),h):r},h.lineX0=h.lineY0=function(){return p().x(e).y(t)},h.lineY1=function(){return p().x(e).y(r)},h.lineX1=function(){return p().x(n).y(t)},h.defined=function(g){return arguments.length?(i=typeof g=="function"?g:Gt(!!g),h):i},h.curve=function(g){return arguments.length?(c=g,s!=null&&(d=c(s)),h):c},h.context=function(g){return arguments.length?(g==null?s=d=null:d=c(s=g),h):s},h}class TD{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function X$(e){return new TD(e,!0)}function Z$(e){return new TD(e,!1)}const jw={draw(e,t){const r=Ha(t/lm);e.moveTo(r,0),e.arc(0,0,r,0,hp)}},Q$={draw(e,t){const r=Ha(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},CD=Ha(1/3),J$=CD*2,eB={draw(e,t){const r=Ha(t/J$),n=r*CD;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},tB={draw(e,t){const r=Ha(t),n=-r/2;e.rect(n,n,r,r)}},rB=.8908130915292852,PD=om(lm/10)/om(7*lm/10),nB=om(hp/10)*PD,aB=-_D(hp/10)*PD,iB={draw(e,t){const r=Ha(t*rB),n=nB*r,i=aB*r;e.moveTo(0,-r),e.lineTo(n,i);for(let s=1;s<5;++s){const c=hp*s/5,d=_D(c),f=om(c);e.lineTo(f*r,-d*r),e.lineTo(d*n-f*i,f*n+d*i)}e.closePath()}},Uy=Ha(3),sB={draw(e,t){const r=-Ha(t/(Uy*3));e.moveTo(0,r*2),e.lineTo(-Uy*r,-r),e.lineTo(Uy*r,-r),e.closePath()}},pa=-.5,ga=Ha(3)/2,Xx=1/Ha(12),oB=(Xx/2+1)*3,lB={draw(e,t){const r=Ha(t/oB),n=r/2,i=r*Xx,s=n,c=r*Xx+r,d=-s,f=c;e.moveTo(n,i),e.lineTo(s,c),e.lineTo(d,f),e.lineTo(pa*n-ga*i,ga*n+pa*i),e.lineTo(pa*s-ga*c,ga*s+pa*c),e.lineTo(pa*d-ga*f,ga*d+pa*f),e.lineTo(pa*n+ga*i,pa*i-ga*n),e.lineTo(pa*s+ga*c,pa*c-ga*s),e.lineTo(pa*d+ga*f,pa*f-ga*d),e.closePath()}};function cB(e,t){let r=null,n=bw(i);e=typeof e=="function"?e:Gt(e||jw),t=typeof t=="function"?t:Gt(t===void 0?64:+t);function i(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:Gt(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:Gt(+s),i):t},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function cm(){}function um(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function DD(e){this._context=e}DD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:um(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:um(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function uB(e){return new DD(e)}function kD(e){this._context=e}kD.prototype={areaStart:cm,areaEnd:cm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:um(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function dB(e){return new kD(e)}function RD(e){this._context=e}RD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:um(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function fB(e){return new RD(e)}function MD(e){this._context=e}MD.prototype={areaStart:cm,areaEnd:cm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function hB(e){return new MD(e)}function mA(e){return e<0?-1:1}function pA(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),c=(r-e._y1)/(i||n<0&&-0),d=(s*i+c*n)/(n+i);return(mA(s)+mA(c))*Math.min(Math.abs(s),Math.abs(c),.5*Math.abs(d))||0}function gA(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function $y(e,t,r){var n=e._x0,i=e._y0,s=e._x1,c=e._y1,d=(s-n)/3;e._context.bezierCurveTo(n+d,i+d*t,s-d,c-d*r,s,c)}function dm(e){this._context=e}dm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:$y(this,this._t0,gA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,$y(this,gA(this,r=pA(this,e,t)),r);break;default:$y(this,this._t0,r=pA(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function ID(e){this._context=new LD(e)}(ID.prototype=Object.create(dm.prototype)).point=function(e,t){dm.prototype.point.call(this,t,e)};function LD(e){this._context=e}LD.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};function mB(e){return new dm(e)}function pB(e){return new ID(e)}function zD(e){this._context=e}zD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=yA(e),i=yA(t),s=0,c=1;c<r;++s,++c)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[c],t[c]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function yA(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),c=new Array(r);for(i[0]=0,s[0]=2,c[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,c[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,c[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,c[t]-=n*c[t-1];for(i[r-1]=c[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(c[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function gB(e){return new zD(e)}function pp(e,t){this._context=e,this._t=t}pp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function yB(e){return new pp(e,.5)}function vB(e){return new pp(e,0)}function xB(e){return new pp(e,1)}function ac(e,t){if((c=e.length)>1)for(var r=1,n,i,s=e[t[0]],c,d=s.length;r<c;++r)for(i=s,s=e[t[r]],n=0;n<d;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Zx(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function bB(e,t){return e[t]}function wB(e){const t=[];return t.key=e,t}function jB(){var e=Gt([]),t=Zx,r=ac,n=bB;function i(s){var c=Array.from(e.apply(this,arguments),wB),d,f=c.length,h=-1,p;for(const g of s)for(d=0,++h;d<f;++d)(c[d][h]=[0,+n(g,c[d].key,h,s)]).data=g;for(d=0,p=ww(t(c));d<f;++d)c[p[d]].index=d;return r(c,p),c}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Gt(Array.from(s)),i):e},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:Gt(+s),i):n},i.order=function(s){return arguments.length?(t=s==null?Zx:typeof s=="function"?s:Gt(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(r=s??ac,i):r},i}function _B(e,t){if((n=e.length)>0){for(var r,n,i=0,s=e[0].length,c;i<s;++i){for(c=r=0;r<n;++r)c+=e[r][i][1]||0;if(c)for(r=0;r<n;++r)e[r][i][1]/=c}ac(e,t)}}function NB(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,s=n.length;r<s;++r){for(var c=0,d=0;c<i;++c)d+=e[c][r][1]||0;n[r][1]+=n[r][0]=-d/2}ac(e,t)}}function SB(e,t){if(!(!((c=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,s,c;n<s;++n){for(var d=0,f=0,h=0;d<c;++d){for(var p=e[t[d]],g=p[n][1]||0,v=p[n-1][1]||0,x=(g-v)/2,j=0;j<d;++j){var _=e[t[j]],N=_[n][1]||0,S=_[n-1][1]||0;x+=N-S}f+=g,h+=x*g}i[n-1][1]+=i[n-1][0]=r,f&&(r-=h/f)}i[n-1][1]+=i[n-1][0]=r,ac(e,t)}}var By={},qy={},vA;function EB(){return vA||(vA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(qy)),qy}var Vy={},xA;function UD(){return xA||(xA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Vy)),Vy}var Fy={},bA;function _w(){return bA||(bA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(Fy)),Fy}var Gy={},Hy={},wA;function AB(){return wA||(wA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(Hy)),Hy}var jA;function Nw(){return jA||(jA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AB(),r=_w();function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const s=[],c=i.length;if(c===0)return s;let d=0,f="",h="",p=!1;for(i.charCodeAt(0)===46&&(s.push(""),d++);d<c;){const g=i[d];h?g==="\\"&&d+1<c?(d++,f+=i[d]):g===h?h="":f+=g:p?g==='"'||g==="'"?h=g:g==="]"?(p=!1,s.push(f),f=""):f+=g:g==="["?(p=!0,f&&(s.push(f),f="")):g==="."?f&&(s.push(f),f=""):f+=g,d++}return f&&s.push(f),s}e.toPath=n})(Gy)),Gy}var _A;function Sw(){return _A||(_A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EB(),r=UD(),n=_w(),i=Nw();function s(d,f,h){if(d==null)return h;switch(typeof f){case"string":{if(t.isUnsafeProperty(f))return h;const p=d[f];return p===void 0?r.isDeepKey(f)?s(d,i.toPath(f),h):h:p}case"number":case"symbol":{typeof f=="number"&&(f=n.toKey(f));const p=d[f];return p===void 0?h:p}default:{if(Array.isArray(f))return c(d,f,h);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),t.isUnsafeProperty(f))return h;const p=d[f];return p===void 0?h:p}}}function c(d,f,h){if(f.length===0)return h;let p=d;for(let g=0;g<f.length;g++){if(p==null||t.isUnsafeProperty(f[g]))return h;p=p[f[g]]}return p===void 0?h:p}e.get=s})(By)),By}var Ky,NA;function OB(){return NA||(NA=1,Ky=Sw().get),Ky}var TB=OB();const Bo=ci(TB);var Zr=e=>e===0?0:e>0?1:-1,Ga=e=>typeof e=="number"&&e!=+e,Bi=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Fe=e=>(typeof e=="number"||e instanceof Number)&&!Ga(e),ii=e=>Fe(e)||typeof e=="string",CB=0,ad=e=>{var t=++CB;return"".concat(e||"").concat(t)},xn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Fe(t)&&typeof t!="string")return n;var s;if(Bi(t)){if(r==null)return n;var c=t.indexOf("%");s=r*parseFloat(t.slice(0,c))/100}else s=+t;return Ga(s)&&(s=n),i&&r!=null&&s>r&&(s=r),s},$D=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function zr(e,t,r){return Fe(e)&&Fe(t)?e+r*(t-e):t}function PB(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Bo(n,t))===r)}var Qr=e=>e===null||typeof e>"u",Od=e=>Qr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function DB(e){return e!=null}function Td(){}var kB=["type","size","sizeType"];function Qx(){return Qx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qx.apply(null,arguments)}function SA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function EA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SA(Object(r),!0).forEach(function(n){RB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RB(e,t,r){return(t=MB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MB(e){var t=IB(e,"string");return typeof t=="symbol"?t:t+""}function IB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LB(e,t){if(e==null)return{};var r,n,i=zB(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function zB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var BD={symbolCircle:jw,symbolCross:Q$,symbolDiamond:eB,symbolSquare:tB,symbolStar:iB,symbolTriangle:sB,symbolWye:lB},UB=Math.PI/180,$B=e=>{var t="symbol".concat(Od(e));return BD[t]||jw},BB=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*UB;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},qB=(e,t)=>{BD["symbol".concat(Od(e))]=t},Ew=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=LB(e,kB),s=EA(EA({},i),{},{type:t,size:r,sizeType:n}),c="circle";typeof t=="string"&&(c=t);var d=()=>{var v=$B(c),x=cB().type(v).size(BB(r,n,c)),j=x();if(j!==null)return j},{className:f,cx:h,cy:p}=s,g=_a(s);return Fe(h)&&Fe(p)&&Fe(r)?w.createElement("path",Qx({},g,{className:kt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};Ew.registerSymbol=qB;var qD=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,VB=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(w.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{yw(i)&&(n[i]=(s=>r[i](r,s)))}),n},FB=(e,t,r)=>n=>(e(t,r,n),null),Cd=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var s=e[i];yw(i)&&typeof s=="function"&&(n||(n={}),n[i]=FB(s,t,r))}),n};function AA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function GB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AA(Object(r),!0).forEach(function(n){HB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HB(e,t,r){return(t=KB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KB(e){var t=WB(e,"string");return typeof t=="symbol"?t:t+""}function WB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jr(e,t){var r=GB({},e),n=t,i=Object.keys(t),s=i.reduce((c,d)=>(c[d]===void 0&&n[d]!==void 0&&(c[d]=n[d]),c),r);return s}function fm(){return fm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fm.apply(null,arguments)}function OA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function YB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OA(Object(r),!0).forEach(function(n){XB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XB(e,t,r){return(t=ZB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZB(e){var t=QB(e,"string");return typeof t=="symbol"?t:t+""}function QB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xa=32,JB={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function eq(e){var{data:t,iconType:r,inactiveColor:n}=e,i=xa/2,s=xa/6,c=xa/3,d=t.inactive?n:t.color,f=r??t.type;if(f==="none")return null;if(f==="plainline"){var h;return w.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:(h=t.payload)===null||h===void 0?void 0:h.strokeDasharray,x1:0,y1:i,x2:xa,y2:i,className:"recharts-legend-icon"})}if(f==="line")return w.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(i,"h").concat(c,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*c,",").concat(i,`
            H`).concat(xa,"M").concat(2*c,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(c,",").concat(i),className:"recharts-legend-icon"});if(f==="rect")return w.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(xa/8,"h").concat(xa,"v").concat(xa*3/4,"h").concat(-xa,"z"),className:"recharts-legend-icon"});if(w.isValidElement(t.legendIcon)){var p=YB({},t);return delete p.legendIcon,w.cloneElement(t.legendIcon,p)}return w.createElement(Ew,{fill:d,cx:i,cy:i,size:xa,sizeType:"diameter",type:f})}function tq(e){var{payload:t,iconSize:r,layout:n,formatter:i,inactiveColor:s,iconType:c}=e,d={x:0,y:0,width:xa,height:xa},f={display:n==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((p,g)=>{var v=p.formatter||i,x=kt({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:p.inactive});if(p.type==="none")return null;var j=p.inactive?s:p.color,_=v?v(p.value,p,g):p.value;return w.createElement("li",fm({className:x,style:f,key:"legend-item-".concat(g)},Cd(e,p,g)),w.createElement(vw,{width:r,height:r,viewBox:d,style:h,"aria-label":"".concat(_," legend icon")},w.createElement(eq,{data:p,iconType:c,inactiveColor:s})),w.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},_))})}var rq=e=>{var t=Jr(e,JB),{payload:r,layout:n,align:i}=t;if(!r||!r.length)return null;var s={padding:0,margin:0,textAlign:n==="horizontal"?i:"left"};return w.createElement("ul",{className:"recharts-default-legend",style:s},w.createElement(tq,fm({},t,{payload:r})))},Wy={},Yy={},TA;function nq(){return TA||(TA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let s=0;s<r.length;s++){const c=r[s],d=n(c);i.has(d)||i.set(d,c)}return Array.from(i.values())}e.uniqBy=t})(Yy)),Yy}var Xy={},CA;function VD(){return CA||(CA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Xy)),Xy}var Zy={},Qy={},Jy={},PA;function aq(){return PA||(PA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(Jy)),Jy}var DA;function Aw(){return DA||(DA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aq();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Qy)),Qy}var ev={},kA;function iq(){return kA||(kA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(ev)),ev}var RA;function sq(){return RA||(RA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Aw(),r=iq();function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(Zy)),Zy}var tv={},rv={},MA;function oq(){return MA||(MA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Sw();function r(n){return function(i){return t.get(i,n)}}e.property=r})(rv)),rv}var nv={},av={},iv={},sv={},IA;function FD(){return IA||(IA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(sv)),sv}var ov={},LA;function GD(){return LA||(LA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(ov)),ov}var lv={},zA;function HD(){return zA||(zA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(lv)),lv}var UA;function lq(){return UA||(UA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FD(),r=GD(),n=HD();function i(p,g,v){return typeof v!="function"?i(p,g,()=>{}):s(p,g,function x(j,_,N,S,O,A){const P=v(j,_,N,S,O,A);return P!==void 0?!!P:s(j,_,x,A)},new Map)}function s(p,g,v,x){if(g===p)return!0;switch(typeof g){case"object":return c(p,g,v,x);case"function":return Object.keys(g).length>0?s(p,{...g},v,x):n.eq(p,g);default:return t.isObject(p)?typeof g=="string"?g==="":!0:n.eq(p,g)}}function c(p,g,v,x){if(g==null)return!0;if(Array.isArray(g))return f(p,g,v,x);if(g instanceof Map)return d(p,g,v,x);if(g instanceof Set)return h(p,g,v,x);const j=Object.keys(g);if(p==null)return j.length===0;if(j.length===0)return!0;if(x!=null&&x.has(g))return x.get(g)===p;x==null||x.set(g,p);try{for(let _=0;_<j.length;_++){const N=j[_];if(!r.isPrimitive(p)&&!(N in p)||g[N]===void 0&&p[N]!==void 0||g[N]===null&&p[N]!==null||!v(p[N],g[N],N,p,g,x))return!1}return!0}finally{x==null||x.delete(g)}}function d(p,g,v,x){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[j,_]of g.entries()){const N=p.get(j);if(v(N,_,j,p,g,x)===!1)return!1}return!0}function f(p,g,v,x){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const j=new Set;for(let _=0;_<g.length;_++){const N=g[_];let S=!1;for(let O=0;O<p.length;O++){if(j.has(O))continue;const A=p[O];let P=!1;if(v(A,N,_,p,g,x)&&(P=!0),P){j.add(O),S=!0;break}}if(!S)return!1}return!0}function h(p,g,v,x){return g.size===0?!0:p instanceof Set?f([...p],[...g],v,x):!1}e.isMatchWith=i,e.isSetMatch=h})(iv)),iv}var $A;function KD(){return $A||($A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lq();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(av)),av}var cv={},uv={},dv={},BA;function cq(){return BA||(BA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(dv)),dv}var fv={},qA;function WD(){return qA||(qA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(fv)),fv}var hv={},VA;function YD(){return VA||(VA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",s="[object Arguments]",c="[object Symbol]",d="[object Date]",f="[object Map]",h="[object Set]",p="[object Array]",g="[object Function]",v="[object ArrayBuffer]",x="[object Object]",j="[object Error]",_="[object DataView]",N="[object Uint8Array]",S="[object Uint8ClampedArray]",O="[object Uint16Array]",A="[object Uint32Array]",P="[object BigUint64Array]",D="[object Int8Array]",T="[object Int16Array]",R="[object Int32Array]",q="[object BigInt64Array]",Y="[object Float32Array]",G="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=v,e.arrayTag=p,e.bigInt64ArrayTag=q,e.bigUint64ArrayTag=P,e.booleanTag=i,e.dataViewTag=_,e.dateTag=d,e.errorTag=j,e.float32ArrayTag=Y,e.float64ArrayTag=G,e.functionTag=g,e.int16ArrayTag=T,e.int32ArrayTag=R,e.int8ArrayTag=D,e.mapTag=f,e.numberTag=n,e.objectTag=x,e.regexpTag=t,e.setTag=h,e.stringTag=r,e.symbolTag=c,e.uint16ArrayTag=O,e.uint32ArrayTag=A,e.uint8ArrayTag=N,e.uint8ClampedArrayTag=S})(hv)),hv}var mv={},FA;function uq(){return FA||(FA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(mv)),mv}var GA;function XD(){return GA||(GA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cq(),r=WD(),n=YD(),i=GD(),s=uq();function c(p,g){return d(p,void 0,p,new Map,g)}function d(p,g,v,x=new Map,j=void 0){const _=j==null?void 0:j(p,g,v,x);if(_!==void 0)return _;if(i.isPrimitive(p))return p;if(x.has(p))return x.get(p);if(Array.isArray(p)){const N=new Array(p.length);x.set(p,N);for(let S=0;S<p.length;S++)N[S]=d(p[S],S,v,x,j);return Object.hasOwn(p,"index")&&(N.index=p.index),Object.hasOwn(p,"input")&&(N.input=p.input),N}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const N=new RegExp(p.source,p.flags);return N.lastIndex=p.lastIndex,N}if(p instanceof Map){const N=new Map;x.set(p,N);for(const[S,O]of p)N.set(S,d(O,S,v,x,j));return N}if(p instanceof Set){const N=new Set;x.set(p,N);for(const S of p)N.add(d(S,void 0,v,x,j));return N}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(s.isTypedArray(p)){const N=new(Object.getPrototypeOf(p)).constructor(p.length);x.set(p,N);for(let S=0;S<p.length;S++)N[S]=d(p[S],S,v,x,j);return N}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const N=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return x.set(p,N),f(N,p,v,x,j),N}if(typeof File<"u"&&p instanceof File){const N=new File([p],p.name,{type:p.type});return x.set(p,N),f(N,p,v,x,j),N}if(typeof Blob<"u"&&p instanceof Blob){const N=new Blob([p],{type:p.type});return x.set(p,N),f(N,p,v,x,j),N}if(p instanceof Error){const N=new p.constructor;return x.set(p,N),N.message=p.message,N.name=p.name,N.stack=p.stack,N.cause=p.cause,f(N,p,v,x,j),N}if(p instanceof Boolean){const N=new Boolean(p.valueOf());return x.set(p,N),f(N,p,v,x,j),N}if(p instanceof Number){const N=new Number(p.valueOf());return x.set(p,N),f(N,p,v,x,j),N}if(p instanceof String){const N=new String(p.valueOf());return x.set(p,N),f(N,p,v,x,j),N}if(typeof p=="object"&&h(p)){const N=Object.create(Object.getPrototypeOf(p));return x.set(p,N),f(N,p,v,x,j),N}return p}function f(p,g,v=p,x,j){const _=[...Object.keys(g),...t.getSymbols(g)];for(let N=0;N<_.length;N++){const S=_[N],O=Object.getOwnPropertyDescriptor(p,S);(O==null||O.writable)&&(p[S]=d(g[S],S,v,x,j))}}function h(p){switch(r.getTag(p)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=c,e.cloneDeepWithImpl=d,e.copyProperties=f})(uv)),uv}var HA;function dq(){return HA||(HA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XD();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(cv)),cv}var KA;function fq(){return KA||(KA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KD(),r=dq();function n(i){return i=r.cloneDeep(i),s=>t.isMatch(s,i)}e.matches=n})(nv)),nv}var pv={},gv={},yv={},WA;function hq(){return WA||(WA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XD(),r=YD();function n(i,s){return t.cloneDeepWith(i,(c,d,f,h)=>{const p=s==null?void 0:s(c,d,f,h);if(p!==void 0)return p;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const g=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(g,i),g}case r.argumentsTag:{const g={};return t.copyProperties(g,i),g.length=i.length,g[Symbol.iterator]=i[Symbol.iterator],g}default:return}})}e.cloneDeepWith=n})(yv)),yv}var YA;function mq(){return YA||(YA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hq();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(gv)),gv}var vv={},xv={},XA;function ZD(){return XA||(XA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(xv)),xv}var bv={},ZA;function pq(){return ZA||(ZA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WD();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(bv)),bv}var QA;function gq(){return QA||(QA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UD(),r=ZD(),n=pq(),i=Nw();function s(c,d){let f;if(Array.isArray(d)?f=d:typeof d=="string"&&t.isDeepKey(d)&&(c==null?void 0:c[d])==null?f=i.toPath(d):f=[d],f.length===0)return!1;let h=c;for(let p=0;p<f.length;p++){const g=f[p];if((h==null||!Object.hasOwn(h,g))&&!((Array.isArray(h)||n.isArguments(h))&&r.isIndex(g)&&g<h.length))return!1;h=h[g]}return!0}e.has=s})(vv)),vv}var JA;function yq(){return JA||(JA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KD(),r=_w(),n=mq(),i=Sw(),s=gq();function c(d,f){switch(typeof d){case"object":{Object.is(d==null?void 0:d.valueOf(),-0)&&(d="-0");break}case"number":{d=r.toKey(d);break}}return f=n.cloneDeep(f),function(h){const p=i.get(h,d);return p===void 0?s.has(h,d):f===void 0?p===void 0:t.isMatch(p,f)}}e.matchesProperty=c})(pv)),pv}var e2;function vq(){return e2||(e2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VD(),r=oq(),n=fq(),i=yq();function s(c){if(c==null)return t.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?i.matchesProperty(c[0],c[1]):n.matches(c);case"string":case"symbol":case"number":return r.property(c)}}e.iteratee=s})(tv)),tv}var t2;function xq(){return t2||(t2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nq(),r=VD(),n=sq(),i=vq();function s(c,d=r.identity){return n.isArrayLikeObject(c)?t.uniqBy(Array.from(c),i.iteratee(d)):[]}e.uniqBy=s})(Wy)),Wy}var wv,r2;function bq(){return r2||(r2=1,wv=xq().uniqBy),wv}var wq=bq();const n2=ci(wq);function QD(e,t,r){return t===!0?n2(e,r):typeof t=="function"?n2(e,t):e}var jv={exports:{}},_v={},Nv={exports:{}},Sv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a2;function jq(){if(a2)return Sv;a2=1;var e=yc();function t(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,i=e.useEffect,s=e.useLayoutEffect,c=e.useDebugValue;function d(g,v){var x=v(),j=n({inst:{value:x,getSnapshot:v}}),_=j[0].inst,N=j[1];return s(function(){_.value=x,_.getSnapshot=v,f(_)&&N({inst:_})},[g,x,v]),i(function(){return f(_)&&N({inst:_}),g(function(){f(_)&&N({inst:_})})},[g]),c(x),x}function f(g){var v=g.getSnapshot;g=g.value;try{var x=v();return!r(g,x)}catch{return!0}}function h(g,v){return v()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:d;return Sv.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,Sv}var i2;function _q(){return i2||(i2=1,Nv.exports=jq()),Nv.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s2;function Nq(){if(s2)return _v;s2=1;var e=yc(),t=_q();function r(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var n=typeof Object.is=="function"?Object.is:r,i=t.useSyncExternalStore,s=e.useRef,c=e.useEffect,d=e.useMemo,f=e.useDebugValue;return _v.useSyncExternalStoreWithSelector=function(h,p,g,v,x){var j=s(null);if(j.current===null){var _={hasValue:!1,value:null};j.current=_}else _=j.current;j=d(function(){function S(T){if(!O){if(O=!0,A=T,T=v(T),x!==void 0&&_.hasValue){var R=_.value;if(x(R,T))return P=R}return P=T}if(R=P,n(A,T))return R;var q=v(T);return x!==void 0&&x(R,q)?(A=T,R):(A=T,P=q)}var O=!1,A,P,D=g===void 0?null:g;return[function(){return S(p())},D===null?void 0:function(){return S(D())}]},[p,g,v,x]);var N=i(h,j[0],j[1]);return c(function(){_.hasValue=!0,_.value=N},[N]),f(N),N},_v}var o2;function Sq(){return o2||(o2=1,jv.exports=Nq()),jv.exports}var Eq=Sq(),Ow=w.createContext(null),Aq=e=>e,Ht=()=>{var e=w.useContext(Ow);return e?e.store.dispatch:Aq},Hh=()=>{},Oq=()=>Hh,Tq=(e,t)=>e===t;function qe(e){var t=w.useContext(Ow);return Eq.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Oq,t?t.store.getState:Hh,t?t.store.getState:Hh,t?e:Hh,Tq)}function Cq(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Pq(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Dq(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var l2=e=>Array.isArray(e)?e:[e];function kq(e){const t=Array.isArray(e[0])?e[0]:e;return Dq(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Rq(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var Mq=class{constructor(e){this.value=e}deref(){return this.value}},Iq=typeof WeakRef<"u"?WeakRef:Mq,Lq=0,c2=1;function Eh(){return{s:Lq,v:void 0,o:null,p:null}}function JD(e,t={}){let r=Eh();const{resultEqualityCheck:n}=t;let i,s=0;function c(){var g;let d=r;const{length:f}=arguments;for(let v=0,x=f;v<x;v++){const j=arguments[v];if(typeof j=="function"||typeof j=="object"&&j!==null){let _=d.o;_===null&&(d.o=_=new WeakMap);const N=_.get(j);N===void 0?(d=Eh(),_.set(j,d)):d=N}else{let _=d.p;_===null&&(d.p=_=new Map);const N=_.get(j);N===void 0?(d=Eh(),_.set(j,d)):d=N}}const h=d;let p;if(d.s===c2)p=d.v;else if(p=e.apply(null,arguments),s++,n){const v=((g=i==null?void 0:i.deref)==null?void 0:g.call(i))??i;v!=null&&n(v,p)&&(p=v,s!==0&&s--),i=typeof p=="object"&&p!==null||typeof p=="function"?new Iq(p):p}return h.s=c2,h.v=p,p}return c.clearCache=()=>{r=Eh(),c.resetResultsCount()},c.resultsCount=()=>s,c.resetResultsCount=()=>{s=0},c}function zq(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let s=0,c=0,d,f={},h=i.pop();typeof h=="object"&&(f=h,h=i.pop()),Cq(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...r,...f},{memoize:g,memoizeOptions:v=[],argsMemoize:x=JD,argsMemoizeOptions:j=[]}=p,_=l2(v),N=l2(j),S=kq(i),O=g(function(){return s++,h.apply(null,arguments)},..._),A=x(function(){c++;const D=Rq(S,arguments);return d=O.apply(null,D),d},...N);return Object.assign(A,{resultFunc:h,memoizedResultFunc:O,dependencies:S,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>d,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:g,argsMemoize:x})};return Object.assign(n,{withTypes:()=>n}),n}var ie=zq(JD),Uq=Object.assign((e,t=ie)=>{Pq(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((c,d,f)=>(c[r[f]]=d,c),{}))},{withTypes:()=>Uq}),Ev={},Av={},Ov={},u2;function $q(){return u2||(u2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,s)=>{if(n!==i){const c=t(n),d=t(i);if(c===d&&c===0){if(n<i)return s==="desc"?1:-1;if(n>i)return s==="desc"?-1:1}return s==="desc"?d-c:c-d}return 0};e.compareValues=r})(Ov)),Ov}var Tv={},Cv={},d2;function ek(){return d2||(d2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Cv)),Cv}var f2;function Bq(){return f2||(f2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ek(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,c){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||c!=null&&Object.hasOwn(c,s)}e.isKey=i})(Tv)),Tv}var h2;function qq(){return h2||(h2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$q(),r=Bq(),n=Nw();function i(s,c,d,f){if(s==null)return[];d=f?void 0:d,Array.isArray(s)||(s=Object.values(s)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(x=>String(x));const h=(x,j)=>{let _=x;for(let N=0;N<j.length&&_!=null;++N)_=_[j[N]];return _},p=(x,j)=>j==null||x==null?j:typeof x=="object"&&"key"in x?Object.hasOwn(j,x.key)?j[x.key]:h(j,x.path):typeof x=="function"?x(j):Array.isArray(x)?h(j,x):typeof j=="object"?j[x]:j,g=c.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||r.isKey(x)?x:{key:x,path:n.toPath(x)}));return s.map(x=>({original:x,criteria:g.map(j=>p(j,x))})).slice().sort((x,j)=>{for(let _=0;_<g.length;_++){const N=t.compareValues(x.criteria[_],j.criteria[_],d[_]);if(N!==0)return N}return 0}).map(x=>x.original)}e.orderBy=i})(Av)),Av}var Pv={},m2;function Vq(){return m2||(m2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],s=Math.floor(n),c=(d,f)=>{for(let h=0;h<d.length;h++){const p=d[h];Array.isArray(p)&&f<s?c(p,f+1):i.push(p)}};return c(r,0),i}e.flatten=t})(Pv)),Pv}var Dv={},p2;function tk(){return p2||(p2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZD(),r=Aw(),n=FD(),i=HD();function s(c,d,f){return n.isObject(f)&&(typeof d=="number"&&r.isArrayLike(f)&&t.isIndex(d)&&d<f.length||typeof d=="string"&&d in f)?i.eq(f[d],c):!1}e.isIterateeCall=s})(Dv)),Dv}var g2;function Fq(){return g2||(g2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qq(),r=Vq(),n=tk();function i(s,...c){const d=c.length;return d>1&&n.isIterateeCall(s,c[0],c[1])?c=[]:d>2&&n.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),t.orderBy(s,r.flatten(c),["asc"])}e.sortBy=i})(Ev)),Ev}var kv,y2;function Gq(){return y2||(y2=1,kv=Fq().sortBy),kv}var Hq=Gq();const gp=ci(Hq);var rk=e=>e.legend.settings,Kq=e=>e.legend.size,Wq=e=>e.legend.payload,Yq=ie([Wq,rk],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?gp(n,r):n});function Xq(){return qe(Yq)}var Ah=1;function nk(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=w.useState({height:0,left:0,top:0,width:0}),n=w.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),c={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(c.height-t.height)>Ah||Math.abs(c.left-t.left)>Ah||Math.abs(c.top-t.top)>Ah||Math.abs(c.width-t.width)>Ah)&&r({height:c.height,left:c.left,top:c.top,width:c.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function cn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Zq=typeof Symbol=="function"&&Symbol.observable||"@@observable",v2=Zq,Rv=()=>Math.random().toString(36).substring(7).split("").join("."),Qq={INIT:`@@redux/INIT${Rv()}`,REPLACE:`@@redux/REPLACE${Rv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Rv()}`},hm=Qq;function Tw(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function ak(e,t,r){if(typeof e!="function")throw new Error(cn(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(cn(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(cn(1));return r(ak)(e,t)}let n=e,i=t,s=new Map,c=s,d=0,f=!1;function h(){c===s&&(c=new Map,s.forEach((N,S)=>{c.set(S,N)}))}function p(){if(f)throw new Error(cn(3));return i}function g(N){if(typeof N!="function")throw new Error(cn(4));if(f)throw new Error(cn(5));let S=!0;h();const O=d++;return c.set(O,N),function(){if(S){if(f)throw new Error(cn(6));S=!1,h(),c.delete(O),s=null}}}function v(N){if(!Tw(N))throw new Error(cn(7));if(typeof N.type>"u")throw new Error(cn(8));if(typeof N.type!="string")throw new Error(cn(17));if(f)throw new Error(cn(9));try{f=!0,i=n(i,N)}finally{f=!1}return(s=c).forEach(O=>{O()}),N}function x(N){if(typeof N!="function")throw new Error(cn(10));n=N,v({type:hm.REPLACE})}function j(){const N=g;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(cn(11));function O(){const P=S;P.next&&P.next(p())}return O(),{unsubscribe:N(O)}},[v2](){return this}}}return v({type:hm.INIT}),{dispatch:v,subscribe:g,getState:p,replaceReducer:x,[v2]:j}}function Jq(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:hm.INIT})>"u")throw new Error(cn(12));if(typeof r(void 0,{type:hm.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(cn(13))})}function ik(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const c=t[s];typeof e[c]=="function"&&(r[c]=e[c])}const n=Object.keys(r);let i;try{Jq(r)}catch(s){i=s}return function(c={},d){if(i)throw i;let f=!1;const h={};for(let p=0;p<n.length;p++){const g=n[p],v=r[g],x=c[g],j=v(x,d);if(typeof j>"u")throw d&&d.type,new Error(cn(14));h[g]=j,f=f||j!==x}return f=f||n.length!==Object.keys(c).length,f?h:c}}function mm(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function eV(...e){return t=>(r,n)=>{const i=t(r,n);let s=()=>{throw new Error(cn(15))};const c={getState:i.getState,dispatch:(f,...h)=>s(f,...h)},d=e.map(f=>f(c));return s=mm(...d)(i.dispatch),{...i,dispatch:s}}}function sk(e){return Tw(e)&&"type"in e&&typeof e.type=="string"}var ok=Symbol.for("immer-nothing"),x2=Symbol.for("immer-draftable"),En=Symbol.for("immer-state");function za(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ea=Object,ic=ea.getPrototypeOf,pm="constructor",yp="prototype",Jx="configurable",gm="enumerable",Kh="writable",id="value",qi=e=>!!e&&!!e[En];function si(e){var t;return e?lk(e)||vp(e)||!!e[x2]||!!((t=e[pm])!=null&&t[x2])||xp(e)||bp(e):!1}var tV=ea[yp][pm].toString(),b2=new WeakMap;function lk(e){if(!e||!Cw(e))return!1;const t=ic(e);if(t===null||t===ea[yp])return!0;const r=ea.hasOwnProperty.call(t,pm)&&t[pm];if(r===Object)return!0;if(!Fl(r))return!1;let n=b2.get(r);return n===void 0&&(n=Function.toString.call(r),b2.set(r,n)),n===tV}function Pd(e,t,r=!0){Dd(e)===0?(r?Reflect.ownKeys(e):ea.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function Dd(e){const t=e[En];return t?t.type_:vp(e)?1:xp(e)?2:bp(e)?3:0}var w2=(e,t,r=Dd(e))=>r===2?e.has(t):ea[yp].hasOwnProperty.call(e,t),eb=(e,t,r=Dd(e))=>r===2?e.get(t):e[t],ym=(e,t,r,n=Dd(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function rV(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var vp=Array.isArray,xp=e=>e instanceof Map,bp=e=>e instanceof Set,Cw=e=>typeof e=="object",Fl=e=>typeof e=="function",Mv=e=>typeof e=="boolean",Ti=e=>e.copy_||e.base_,Pw=e=>e.modified_?e.copy_:e.base_;function tb(e,t){if(xp(e))return new Map(e);if(bp(e))return new Set(e);if(vp(e))return Array[yp].slice.call(e);const r=lk(e);if(t===!0||t==="class_only"&&!r){const n=ea.getOwnPropertyDescriptors(e);delete n[En];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const c=i[s],d=n[c];d[Kh]===!1&&(d[Kh]=!0,d[Jx]=!0),(d.get||d.set)&&(n[c]={[Jx]:!0,[Kh]:!0,[gm]:d[gm],[id]:e[c]})}return ea.create(ic(e),n)}else{const n=ic(e);if(n!==null&&r)return{...e};const i=ea.create(n);return ea.assign(i,e)}}function Dw(e,t=!1){return wp(e)||qi(e)||(Dd(e)>1&&ea.defineProperties(e,{set:Oh,add:Oh,clear:Oh,delete:Oh}),ea.freeze(e),t&&Pd(e,(r,n)=>{Dw(n,!0)},!1)),e}function nV(){za(2)}var Oh={[id]:nV};function wp(e){return e===null||!Cw(e)?!0:ea.isFrozen(e)}var vm="MapSet",rb="Patches",ck={};function sc(e){const t=ck[e];return t||za(0,e),t}var aV=e=>!!ck[e],sd,uk=()=>sd,iV=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:aV(vm)?sc(vm):void 0});function j2(e,t){t&&(e.patchPlugin_=sc(rb),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function nb(e){ab(e),e.drafts_.forEach(sV),e.drafts_=null}function ab(e){e===sd&&(sd=e.parent_)}var _2=e=>sd=iV(sd,e);function sV(e){const t=e[En];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function N2(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[En].modified_&&(nb(t),za(4)),si(e)&&(e=S2(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(r[En].base_,e,t)}else e=S2(t,r);return oV(t,e,!0),nb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==ok?e:void 0}function S2(e,t){if(wp(t))return t;const r=t[En];if(!r)return kw(t,e.handledSet_,e);if(!jp(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);hk(r,e)}return r.copy_}function oV(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Dw(t,r)}function dk(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var jp=(e,t)=>e.scope_===t,lV=[];function fk(e,t,r,n){const i=Ti(e),s=e.type_;if(n!==void 0&&eb(i,n,s)===t){ym(i,n,r,s);return}if(!e.draftLocations_){const d=e.draftLocations_=new Map;Pd(i,(f,h)=>{if(qi(h)){const p=d.get(h)||[];p.push(f),d.set(h,p)}})}const c=e.draftLocations_.get(t)??lV;for(const d of c)ym(i,d,r,s)}function cV(e,t,r){e.callbacks_.push(function(i){var d;const s=t;if(!s||!jp(s,i))return;(d=i.mapSetPlugin_)==null||d.fixSetContents(s);const c=Pw(s);fk(e,s.draft_??s,c,r),hk(s,i)})}function hk(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const s=i.getPath(e);s&&i.generatePatches_(e,s,t)}dk(e)}}function uV(e,t,r){const{scope_:n}=e;if(qi(r)){const i=r[En];jp(i,n)&&i.callbacks_.push(function(){Wh(e);const c=Pw(i);fk(e,r,c,t)})}else si(r)&&e.callbacks_.push(function(){const s=Ti(e);eb(s,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&kw(eb(e.copy_,t,e.type_),n.handledSet_,n)})}function kw(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||qi(e)||t.has(e)||!si(e)||wp(e)||(t.add(e),Pd(e,(n,i)=>{if(qi(i)){const s=i[En];if(jp(s,r)){const c=Pw(s);ym(e,n,c,e.type_),dk(s)}}else si(i)&&kw(i,t,r)})),e}function dV(e,t){const r=vp(e),n={type_:r?1:0,scope_:t?t.scope_:uk(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,s=Rw;r&&(i=[n],s=od);const{revoke:c,proxy:d}=Proxy.revocable(i,s);return n.draft_=d,n.revoke_=c,[d,n]}var Rw={get(e,t){if(t===En)return e;const r=Ti(e);if(!w2(r,t,e.type_))return fV(e,r,t);const n=r[t];if(e.finalized_||!si(n))return n;if(n===Iv(e.base_,t)){Wh(e);const i=e.type_===1?+t:t,s=sb(e.scope_,n,e,i);return e.copy_[i]=s}return n},has(e,t){return t in Ti(e)},ownKeys(e){return Reflect.ownKeys(Ti(e))},set(e,t,r){const n=mk(Ti(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=Iv(Ti(e),t),s=i==null?void 0:i[En];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(rV(r,i)&&(r!==void 0||w2(e.base_,t,e.type_)))return!0;Wh(e),ib(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),uV(e,t,r)),!0},deleteProperty(e,t){return Wh(e),Iv(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),ib(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Ti(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Kh]:!0,[Jx]:e.type_!==1||t!=="length",[gm]:n[gm],[id]:r[t]}},defineProperty(){za(11)},getPrototypeOf(e){return ic(e.base_)},setPrototypeOf(){za(12)}},od={};Pd(Rw,(e,t)=>{od[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});od.deleteProperty=function(e,t){return od.set.call(this,e,t,void 0)};od.set=function(e,t,r){return Rw.set.call(this,e[0],t,r,e[0])};function Iv(e,t){const r=e[En];return(r?Ti(r):e)[t]}function fV(e,t,r){var i;const n=mk(t,r);return n?id in n?n[id]:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function mk(e,t){if(!(t in e))return;let r=ic(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=ic(r)}}function ib(e){e.modified_||(e.modified_=!0,e.parent_&&ib(e.parent_))}function Wh(e){e.copy_||(e.assigned_=new Map,e.copy_=tb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var hV=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,i)=>{if(Fl(r)&&!Fl(n)){const c=n;n=r;const d=this;return function(h=c,...p){return d.produce(h,g=>n.call(this,g,...p))}}Fl(n)||za(6),i!==void 0&&!Fl(i)&&za(7);let s;if(si(r)){const c=_2(this),d=sb(c,r,void 0);let f=!0;try{s=n(d),f=!1}finally{f?nb(c):ab(c)}return j2(c,i),N2(s,c)}else if(!r||!Cw(r)){if(s=n(r),s===void 0&&(s=r),s===ok&&(s=void 0),this.autoFreeze_&&Dw(s,!0),i){const c=[],d=[];sc(rb).generateReplacementPatches_(r,s,{patches_:c,inversePatches_:d}),i(c,d)}return s}else za(1,r)},this.produceWithPatches=(r,n)=>{if(Fl(r))return(d,...f)=>this.produceWithPatches(d,h=>r(h,...f));let i,s;return[this.produce(r,n,(d,f)=>{i=d,s=f}),i,s]},Mv(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Mv(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Mv(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){si(t)||za(8),qi(t)&&(t=qa(t));const r=_2(this),n=sb(r,t,void 0);return n[En].isManual_=!0,ab(r),n}finishDraft(t,r){const n=t&&t[En];(!n||!n.isManual_)&&za(9);const{scope_:i}=n;return j2(i,r),N2(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const s=r[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(r=r.slice(n+1));const i=sc(rb).applyPatches_;return qi(t)?i(t,r):this.produce(t,s=>i(s,r))}};function sb(e,t,r,n){const[i,s]=xp(t)?sc(vm).proxyMap_(t,r):bp(t)?sc(vm).proxySet_(t,r):dV(t,r);return((r==null?void 0:r.scope_)??uk()).drafts_.push(i),s.callbacks_=(r==null?void 0:r.callbacks_)??[],s.key_=n,r&&n!==void 0?cV(r,s,n):s.callbacks_.push(function(f){var p;(p=f.mapSetPlugin_)==null||p.fixSetContents(s);const{patchPlugin_:h}=f;s.modified_&&h&&h.generatePatches_(s,[],f)}),i}function qa(e){return qi(e)||za(10,e),pk(e)}function pk(e){if(!si(e)||wp(e))return e;const t=e[En];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=tb(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=tb(e,!0);return Pd(r,(i,s)=>{ym(r,i,pk(s))},n),t&&(t.finalized_=!1),r}var mV=new hV,gk=mV.produce;function yk(e){return({dispatch:r,getState:n})=>i=>s=>typeof s=="function"?s(r,n,e):i(s)}var pV=yk(),gV=yk,yV=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?mm:mm.apply(null,arguments)};function Na(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(ta(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>sk(n)&&n.type===e,r}var vk=class Mu extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Mu.prototype)}static get[Symbol.species](){return Mu}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Mu(...t[0].concat(this)):new Mu(...t.concat(this))}};function E2(e){return si(e)?gk(e,()=>{}):e}function Th(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function vV(e){return typeof e=="boolean"}var xV=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let c=new vk;return r&&(vV(r)?c.push(pV):c.push(gV(r.extraArgument))),c},xk="RTK_autoBatch",Jt=()=>e=>({payload:e,meta:{[xk]:!0}}),A2=e=>t=>{setTimeout(t,e)},bk=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,s=!1,c=!1;const d=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:A2(10):e.type==="callback"?e.queueNotification:A2(e.timeout),h=()=>{c=!1,s&&(s=!1,d.forEach(p=>p()))};return Object.assign({},n,{subscribe(p){const g=()=>i&&p(),v=n.subscribe(g);return d.add(p),()=>{v(),d.delete(p)}},dispatch(p){var g;try{return i=!((g=p==null?void 0:p.meta)!=null&&g[xk]),s=!i,s&&(c||(c=!0,f(h))),n.dispatch(p)}finally{i=!0}}})},bV=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new vk(e);return n&&i.push(bk(typeof n=="object"?n:void 0)),i};function wV(e){const t=xV(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:s=void 0,enhancers:c=void 0}=e||{};let d;if(typeof r=="function")d=r;else if(Tw(r))d=ik(r);else throw new Error(ta(1));let f;typeof n=="function"?f=n(t):f=t();let h=mm;i&&(h=yV({trace:!1,...typeof i=="object"&&i}));const p=eV(...f),g=bV(p);let v=typeof c=="function"?c(g):g();const x=h(...v);return ak(d,s,x)}function wk(e){const t={},r=[];let n;const i={addCase(s,c){const d=typeof s=="string"?s:s.type;if(!d)throw new Error(ta(28));if(d in t)throw new Error(ta(29));return t[d]=c,i},addAsyncThunk(s,c){return c.pending&&(t[s.pending.type]=c.pending),c.rejected&&(t[s.rejected.type]=c.rejected),c.fulfilled&&(t[s.fulfilled.type]=c.fulfilled),c.settled&&r.push({matcher:s.settled,reducer:c.settled}),i},addMatcher(s,c){return r.push({matcher:s,reducer:c}),i},addDefaultCase(s){return n=s,i}};return e(i),[t,r,n]}function jV(e){return typeof e=="function"}function _V(e,t){let[r,n,i]=wk(t),s;if(jV(e))s=()=>E2(e());else{const d=E2(e);s=()=>d}function c(d=s(),f){let h=[r[f.type],...n.filter(({matcher:p})=>p(f)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[i]),h.reduce((p,g)=>{if(g)if(qi(p)){const x=g(p,f);return x===void 0?p:x}else{if(si(p))return gk(p,v=>g(v,f));{const v=g(p,f);if(v===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return p},d)}return c.getInitialState=s,c}var NV="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",SV=(e=21)=>{let t="",r=e;for(;r--;)t+=NV[Math.random()*64|0];return t},EV=Symbol.for("rtk-slice-createasyncthunk");function AV(e,t){return`${e}/${t}`}function OV({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[EV];return function(i){const{name:s,reducerPath:c=s}=i;if(!s)throw new Error(ta(11));const d=(typeof i.reducers=="function"?i.reducers(CV()):i.reducers)||{},f=Object.keys(d),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(P,D){const T=typeof P=="string"?P:P.type;if(!T)throw new Error(ta(12));if(T in h.sliceCaseReducersByType)throw new Error(ta(13));return h.sliceCaseReducersByType[T]=D,p},addMatcher(P,D){return h.sliceMatchers.push({matcher:P,reducer:D}),p},exposeAction(P,D){return h.actionCreators[P]=D,p},exposeCaseReducer(P,D){return h.sliceCaseReducersByName[P]=D,p}};f.forEach(P=>{const D=d[P],T={reducerName:P,type:AV(s,P),createNotation:typeof i.reducers=="function"};DV(D)?RV(T,D,p,t):PV(T,D,p)});function g(){const[P={},D=[],T=void 0]=typeof i.extraReducers=="function"?wk(i.extraReducers):[i.extraReducers],R={...P,...h.sliceCaseReducersByType};return _V(i.initialState,q=>{for(let Y in R)q.addCase(Y,R[Y]);for(let Y of h.sliceMatchers)q.addMatcher(Y.matcher,Y.reducer);for(let Y of D)q.addMatcher(Y.matcher,Y.reducer);T&&q.addDefaultCase(T)})}const v=P=>P,x=new Map,j=new WeakMap;let _;function N(P,D){return _||(_=g()),_(P,D)}function S(){return _||(_=g()),_.getInitialState()}function O(P,D=!1){function T(q){let Y=q[P];return typeof Y>"u"&&D&&(Y=Th(j,T,S)),Y}function R(q=v){const Y=Th(x,D,()=>new WeakMap);return Th(Y,q,()=>{const G={};for(const[U,z]of Object.entries(i.selectors??{}))G[U]=TV(z,q,()=>Th(j,q,S),D);return G})}return{reducerPath:P,getSelectors:R,get selectors(){return R(T)},selectSlice:T}}const A={name:s,reducer:N,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:S,...O(c),injectInto(P,{reducerPath:D,...T}={}){const R=D??c;return P.inject({reducerPath:R,reducer:N},T),{...A,...O(R,!0)}}};return A}}function TV(e,t,r,n){function i(s,...c){let d=t(s);return typeof d>"u"&&n&&(d=r()),e(d,...c)}return i.unwrapped=e,i}var Un=OV();function CV(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function PV({type:e,reducerName:t,createNotation:r},n,i){let s,c;if("reducer"in n){if(r&&!kV(n))throw new Error(ta(17));s=n.reducer,c=n.prepare}else s=n;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,c?Na(e,c):Na(e))}function DV(e){return e._reducerDefinitionType==="asyncThunk"}function kV(e){return e._reducerDefinitionType==="reducerWithPrepare"}function RV({type:e,reducerName:t},r,n,i){if(!i)throw new Error(ta(18));const{payloadCreator:s,fulfilled:c,pending:d,rejected:f,settled:h,options:p}=r,g=i(e,s,p);n.exposeAction(t,g),c&&n.addCase(g.fulfilled,c),d&&n.addCase(g.pending,d),f&&n.addCase(g.rejected,f),h&&n.addMatcher(g.settled,h),n.exposeCaseReducer(t,{fulfilled:c||Ch,pending:d||Ch,rejected:f||Ch,settled:h||Ch})}function Ch(){}var MV="task",jk="listener",_k="completed",Mw="cancelled",IV=`task-${Mw}`,LV=`task-${_k}`,ob=`${jk}-${Mw}`,zV=`${jk}-${_k}`,_p=class{constructor(e){vy(this,"name","TaskAbortError");vy(this,"message");this.code=e,this.message=`${MV} ${Mw} (reason: ${e})`}},Iw=(e,t)=>{if(typeof e!="function")throw new TypeError(ta(32))},xm=()=>{},Nk=(e,t=xm)=>(e.catch(t),e),Sk=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Mo=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Io=e=>{if(e.aborted){const{reason:t}=e;throw new _p(t)}};function Ek(e,t){let r=xm;return new Promise((n,i)=>{const s=()=>i(new _p(e.reason));if(e.aborted){s();return}r=Sk(e,s),t.finally(()=>r()).then(n,i)}).finally(()=>{r=xm})}var UV=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof _p?"cancelled":"rejected",error:r}}finally{t==null||t()}},bm=e=>t=>Nk(Ek(e,t).then(r=>(Io(e),r))),Ak=e=>{const t=bm(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:ec}=Object,O2={},Np="listenerMiddleware",$V=(e,t)=>{const r=n=>Sk(e,()=>Mo(n,e.reason));return(n,i)=>{Iw(n);const s=new AbortController;r(s);const c=UV(async()=>{Io(e),Io(s.signal);const d=await n({pause:bm(s.signal),delay:Ak(s.signal),signal:s.signal});return Io(s.signal),d},()=>Mo(s,LV));return i!=null&&i.autoJoin&&t.push(c.catch(xm)),{result:bm(e)(c),cancel(){Mo(s,IV)}}}},BV=(e,t)=>{const r=async(n,i)=>{Io(t);let s=()=>{};const d=[new Promise((f,h)=>{let p=e({predicate:n,effect:(g,v)=>{v.unsubscribe(),f([g,v.getState(),v.getOriginalState()])}});s=()=>{p(),h()}})];i!=null&&d.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await Ek(t,Promise.race(d));return Io(t),f}finally{s()}};return(n,i)=>Nk(r(n,i))},Ok=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:s}=e;if(t)i=Na(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(ta(21));return Iw(s),{predicate:i,type:t,effect:s}},Tk=ec(e=>{const{type:t,predicate:r,effect:n}=Ok(e);return{id:SV(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(ta(22))}}},{withTypes:()=>Tk}),T2=(e,t)=>{const{type:r,effect:n,predicate:i}=Ok(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===i)&&s.effect===n)},lb=e=>{e.pending.forEach(t=>{Mo(t,ob)})},qV=(e,t)=>()=>{for(const r of t.keys())lb(r);e.clear()},C2=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},Ck=ec(Na(`${Np}/add`),{withTypes:()=>Ck}),VV=Na(`${Np}/removeAll`),Pk=ec(Na(`${Np}/remove`),{withTypes:()=>Pk}),FV=(...e)=>{console.error(`${Np}/error`,...e)},kd=(e={})=>{const t=new Map,r=new Map,n=x=>{const j=r.get(x)??0;r.set(x,j+1)},i=x=>{const j=r.get(x)??1;j===1?r.delete(x):r.set(x,j-1)},{extra:s,onError:c=FV}=e;Iw(c);const d=x=>(x.unsubscribe=()=>t.delete(x.id),t.set(x.id,x),j=>{x.unsubscribe(),j!=null&&j.cancelActive&&lb(x)}),f=x=>{const j=T2(t,x)??Tk(x);return d(j)};ec(f,{withTypes:()=>f});const h=x=>{const j=T2(t,x);return j&&(j.unsubscribe(),x.cancelActive&&lb(j)),!!j};ec(h,{withTypes:()=>h});const p=async(x,j,_,N)=>{const S=new AbortController,O=BV(f,S.signal),A=[];try{x.pending.add(S),n(x),await Promise.resolve(x.effect(j,ec({},_,{getOriginalState:N,condition:(P,D)=>O(P,D).then(Boolean),take:O,delay:Ak(S.signal),pause:bm(S.signal),extra:s,signal:S.signal,fork:$V(S.signal,A),unsubscribe:x.unsubscribe,subscribe:()=>{t.set(x.id,x)},cancelActiveListeners:()=>{x.pending.forEach((P,D,T)=>{P!==S&&(Mo(P,ob),T.delete(P))})},cancel:()=>{Mo(S,ob),x.pending.delete(S)},throwIfCancelled:()=>{Io(S.signal)}})))}catch(P){P instanceof _p||C2(c,P,{raisedBy:"effect"})}finally{await Promise.all(A),Mo(S,zV),i(x),x.pending.delete(S)}},g=qV(t,r);return{middleware:x=>j=>_=>{if(!sk(_))return j(_);if(Ck.match(_))return f(_.payload);if(VV.match(_)){g();return}if(Pk.match(_))return h(_.payload);let N=x.getState();const S=()=>{if(N===O2)throw new Error(ta(23));return N};let O;try{if(O=j(_),t.size>0){const A=x.getState(),P=Array.from(t.values());for(const D of P){let T=!1;try{T=D.predicate(_,A,N)}catch(R){T=!1,C2(c,R,{raisedBy:"predicate"})}T&&p(D,_,x,S)}}}finally{N=O2}return O},startListening:f,stopListening:h,clearListeners:g}};function ta(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var GV={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},Dk=Un({name:"chartLayout",initialState:GV,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,s;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:HV,setLayout:KV,setChartSize:WV,setScale:YV}=Dk.actions,XV=Dk.reducer;function kk(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function P2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Hl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P2(Object(r),!0).forEach(function(n){ZV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZV(e,t,r){return(t=QV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QV(e){var t=JV(e,"string");return typeof t=="symbol"?t:t+""}function JV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tr(e,t,r){return Qr(e)||Qr(t)?r:ii(t)?Bo(e,t,r):typeof t=="function"?t(e):r}var e9=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:s,verticalAlign:c,layout:d}=t;if((d==="vertical"||d==="horizontal"&&c==="middle")&&s!=="center"&&Fe(e[s]))return Hl(Hl({},e),{},{[s]:e[s]+(n||0)});if((d==="horizontal"||d==="vertical"&&s==="center")&&c!=="middle"&&Fe(e[c]))return Hl(Hl({},e),{},{[c]:e[c]+(i||0)})}return e},Wo=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",Rk=(e,t,r,n)=>{if(n)return e.map(d=>d.coordinate);var i,s,c=e.map(d=>(d.coordinate===t&&(i=!0),d.coordinate===r&&(s=!0),d.coordinate));return i||c.push(t),s||c.push(r),c},Mk=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:s,scale:c,realScaleType:d,isCategorical:f,categoricalDomain:h,tickCount:p,ticks:g,niceTicks:v,axisType:x}=e;if(!c)return null;var j=d==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,_=i==="category"&&c.bandwidth?c.bandwidth()/j:0;if(_=x==="angleAxis"&&s&&s.length>=2?Zr(s[0]-s[1])*2*_:_,g||v){var N=(g||v||[]).map((S,O)=>{var A=n?n.indexOf(S):S;return{coordinate:c(A)+_,value:S,offset:_,index:O}});return N.filter(S=>!Ga(S.coordinate))}return f&&h?h.map((S,O)=>({coordinate:c(S)+_,value:S,index:O,offset:_})):c.ticks&&p!=null?c.ticks(p).map((S,O)=>({coordinate:c(S)+_,value:S,offset:_,index:O})):c.domain().map((S,O)=>({coordinate:c(S)+_,value:n?n[S]:S,index:O,offset:_}))},D2=1e-4,t9=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-D2,s=Math.max(n[0],n[1])+D2,c=e(t[0]),d=e(t[r-1]);(c<i||c>s||d<i||d>s)&&e.domain([t[0],t[r-1]])}},r9=(e,t)=>{if(!t||t.length!==2||!Fe(t[0])||!Fe(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!Fe(e[0])||e[0]<r)&&(i[0]=r),(!Fe(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},n9=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,s=0,c=0;c<t;++c){var d=Ga(e[c][r][1])?e[c][r][0]:e[c][r][1];d>=0?(e[c][r][0]=i,e[c][r][1]=i+d,i=e[c][r][1]):(e[c][r][0]=s,e[c][r][1]=s+d,s=e[c][r][1])}},a9=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,s=0;s<t;++s){var c=Ga(e[s][r][1])?e[s][r][0]:e[s][r][1];c>=0?(e[s][r][0]=i,e[s][r][1]=i+c,i=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},i9={sign:n9,expand:_B,none:ac,silhouette:NB,wiggle:SB,positive:a9},s9=(e,t,r)=>{var n=i9[r],i=jB().keys(t).value((s,c)=>Number(tr(s,c,0))).order(Zx).offset(n);return i(e)};function o9(e){return e==null?void 0:String(e)}var k2=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:s,index:c}=e;if(t.type==="category")return r[c]?r[c].coordinate+n:null;var d=tr(s,t.dataKey,t.scale.domain()[c]);return Qr(d)?null:t.scale(d)-i/2+n},l9=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},c9=e=>{var t=e.flat(2).filter(Fe);return[Math.min(...t),Math.max(...t)]},u9=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],d9=(e,t,r)=>{if(e!=null)return u9(Object.keys(e).reduce((n,i)=>{var s=e[i],{stackedData:c}=s,d=c.reduce((f,h)=>{var p=kk(h,t,r),g=c9(p);return[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(d[0],n[0]),Math.max(d[1],n[1])]},[1/0,-1/0]))},R2=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,M2=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,wm=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=gp(t,p=>p.coordinate),s=1/0,c=1,d=i.length;c<d;c++){var f=i[c],h=i[c-1];s=Math.min((f.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function I2(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:s}=e;return Hl(Hl({},t),{},{dataKey:r,payload:n,value:i,name:s})}function Sp(e,t){if(e)return String(e);if(typeof t=="string")return t}var f9=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},h9=(e,t)=>t==="centric"?e.angle:e.radius,Xi=e=>e.layout.width,Zi=e=>e.layout.height,m9=e=>e.layout.scale,Ik=e=>e.layout.margin,Ep=ie(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Ap=ie(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),Lk="data-recharts-item-index",zk="data-recharts-item-data-key",Rd=60;function L2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ph(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L2(Object(r),!0).forEach(function(n){p9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function p9(e,t,r){return(t=g9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g9(e){var t=y9(e,"string");return typeof t=="symbol"?t:t+""}function y9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var v9=e=>e.brush.height;function x9(e){var t=Ap(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Rd;return r+i}return r},0)}function b9(e){var t=Ap(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Rd;return r+i}return r},0)}function w9(e){var t=Ep(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function j9(e){var t=Ep(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Br=ie([Xi,Zi,Ik,v9,x9,b9,w9,j9,rk,Kq],(e,t,r,n,i,s,c,d,f,h)=>{var p={left:(r.left||0)+i,right:(r.right||0)+s},g={top:(r.top||0)+c,bottom:(r.bottom||0)+d},v=Ph(Ph({},g),p),x=v.bottom;v.bottom+=n,v=e9(v,f,h);var j=e-v.left-v.right,_=t-v.top-v.bottom;return Ph(Ph({brushBottom:x},v),{},{width:Math.max(j,0),height:Math.max(_,0)})}),_9=ie(Br,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Lw=ie(Xi,Zi,(e,t)=>({x:0,y:0,width:e,height:t})),N9=w.createContext(null),$n=()=>w.useContext(N9)!=null,Op=e=>e.brush,Tp=ie([Op,Br,Ik],(e,t,r)=>({height:e.height,x:Fe(e.x)?e.x:t.left,y:Fe(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:Fe(e.width)?e.width:t.width})),Lv={},zv={},Uv={},z2;function S9(){return z2||(z2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:s}={}){let c,d=null;const f=s!=null&&s.includes("leading"),h=s==null||s.includes("trailing"),p=()=>{d!==null&&(r.apply(c,d),c=void 0,d=null)},g=()=>{h&&p(),_()};let v=null;const x=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,g()},n)},j=()=>{v!==null&&(clearTimeout(v),v=null)},_=()=>{j(),c=void 0,d=null},N=()=>{p()},S=function(...O){if(i!=null&&i.aborted)return;c=this,d=O;const A=v==null;x(),f&&A&&p()};return S.schedule=x,S.cancel=_,S.flush=N,i==null||i.addEventListener("abort",_,{once:!0}),S}e.debounce=t})(Uv)),Uv}var U2;function E9(){return U2||(U2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S9();function r(n,i=0,s={}){typeof s!="object"&&(s={});const{leading:c=!1,trailing:d=!0,maxWait:f}=s,h=Array(2);c&&(h[0]="leading"),d&&(h[1]="trailing");let p,g=null;const v=t.debounce(function(..._){p=n.apply(this,_),g=null},i,{edges:h}),x=function(..._){return f!=null&&(g===null&&(g=Date.now()),Date.now()-g>=f)?(p=n.apply(this,_),g=Date.now(),v.cancel(),v.schedule(),p):(v.apply(this,_),p)},j=()=>(v.flush(),p);return x.cancel=v.cancel,x.flush=j,x}e.debounce=r})(zv)),zv}var $2;function A9(){return $2||($2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=E9();function r(n,i=0,s={}){const{leading:c=!0,trailing:d=!0}=s;return t.debounce(n,i,{leading:c,maxWait:i,trailing:d})}e.throttle=r})(Lv)),Lv}var $v,B2;function O9(){return B2||(B2=1,$v=A9().throttle),$v}var T9=O9();const C9=ci(T9);var jm=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=0;console.warn(r.replace(/%s/g,()=>i[c++]))}},Uk=(e,t,r)=>{var{width:n="100%",height:i="100%",aspect:s,maxHeight:c}=r,d=Bi(n)?e:Number(n),f=Bi(i)?t:Number(i);return s&&s>0&&(d?f=d/s:f&&(d=f*s),c&&f!=null&&f>c&&(f=c)),{calculatedWidth:d,calculatedHeight:f}},P9={width:0,height:0,overflow:"visible"},D9={width:0,overflowX:"visible"},k9={height:0,overflowY:"visible"},R9={},M9=e=>{var{width:t,height:r}=e,n=Bi(t),i=Bi(r);return n&&i?P9:n?D9:i?k9:R9};function I9(e){var{width:t,height:r,aspect:n}=e,i=t,s=r;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=n&&n>0?void 0:"100%":s===void 0&&(s=n&&n>0?void 0:"100%"),{width:i,height:s}}function br(e){return Number.isFinite(e)}function oi(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function cb(){return cb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cb.apply(null,arguments)}function q2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function V2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q2(Object(r),!0).forEach(function(n){L9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L9(e,t,r){return(t=z9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z9(e){var t=U9(e,"string");return typeof t=="symbol"?t:t+""}function U9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $k=w.createContext({width:-1,height:-1});function $9(e){return oi(e.width)&&oi(e.height)}function Bk(e){var{children:t,width:r,height:n}=e,i=w.useMemo(()=>({width:r,height:n}),[r,n]);return $9(i)?w.createElement($k.Provider,{value:i},t):null}var zw=()=>w.useContext($k),B9=w.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i,height:s,minWidth:c=0,minHeight:d,maxHeight:f,children:h,debounce:p=0,id:g,className:v,onResize:x,style:j={}}=e,_=w.useRef(null),N=w.useRef();N.current=x,w.useImperativeHandle(t,()=>_.current);var[S,O]=w.useState({containerWidth:n.width,containerHeight:n.height}),A=w.useCallback((q,Y)=>{O(G=>{var U=Math.round(q),z=Math.round(Y);return G.containerWidth===U&&G.containerHeight===z?G:{containerWidth:U,containerHeight:z}})},[]);w.useEffect(()=>{if(_.current==null||typeof ResizeObserver>"u")return Td;var q=z=>{var J,{width:B,height:K}=z[0].contentRect;A(B,K),(J=N.current)===null||J===void 0||J.call(N,B,K)};p>0&&(q=C9(q,p,{trailing:!0,leading:!1}));var Y=new ResizeObserver(q),{width:G,height:U}=_.current.getBoundingClientRect();return A(G,U),Y.observe(_.current),()=>{Y.disconnect()}},[A,p]);var{containerWidth:P,containerHeight:D}=S;jm(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:T,calculatedHeight:R}=Uk(P,D,{width:i,height:s,aspect:r,maxHeight:f});return jm(T!=null&&T>0||R!=null&&R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,T,R,i,s,c,d,r),w.createElement("div",{id:g?"".concat(g):void 0,className:kt("recharts-responsive-container",v),style:V2(V2({},j),{},{width:i,height:s,minWidth:c,minHeight:d,maxHeight:f}),ref:_},w.createElement("div",{style:M9({width:i,height:s})},w.createElement(Bk,{width:T,height:R},h)))}),ld=w.forwardRef((e,t)=>{var r=zw();if(oi(r.width)&&oi(r.height))return e.children;var{width:n,height:i}=I9({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:c}=Uk(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return Fe(s)&&Fe(c)?w.createElement(Bk,{width:s,height:c},e.children):w.createElement(B9,cb({},e,{width:n,height:i,ref:t}))});function qk(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Cp=()=>{var e,t=$n(),r=qe(_9),n=qe(Tp),i=(e=qe(Op))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},q9={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Vk=()=>{var e;return(e=qe(Br))!==null&&e!==void 0?e:q9},Uw=()=>qe(Xi),$w=()=>qe(Zi),V9=()=>qe(e=>e.layout.margin),St=e=>e.layout.layoutType,Pp=()=>qe(St),F9=()=>{var e=Pp();return e!==void 0},Dp=e=>{var t=Ht(),r=$n(),{width:n,height:i}=e,s=zw(),c=n,d=i;return s&&(c=s.width>0?s.width:n,d=s.height>0?s.height:i),w.useEffect(()=>{!r&&oi(c)&&oi(d)&&t(WV({width:c,height:d}))},[t,r,c,d]),null},Fk=Symbol.for("immer-nothing"),F2=Symbol.for("immer-draftable"),aa=Symbol.for("immer-state");function Ua(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var cd=Object.getPrototypeOf;function oc(e){return!!e&&!!e[aa]}function qo(e){var t;return e?Gk(e)||Array.isArray(e)||!!e[F2]||!!((t=e.constructor)!=null&&t[F2])||Md(e)||Rp(e):!1}var G9=Object.prototype.constructor.toString(),G2=new WeakMap;function Gk(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=G2.get(r);return n===void 0&&(n=Function.toString.call(r),G2.set(r,n)),n===G9}function _m(e,t,r=!0){kp(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function kp(e){const t=e[aa];return t?t.type_:Array.isArray(e)?1:Md(e)?2:Rp(e)?3:0}function ub(e,t){return kp(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Hk(e,t,r){const n=kp(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function H9(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Md(e){return e instanceof Map}function Rp(e){return e instanceof Set}function jo(e){return e.copy_||e.base_}function db(e,t){if(Md(e))return new Map(e);if(Rp(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=Gk(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[aa];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const c=i[s],d=n[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(n[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:e[c]})}return Object.create(cd(e),n)}else{const n=cd(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function Bw(e,t=!1){return Mp(e)||oc(e)||!qo(e)||(kp(e)>1&&Object.defineProperties(e,{set:Dh,add:Dh,clear:Dh,delete:Dh}),Object.freeze(e),t&&Object.values(e).forEach(r=>Bw(r,!0))),e}function K9(){Ua(2)}var Dh={value:K9};function Mp(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var W9={};function Vo(e){const t=W9[e];return t||Ua(0,e),t}var ud;function Kk(){return ud}function Y9(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function H2(e,t){t&&(Vo("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function fb(e){hb(e),e.drafts_.forEach(X9),e.drafts_=null}function hb(e){e===ud&&(ud=e.parent_)}function K2(e){return ud=Y9(ud,e)}function X9(e){const t=e[aa];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function W2(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[aa].modified_&&(fb(t),Ua(4)),qo(e)&&(e=Nm(t,e),t.parent_||Sm(t,e)),t.patches_&&Vo("Patches").generateReplacementPatches_(r[aa].base_,e,t.patches_,t.inversePatches_)):e=Nm(t,r,[]),fb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Fk?e:void 0}function Nm(e,t,r){if(Mp(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[aa];if(!i)return _m(t,(s,c)=>Y2(e,i,t,s,c,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return Sm(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let c=s,d=!1;i.type_===3&&(c=new Set(s),s.clear(),d=!0),_m(c,(f,h)=>Y2(e,i,s,f,h,r,d),n),Sm(e,s,!1),r&&e.patches_&&Vo("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function Y2(e,t,r,n,i,s,c){if(i==null||typeof i!="object"&&!c)return;const d=Mp(i);if(!(d&&!c)){if(oc(i)){const f=s&&t&&t.type_!==3&&!ub(t.assigned_,n)?s.concat(n):void 0,h=Nm(e,i,f);if(Hk(r,n,h),oc(h))e.canAutoFreeze_=!1;else return}else c&&r.add(i);if(qo(i)&&!d){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&d)return;Nm(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Md(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Sm(e,i)}}}function Sm(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Bw(t,r)}function Z9(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:Kk(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=qw;r&&(i=[n],s=dd);const{revoke:c,proxy:d}=Proxy.revocable(i,s);return n.draft_=d,n.revoke_=c,d}var qw={get(e,t){if(t===aa)return e;const r=jo(e);if(!ub(r,t))return Q9(e,r,t);const n=r[t];return e.finalized_||!qo(n)?n:n===Bv(e.base_,t)?(qv(e),e.copy_[t]=pb(n,e)):n},has(e,t){return t in jo(e)},ownKeys(e){return Reflect.ownKeys(jo(e))},set(e,t,r){const n=Wk(jo(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=Bv(jo(e),t),s=i==null?void 0:i[aa];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(H9(r,i)&&(r!==void 0||ub(e.base_,t)))return!0;qv(e),mb(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Bv(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,qv(e),mb(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=jo(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Ua(11)},getPrototypeOf(e){return cd(e.base_)},setPrototypeOf(){Ua(12)}},dd={};_m(qw,(e,t)=>{dd[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});dd.deleteProperty=function(e,t){return dd.set.call(this,e,t,void 0)};dd.set=function(e,t,r){return qw.set.call(this,e[0],t,r,e[0])};function Bv(e,t){const r=e[aa];return(r?jo(r):e)[t]}function Q9(e,t,r){var i;const n=Wk(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function Wk(e,t){if(!(t in e))return;let r=cd(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=cd(r)}}function mb(e){e.modified_||(e.modified_=!0,e.parent_&&mb(e.parent_))}function qv(e){e.copy_||(e.copy_=db(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var J9=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const c=this;return function(f=s,...h){return c.produce(f,p=>r.call(this,p,...h))}}typeof r!="function"&&Ua(6),n!==void 0&&typeof n!="function"&&Ua(7);let i;if(qo(t)){const s=K2(this),c=pb(t,void 0);let d=!0;try{i=r(c),d=!1}finally{d?fb(s):hb(s)}return H2(s,n),W2(i,s)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===Fk&&(i=void 0),this.autoFreeze_&&Bw(i,!0),n){const s=[],c=[];Vo("Patches").generateReplacementPatches_(t,i,s,c),n(s,c)}return i}else Ua(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(c,...d)=>this.produceWithPatches(c,f=>t(f,...d));let n,i;return[this.produce(t,r,(c,d)=>{n=c,i=d}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){qo(e)||Ua(8),oc(e)&&(e=e7(e));const t=K2(this),r=pb(e,void 0);return r[aa].isManual_=!0,hb(t),r}finishDraft(e,t){const r=e&&e[aa];(!r||!r.isManual_)&&Ua(9);const{scope_:n}=r;return H2(n,t),W2(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=Vo("Patches").applyPatches_;return oc(e)?n(e,t):this.produce(e,i=>n(i,t))}};function pb(e,t){const r=Md(e)?Vo("MapSet").proxyMap_(e,t):Rp(e)?Vo("MapSet").proxySet_(e,t):Z9(e,t);return(t?t.scope_:Kk()).drafts_.push(r),r}function e7(e){return oc(e)||Ua(10,e),Yk(e)}function Yk(e){if(!qo(e)||Mp(e))return e;const t=e[aa];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=db(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=db(e,!0);return _m(r,(i,s)=>{Hk(r,i,Yk(s))},n),t&&(t.finalized_=!1),r}var t7=new J9;t7.produce;var r7={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Xk=Un({name:"legend",initialState:r7,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Jt()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,i=qa(e).payload.indexOf(r);i>-1&&(e.payload[i]=n)},prepare:Jt()},removeLegendPayload:{reducer(e,t){var r=qa(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Jt()}}}),{setLegendSize:X2,setLegendSettings:n7,addLegendPayload:Zk,replaceLegendPayload:Qk,removeLegendPayload:Jk}=Xk.actions,a7=Xk.reducer,i7=["contextPayload"];function gb(){return gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gb.apply(null,arguments)}function Z2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z2(Object(r),!0).forEach(function(n){s7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function s7(e,t,r){return(t=o7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o7(e){var t=l7(e,"string");return typeof t=="symbol"?t:t+""}function l7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c7(e,t){if(e==null)return{};var r,n,i=u7(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function u7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function d7(e){return e.value}function f7(e){var{contextPayload:t}=e,r=c7(e,i7),n=QD(t,e.payloadUniqBy,d7),i=lc(lc({},r),{},{payload:n});return w.isValidElement(e.content)?w.cloneElement(e.content,i):typeof e.content=="function"?w.createElement(e.content,i):w.createElement(rq,i)}function h7(e,t,r,n,i,s){var{layout:c,align:d,verticalAlign:f}=t,h,p;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(d==="center"&&c==="vertical"?h={left:((n||0)-s.width)/2}:h=d==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(f==="middle"?p={top:((i||0)-s.height)/2}:p=f==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),lc(lc({},h),p)}function m7(e){var t=Ht();return w.useEffect(()=>{t(n7(e))},[t,e]),null}function p7(e){var t=Ht();return w.useEffect(()=>(t(X2(e)),()=>{t(X2({width:0,height:0}))}),[t,e]),null}function g7(e,t,r,n){return e==="vertical"&&Fe(t)?{height:t}:e==="horizontal"?{width:r||n}:null}var y7={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function eR(e){var t=Jr(e,y7),r=Xq(),n=H$(),i=V9(),{width:s,height:c,wrapperStyle:d,portal:f}=t,[h,p]=nk([r]),g=Uw(),v=$w();if(g==null||v==null)return null;var x=g-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),j=g7(t.layout,c,s,x),_=f?d:lc(lc({position:"absolute",width:(j==null?void 0:j.width)||s||"auto",height:(j==null?void 0:j.height)||c||"auto"},h7(d,t,i,g,v,h)),d),N=f??n;if(N==null||r==null)return null;var S=w.createElement("div",{className:"recharts-legend-wrapper",style:_,ref:p},w.createElement(m7,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!f&&w.createElement(p7,{width:h.width,height:h.height}),w.createElement(f7,gb({},t,j,{margin:i,chartWidth:g,chartHeight:v,contextPayload:r})));return xw.createPortal(S,N)}eR.displayName="Legend";function yb(){return yb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yb.apply(null,arguments)}function Q2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q2(Object(r),!0).forEach(function(n){v7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function v7(e,t,r){return(t=x7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x7(e){var t=b7(e,"string");return typeof t=="symbol"?t:t+""}function b7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function w7(e){return Array.isArray(e)&&ii(e[0])&&ii(e[1])?e.join(" ~ "):e}var j7=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:s,formatter:c,itemSorter:d,wrapperClassName:f,labelClassName:h,label:p,labelFormatter:g,accessibilityLayer:v=!1}=e,x=()=>{if(s&&s.length){var D={padding:0,margin:0},T=(d?gp(s,d):s).map((R,q)=>{if(R.type==="none")return null;var Y=R.formatter||c||w7,{value:G,name:U}=R,z=G,J=U;if(Y){var B=Y(G,U,R,q,s);if(Array.isArray(B))[z,J]=B;else if(B!=null)z=B;else return null}var K=Vv({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},n);return w.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(q),style:K},ii(J)?w.createElement("span",{className:"recharts-tooltip-item-name"},J):null,ii(J)?w.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,w.createElement("span",{className:"recharts-tooltip-item-value"},z),w.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return w.createElement("ul",{className:"recharts-tooltip-item-list",style:D},T)}return null},j=Vv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),_=Vv({margin:0},i),N=!Qr(p),S=N?p:"",O=kt("recharts-default-tooltip",f),A=kt("recharts-tooltip-label",h);N&&g&&s!==void 0&&s!==null&&(S=g(p,s));var P=v?{role:"status","aria-live":"assertive"}:{};return w.createElement("div",yb({className:O,style:j},P),w.createElement("p",{className:A,style:_},w.isValidElement(S)?S:"".concat(S)),x())},Su="recharts-tooltip-wrapper",_7={visibility:"hidden"};function N7(e){var{coordinate:t,translateX:r,translateY:n}=e;return kt(Su,{["".concat(Su,"-right")]:Fe(r)&&t&&Fe(t.x)&&r>=t.x,["".concat(Su,"-left")]:Fe(r)&&t&&Fe(t.x)&&r<t.x,["".concat(Su,"-bottom")]:Fe(n)&&t&&Fe(t.y)&&n>=t.y,["".concat(Su,"-top")]:Fe(n)&&t&&Fe(t.y)&&n<t.y})}function J2(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:s,reverseDirection:c,tooltipDimension:d,viewBox:f,viewBoxDimension:h}=e;if(s&&Fe(s[n]))return s[n];var p=r[n]-d-(i>0?i:0),g=r[n]+i;if(t[n])return c[n]?p:g;var v=f[n];if(v==null)return 0;if(c[n]){var x=p,j=v;return x<j?Math.max(g,v):Math.max(p,v)}if(h==null)return 0;var _=g+d,N=v+h;return _>N?Math.max(p,v):Math.max(g,v)}function S7(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function E7(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:s,tooltipBox:c,useTranslate3d:d,viewBox:f}=e,h,p,g;return c.height>0&&c.width>0&&r?(p=J2({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:c.width,viewBox:f,viewBoxDimension:f.width}),g=J2({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:c.height,viewBox:f,viewBoxDimension:f.height}),h=S7({translateX:p,translateY:g,useTranslate3d:d})):h=_7,{cssProperties:h,cssClasses:N7({translateX:p,translateY:g,coordinate:r})}}function eO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eO(Object(r),!0).forEach(function(n){vb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vb(e,t,r){return(t=A7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A7(e){var t=O7(e,"string");return typeof t=="symbol"?t:t+""}function O7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class T7 extends w.PureComponent{constructor(){super(...arguments),vb(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),vb(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:s,coordinate:c,hasPayload:d,isAnimationActive:f,offset:h,position:p,reverseDirection:g,useTranslate3d:v,viewBox:x,wrapperStyle:j,lastBoundingBox:_,innerRef:N,hasPortalFromProps:S}=this.props,{cssClasses:O,cssProperties:A}=E7({allowEscapeViewBox:r,coordinate:c,offsetTopLeft:h,position:p,reverseDirection:g,tooltipBox:{height:_.height,width:_.width},useTranslate3d:v,viewBox:x}),P=S?{}:kh(kh({transition:f&&t?"transform ".concat(n,"ms ").concat(i):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&d?"visible":"hidden",position:"absolute",top:0,left:0}),D=kh(kh({},P),{},{visibility:!this.state.dismissed&&t&&d?"visible":"hidden"},j);return w.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:O,style:D,ref:N},s)}}var C7=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Yo={devToolsEnabled:!1,isSsr:C7()},tR=()=>{var e;return(e=qe(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function xb(){return xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xb.apply(null,arguments)}function tO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tO(Object(r),!0).forEach(function(n){P7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P7(e,t,r){return(t=D7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D7(e){var t=k7(e,"string");return typeof t=="symbol"?t:t+""}function k7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nO={curveBasisClosed:dB,curveBasisOpen:fB,curveBasis:uB,curveBumpX:X$,curveBumpY:Z$,curveLinearClosed:hB,curveLinear:mp,curveMonotoneX:mB,curveMonotoneY:pB,curveNatural:gB,curveStep:yB,curveStepAfter:xB,curveStepBefore:vB},Em=e=>br(e.x)&&br(e.y),aO=e=>e.base!=null&&Em(e.base)&&Em(e),Eu=e=>e.x,Au=e=>e.y,R7=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Od(e));return(r==="curveMonotone"||r==="curveBump")&&t?nO["".concat(r).concat(t==="vertical"?"Y":"X")]:nO[r]||mp},M7=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:s=!1}=e,c=R7(t,i),d=s?r.filter(Em):r,f;if(Array.isArray(n)){var h=r.map((x,j)=>rO(rO({},x),{},{base:n[j]}));i==="vertical"?f=Sh().y(Au).x1(Eu).x0(x=>x.base.x):f=Sh().x(Eu).y1(Au).y0(x=>x.base.y);var p=f.defined(aO).curve(c),g=s?h.filter(aO):h;return p(g)}i==="vertical"&&Fe(n)?f=Sh().y(Au).x1(Eu).x0(n):Fe(n)?f=Sh().x(Eu).y1(Au).y0(n):f=OD().x(Eu).y(Au);var v=f.defined(Em).curve(c);return v(d)},Vw=e=>{var{className:t,points:r,path:n,pathRef:i}=e;if((!r||!r.length)&&!n)return null;var s=r&&r.length?M7(e):n;return w.createElement("path",xb({},Fa(e),VB(e),{className:kt("recharts-curve",t),d:s===null?void 0:s,ref:i}))},I7=["x","y","top","left","width","height","className"];function bb(){return bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bb.apply(null,arguments)}function iO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function L7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iO(Object(r),!0).forEach(function(n){z7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z7(e,t,r){return(t=U7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U7(e){var t=$7(e,"string");return typeof t=="symbol"?t:t+""}function $7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function B7(e,t){if(e==null)return{};var r,n,i=q7(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function q7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var V7=(e,t,r,n,i,s)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),F7=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:s=0,height:c=0,className:d}=e,f=B7(e,I7),h=L7({x:t,y:r,top:n,left:i,width:s,height:c},f);return!Fe(t)||!Fe(r)||!Fe(s)||!Fe(c)||!Fe(n)||!Fe(i)?null:w.createElement("path",bb({},_a(h),{className:kt("recharts-cross",d),d:V7(t,r,s,c,n,i)}))};function G7(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function sO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function oO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sO(Object(r),!0).forEach(function(n){H7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H7(e,t,r){return(t=K7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K7(e){var t=W7(e,"string");return typeof t=="symbol"?t:t+""}function W7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Y7=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),rR=(e,t,r)=>e.map(n=>"".concat(Y7(n)," ").concat(t,"ms ").concat(r)).join(","),X7=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),fd=(e,t)=>Object.keys(t).reduce((r,n)=>oO(oO({},r),{},{[n]:e(n,t[n])}),{});function lO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ur(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lO(Object(r),!0).forEach(function(n){Z7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z7(e,t,r){return(t=Q7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q7(e){var t=J7(e,"string");return typeof t=="symbol"?t:t+""}function J7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Am=(e,t,r)=>e+(t-e)*r,wb=e=>{var{from:t,to:r}=e;return t!==r},nR=(e,t,r)=>{var n=fd((i,s)=>{if(wb(s)){var[c,d]=e(s.from,s.to,s.velocity);return Ur(Ur({},s),{},{from:c,velocity:d})}return s},t);return r<1?fd((i,s)=>wb(s)?Ur(Ur({},s),{},{velocity:Am(s.velocity,n[i].velocity,r),from:Am(s.from,n[i].from,r)}):s,t):nR(e,n,r-1)};function eF(e,t,r,n,i,s){var c,d=n.reduce((v,x)=>Ur(Ur({},v),{},{[x]:{from:e[x],velocity:0,to:t[x]}}),{}),f=()=>fd((v,x)=>x.from,d),h=()=>!Object.values(d).filter(wb).length,p=null,g=v=>{c||(c=v);var x=v-c,j=x/r.dt;d=nR(r,d,j),i(Ur(Ur(Ur({},e),t),f())),c=v,h()||(p=s.setTimeout(g))};return()=>(p=s.setTimeout(g),()=>{var v;(v=p)===null||v===void 0||v()})}function tF(e,t,r,n,i,s,c){var d=null,f=i.reduce((g,v)=>Ur(Ur({},g),{},{[v]:[e[v],t[v]]}),{}),h,p=g=>{h||(h=g);var v=(g-h)/n,x=fd((_,N)=>Am(...N,r(v)),f);if(s(Ur(Ur(Ur({},e),t),x)),v<1)d=c.setTimeout(p);else{var j=fd((_,N)=>Am(...N,r(1)),f);s(Ur(Ur(Ur({},e),t),j))}};return()=>(d=c.setTimeout(p),()=>{var g;(g=d)===null||g===void 0||g()})}const rF=(e,t,r,n,i,s)=>{var c=X7(e,t);return r==null?()=>(i(Ur(Ur({},e),t)),()=>{}):r.isStepper===!0?eF(e,t,r,c,i,s):tF(e,t,r,n,c,i,s)};var Om=1e-4,aR=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],iR=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),cO=(e,t)=>r=>{var n=aR(e,t);return iR(n,r)},nF=(e,t)=>r=>{var n=aR(e,t),i=[...n.map((s,c)=>s*c).slice(1),0];return iR(i,r)},aF=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,s=r[0].split("(");if(s[0]==="cubic-bezier"&&((i=s[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var c=s[1].split(")")[0].split(",").map(d=>parseFloat(d));return[c[0],c[1],c[2],c[3]]}}}return r.length===4?r:[0,0,1,1]},iF=(e,t,r,n)=>{var i=cO(e,r),s=cO(t,n),c=nF(e,r),d=h=>h>1?1:h<0?0:h,f=h=>{for(var p=h>1?1:h,g=p,v=0;v<8;++v){var x=i(g)-p,j=c(g);if(Math.abs(x-p)<Om||j<Om)return s(g);g=d(g-x/j)}return s(g)};return f.isStepper=!1,f},uO=function(){return iF(...aF(...arguments))},sF=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,s=(c,d,f)=>{var h=-(c-d)*r,p=f*n,g=f+(h-p)*i/1e3,v=f*i/1e3+c;return Math.abs(v-d)<Om&&Math.abs(g)<Om?[d,0]:[v,g]};return s.isStepper=!0,s.dt=i,s},oF=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return uO(e);case"spring":return sF();default:if(e.split("(")[0]==="cubic-bezier")return uO(e)}return typeof e=="function"?e:null};function lF(e){var t,r=()=>null,n=!1,i=null,s=c=>{if(!n){if(Array.isArray(c)){if(!c.length)return;var d=c,[f,...h]=d;if(typeof f=="number"){i=e.setTimeout(s.bind(null,h),f);return}s(f),i=e.setTimeout(s.bind(null,h));return}typeof c=="string"&&(t=c,r(t)),typeof c=="object"&&(t=c,r(t)),typeof c=="function"&&c()}};return{stop:()=>{n=!0},start:c=>{n=!1,i&&(i(),i=null),s(c)},subscribe:c=>(r=c,()=>{r=()=>null}),getTimeoutController:()=>e}}class cF{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,s=c=>{c-n>=r?t(c):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function uF(){return lF(new cF)}var dF=w.createContext(uF);function fF(e,t){var r=w.useContext(dF);return w.useMemo(()=>t??r(e),[e,t,r])}var hF={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},dO={t:0},Fv={t:1};function Ip(e){var t=Jr(e,hF),{isActive:r,canBegin:n,duration:i,easing:s,begin:c,onAnimationEnd:d,onAnimationStart:f,children:h}=t,p=r==="auto"?!Yo.isSsr:r,g=fF(t.animationId,t.animationManager),[v,x]=w.useState(p?dO:Fv),j=w.useRef(null);return w.useEffect(()=>{p||x(Fv)},[p]),w.useEffect(()=>{if(!p||!n)return Td;var _=rF(dO,Fv,oF(s),i,x,g.getTimeoutController()),N=()=>{j.current=_()};return g.start([f,c,N,i,d]),()=>{g.stop(),j.current&&j.current(),d()}},[p,n,i,s,c,f,d,g]),h(v.t)}function Lp(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=w.useRef(ad(t)),n=w.useRef(e);return n.current!==e&&(r.current=ad(t),n.current=e),r.current}var mF=["radius"],pF=["radius"];function fO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fO(Object(r),!0).forEach(function(n){gF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gF(e,t,r){return(t=yF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yF(e){var t=vF(e,"string");return typeof t=="symbol"?t:t+""}function vF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tm(){return Tm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tm.apply(null,arguments)}function mO(e,t){if(e==null)return{};var r,n,i=xF(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function xF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var pO=(e,t,r,n,i)=>{var s=Math.min(Math.abs(r)/2,Math.abs(n)/2),c=n>=0?1:-1,d=r>=0?1:-1,f=n>=0&&r>=0||n<0&&r<0?1:0,h;if(s>0&&i instanceof Array){for(var p=[0,0,0,0],g=0,v=4;g<v;g++)p[g]=i[g]>s?s:i[g];h="M".concat(e,",").concat(t+c*p[0]),p[0]>0&&(h+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(f,",").concat(e+d*p[0],",").concat(t)),h+="L ".concat(e+r-d*p[1],",").concat(t),p[1]>0&&(h+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(f,`,
        `).concat(e+r,",").concat(t+c*p[1])),h+="L ".concat(e+r,",").concat(t+n-c*p[2]),p[2]>0&&(h+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(f,`,
        `).concat(e+r-d*p[2],",").concat(t+n)),h+="L ".concat(e+d*p[3],",").concat(t+n),p[3]>0&&(h+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(t+n-c*p[3])),h+="Z"}else if(s>0&&i===+i&&i>0){var x=Math.min(s,i);h="M ".concat(e,",").concat(t+c*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(e+d*x,",").concat(t,`
            L `).concat(e+r-d*x,",").concat(t,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(e+r,",").concat(t+c*x,`
            L `).concat(e+r,",").concat(t+n-c*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(e+r-d*x,",").concat(t+n,`
            L `).concat(e+d*x,",").concat(t+n,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(e,",").concat(t+n-c*x," Z")}else h="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return h},gO={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},sR=e=>{var t=Jr(e,gO),r=w.useRef(null),[n,i]=w.useState(-1);w.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var H=r.current.getTotalLength();H&&i(H)}catch{}},[]);var{x:s,y:c,width:d,height:f,radius:h,className:p}=t,{animationEasing:g,animationDuration:v,animationBegin:x,isAnimationActive:j,isUpdateAnimationActive:_}=t,N=w.useRef(d),S=w.useRef(f),O=w.useRef(s),A=w.useRef(c),P=w.useMemo(()=>({x:s,y:c,width:d,height:f,radius:h}),[s,c,d,f,h]),D=Lp(P,"rectangle-");if(s!==+s||c!==+c||d!==+d||f!==+f||d===0||f===0)return null;var T=kt("recharts-rectangle",p);if(!_){var R=_a(t),{radius:q}=R,Y=mO(R,mF);return w.createElement("path",Tm({},Y,{radius:typeof h=="number"?h:void 0,className:T,d:pO(s,c,d,f,h)}))}var G=N.current,U=S.current,z=O.current,J=A.current,B="0px ".concat(n===-1?1:n,"px"),K="".concat(n,"px 0px"),M=rR(["strokeDasharray"],v,typeof g=="string"?g:gO.animationEasing);return w.createElement(Ip,{animationId:D,key:D,canBegin:n>0,duration:v,easing:g,isActive:_,begin:x},H=>{var re=zr(G,d,H),be=zr(U,f,H),Se=zr(z,s,H),L=zr(J,c,H);r.current&&(N.current=re,S.current=be,O.current=Se,A.current=L);var ee;j?H>0?ee={transition:M,strokeDasharray:K}:ee={strokeDasharray:B}:ee={strokeDasharray:K};var je=_a(t),{radius:Ne}=je,Ie=mO(je,pF);return w.createElement("path",Tm({},Ie,{radius:typeof h=="number"?h:void 0,className:T,d:pO(Se,L,re,be,h),ref:r,style:hO(hO({},ee),t.style)}))})};function yO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yO(Object(r),!0).forEach(function(n){bF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bF(e,t,r){return(t=wF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wF(e){var t=jF(e,"string");return typeof t=="symbol"?t:t+""}function jF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cm=Math.PI/180,_F=e=>e*180/Math.PI,Tr=(e,t,r,n)=>({x:e+Math.cos(-Cm*n)*r,y:t+Math.sin(-Cm*n)*r}),oR=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},NF=(e,t)=>{var{x:r,y:n}=e,{x:i,y:s}=t;return Math.sqrt((r-i)**2+(n-s)**2)},SF=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:s}=t,c=NF({x:r,y:n},{x:i,y:s});if(c<=0)return{radius:c,angle:0};var d=(r-i)/c,f=Math.acos(d);return n>s&&(f=2*Math.PI-f),{radius:c,angle:_F(f),angleInRadian:f}},EF=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),s=Math.min(n,i);return{startAngle:t-s*360,endAngle:r-s*360}},AF=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),s=Math.floor(n/360),c=Math.min(i,s);return e+c*360},OF=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:i,angle:s}=SF({x:r,y:n},t),{innerRadius:c,outerRadius:d}=t;if(i<c||i>d||i===0)return null;var{startAngle:f,endAngle:h}=EF(t),p=s,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?vO(vO({},t),{},{radius:i,angle:AF(p,t)}):null};function lR(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:s}=e,c=Tr(t,r,n,i),d=Tr(t,r,n,s);return{points:[c,d],cx:t,cy:r,radius:n,startAngle:i,endAngle:s}}function jb(){return jb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jb.apply(null,arguments)}var TF=(e,t)=>{var r=Zr(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Rh=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:s,isExternal:c,cornerRadius:d,cornerIsExternal:f}=e,h=d*(c?1:-1)+n,p=Math.asin(d/h)/Cm,g=f?i:i+s*p,v=Tr(t,r,h,g),x=Tr(t,r,n,g),j=f?i-s*p:i,_=Tr(t,r,h*Math.cos(p*Cm),j);return{center:v,circleTangency:x,lineTangency:_,theta:p}},cR=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:s,endAngle:c}=e,d=TF(s,c),f=s+d,h=Tr(t,r,i,s),p=Tr(t,r,i,f),g="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(s>f),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(n>0){var v=Tr(t,r,n,s),x=Tr(t,r,n,f);g+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(s<=f),`,
            `).concat(v.x,",").concat(v.y," Z")}else g+="L ".concat(t,",").concat(r," Z");return g},CF=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:s,forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:h}=e,p=Zr(h-f),{circleTangency:g,lineTangency:v,theta:x}=Rh({cx:t,cy:r,radius:i,angle:f,sign:p,cornerRadius:s,cornerIsExternal:d}),{circleTangency:j,lineTangency:_,theta:N}=Rh({cx:t,cy:r,radius:i,angle:h,sign:-p,cornerRadius:s,cornerIsExternal:d}),S=d?Math.abs(f-h):Math.abs(f-h)-x-N;if(S<0)return c?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):cR({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:f,endAngle:h});var O="M ".concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(S>180),",").concat(+(p<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(_.x,",").concat(_.y,`
  `);if(n>0){var{circleTangency:A,lineTangency:P,theta:D}=Rh({cx:t,cy:r,radius:n,angle:f,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),{circleTangency:T,lineTangency:R,theta:q}=Rh({cx:t,cy:r,radius:n,angle:h,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),Y=d?Math.abs(f-h):Math.abs(f-h)-D-q;if(Y<0&&s===0)return"".concat(O,"L").concat(t,",").concat(r,"Z");O+="L".concat(R.x,",").concat(R.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(Y>180),",").concat(+(p>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(P.x,",").concat(P.y,"Z")}else O+="L".concat(t,",").concat(r,"Z");return O},PF={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},uR=e=>{var t=Jr(e,PF),{cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:c,forceCornerRadius:d,cornerIsExternal:f,startAngle:h,endAngle:p,className:g}=t;if(s<i||h===p)return null;var v=kt("recharts-sector",g),x=s-i,j=xn(c,x,0,!0),_;return j>0&&Math.abs(h-p)<360?_=CF({cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:Math.min(j,x/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:h,endAngle:p}):_=cR({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:h,endAngle:p}),w.createElement("path",jb({},_a(t),{className:v,d:_}))};function DF(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(qD(t)){if(e==="centric"){var{cx:n,cy:i,innerRadius:s,outerRadius:c,angle:d}=t,f=Tr(n,i,s,d),h=Tr(n,i,c,d);return[{x:f.x,y:f.y},{x:h.x,y:h.y}]}return lR(t)}}var Gv={},Hv={},Kv={},xO;function kF(){return xO||(xO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ek();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(Kv)),Kv}var bO;function RF(){return bO||(bO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kF();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(Hv)),Hv}var wO;function MF(){return wO||(wO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tk(),r=RF();function n(i,s,c){c&&typeof c!="number"&&t.isIterateeCall(i,s,c)&&(s=c=void 0),i=r.toFinite(i),s===void 0?(s=i,i=0):s=r.toFinite(s),c=c===void 0?i<s?1:-1:r.toFinite(c);const d=Math.max(Math.ceil((s-i)/(c||1)),0),f=new Array(d);for(let h=0;h<d;h++)f[h]=i,i+=c;return f}e.range=n})(Gv)),Gv}var Wv,jO;function IF(){return jO||(jO=1,Wv=MF().range),Wv}var LF=IF();const dR=ci(LF);function qs(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function zF(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Fw(e){let t,r,n;e.length!==2?(t=qs,r=(d,f)=>qs(e(d),f),n=(d,f)=>e(d)-f):(t=e===qs||e===zF?e:UF,r=e,n=e);function i(d,f,h=0,p=d.length){if(h<p){if(t(f,f)!==0)return p;do{const g=h+p>>>1;r(d[g],f)<0?h=g+1:p=g}while(h<p)}return h}function s(d,f,h=0,p=d.length){if(h<p){if(t(f,f)!==0)return p;do{const g=h+p>>>1;r(d[g],f)<=0?h=g+1:p=g}while(h<p)}return h}function c(d,f,h=0,p=d.length){const g=i(d,f,h,p-1);return g>h&&n(d[g-1],f)>-n(d[g],f)?g-1:g}return{left:i,center:c,right:s}}function UF(){return 0}function fR(e){return e===null?NaN:+e}function*$F(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const BF=Fw(qs),Id=BF.right;Fw(fR).center;class _O extends Map{constructor(t,r=FF){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(NO(this,t))}has(t){return super.has(NO(this,t))}set(t,r){return super.set(qF(this,t),r)}delete(t){return super.delete(VF(this,t))}}function NO({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function qF({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function VF({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function FF(e){return e!==null&&typeof e=="object"?e.valueOf():e}function GF(e=qs){if(e===qs)return hR;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function hR(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const HF=Math.sqrt(50),KF=Math.sqrt(10),WF=Math.sqrt(2);function Pm(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),c=s>=HF?10:s>=KF?5:s>=WF?2:1;let d,f,h;return i<0?(h=Math.pow(10,-i)/c,d=Math.round(e*h),f=Math.round(t*h),d/h<e&&++d,f/h>t&&--f,h=-h):(h=Math.pow(10,i)*c,d=Math.round(e/h),f=Math.round(t/h),d*h<e&&++d,f*h>t&&--f),f<d&&.5<=r&&r<2?Pm(e,t,r*2):[d,f,h]}function _b(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,s,c]=n?Pm(t,e,r):Pm(e,t,r);if(!(s>=i))return[];const d=s-i+1,f=new Array(d);if(n)if(c<0)for(let h=0;h<d;++h)f[h]=(s-h)/-c;else for(let h=0;h<d;++h)f[h]=(s-h)*c;else if(c<0)for(let h=0;h<d;++h)f[h]=(i+h)/-c;else for(let h=0;h<d;++h)f[h]=(i+h)*c;return f}function Nb(e,t,r){return t=+t,e=+e,r=+r,Pm(e,t,r)[2]}function Sb(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?Nb(t,e,r):Nb(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function SO(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function EO(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function mR(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?hR:GF(i);n>r;){if(n-r>600){const f=n-r+1,h=t-r+1,p=Math.log(f),g=.5*Math.exp(2*p/3),v=.5*Math.sqrt(p*g*(f-g)/f)*(h-f/2<0?-1:1),x=Math.max(r,Math.floor(t-h*g/f+v)),j=Math.min(n,Math.floor(t+(f-h)*g/f+v));mR(e,t,x,j,i)}const s=e[t];let c=r,d=n;for(Ou(e,r,t),i(e[n],s)>0&&Ou(e,r,n);c<d;){for(Ou(e,c,d),++c,--d;i(e[c],s)<0;)++c;for(;i(e[d],s)>0;)--d}i(e[r],s)===0?Ou(e,r,d):(++d,Ou(e,d,n)),d<=t&&(r=d+1),t<=d&&(n=d-1)}return e}function Ou(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function YF(e,t,r){if(e=Float64Array.from($F(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return EO(e);if(t>=1)return SO(e);var n,i=(n-1)*t,s=Math.floor(i),c=SO(mR(e,s).subarray(0,s+1)),d=EO(e.subarray(s+1));return c+(d-c)*(i-s)}}function XF(e,t,r=fR){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,s=Math.floor(i),c=+r(e[s],s,e),d=+r(e[s+1],s+1,e);return c+(d-c)*(i-s)}}function ZF(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(i);++n<i;)s[n]=e+n*r;return s}function Ea(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Qi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Eb=Symbol("implicit");function Gw(){var e=new _O,t=[],r=[],n=Eb;function i(s){let c=e.get(s);if(c===void 0){if(n!==Eb)return n;e.set(s,c=t.push(s)-1)}return r[c%r.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new _O;for(const c of s)e.has(c)||e.set(c,t.push(c)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return Gw(t,r).unknown(n)},Ea.apply(i,arguments),i}function Hw(){var e=Gw().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,s,c,d=!1,f=0,h=0,p=.5;delete e.unknown;function g(){var v=t().length,x=i<n,j=x?i:n,_=x?n:i;s=(_-j)/Math.max(1,v-f+h*2),d&&(s=Math.floor(s)),j+=(_-j-s*(v-f))*p,c=s*(1-f),d&&(j=Math.round(j),c=Math.round(c));var N=ZF(v).map(function(S){return j+s*S});return r(x?N.reverse():N)}return e.domain=function(v){return arguments.length?(t(v),g()):t()},e.range=function(v){return arguments.length?([n,i]=v,n=+n,i=+i,g()):[n,i]},e.rangeRound=function(v){return[n,i]=v,n=+n,i=+i,d=!0,g()},e.bandwidth=function(){return c},e.step=function(){return s},e.round=function(v){return arguments.length?(d=!!v,g()):d},e.padding=function(v){return arguments.length?(f=Math.min(1,h=+v),g()):f},e.paddingInner=function(v){return arguments.length?(f=Math.min(1,v),g()):f},e.paddingOuter=function(v){return arguments.length?(h=+v,g()):h},e.align=function(v){return arguments.length?(p=Math.max(0,Math.min(1,v)),g()):p},e.copy=function(){return Hw(t(),[n,i]).round(d).paddingInner(f).paddingOuter(h).align(p)},Ea.apply(g(),arguments)}function pR(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return pR(t())},e}function QF(){return pR(Hw.apply(null,arguments).paddingInner(1))}function Kw(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function gR(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Ld(){}var hd=.7,Dm=1/hd,tc="\\s*([+-]?\\d+)\\s*",md="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ri="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",JF=/^#([0-9a-f]{3,8})$/,eG=new RegExp(`^rgb\\(${tc},${tc},${tc}\\)$`),tG=new RegExp(`^rgb\\(${ri},${ri},${ri}\\)$`),rG=new RegExp(`^rgba\\(${tc},${tc},${tc},${md}\\)$`),nG=new RegExp(`^rgba\\(${ri},${ri},${ri},${md}\\)$`),aG=new RegExp(`^hsl\\(${md},${ri},${ri}\\)$`),iG=new RegExp(`^hsla\\(${md},${ri},${ri},${md}\\)$`),AO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Kw(Ld,pd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:OO,formatHex:OO,formatHex8:sG,formatHsl:oG,formatRgb:TO,toString:TO});function OO(){return this.rgb().formatHex()}function sG(){return this.rgb().formatHex8()}function oG(){return yR(this).formatHsl()}function TO(){return this.rgb().formatRgb()}function pd(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=JF.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?CO(t):r===3?new Ln(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Mh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Mh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=eG.exec(e))?new Ln(t[1],t[2],t[3],1):(t=tG.exec(e))?new Ln(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=rG.exec(e))?Mh(t[1],t[2],t[3],t[4]):(t=nG.exec(e))?Mh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=aG.exec(e))?kO(t[1],t[2]/100,t[3]/100,1):(t=iG.exec(e))?kO(t[1],t[2]/100,t[3]/100,t[4]):AO.hasOwnProperty(e)?CO(AO[e]):e==="transparent"?new Ln(NaN,NaN,NaN,0):null}function CO(e){return new Ln(e>>16&255,e>>8&255,e&255,1)}function Mh(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ln(e,t,r,n)}function lG(e){return e instanceof Ld||(e=pd(e)),e?(e=e.rgb(),new Ln(e.r,e.g,e.b,e.opacity)):new Ln}function Ab(e,t,r,n){return arguments.length===1?lG(e):new Ln(e,t,r,n??1)}function Ln(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Kw(Ln,Ab,gR(Ld,{brighter(e){return e=e==null?Dm:Math.pow(Dm,e),new Ln(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?hd:Math.pow(hd,e),new Ln(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ln(Lo(this.r),Lo(this.g),Lo(this.b),km(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:PO,formatHex:PO,formatHex8:cG,formatRgb:DO,toString:DO}));function PO(){return`#${To(this.r)}${To(this.g)}${To(this.b)}`}function cG(){return`#${To(this.r)}${To(this.g)}${To(this.b)}${To((isNaN(this.opacity)?1:this.opacity)*255)}`}function DO(){const e=km(this.opacity);return`${e===1?"rgb(":"rgba("}${Lo(this.r)}, ${Lo(this.g)}, ${Lo(this.b)}${e===1?")":`, ${e})`}`}function km(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Lo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function To(e){return e=Lo(e),(e<16?"0":"")+e.toString(16)}function kO(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new $a(e,t,r,n)}function yR(e){if(e instanceof $a)return new $a(e.h,e.s,e.l,e.opacity);if(e instanceof Ld||(e=pd(e)),!e)return new $a;if(e instanceof $a)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),c=NaN,d=s-i,f=(s+i)/2;return d?(t===s?c=(r-n)/d+(r<n)*6:r===s?c=(n-t)/d+2:c=(t-r)/d+4,d/=f<.5?s+i:2-s-i,c*=60):d=f>0&&f<1?0:c,new $a(c,d,f,e.opacity)}function uG(e,t,r,n){return arguments.length===1?yR(e):new $a(e,t,r,n??1)}function $a(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Kw($a,uG,gR(Ld,{brighter(e){return e=e==null?Dm:Math.pow(Dm,e),new $a(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?hd:Math.pow(hd,e),new $a(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Ln(Yv(e>=240?e-240:e+120,i,n),Yv(e,i,n),Yv(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new $a(RO(this.h),Ih(this.s),Ih(this.l),km(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=km(this.opacity);return`${e===1?"hsl(":"hsla("}${RO(this.h)}, ${Ih(this.s)*100}%, ${Ih(this.l)*100}%${e===1?")":`, ${e})`}`}}));function RO(e){return e=(e||0)%360,e<0?e+360:e}function Ih(e){return Math.max(0,Math.min(1,e||0))}function Yv(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Ww=e=>()=>e;function dG(e,t){return function(r){return e+r*t}}function fG(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function hG(e){return(e=+e)==1?vR:function(t,r){return r-t?fG(t,r,e):Ww(isNaN(t)?r:t)}}function vR(e,t){var r=t-e;return r?dG(e,r):Ww(isNaN(e)?t:e)}const MO=(function e(t){var r=hG(t);function n(i,s){var c=r((i=Ab(i)).r,(s=Ab(s)).r),d=r(i.g,s.g),f=r(i.b,s.b),h=vR(i.opacity,s.opacity);return function(p){return i.r=c(p),i.g=d(p),i.b=f(p),i.opacity=h(p),i+""}}return n.gamma=e,n})(1);function mG(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=e[i]*(1-s)+t[i]*s;return n}}function pG(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function gG(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),s=new Array(r),c;for(c=0;c<n;++c)i[c]=xc(e[c],t[c]);for(;c<r;++c)s[c]=t[c];return function(d){for(c=0;c<n;++c)s[c]=i[c](d);return s}}function yG(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Rm(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function vG(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=xc(e[i],t[i]):n[i]=t[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var Ob=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xv=new RegExp(Ob.source,"g");function xG(e){return function(){return e}}function bG(e){return function(t){return e(t)+""}}function wG(e,t){var r=Ob.lastIndex=Xv.lastIndex=0,n,i,s,c=-1,d=[],f=[];for(e=e+"",t=t+"";(n=Ob.exec(e))&&(i=Xv.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),d[c]?d[c]+=s:d[++c]=s),(n=n[0])===(i=i[0])?d[c]?d[c]+=i:d[++c]=i:(d[++c]=null,f.push({i:c,x:Rm(n,i)})),r=Xv.lastIndex;return r<t.length&&(s=t.slice(r),d[c]?d[c]+=s:d[++c]=s),d.length<2?f[0]?bG(f[0].x):xG(t):(t=f.length,function(h){for(var p=0,g;p<t;++p)d[(g=f[p]).i]=g.x(h);return d.join("")})}function xc(e,t){var r=typeof t,n;return t==null||r==="boolean"?Ww(t):(r==="number"?Rm:r==="string"?(n=pd(t))?(t=n,MO):wG:t instanceof pd?MO:t instanceof Date?yG:pG(t)?mG:Array.isArray(t)?gG:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?vG:Rm)(e,t)}function Yw(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function jG(e,t){t===void 0&&(t=e,e=xc);for(var r=0,n=t.length-1,i=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(i,i=t[++r]);return function(c){var d=Math.max(0,Math.min(n-1,Math.floor(c*=n)));return s[d](c-d)}}function _G(e){return function(){return e}}function Mm(e){return+e}var IO=[0,1];function Nn(e){return e}function Tb(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:_G(isNaN(t)?NaN:.5)}function NG(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function SG(e,t,r){var n=e[0],i=e[1],s=t[0],c=t[1];return i<n?(n=Tb(i,n),s=r(c,s)):(n=Tb(n,i),s=r(s,c)),function(d){return s(n(d))}}function EG(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),s=new Array(n),c=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<n;)i[c]=Tb(e[c],e[c+1]),s[c]=r(t[c],t[c+1]);return function(d){var f=Id(e,d,1,n)-1;return s[f](i[f](d))}}function zd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function zp(){var e=IO,t=IO,r=xc,n,i,s,c=Nn,d,f,h;function p(){var v=Math.min(e.length,t.length);return c!==Nn&&(c=NG(e[0],e[v-1])),d=v>2?EG:SG,f=h=null,g}function g(v){return v==null||isNaN(v=+v)?s:(f||(f=d(e.map(n),t,r)))(n(c(v)))}return g.invert=function(v){return c(i((h||(h=d(t,e.map(n),Rm)))(v)))},g.domain=function(v){return arguments.length?(e=Array.from(v,Mm),p()):e.slice()},g.range=function(v){return arguments.length?(t=Array.from(v),p()):t.slice()},g.rangeRound=function(v){return t=Array.from(v),r=Yw,p()},g.clamp=function(v){return arguments.length?(c=v?!0:Nn,p()):c!==Nn},g.interpolate=function(v){return arguments.length?(r=v,p()):r},g.unknown=function(v){return arguments.length?(s=v,g):s},function(v,x){return n=v,i=x,p()}}function Xw(){return zp()(Nn,Nn)}function AG(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Im(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function cc(e){return e=Im(Math.abs(e)),e?e[1]:NaN}function OG(e,t){return function(r,n){for(var i=r.length,s=[],c=0,d=e[0],f=0;i>0&&d>0&&(f+d+1>n&&(d=Math.max(1,n-f)),s.push(r.substring(i-=d,i+d)),!((f+=d+1)>n));)d=e[c=(c+1)%e.length];return s.reverse().join(t)}}function TG(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var CG=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function gd(e){if(!(t=CG.exec(e)))throw new Error("invalid format: "+e);var t;return new Zw({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}gd.prototype=Zw.prototype;function Zw(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Zw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function PG(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var xR;function DG(e,t){var r=Im(e,t);if(!r)return e+"";var n=r[0],i=r[1],s=i-(xR=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,c=n.length;return s===c?n:s>c?n+new Array(s-c+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Im(e,Math.max(0,t+s-1))[0]}function LO(e,t){var r=Im(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const zO={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:AG,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>LO(e*100,t),r:LO,s:DG,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function UO(e){return e}var $O=Array.prototype.map,BO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function kG(e){var t=e.grouping===void 0||e.thousands===void 0?UO:OG($O.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?UO:TG($O.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",d=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function h(g){g=gd(g);var v=g.fill,x=g.align,j=g.sign,_=g.symbol,N=g.zero,S=g.width,O=g.comma,A=g.precision,P=g.trim,D=g.type;D==="n"?(O=!0,D="g"):zO[D]||(A===void 0&&(A=12),P=!0,D="g"),(N||v==="0"&&x==="=")&&(N=!0,v="0",x="=");var T=_==="$"?r:_==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",R=_==="$"?n:/[%p]/.test(D)?c:"",q=zO[D],Y=/[defgprs%]/.test(D);A=A===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function G(U){var z=T,J=R,B,K,M;if(D==="c")J=q(U)+J,U="";else{U=+U;var H=U<0||1/U<0;if(U=isNaN(U)?f:q(Math.abs(U),A),P&&(U=PG(U)),H&&+U==0&&j!=="+"&&(H=!1),z=(H?j==="("?j:d:j==="-"||j==="("?"":j)+z,J=(D==="s"?BO[8+xR/3]:"")+J+(H&&j==="("?")":""),Y){for(B=-1,K=U.length;++B<K;)if(M=U.charCodeAt(B),48>M||M>57){J=(M===46?i+U.slice(B+1):U.slice(B))+J,U=U.slice(0,B);break}}}O&&!N&&(U=t(U,1/0));var re=z.length+U.length+J.length,be=re<S?new Array(S-re+1).join(v):"";switch(O&&N&&(U=t(be+U,be.length?S-J.length:1/0),be=""),x){case"<":U=z+U+J+be;break;case"=":U=z+be+U+J;break;case"^":U=be.slice(0,re=be.length>>1)+z+U+J+be.slice(re);break;default:U=be+z+U+J;break}return s(U)}return G.toString=function(){return g+""},G}function p(g,v){var x=h((g=gd(g),g.type="f",g)),j=Math.max(-8,Math.min(8,Math.floor(cc(v)/3)))*3,_=Math.pow(10,-j),N=BO[8+j/3];return function(S){return x(_*S)+N}}return{format:h,formatPrefix:p}}var Lh,Qw,bR;RG({thousands:",",grouping:[3],currency:["$",""]});function RG(e){return Lh=kG(e),Qw=Lh.format,bR=Lh.formatPrefix,Lh}function MG(e){return Math.max(0,-cc(Math.abs(e)))}function IG(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(cc(t)/3)))*3-cc(Math.abs(e)))}function LG(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,cc(t)-cc(e))+1}function wR(e,t,r,n){var i=Sb(e,t,r),s;switch(n=gd(n??",f"),n.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=IG(i,c))&&(n.precision=s),bR(n,c)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=LG(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=MG(i))&&(n.precision=s-(n.type==="%")*2);break}}return Qw(n)}function Ws(e){var t=e.domain;return e.ticks=function(r){var n=t();return _b(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return wR(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,s=n.length-1,c=n[i],d=n[s],f,h,p=10;for(d<c&&(h=c,c=d,d=h,h=i,i=s,s=h);p-- >0;){if(h=Nb(c,d,r),h===f)return n[i]=c,n[s]=d,t(n);if(h>0)c=Math.floor(c/h)*h,d=Math.ceil(d/h)*h;else if(h<0)c=Math.ceil(c*h)/h,d=Math.floor(d*h)/h;else break;f=h}return e},e}function jR(){var e=Xw();return e.copy=function(){return zd(e,jR())},Ea.apply(e,arguments),Ws(e)}function _R(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Mm),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return _R(e).unknown(t)},e=arguments.length?Array.from(e,Mm):[0,1],Ws(r)}function NR(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],s=e[n],c;return s<i&&(c=r,r=n,n=c,c=i,i=s,s=c),e[r]=t.floor(i),e[n]=t.ceil(s),e}function qO(e){return Math.log(e)}function VO(e){return Math.exp(e)}function zG(e){return-Math.log(-e)}function UG(e){return-Math.exp(-e)}function $G(e){return isFinite(e)?+("1e"+e):e<0?0:e}function BG(e){return e===10?$G:e===Math.E?Math.exp:t=>Math.pow(e,t)}function qG(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function FO(e){return(t,r)=>-e(-t,r)}function Jw(e){const t=e(qO,VO),r=t.domain;let n=10,i,s;function c(){return i=qG(n),s=BG(n),r()[0]<0?(i=FO(i),s=FO(s),e(zG,UG)):e(qO,VO),t}return t.base=function(d){return arguments.length?(n=+d,c()):n},t.domain=function(d){return arguments.length?(r(d),c()):r()},t.ticks=d=>{const f=r();let h=f[0],p=f[f.length-1];const g=p<h;g&&([h,p]=[p,h]);let v=i(h),x=i(p),j,_;const N=d==null?10:+d;let S=[];if(!(n%1)&&x-v<N){if(v=Math.floor(v),x=Math.ceil(x),h>0){for(;v<=x;++v)for(j=1;j<n;++j)if(_=v<0?j/s(-v):j*s(v),!(_<h)){if(_>p)break;S.push(_)}}else for(;v<=x;++v)for(j=n-1;j>=1;--j)if(_=v>0?j/s(-v):j*s(v),!(_<h)){if(_>p)break;S.push(_)}S.length*2<N&&(S=_b(h,p,N))}else S=_b(v,x,Math.min(x-v,N)).map(s);return g?S.reverse():S},t.tickFormat=(d,f)=>{if(d==null&&(d=10),f==null&&(f=n===10?"s":","),typeof f!="function"&&(!(n%1)&&(f=gd(f)).precision==null&&(f.trim=!0),f=Qw(f)),d===1/0)return f;const h=Math.max(1,n*d/t.ticks().length);return p=>{let g=p/s(Math.round(i(p)));return g*n<n-.5&&(g*=n),g<=h?f(p):""}},t.nice=()=>r(NR(r(),{floor:d=>s(Math.floor(i(d))),ceil:d=>s(Math.ceil(i(d)))})),t}function SR(){const e=Jw(zp()).domain([1,10]);return e.copy=()=>zd(e,SR()).base(e.base()),Ea.apply(e,arguments),e}function GO(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function HO(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function e1(e){var t=1,r=e(GO(t),HO(t));return r.constant=function(n){return arguments.length?e(GO(t=+n),HO(t)):t},Ws(r)}function ER(){var e=e1(zp());return e.copy=function(){return zd(e,ER()).constant(e.constant())},Ea.apply(e,arguments)}function KO(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function VG(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function FG(e){return e<0?-e*e:e*e}function t1(e){var t=e(Nn,Nn),r=1;function n(){return r===1?e(Nn,Nn):r===.5?e(VG,FG):e(KO(r),KO(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Ws(t)}function r1(){var e=t1(zp());return e.copy=function(){return zd(e,r1()).exponent(e.exponent())},Ea.apply(e,arguments),e}function GG(){return r1.apply(null,arguments).exponent(.5)}function WO(e){return Math.sign(e)*e*e}function HG(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function AR(){var e=Xw(),t=[0,1],r=!1,n;function i(s){var c=HG(e(s));return isNaN(c)?n:r?Math.round(c):c}return i.invert=function(s){return e.invert(WO(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,Mm)).map(WO)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return AR(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ea.apply(i,arguments),Ws(i)}function OR(){var e=[],t=[],r=[],n;function i(){var c=0,d=Math.max(1,t.length);for(r=new Array(d-1);++c<d;)r[c-1]=XF(e,c/d);return s}function s(c){return c==null||isNaN(c=+c)?n:t[Id(r,c)]}return s.invertExtent=function(c){var d=t.indexOf(c);return d<0?[NaN,NaN]:[d>0?r[d-1]:e[0],d<r.length?r[d]:e[e.length-1]]},s.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let d of c)d!=null&&!isNaN(d=+d)&&e.push(d);return e.sort(qs),i()},s.range=function(c){return arguments.length?(t=Array.from(c),i()):t.slice()},s.unknown=function(c){return arguments.length?(n=c,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return OR().domain(e).range(t).unknown(n)},Ea.apply(s,arguments)}function TR(){var e=0,t=1,r=1,n=[.5],i=[0,1],s;function c(f){return f!=null&&f<=f?i[Id(n,f,0,r)]:s}function d(){var f=-1;for(n=new Array(r);++f<r;)n[f]=((f+1)*t-(f-r)*e)/(r+1);return c}return c.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,d()):[e,t]},c.range=function(f){return arguments.length?(r=(i=Array.from(f)).length-1,d()):i.slice()},c.invertExtent=function(f){var h=i.indexOf(f);return h<0?[NaN,NaN]:h<1?[e,n[0]]:h>=r?[n[r-1],t]:[n[h-1],n[h]]},c.unknown=function(f){return arguments.length&&(s=f),c},c.thresholds=function(){return n.slice()},c.copy=function(){return TR().domain([e,t]).range(i).unknown(s)},Ea.apply(Ws(c),arguments)}function CR(){var e=[.5],t=[0,1],r,n=1;function i(s){return s!=null&&s<=s?t[Id(e,s,0,n)]:r}return i.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var c=t.indexOf(s);return[e[c-1],e[c]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return CR().domain(e).range(t).unknown(r)},Ea.apply(i,arguments)}const Zv=new Date,Qv=new Date;function qr(e,t,r,n){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const c=i(s),d=i.ceil(s);return s-c<d-s?c:d},i.offset=(s,c)=>(t(s=new Date(+s),c==null?1:Math.floor(c)),s),i.range=(s,c,d)=>{const f=[];if(s=i.ceil(s),d=d==null?1:Math.floor(d),!(s<c)||!(d>0))return f;let h;do f.push(h=new Date(+s)),t(s,d),e(s);while(h<s&&s<c);return f},i.filter=s=>qr(c=>{if(c>=c)for(;e(c),!s(c);)c.setTime(c-1)},(c,d)=>{if(c>=c)if(d<0)for(;++d<=0;)for(;t(c,-1),!s(c););else for(;--d>=0;)for(;t(c,1),!s(c););}),r&&(i.count=(s,c)=>(Zv.setTime(+s),Qv.setTime(+c),e(Zv),e(Qv),Math.floor(r(Zv,Qv))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?c=>n(c)%s===0:c=>i.count(0,c)%s===0):i)),i}const Lm=qr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Lm.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?qr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Lm);Lm.range;const ki=1e3,ja=ki*60,Ri=ja*60,Vi=Ri*24,n1=Vi*7,YO=Vi*30,Jv=Vi*365,Co=qr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ki)},(e,t)=>(t-e)/ki,e=>e.getUTCSeconds());Co.range;const a1=qr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ki)},(e,t)=>{e.setTime(+e+t*ja)},(e,t)=>(t-e)/ja,e=>e.getMinutes());a1.range;const i1=qr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ja)},(e,t)=>(t-e)/ja,e=>e.getUTCMinutes());i1.range;const s1=qr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ki-e.getMinutes()*ja)},(e,t)=>{e.setTime(+e+t*Ri)},(e,t)=>(t-e)/Ri,e=>e.getHours());s1.range;const o1=qr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ri)},(e,t)=>(t-e)/Ri,e=>e.getUTCHours());o1.range;const Ud=qr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ja)/Vi,e=>e.getDate()-1);Ud.range;const Up=qr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Vi,e=>e.getUTCDate()-1);Up.range;const PR=qr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Vi,e=>Math.floor(e/Vi));PR.range;function Xo(e){return qr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ja)/n1)}const $p=Xo(0),zm=Xo(1),KG=Xo(2),WG=Xo(3),uc=Xo(4),YG=Xo(5),XG=Xo(6);$p.range;zm.range;KG.range;WG.range;uc.range;YG.range;XG.range;function Zo(e){return qr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/n1)}const Bp=Zo(0),Um=Zo(1),ZG=Zo(2),QG=Zo(3),dc=Zo(4),JG=Zo(5),eH=Zo(6);Bp.range;Um.range;ZG.range;QG.range;dc.range;JG.range;eH.range;const l1=qr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());l1.range;const c1=qr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());c1.range;const Fi=qr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Fi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:qr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Fi.range;const Gi=qr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Gi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:qr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Gi.range;function DR(e,t,r,n,i,s){const c=[[Co,1,ki],[Co,5,5*ki],[Co,15,15*ki],[Co,30,30*ki],[s,1,ja],[s,5,5*ja],[s,15,15*ja],[s,30,30*ja],[i,1,Ri],[i,3,3*Ri],[i,6,6*Ri],[i,12,12*Ri],[n,1,Vi],[n,2,2*Vi],[r,1,n1],[t,1,YO],[t,3,3*YO],[e,1,Jv]];function d(h,p,g){const v=p<h;v&&([h,p]=[p,h]);const x=g&&typeof g.range=="function"?g:f(h,p,g),j=x?x.range(h,+p+1):[];return v?j.reverse():j}function f(h,p,g){const v=Math.abs(p-h)/g,x=Fw(([,,N])=>N).right(c,v);if(x===c.length)return e.every(Sb(h/Jv,p/Jv,g));if(x===0)return Lm.every(Math.max(Sb(h,p,g),1));const[j,_]=c[v/c[x-1][2]<c[x][2]/v?x-1:x];return j.every(_)}return[d,f]}const[tH,rH]=DR(Gi,c1,Bp,PR,o1,i1),[nH,aH]=DR(Fi,l1,$p,Ud,s1,a1);function ex(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function tx(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Tu(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function iH(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,s=e.days,c=e.shortDays,d=e.months,f=e.shortMonths,h=Cu(i),p=Pu(i),g=Cu(s),v=Pu(s),x=Cu(c),j=Pu(c),_=Cu(d),N=Pu(d),S=Cu(f),O=Pu(f),A={a:H,A:re,b:be,B:Se,c:null,d:tT,e:tT,f:OH,g:zH,G:$H,H:SH,I:EH,j:AH,L:kR,m:TH,M:CH,p:L,q:ee,Q:aT,s:iT,S:PH,u:DH,U:kH,V:RH,w:MH,W:IH,x:null,X:null,y:LH,Y:UH,Z:BH,"%":nT},P={a:je,A:Ne,b:Ie,B:Oe,c:null,d:rT,e:rT,f:GH,g:tK,G:nK,H:qH,I:VH,j:FH,L:MR,m:HH,M:KH,p:ke,q:dt,Q:aT,s:iT,S:WH,u:YH,U:XH,V:ZH,w:QH,W:JH,x:null,X:null,y:eK,Y:rK,Z:aK,"%":nT},D={a:G,A:U,b:z,B:J,c:B,d:JO,e:JO,f:wH,g:QO,G:ZO,H:eT,I:eT,j:yH,L:bH,m:gH,M:vH,p:Y,q:pH,Q:_H,s:NH,S:xH,u:uH,U:dH,V:fH,w:cH,W:hH,x:K,X:M,y:QO,Y:ZO,Z:mH,"%":jH};A.x=T(r,A),A.X=T(n,A),A.c=T(t,A),P.x=T(r,P),P.X=T(n,P),P.c=T(t,P);function T($,Q){return function(ue){var oe=[],Je=-1,Le=0,mt=$.length,lt,Ve,hr;for(ue instanceof Date||(ue=new Date(+ue));++Je<mt;)$.charCodeAt(Je)===37&&(oe.push($.slice(Le,Je)),(Ve=XO[lt=$.charAt(++Je)])!=null?lt=$.charAt(++Je):Ve=lt==="e"?" ":"0",(hr=Q[lt])&&(lt=hr(ue,Ve)),oe.push(lt),Le=Je+1);return oe.push($.slice(Le,Je)),oe.join("")}}function R($,Q){return function(ue){var oe=Tu(1900,void 0,1),Je=q(oe,$,ue+="",0),Le,mt;if(Je!=ue.length)return null;if("Q"in oe)return new Date(oe.Q);if("s"in oe)return new Date(oe.s*1e3+("L"in oe?oe.L:0));if(Q&&!("Z"in oe)&&(oe.Z=0),"p"in oe&&(oe.H=oe.H%12+oe.p*12),oe.m===void 0&&(oe.m="q"in oe?oe.q:0),"V"in oe){if(oe.V<1||oe.V>53)return null;"w"in oe||(oe.w=1),"Z"in oe?(Le=tx(Tu(oe.y,0,1)),mt=Le.getUTCDay(),Le=mt>4||mt===0?Um.ceil(Le):Um(Le),Le=Up.offset(Le,(oe.V-1)*7),oe.y=Le.getUTCFullYear(),oe.m=Le.getUTCMonth(),oe.d=Le.getUTCDate()+(oe.w+6)%7):(Le=ex(Tu(oe.y,0,1)),mt=Le.getDay(),Le=mt>4||mt===0?zm.ceil(Le):zm(Le),Le=Ud.offset(Le,(oe.V-1)*7),oe.y=Le.getFullYear(),oe.m=Le.getMonth(),oe.d=Le.getDate()+(oe.w+6)%7)}else("W"in oe||"U"in oe)&&("w"in oe||(oe.w="u"in oe?oe.u%7:"W"in oe?1:0),mt="Z"in oe?tx(Tu(oe.y,0,1)).getUTCDay():ex(Tu(oe.y,0,1)).getDay(),oe.m=0,oe.d="W"in oe?(oe.w+6)%7+oe.W*7-(mt+5)%7:oe.w+oe.U*7-(mt+6)%7);return"Z"in oe?(oe.H+=oe.Z/100|0,oe.M+=oe.Z%100,tx(oe)):ex(oe)}}function q($,Q,ue,oe){for(var Je=0,Le=Q.length,mt=ue.length,lt,Ve;Je<Le;){if(oe>=mt)return-1;if(lt=Q.charCodeAt(Je++),lt===37){if(lt=Q.charAt(Je++),Ve=D[lt in XO?Q.charAt(Je++):lt],!Ve||(oe=Ve($,ue,oe))<0)return-1}else if(lt!=ue.charCodeAt(oe++))return-1}return oe}function Y($,Q,ue){var oe=h.exec(Q.slice(ue));return oe?($.p=p.get(oe[0].toLowerCase()),ue+oe[0].length):-1}function G($,Q,ue){var oe=x.exec(Q.slice(ue));return oe?($.w=j.get(oe[0].toLowerCase()),ue+oe[0].length):-1}function U($,Q,ue){var oe=g.exec(Q.slice(ue));return oe?($.w=v.get(oe[0].toLowerCase()),ue+oe[0].length):-1}function z($,Q,ue){var oe=S.exec(Q.slice(ue));return oe?($.m=O.get(oe[0].toLowerCase()),ue+oe[0].length):-1}function J($,Q,ue){var oe=_.exec(Q.slice(ue));return oe?($.m=N.get(oe[0].toLowerCase()),ue+oe[0].length):-1}function B($,Q,ue){return q($,t,Q,ue)}function K($,Q,ue){return q($,r,Q,ue)}function M($,Q,ue){return q($,n,Q,ue)}function H($){return c[$.getDay()]}function re($){return s[$.getDay()]}function be($){return f[$.getMonth()]}function Se($){return d[$.getMonth()]}function L($){return i[+($.getHours()>=12)]}function ee($){return 1+~~($.getMonth()/3)}function je($){return c[$.getUTCDay()]}function Ne($){return s[$.getUTCDay()]}function Ie($){return f[$.getUTCMonth()]}function Oe($){return d[$.getUTCMonth()]}function ke($){return i[+($.getUTCHours()>=12)]}function dt($){return 1+~~($.getUTCMonth()/3)}return{format:function($){var Q=T($+="",A);return Q.toString=function(){return $},Q},parse:function($){var Q=R($+="",!1);return Q.toString=function(){return $},Q},utcFormat:function($){var Q=T($+="",P);return Q.toString=function(){return $},Q},utcParse:function($){var Q=R($+="",!0);return Q.toString=function(){return $},Q}}}var XO={"-":"",_:" ",0:"0"},en=/^\s*\d+/,sH=/^%/,oH=/[\\^$*+?|[\]().{}]/g;function Nt(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(t)+i:i)}function lH(e){return e.replace(oH,"\\$&")}function Cu(e){return new RegExp("^(?:"+e.map(lH).join("|")+")","i")}function Pu(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function cH(e,t,r){var n=en.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function uH(e,t,r){var n=en.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function dH(e,t,r){var n=en.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function fH(e,t,r){var n=en.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function hH(e,t,r){var n=en.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function ZO(e,t,r){var n=en.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function QO(e,t,r){var n=en.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function mH(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function pH(e,t,r){var n=en.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function gH(e,t,r){var n=en.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function JO(e,t,r){var n=en.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function yH(e,t,r){var n=en.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function eT(e,t,r){var n=en.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function vH(e,t,r){var n=en.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function xH(e,t,r){var n=en.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function bH(e,t,r){var n=en.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function wH(e,t,r){var n=en.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function jH(e,t,r){var n=sH.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function _H(e,t,r){var n=en.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function NH(e,t,r){var n=en.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function tT(e,t){return Nt(e.getDate(),t,2)}function SH(e,t){return Nt(e.getHours(),t,2)}function EH(e,t){return Nt(e.getHours()%12||12,t,2)}function AH(e,t){return Nt(1+Ud.count(Fi(e),e),t,3)}function kR(e,t){return Nt(e.getMilliseconds(),t,3)}function OH(e,t){return kR(e,t)+"000"}function TH(e,t){return Nt(e.getMonth()+1,t,2)}function CH(e,t){return Nt(e.getMinutes(),t,2)}function PH(e,t){return Nt(e.getSeconds(),t,2)}function DH(e){var t=e.getDay();return t===0?7:t}function kH(e,t){return Nt($p.count(Fi(e)-1,e),t,2)}function RR(e){var t=e.getDay();return t>=4||t===0?uc(e):uc.ceil(e)}function RH(e,t){return e=RR(e),Nt(uc.count(Fi(e),e)+(Fi(e).getDay()===4),t,2)}function MH(e){return e.getDay()}function IH(e,t){return Nt(zm.count(Fi(e)-1,e),t,2)}function LH(e,t){return Nt(e.getFullYear()%100,t,2)}function zH(e,t){return e=RR(e),Nt(e.getFullYear()%100,t,2)}function UH(e,t){return Nt(e.getFullYear()%1e4,t,4)}function $H(e,t){var r=e.getDay();return e=r>=4||r===0?uc(e):uc.ceil(e),Nt(e.getFullYear()%1e4,t,4)}function BH(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Nt(t/60|0,"0",2)+Nt(t%60,"0",2)}function rT(e,t){return Nt(e.getUTCDate(),t,2)}function qH(e,t){return Nt(e.getUTCHours(),t,2)}function VH(e,t){return Nt(e.getUTCHours()%12||12,t,2)}function FH(e,t){return Nt(1+Up.count(Gi(e),e),t,3)}function MR(e,t){return Nt(e.getUTCMilliseconds(),t,3)}function GH(e,t){return MR(e,t)+"000"}function HH(e,t){return Nt(e.getUTCMonth()+1,t,2)}function KH(e,t){return Nt(e.getUTCMinutes(),t,2)}function WH(e,t){return Nt(e.getUTCSeconds(),t,2)}function YH(e){var t=e.getUTCDay();return t===0?7:t}function XH(e,t){return Nt(Bp.count(Gi(e)-1,e),t,2)}function IR(e){var t=e.getUTCDay();return t>=4||t===0?dc(e):dc.ceil(e)}function ZH(e,t){return e=IR(e),Nt(dc.count(Gi(e),e)+(Gi(e).getUTCDay()===4),t,2)}function QH(e){return e.getUTCDay()}function JH(e,t){return Nt(Um.count(Gi(e)-1,e),t,2)}function eK(e,t){return Nt(e.getUTCFullYear()%100,t,2)}function tK(e,t){return e=IR(e),Nt(e.getUTCFullYear()%100,t,2)}function rK(e,t){return Nt(e.getUTCFullYear()%1e4,t,4)}function nK(e,t){var r=e.getUTCDay();return e=r>=4||r===0?dc(e):dc.ceil(e),Nt(e.getUTCFullYear()%1e4,t,4)}function aK(){return"+0000"}function nT(){return"%"}function aT(e){return+e}function iT(e){return Math.floor(+e/1e3)}var zl,LR,zR;iK({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function iK(e){return zl=iH(e),LR=zl.format,zl.parse,zR=zl.utcFormat,zl.utcParse,zl}function sK(e){return new Date(e)}function oK(e){return e instanceof Date?+e:+new Date(+e)}function u1(e,t,r,n,i,s,c,d,f,h){var p=Xw(),g=p.invert,v=p.domain,x=h(".%L"),j=h(":%S"),_=h("%I:%M"),N=h("%I %p"),S=h("%a %d"),O=h("%b %d"),A=h("%B"),P=h("%Y");function D(T){return(f(T)<T?x:d(T)<T?j:c(T)<T?_:s(T)<T?N:n(T)<T?i(T)<T?S:O:r(T)<T?A:P)(T)}return p.invert=function(T){return new Date(g(T))},p.domain=function(T){return arguments.length?v(Array.from(T,oK)):v().map(sK)},p.ticks=function(T){var R=v();return e(R[0],R[R.length-1],T??10)},p.tickFormat=function(T,R){return R==null?D:h(R)},p.nice=function(T){var R=v();return(!T||typeof T.range!="function")&&(T=t(R[0],R[R.length-1],T??10)),T?v(NR(R,T)):p},p.copy=function(){return zd(p,u1(e,t,r,n,i,s,c,d,f,h))},p}function lK(){return Ea.apply(u1(nH,aH,Fi,l1,$p,Ud,s1,a1,Co,LR).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function cK(){return Ea.apply(u1(tH,rH,Gi,c1,Bp,Up,o1,i1,Co,zR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function qp(){var e=0,t=1,r,n,i,s,c=Nn,d=!1,f;function h(g){return g==null||isNaN(g=+g)?f:c(i===0?.5:(g=(s(g)-r)*i,d?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t]=g,r=s(e=+e),n=s(t=+t),i=r===n?0:1/(n-r),h):[e,t]},h.clamp=function(g){return arguments.length?(d=!!g,h):d},h.interpolator=function(g){return arguments.length?(c=g,h):c};function p(g){return function(v){var x,j;return arguments.length?([x,j]=v,c=g(x,j),h):[c(0),c(1)]}}return h.range=p(xc),h.rangeRound=p(Yw),h.unknown=function(g){return arguments.length?(f=g,h):f},function(g){return s=g,r=g(e),n=g(t),i=r===n?0:1/(n-r),h}}function Ys(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function UR(){var e=Ws(qp()(Nn));return e.copy=function(){return Ys(e,UR())},Qi.apply(e,arguments)}function $R(){var e=Jw(qp()).domain([1,10]);return e.copy=function(){return Ys(e,$R()).base(e.base())},Qi.apply(e,arguments)}function BR(){var e=e1(qp());return e.copy=function(){return Ys(e,BR()).constant(e.constant())},Qi.apply(e,arguments)}function d1(){var e=t1(qp());return e.copy=function(){return Ys(e,d1()).exponent(e.exponent())},Qi.apply(e,arguments)}function uK(){return d1.apply(null,arguments).exponent(.5)}function qR(){var e=[],t=Nn;function r(n){if(n!=null&&!isNaN(n=+n))return t((Id(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(qs),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>YF(e,s/n))},r.copy=function(){return qR(t).domain(e)},Qi.apply(r,arguments)}function Vp(){var e=0,t=.5,r=1,n=1,i,s,c,d,f,h=Nn,p,g=!1,v;function x(_){return isNaN(_=+_)?v:(_=.5+((_=+p(_))-s)*(n*_<n*s?d:f),h(g?Math.max(0,Math.min(1,_)):_))}x.domain=function(_){return arguments.length?([e,t,r]=_,i=p(e=+e),s=p(t=+t),c=p(r=+r),d=i===s?0:.5/(s-i),f=s===c?0:.5/(c-s),n=s<i?-1:1,x):[e,t,r]},x.clamp=function(_){return arguments.length?(g=!!_,x):g},x.interpolator=function(_){return arguments.length?(h=_,x):h};function j(_){return function(N){var S,O,A;return arguments.length?([S,O,A]=N,h=jG(_,[S,O,A]),x):[h(0),h(.5),h(1)]}}return x.range=j(xc),x.rangeRound=j(Yw),x.unknown=function(_){return arguments.length?(v=_,x):v},function(_){return p=_,i=_(e),s=_(t),c=_(r),d=i===s?0:.5/(s-i),f=s===c?0:.5/(c-s),n=s<i?-1:1,x}}function VR(){var e=Ws(Vp()(Nn));return e.copy=function(){return Ys(e,VR())},Qi.apply(e,arguments)}function FR(){var e=Jw(Vp()).domain([.1,1,10]);return e.copy=function(){return Ys(e,FR()).base(e.base())},Qi.apply(e,arguments)}function GR(){var e=e1(Vp());return e.copy=function(){return Ys(e,GR()).constant(e.constant())},Qi.apply(e,arguments)}function f1(){var e=t1(Vp());return e.copy=function(){return Ys(e,f1()).exponent(e.exponent())},Qi.apply(e,arguments)}function dK(){return f1.apply(null,arguments).exponent(.5)}const Iu=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Hw,scaleDiverging:VR,scaleDivergingLog:FR,scaleDivergingPow:f1,scaleDivergingSqrt:dK,scaleDivergingSymlog:GR,scaleIdentity:_R,scaleImplicit:Eb,scaleLinear:jR,scaleLog:SR,scaleOrdinal:Gw,scalePoint:QF,scalePow:r1,scaleQuantile:OR,scaleQuantize:TR,scaleRadial:AR,scaleSequential:UR,scaleSequentialLog:$R,scaleSequentialPow:d1,scaleSequentialQuantile:qR,scaleSequentialSqrt:uK,scaleSequentialSymlog:BR,scaleSqrt:GG,scaleSymlog:ER,scaleThreshold:CR,scaleTime:lK,scaleUtc:cK,tickFormat:wR},Symbol.toStringTag,{value:"Module"}));var Xs=e=>e.chartData,h1=ie([Xs],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),m1=(e,t,r,n)=>n?h1(e):Xs(e);function Vs(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(br(t)&&br(r))return!0}return!1}function sT(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function HR(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,s;if(br(r))i=r;else if(typeof r=="function")return;if(br(n))s=n;else if(typeof n=="function")return;var c=[i,s];if(Vs(c))return c}}function fK(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Vs(n))return sT(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,s]=e,c,d;if(i==="auto")t!=null&&(c=Math.min(...t));else if(Fe(i))c=i;else if(typeof i=="function")try{t!=null&&(c=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&R2.test(i)){var f=R2.exec(i);if(f==null||t==null)c=void 0;else{var h=+f[1];c=t[0]-h}}else c=t==null?void 0:t[0];if(s==="auto")t!=null&&(d=Math.max(...t));else if(Fe(s))d=s;else if(typeof s=="function")try{t!=null&&(d=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&M2.test(s)){var p=M2.exec(s);if(p==null||t==null)d=void 0;else{var g=+p[1];d=t[1]+g}}else d=t==null?void 0:t[1];var v=[c,d];if(Vs(v))return t==null?v:sT(v,t,r)}}}var bc=1e9,hK={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},g1,rr=!0,Sa="[DecimalError] ",zo=Sa+"Invalid argument: ",p1=Sa+"Exponent out of range: ",wc=Math.floor,_o=Math.pow,mK=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Jn,Xr=1e7,Yt=7,KR=9007199254740991,$m=wc(KR/Yt),ze={};ze.absoluteValue=ze.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ze.comparedTo=ze.cmp=function(e){var t,r,n,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};ze.decimalPlaces=ze.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Yt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ze.dividedBy=ze.div=function(e){return Ii(this,new this.constructor(e))};ze.dividedToIntegerBy=ze.idiv=function(e){var t=this,r=t.constructor;return Ut(Ii(t,new r(e),0,1),r.precision)};ze.equals=ze.eq=function(e){return!this.cmp(e)};ze.exponent=function(){return Cr(this)};ze.greaterThan=ze.gt=function(e){return this.cmp(e)>0};ze.greaterThanOrEqualTo=ze.gte=function(e){return this.cmp(e)>=0};ze.isInteger=ze.isint=function(){return this.e>this.d.length-2};ze.isNegative=ze.isneg=function(){return this.s<0};ze.isPositive=ze.ispos=function(){return this.s>0};ze.isZero=function(){return this.s===0};ze.lessThan=ze.lt=function(e){return this.cmp(e)<0};ze.lessThanOrEqualTo=ze.lte=function(e){return this.cmp(e)<1};ze.logarithm=ze.log=function(e){var t,r=this,n=r.constructor,i=n.precision,s=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Jn))throw Error(Sa+"NaN");if(r.s<1)throw Error(Sa+(r.s?"NaN":"-Infinity"));return r.eq(Jn)?new n(0):(rr=!1,t=Ii(yd(r,s),yd(e,s),s),rr=!0,Ut(t,i))};ze.minus=ze.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?XR(t,e):WR(t,(e.s=-e.s,e))};ze.modulo=ze.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Sa+"NaN");return r.s?(rr=!1,t=Ii(r,e,0,1).times(e),rr=!0,r.minus(t)):Ut(new n(r),i)};ze.naturalExponential=ze.exp=function(){return YR(this)};ze.naturalLogarithm=ze.ln=function(){return yd(this)};ze.negated=ze.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ze.plus=ze.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?WR(t,e):XR(t,(e.s=-e.s,e))};ze.precision=ze.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(zo+e);if(t=Cr(i)+1,n=i.d.length-1,r=n*Yt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ze.squareRoot=ze.sqrt=function(){var e,t,r,n,i,s,c,d=this,f=d.constructor;if(d.s<1){if(!d.s)return new f(0);throw Error(Sa+"NaN")}for(e=Cr(d),rr=!1,i=Math.sqrt(+d),i==0||i==1/0?(t=ti(d.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=wc((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new f(t)):n=new f(i.toString()),r=f.precision,i=c=r+3;;)if(s=n,n=s.plus(Ii(d,s,c+2)).times(.5),ti(s.d).slice(0,c)===(t=ti(n.d)).slice(0,c)){if(t=t.slice(c-3,c+1),i==c&&t=="4999"){if(Ut(s,r+1,0),s.times(s).eq(d)){n=s;break}}else if(t!="9999")break;c+=4}return rr=!0,Ut(n,r)};ze.times=ze.mul=function(e){var t,r,n,i,s,c,d,f,h,p=this,g=p.constructor,v=p.d,x=(e=new g(e)).d;if(!p.s||!e.s)return new g(0);for(e.s*=p.s,r=p.e+e.e,f=v.length,h=x.length,f<h&&(s=v,v=x,x=s,c=f,f=h,h=c),s=[],c=f+h,n=c;n--;)s.push(0);for(n=h;--n>=0;){for(t=0,i=f+n;i>n;)d=s[i]+x[n]*v[i-n-1]+t,s[i--]=d%Xr|0,t=d/Xr|0;s[i]=(s[i]+t)%Xr|0}for(;!s[--c];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,rr?Ut(e,g.precision):e};ze.toDecimalPlaces=ze.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(li(e,0,bc),t===void 0?t=n.rounding:li(t,0,8),Ut(r,e+Cr(r)+1,t))};ze.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Fo(n,!0):(li(e,0,bc),t===void 0?t=i.rounding:li(t,0,8),n=Ut(new i(n),e+1,t),r=Fo(n,!0,e+1)),r};ze.toFixed=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?Fo(i):(li(e,0,bc),t===void 0?t=s.rounding:li(t,0,8),n=Ut(new s(i),e+Cr(i)+1,t),r=Fo(n.abs(),!1,e+Cr(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ze.toInteger=ze.toint=function(){var e=this,t=e.constructor;return Ut(new t(e),Cr(e)+1,t.rounding)};ze.toNumber=function(){return+this};ze.toPower=ze.pow=function(e){var t,r,n,i,s,c,d=this,f=d.constructor,h=12,p=+(e=new f(e));if(!e.s)return new f(Jn);if(d=new f(d),!d.s){if(e.s<1)throw Error(Sa+"Infinity");return d}if(d.eq(Jn))return d;if(n=f.precision,e.eq(Jn))return Ut(d,n);if(t=e.e,r=e.d.length-1,c=t>=r,s=d.s,c){if((r=p<0?-p:p)<=KR){for(i=new f(Jn),t=Math.ceil(n/Yt+4),rr=!1;r%2&&(i=i.times(d),lT(i.d,t)),r=wc(r/2),r!==0;)d=d.times(d),lT(d.d,t);return rr=!0,e.s<0?new f(Jn).div(i):Ut(i,n)}}else if(s<0)throw Error(Sa+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,d.s=1,rr=!1,i=e.times(yd(d,n+h)),rr=!0,i=YR(i),i.s=s,i};ze.toPrecision=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?(r=Cr(i),n=Fo(i,r<=s.toExpNeg||r>=s.toExpPos)):(li(e,1,bc),t===void 0?t=s.rounding:li(t,0,8),i=Ut(new s(i),e,t),r=Cr(i),n=Fo(i,e<=r||r<=s.toExpNeg,e)),n};ze.toSignificantDigits=ze.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(li(e,1,bc),t===void 0?t=n.rounding:li(t,0,8)),Ut(new n(r),e,t)};ze.toString=ze.valueOf=ze.val=ze.toJSON=ze[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Cr(e),r=e.constructor;return Fo(e,t<=r.toExpNeg||t>=r.toExpPos)};function WR(e,t){var r,n,i,s,c,d,f,h,p=e.constructor,g=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),rr?Ut(t,g):t;if(f=e.d,h=t.d,c=e.e,i=t.e,f=f.slice(),s=c-i,s){for(s<0?(n=f,s=-s,d=h.length):(n=h,i=c,d=f.length),c=Math.ceil(g/Yt),d=c>d?c+1:d+1,s>d&&(s=d,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(d=f.length,s=h.length,d-s<0&&(s=d,n=h,h=f,f=n),r=0;s;)r=(f[--s]=f[s]+h[s]+r)/Xr|0,f[s]%=Xr;for(r&&(f.unshift(r),++i),d=f.length;f[--d]==0;)f.pop();return t.d=f,t.e=i,rr?Ut(t,g):t}function li(e,t,r){if(e!==~~e||e<t||e>r)throw Error(zo+e)}function ti(e){var t,r,n,i=e.length-1,s="",c=e[0];if(i>0){for(s+=c,t=1;t<i;t++)n=e[t]+"",r=Yt-n.length,r&&(s+=Is(r)),s+=n;c=e[t],n=c+"",r=Yt-n.length,r&&(s+=Is(r))}else if(c===0)return"0";for(;c%10===0;)c/=10;return s+c}var Ii=(function(){function e(n,i){var s,c=0,d=n.length;for(n=n.slice();d--;)s=n[d]*i+c,n[d]=s%Xr|0,c=s/Xr|0;return c&&n.unshift(c),n}function t(n,i,s,c){var d,f;if(s!=c)f=s>c?1:-1;else for(d=f=0;d<s;d++)if(n[d]!=i[d]){f=n[d]>i[d]?1:-1;break}return f}function r(n,i,s){for(var c=0;s--;)n[s]-=c,c=n[s]<i[s]?1:0,n[s]=c*Xr+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,c){var d,f,h,p,g,v,x,j,_,N,S,O,A,P,D,T,R,q,Y=n.constructor,G=n.s==i.s?1:-1,U=n.d,z=i.d;if(!n.s)return new Y(n);if(!i.s)throw Error(Sa+"Division by zero");for(f=n.e-i.e,R=z.length,D=U.length,x=new Y(G),j=x.d=[],h=0;z[h]==(U[h]||0);)++h;if(z[h]>(U[h]||0)&&--f,s==null?O=s=Y.precision:c?O=s+(Cr(n)-Cr(i))+1:O=s,O<0)return new Y(0);if(O=O/Yt+2|0,h=0,R==1)for(p=0,z=z[0],O++;(h<D||p)&&O--;h++)A=p*Xr+(U[h]||0),j[h]=A/z|0,p=A%z|0;else{for(p=Xr/(z[0]+1)|0,p>1&&(z=e(z,p),U=e(U,p),R=z.length,D=U.length),P=R,_=U.slice(0,R),N=_.length;N<R;)_[N++]=0;q=z.slice(),q.unshift(0),T=z[0],z[1]>=Xr/2&&++T;do p=0,d=t(z,_,R,N),d<0?(S=_[0],R!=N&&(S=S*Xr+(_[1]||0)),p=S/T|0,p>1?(p>=Xr&&(p=Xr-1),g=e(z,p),v=g.length,N=_.length,d=t(g,_,v,N),d==1&&(p--,r(g,R<v?q:z,v))):(p==0&&(d=p=1),g=z.slice()),v=g.length,v<N&&g.unshift(0),r(_,g,N),d==-1&&(N=_.length,d=t(z,_,R,N),d<1&&(p++,r(_,R<N?q:z,N))),N=_.length):d===0&&(p++,_=[0]),j[h++]=p,d&&_[0]?_[N++]=U[P]||0:(_=[U[P]],N=1);while((P++<D||_[0]!==void 0)&&O--)}return j[0]||j.shift(),x.e=f,Ut(x,c?s+Cr(x)+1:s)}})();function YR(e,t){var r,n,i,s,c,d,f=0,h=0,p=e.constructor,g=p.precision;if(Cr(e)>16)throw Error(p1+Cr(e));if(!e.s)return new p(Jn);for(rr=!1,d=g,c=new p(.03125);e.abs().gte(.1);)e=e.times(c),h+=5;for(n=Math.log(_o(2,h))/Math.LN10*2+5|0,d+=n,r=i=s=new p(Jn),p.precision=d;;){if(i=Ut(i.times(e),d),r=r.times(++f),c=s.plus(Ii(i,r,d)),ti(c.d).slice(0,d)===ti(s.d).slice(0,d)){for(;h--;)s=Ut(s.times(s),d);return p.precision=g,t==null?(rr=!0,Ut(s,g)):s}s=c}}function Cr(e){for(var t=e.e*Yt,r=e.d[0];r>=10;r/=10)t++;return t}function rx(e,t,r){if(t>e.LN10.sd())throw rr=!0,r&&(e.precision=r),Error(Sa+"LN10 precision limit exceeded");return Ut(new e(e.LN10),t)}function Is(e){for(var t="";e--;)t+="0";return t}function yd(e,t){var r,n,i,s,c,d,f,h,p,g=1,v=10,x=e,j=x.d,_=x.constructor,N=_.precision;if(x.s<1)throw Error(Sa+(x.s?"NaN":"-Infinity"));if(x.eq(Jn))return new _(0);if(t==null?(rr=!1,h=N):h=t,x.eq(10))return t==null&&(rr=!0),rx(_,h);if(h+=v,_.precision=h,r=ti(j),n=r.charAt(0),s=Cr(x),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)x=x.times(e),r=ti(x.d),n=r.charAt(0),g++;s=Cr(x),n>1?(x=new _("0."+r),s++):x=new _(n+"."+r.slice(1))}else return f=rx(_,h+2,N).times(s+""),x=yd(new _(n+"."+r.slice(1)),h-v).plus(f),_.precision=N,t==null?(rr=!0,Ut(x,N)):x;for(d=c=x=Ii(x.minus(Jn),x.plus(Jn),h),p=Ut(x.times(x),h),i=3;;){if(c=Ut(c.times(p),h),f=d.plus(Ii(c,new _(i),h)),ti(f.d).slice(0,h)===ti(d.d).slice(0,h))return d=d.times(2),s!==0&&(d=d.plus(rx(_,h+2,N).times(s+""))),d=Ii(d,new _(g),h),_.precision=N,t==null?(rr=!0,Ut(d,N)):d;d=f,i+=2}}function oT(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=wc(r/Yt),e.d=[],n=(r+1)%Yt,r<0&&(n+=Yt),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Yt;n<i;)e.d.push(+t.slice(n,n+=Yt));t=t.slice(n),n=Yt-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),rr&&(e.e>$m||e.e<-$m))throw Error(p1+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ut(e,t,r){var n,i,s,c,d,f,h,p,g=e.d;for(c=1,s=g[0];s>=10;s/=10)c++;if(n=t-c,n<0)n+=Yt,i=t,h=g[p=0];else{if(p=Math.ceil((n+1)/Yt),s=g.length,p>=s)return e;for(h=s=g[p],c=1;s>=10;s/=10)c++;n%=Yt,i=n-Yt+c}if(r!==void 0&&(s=_o(10,c-i-1),d=h/s%10|0,f=t<0||g[p+1]!==void 0||h%s,f=r<4?(d||f)&&(r==0||r==(e.s<0?3:2)):d>5||d==5&&(r==4||f||r==6&&(n>0?i>0?h/_o(10,c-i):0:g[p-1])%10&1||r==(e.s<0?8:7))),t<1||!g[0])return f?(s=Cr(e),g.length=1,t=t-s-1,g[0]=_o(10,(Yt-t%Yt)%Yt),e.e=wc(-t/Yt)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(n==0?(g.length=p,s=1,p--):(g.length=p+1,s=_o(10,Yt-n),g[p]=i>0?(h/_o(10,c-i)%_o(10,i)|0)*s:0),f)for(;;)if(p==0){(g[0]+=s)==Xr&&(g[0]=1,++e.e);break}else{if(g[p]+=s,g[p]!=Xr)break;g[p--]=0,s=1}for(n=g.length;g[--n]===0;)g.pop();if(rr&&(e.e>$m||e.e<-$m))throw Error(p1+Cr(e));return e}function XR(e,t){var r,n,i,s,c,d,f,h,p,g,v=e.constructor,x=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),rr?Ut(t,x):t;if(f=e.d,g=t.d,n=t.e,h=e.e,f=f.slice(),c=h-n,c){for(p=c<0,p?(r=f,c=-c,d=g.length):(r=g,n=h,d=f.length),i=Math.max(Math.ceil(x/Yt),d)+2,c>i&&(c=i,r.length=1),r.reverse(),i=c;i--;)r.push(0);r.reverse()}else{for(i=f.length,d=g.length,p=i<d,p&&(d=i),i=0;i<d;i++)if(f[i]!=g[i]){p=f[i]<g[i];break}c=0}for(p&&(r=f,f=g,g=r,t.s=-t.s),d=f.length,i=g.length-d;i>0;--i)f[d++]=0;for(i=g.length;i>c;){if(f[--i]<g[i]){for(s=i;s&&f[--s]===0;)f[s]=Xr-1;--f[s],f[i]+=Xr}f[i]-=g[i]}for(;f[--d]===0;)f.pop();for(;f[0]===0;f.shift())--n;return f[0]?(t.d=f,t.e=n,rr?Ut(t,x):t):new v(0)}function Fo(e,t,r){var n,i=Cr(e),s=ti(e.d),c=s.length;return t?(r&&(n=r-c)>0?s=s.charAt(0)+"."+s.slice(1)+Is(n):c>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Is(-i-1)+s,r&&(n=r-c)>0&&(s+=Is(n))):i>=c?(s+=Is(i+1-c),r&&(n=r-i-1)>0&&(s=s+"."+Is(n))):((n=i+1)<c&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-c)>0&&(i+1===c&&(s+="."),s+=Is(n))),e.s<0?"-"+s:s}function lT(e,t){if(e.length>t)return e.length=t,!0}function ZR(e){var t,r,n;function i(s){var c=this;if(!(c instanceof i))return new i(s);if(c.constructor=i,s instanceof i){c.s=s.s,c.e=s.e,c.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(zo+s);if(s>0)c.s=1;else if(s<0)s=-s,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(s===~~s&&s<1e7){c.e=0,c.d=[s];return}return oT(c,s.toString())}else if(typeof s!="string")throw Error(zo+s);if(s.charCodeAt(0)===45?(s=s.slice(1),c.s=-1):c.s=1,mK.test(s))oT(c,s);else throw Error(zo+s)}if(i.prototype=ze,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=ZR,i.config=i.set=pK,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function pK(e){if(!e||typeof e!="object")throw Error(Sa+"Object expected");var t,r,n,i=["precision",1,bc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(wc(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(zo+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(zo+r+": "+n);return this}var g1=ZR(hK);Jn=new g1(1);const Dt=g1;var gK=e=>e,QR={},JR=e=>e===QR,cT=e=>function t(){return arguments.length===0||arguments.length===1&&JR(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},eM=(e,t)=>e===1?t:cT(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=n.filter(c=>c!==QR).length;return s>=e?t(...n):eM(e-s,cT(function(){for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];var h=n.map(p=>JR(p)?d.shift():p);return t(...h,...d)}))}),yK=e=>eM(e.length,e),Cb=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},vK=yK((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),xK=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return gK;var i=r.reverse(),s=i[0],c=i.slice(1);return function(){return c.reduce((d,f)=>f(d),s(...arguments))}},Pb=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function tM(e){var t;return e===0?t=1:t=Math.floor(new Dt(e).abs().log(10).toNumber())+1,t}function rM(e,t,r){for(var n=new Dt(e),i=0,s=[];n.lt(t)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var nM=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},aM=(e,t,r)=>{if(e.lte(0))return new Dt(0);var n=tM(e.toNumber()),i=new Dt(10).pow(n),s=e.div(i),c=n!==1?.05:.1,d=new Dt(Math.ceil(s.div(c).toNumber())).add(r).mul(c),f=d.mul(i);return t?new Dt(f.toNumber()):new Dt(Math.ceil(f.toNumber()))},bK=(e,t,r)=>{var n=new Dt(1),i=new Dt(e);if(!i.isint()&&r){var s=Math.abs(e);s<1?(n=new Dt(10).pow(tM(e)-1),i=new Dt(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new Dt(Math.floor(e)))}else e===0?i=new Dt(Math.floor((t-1)/2)):r||(i=new Dt(Math.floor(e)));var c=Math.floor((t-1)/2),d=xK(vK(f=>i.add(new Dt(f-c).mul(n)).toNumber()),Cb);return d(0,t)},iM=function(t,r,n,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Dt(0),tickMin:new Dt(0),tickMax:new Dt(0)};var c=aM(new Dt(r).sub(t).div(n-1),i,s),d;t<=0&&r>=0?d=new Dt(0):(d=new Dt(t).add(r).div(2),d=d.sub(new Dt(d).mod(c)));var f=Math.ceil(d.sub(t).div(c).toNumber()),h=Math.ceil(new Dt(r).sub(d).div(c).toNumber()),p=f+h+1;return p>n?iM(t,r,n,i,s+1):(p<n&&(h=r>0?h+(n-p):h,f=r>0?f:f+(n-p)),{step:c,tickMin:d.sub(new Dt(f).mul(c)),tickMax:d.add(new Dt(h).mul(c))})},wK=function(t){var[r,n]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(i,2),[d,f]=nM([r,n]);if(d===-1/0||f===1/0){var h=f===1/0?[d,...Cb(0,i-1).map(()=>1/0)]:[...Cb(0,i-1).map(()=>-1/0),f];return r>n?Pb(h):h}if(d===f)return bK(d,i,s);var{step:p,tickMin:g,tickMax:v}=iM(d,f,c,s,0),x=rM(g,v.add(new Dt(.1).mul(p)),p);return r>n?Pb(x):x},jK=function(t,r){var[n,i]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,d]=nM([n,i]);if(c===-1/0||d===1/0)return[n,i];if(c===d)return[c];var f=Math.max(r,2),h=aM(new Dt(d).sub(c).div(f-1),s,0),p=[...rM(new Dt(c),new Dt(d),h),d];return s===!1&&(p=p.map(g=>Math.round(g))),n>i?Pb(p):p},sM=e=>e.rootProps.maxBarSize,_K=e=>e.rootProps.barGap,oM=e=>e.rootProps.barCategoryGap,NK=e=>e.rootProps.barSize,$d=e=>e.rootProps.stackOffset,lM=e=>e.rootProps.reverseStackOrder,y1=e=>e.options.chartName,v1=e=>e.rootProps.syncId,cM=e=>e.rootProps.syncMethod,x1=e=>e.options.eventEmitter,fn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Pi={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Zn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Fp=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},SK={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Pi.angleAxisId,includeHidden:!1,name:void 0,reversed:Pi.reversed,scale:Pi.scale,tick:Pi.tick,tickCount:void 0,ticks:void 0,type:Pi.type,unit:void 0},EK={allowDataOverflow:Zn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Zn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Zn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Zn.scale,tick:Zn.tick,tickCount:Zn.tickCount,ticks:void 0,type:Zn.type,unit:void 0},AK={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Pi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Pi.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Pi.scale,tick:Pi.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},OK={allowDataOverflow:Zn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Zn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Zn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Zn.scale,tick:Zn.tick,tickCount:Zn.tickCount,ticks:void 0,type:"category",unit:void 0},b1=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?AK:SK,w1=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?OK:EK,Gp=e=>e.polarOptions,j1=ie([Xi,Zi,Br],oR),uM=ie([Gp,j1],(e,t)=>{if(e!=null)return xn(e.innerRadius,t,0)}),dM=ie([Gp,j1],(e,t)=>{if(e!=null)return xn(e.outerRadius,t,t*.8)}),TK=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},fM=ie([Gp],TK);ie([b1,fM],Fp);var hM=ie([j1,uM,dM],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});ie([w1,hM],Fp);var mM=ie([St,Gp,uM,dM,Xi,Zi],(e,t,r,n,i,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:c,cy:d,startAngle:f,endAngle:h}=t;return{cx:xn(c,i,i/2),cy:xn(d,s,s/2),innerRadius:r,outerRadius:n,startAngle:f,endAngle:h,clockWise:!1}}}),nr=(e,t)=>t,Bd=(e,t,r)=>r;function _1(e){return e==null?void 0:e.id}function pM(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:s}=r,c=new Map;return e.forEach(d=>{var f,h=(f=d.data)!==null&&f!==void 0?f:n;if(!(h==null||h.length===0)){var p=_1(d);h.forEach((g,v)=>{var x=s==null||i?v:String(tr(g,s,null)),j=tr(g,d.dataKey,0),_;c.has(x)?_=c.get(x):_={},Object.assign(_,{[p]:j}),c.set(x,_)})}}),Array.from(c.values())}function Hp(e){return e.stackId!=null&&e.dataKey!=null}var Kp=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Wp(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function CK(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var Vr=e=>{var t=St(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},jc=e=>e.tooltip.settings.axisId;function uT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Bm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uT(Object(r),!0).forEach(function(n){PK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PK(e,t,r){return(t=DK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DK(e){var t=kK(e,"string");return typeof t=="symbol"?t:t+""}function kK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Db=[0,"auto"],Kr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},gM=(e,t)=>e.cartesianAxis.xAxis[t],Ji=(e,t)=>{var r=gM(e,t);return r??Kr},Wr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Db,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Rd},yM=(e,t)=>e.cartesianAxis.yAxis[t],es=(e,t)=>{var r=yM(e,t);return r??Wr},RK={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},N1=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??RK},sr=(e,t,r)=>{switch(t){case"xAxis":return Ji(e,r);case"yAxis":return es(e,r);case"zAxis":return N1(e,r);case"angleAxis":return b1(e,r);case"radiusAxis":return w1(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},MK=(e,t,r)=>{switch(t){case"xAxis":return Ji(e,r);case"yAxis":return es(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},qd=(e,t,r)=>{switch(t){case"xAxis":return Ji(e,r);case"yAxis":return es(e,r);case"angleAxis":return b1(e,r);case"radiusAxis":return w1(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},vM=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function S1(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var E1=e=>e.graphicalItems.cartesianItems,IK=ie([nr,Bd],S1),A1=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Vd=ie([E1,sr,IK],A1,{memoizeOptions:{resultEqualityCheck:Wp}}),xM=ie([Vd],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Hp)),bM=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),LK=ie([Vd],bM),O1=e=>e.map(t=>t.data).filter(Boolean).flat(1),zK=ie([Vd],O1,{memoizeOptions:{resultEqualityCheck:Wp}}),T1=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},C1=ie([zK,m1],T1),P1=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:tr(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:tr(i,n)}))):e.map(n=>({value:n})),Yp=ie([C1,sr,Vd],P1);function wM(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Yh(e){if(ii(e)||e instanceof Date){var t=Number(e);if(br(t))return t}}function dT(e){if(Array.isArray(e)){var t=[Yh(e[0]),Yh(e[1])];return Vs(t)?t:void 0}var r=Yh(e);if(r!=null)return[r,r]}function Hi(e){return e.map(Yh).filter(DB)}function UK(e,t,r){return!r||typeof t!="number"||Ga(t)?[]:r.length?Hi(r.flatMap(n=>{var i=tr(e,n.dataKey),s,c;if(Array.isArray(i)?[s,c]=i:s=c=i,!(!br(s)||!br(c)))return[t-s,t+c]})):[]}var Fr=e=>{var t=Vr(e),r=jc(e);return qd(e,t,r)},Fd=ie([Fr],e=>e==null?void 0:e.dataKey),$K=ie([xM,m1,Fr],pM),jM=(e,t,r,n)=>{var i={},s=t.reduce((c,d)=>(d.stackId==null||(c[d.stackId]==null&&(c[d.stackId]=[]),c[d.stackId].push(d)),c),i);return Object.fromEntries(Object.entries(s).map(c=>{var[d,f]=c,h=n?[...f].reverse():f,p=h.map(_1);return[d,{stackedData:s9(e,p,r),graphicalItems:h}]}))},kb=ie([$K,xM,$d,lM],jM),_M=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:s}=t;if(n==null&&r!=="zAxis"){var c=d9(e,i,s);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},BK=ie([sr],e=>e.allowDataOverflow),D1=e=>{var t;if(e==null||!("domain"in e))return Db;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Hi(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Db},k1=ie([sr],D1),R1=ie([k1,BK],HR),qK=ie([kb,Xs,nr,R1],_M,{memoizeOptions:{resultEqualityCheck:Kp}}),Xp=e=>e.errorBars,VK=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>wM(r,n)),qm=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var s=i.flat(),c=Math.min(...s),d=Math.max(...s);return[c,d]}},M1=(e,t,r,n,i)=>{var s,c;if(r.length>0&&e.forEach(d=>{r.forEach(f=>{var h,p,g=(h=n[f.id])===null||h===void 0?void 0:h.filter(S=>wM(i,S)),v=tr(d,(p=t.dataKey)!==null&&p!==void 0?p:f.dataKey),x=UK(d,v,g);if(x.length>=2){var j=Math.min(...x),_=Math.max(...x);(s==null||j<s)&&(s=j),(c==null||_>c)&&(c=_)}var N=dT(v);N!=null&&(s=s==null?N[0]:Math.min(s,N[0]),c=c==null?N[1]:Math.max(c,N[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(d=>{var f=dT(tr(d,t.dataKey));f!=null&&(s=s==null?f[0]:Math.min(s,f[0]),c=c==null?f[1]:Math.max(c,f[1]))}),br(s)&&br(c))return[s,c]},FK=ie([C1,sr,LK,Xp,nr],M1,{memoizeOptions:{resultEqualityCheck:Kp}});function GK(e){var{value:t}=e;if(ii(t)||t instanceof Date)return t}var HK=(e,t,r)=>{var n=e.map(GK).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&$D(n))?dR(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},NM=e=>e.referenceElements.dots,_c=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),KK=ie([NM,nr,Bd],_c),SM=e=>e.referenceElements.areas,WK=ie([SM,nr,Bd],_c),EM=e=>e.referenceElements.lines,YK=ie([EM,nr,Bd],_c),AM=(e,t)=>{var r=Hi(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},XK=ie(KK,nr,AM),OM=(e,t)=>{var r=Hi(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},ZK=ie([WK,nr],OM);function QK(e){var t;if(e.x!=null)return Hi([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Hi(r)}function JK(e){var t;if(e.y!=null)return Hi([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Hi(r)}var TM=(e,t)=>{var r=e.flatMap(n=>t==="xAxis"?QK(n):JK(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},eW=ie([YK,nr],TM),tW=ie(XK,eW,ZK,(e,t,r)=>qm(e,r,t)),I1=(e,t,r,n,i,s,c,d)=>{if(r!=null)return r;var f=c==="vertical"&&d==="xAxis"||c==="horizontal"&&d==="yAxis",h=f?qm(n,s,i):qm(s,i);return fK(t,h,e.allowDataOverflow)},rW=ie([sr,k1,R1,qK,FK,tW,St,nr],I1,{memoizeOptions:{resultEqualityCheck:Kp}}),nW=[0,1],L1=(e,t,r,n,i,s,c)=>{if(!((e==null||r==null||r.length===0)&&c===void 0)){var{dataKey:d,type:f}=e,h=Wo(t,s);if(h&&d==null){var p;return dR(0,(p=r==null?void 0:r.length)!==null&&p!==void 0?p:0)}return f==="category"?HK(n,e,h):i==="expand"?nW:c}},z1=ie([sr,St,C1,Yp,$d,nr,rW],L1),CM=(e,t,r,n,i)=>{if(e!=null){var{scale:s,type:c}=e;if(s==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":c==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":c==="category"?"band":"linear";if(typeof s=="string"){var d="scale".concat(Od(s));return d in Iu?d:"point"}}},Nc=ie([sr,St,vM,y1,nr],CM);function aW(e){if(e!=null){if(e in Iu)return Iu[e]();var t="scale".concat(Od(e));if(t in Iu)return Iu[t]()}}function U1(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=aW(t);if(i!=null){var s=i.domain(r).range(n);return t9(s),s}}}var $1=(e,t,r)=>{var n=D1(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Vs(e))return wK(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Vs(e))return jK(e,t.tickCount,t.allowDecimals)}},B1=ie([z1,qd,Nc],$1),q1=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Vs(t)&&Array.isArray(r)&&r.length>0){var i=t[0],s=r[0],c=t[1],d=r[r.length-1];return[Math.min(i,s),Math.max(c,d)]}return t},iW=ie([sr,z1,B1,nr],q1),sW=ie(Yp,sr,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Hi(e.map(d=>d.value))).sort((d,f)=>d-f);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var s=0;s<n.length-1;s++){var c=n[s+1]-n[s];r=Math.min(r,c)}return r/i}}),PM=ie(sW,St,oM,Br,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!br(e))return 0;var s=t==="vertical"?n.height:n.width;if(i==="gap")return e*s/2;if(i==="no-gap"){var c=xn(r,e*s),d=e*s/2;return d-c-(d-c)/s*c}return 0}),oW=(e,t)=>{var r=Ji(e,t);return r==null||typeof r.padding!="string"?0:PM(e,"xAxis",t,r.padding)},lW=(e,t)=>{var r=es(e,t);return r==null||typeof r.padding!="string"?0:PM(e,"yAxis",t,r.padding)},cW=ie(Ji,oW,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),uW=ie(es,lW,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),dW=ie([Br,cW,Tp,Op,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:s}=n;return i?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),fW=ie([Br,St,uW,Tp,Op,(e,t,r)=>r],(e,t,r,n,i,s)=>{var{padding:c}=i;return s?[n.height-c.bottom,c.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Gd=(e,t,r,n)=>{var i;switch(t){case"xAxis":return dW(e,r,n);case"yAxis":return fW(e,r,n);case"zAxis":return(i=N1(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return fM(e);case"radiusAxis":return hM(e,r);default:return}},DM=ie([sr,Gd],Fp),Sc=ie([sr,Nc,iW,DM],U1);ie([Vd,Xp,nr],VK);function kM(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Zp=(e,t)=>t,Qp=(e,t,r)=>r,hW=ie(Ep,Zp,Qp,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(kM)),mW=ie(Ap,Zp,Qp,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(kM)),RM=(e,t)=>({width:e.width,height:t.height}),pW=(e,t)=>{var r=typeof t.width=="number"?t.width:Rd;return{width:r,height:e.height}},MM=ie(Br,Ji,RM),gW=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},yW=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},vW=ie(Zi,Br,hW,Zp,Qp,(e,t,r,n,i)=>{var s={},c;return r.forEach(d=>{var f=RM(t,d);c==null&&(c=gW(t,n,e));var h=n==="top"&&!i||n==="bottom"&&i;s[d.id]=c-Number(h)*f.height,c+=(h?-1:1)*f.height}),s}),xW=ie(Xi,Br,mW,Zp,Qp,(e,t,r,n,i)=>{var s={},c;return r.forEach(d=>{var f=pW(t,d);c==null&&(c=yW(t,n,e));var h=n==="left"&&!i||n==="right"&&i;s[d.id]=c-Number(h)*f.width,c+=(h?-1:1)*f.width}),s}),bW=(e,t)=>{var r=Ji(e,t);if(r!=null)return vW(e,r.orientation,r.mirror)},wW=ie([Br,Ji,bW,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),jW=(e,t)=>{var r=es(e,t);if(r!=null)return xW(e,r.orientation,r.mirror)},_W=ie([Br,es,jW,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),IM=ie(Br,es,(e,t)=>{var r=typeof t.width=="number"?t.width:Rd;return{width:r,height:e.height}}),fT=(e,t,r)=>{switch(t){case"xAxis":return MM(e,r).width;case"yAxis":return IM(e,r).height;default:return}},LM=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:s,dataKey:c}=r,d=Wo(e,n),f=t.map(h=>h.value);if(c&&d&&s==="category"&&i&&$D(f))return f}},V1=ie([St,Yp,sr,nr],LM),zM=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:s}=r,c=Wo(e,n);if(c&&(i==="number"||s!=="auto"))return t.map(d=>d.value)}},F1=ie([St,Yp,qd,nr],zM),hT=ie([St,MK,Nc,Sc,V1,F1,Gd,B1,nr],(e,t,r,n,i,s,c,d,f)=>{if(t!=null){var h=Wo(e,f);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:f,categoricalDomain:s,duplicateDomain:i,isCategorical:h,niceTicks:d,range:c,realScaleType:r,scale:n}}}),NW=(e,t,r,n,i,s,c,d,f)=>{if(!(t==null||n==null)){var h=Wo(e,f),{type:p,ticks:g,tickCount:v}=t,x=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,j=p==="category"&&n.bandwidth?n.bandwidth()/x:0;j=f==="angleAxis"&&s!=null&&s.length>=2?Zr(s[0]-s[1])*2*j:j;var _=g||i;if(_){var N=_.map((S,O)=>{var A=c?c.indexOf(S):S;return{index:O,coordinate:n(A)+j,value:S,offset:j}});return N.filter(S=>br(S.coordinate))}return h&&d?d.map((S,O)=>({coordinate:n(S)+j,value:S,index:O,offset:j})).filter(S=>br(S.coordinate)):n.ticks?n.ticks(v).map(S=>({coordinate:n(S)+j,value:S,offset:j})):n.domain().map((S,O)=>({coordinate:n(S)+j,value:c?c[S]:S,index:O,offset:j}))}},UM=ie([St,qd,Nc,Sc,B1,Gd,V1,F1,nr],NW),SW=(e,t,r,n,i,s,c)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var d=Wo(e,c),{tickCount:f}=t,h=0;return h=c==="angleAxis"&&(n==null?void 0:n.length)>=2?Zr(n[0]-n[1])*2*h:h,d&&s?s.map((p,g)=>({coordinate:r(p)+h,value:p,index:g,offset:h})):r.ticks?r.ticks(f).map(p=>({coordinate:r(p)+h,value:p,offset:h})):r.domain().map((p,g)=>({coordinate:r(p)+h,value:i?i[p]:p,index:g,offset:h}))}},fc=ie([St,qd,Sc,Gd,V1,F1,nr],SW),hc=ie(sr,Sc,(e,t)=>{if(!(e==null||t==null))return Bm(Bm({},e),{},{scale:t})}),EW=ie([sr,Nc,z1,DM],U1);ie((e,t,r)=>N1(e,r),EW,(e,t)=>{if(!(e==null||t==null))return Bm(Bm({},e),{},{scale:t})});var AW=ie([St,Ep,Ap],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),$M=e=>e.options.defaultTooltipEventType,BM=e=>e.options.validateTooltipEventTypes;function qM(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function G1(e,t){var r=$M(e),n=BM(e);return qM(t,r,n)}function OW(e){return qe(t=>G1(t,e))}var VM=(e,t)=>{var r,n=Number(t);if(!(Ga(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},TW=e=>e.tooltip.settings,Us={active:!1,index:null,dataKey:void 0,coordinate:void 0},CW={itemInteraction:{click:Us,hover:Us},axisInteraction:{click:Us,hover:Us},keyboardInteraction:Us,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},FM=Un({name:"tooltip",initialState:CW,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Jt()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,i=qa(e).tooltipItemPayloads.indexOf(r);i>-1&&(e.tooltipItemPayloads[i]=n)},prepare:Jt()},removeTooltipEntrySettings:{reducer(e,t){var r=qa(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Jt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:PW,replaceTooltipEntrySettings:DW,removeTooltipEntrySettings:kW,setTooltipSettingsState:RW,setActiveMouseOverItemIndex:GM,mouseLeaveItem:MW,mouseLeaveChart:HM,setActiveClickItemIndex:IW,setMouseOverAxisIndex:KM,setMouseClickAxisIndex:LW,setSyncInteraction:Rb,setKeyboardInteraction:Mb}=FM.actions,zW=FM.reducer;function mT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mT(Object(r),!0).forEach(function(n){UW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UW(e,t,r){return(t=$W(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $W(e){var t=BW(e,"string");return typeof t=="symbol"?t:t+""}function BW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qW(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function VW(e){return e.index!=null}var WM=(e,t,r,n)=>{if(t==null)return Us;var i=qW(e,t,r);if(i==null)return Us;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(VW(i)){if(s)return zh(zh({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return zh(zh({},Us),{},{coordinate:i.coordinate})};function FW(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function GW(e,t){var r=FW(e),n=t[0],i=t[1];if(r===void 0)return!1;var s=Math.min(n,i),c=Math.max(n,i);return r>=s&&r<=c}function HW(e,t,r){if(r==null||t==null)return!0;var n=tr(e,t);return n==null||!Vs(r)?!0:GW(n,r)}var H1=(e,t,r,n)=>{var i=e==null?void 0:e.index;if(i==null)return null;var s=Number(i);if(!br(s))return i;var c=0,d=1/0;t.length>0&&(d=t.length-1);var f=Math.max(c,Math.min(s,d)),h=t[f];return h==null||HW(h,r,n)?String(f):null},YM=(e,t,r,n,i,s,c,d)=>{if(!(s==null||d==null)){var f=c[0],h=f==null?void 0:d(f.positions,s);if(h!=null)return h;var p=i==null?void 0:i[Number(s)];if(p)switch(r){case"horizontal":return{x:p.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:p.coordinate}}}},XM=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(s=>{var c;return((c=s.settings)===null||c===void 0?void 0:c.dataKey)===i})},Hd=e=>e.options.tooltipPayloadSearcher,Ec=e=>e.tooltip;function pT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pT(Object(r),!0).forEach(function(n){KW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KW(e,t,r){return(t=WW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WW(e){var t=YW(e,"string");return typeof t=="symbol"?t:t+""}function YW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XW(e,t){return e??t}var ZM=(e,t,r,n,i,s,c)=>{if(!(t==null||s==null)){var{chartData:d,computedData:f,dataStartIndex:h,dataEndIndex:p}=r,g=[];return e.reduce((v,x)=>{var j,{dataDefinedOnItem:_,settings:N}=x,S=XW(_,d),O=Array.isArray(S)?kk(S,h,p):S,A=(j=N==null?void 0:N.dataKey)!==null&&j!==void 0?j:n,P=N==null?void 0:N.nameKey,D;if(n&&Array.isArray(O)&&!Array.isArray(O[0])&&c==="axis"?D=PB(O,n,i):D=s(O,t,f,P),Array.isArray(D))D.forEach(R=>{var q=gT(gT({},N),{},{name:R.name,unit:R.unit,color:void 0,fill:void 0});v.push(I2({tooltipEntrySettings:q,dataKey:R.dataKey,payload:R.payload,value:tr(R.payload,R.dataKey),name:R.name}))});else{var T;v.push(I2({tooltipEntrySettings:N,dataKey:A,payload:D,value:tr(D,A),name:(T=tr(D,P))!==null&&T!==void 0?T:N==null?void 0:N.name}))}return v},g)}},K1=ie([Fr,St,vM,y1,Vr],CM),ZW=ie([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),QW=ie([Vr,jc],S1),Kd=ie([ZW,Fr,QW],A1,{memoizeOptions:{resultEqualityCheck:Wp}}),JW=ie([Kd],e=>e.filter(Hp)),eY=ie([Kd],O1,{memoizeOptions:{resultEqualityCheck:Wp}}),Ac=ie([eY,Xs],T1),tY=ie([JW,Xs,Fr],pM),W1=ie([Ac,Fr,Kd],P1),QM=ie([Fr],D1),rY=ie([Fr],e=>e.allowDataOverflow),JM=ie([QM,rY],HR),nY=ie([Kd],e=>e.filter(Hp)),aY=ie([tY,nY,$d,lM],jM),iY=ie([aY,Xs,Vr,JM],_M),sY=ie([Kd],bM),oY=ie([Ac,Fr,sY,Xp,Vr],M1,{memoizeOptions:{resultEqualityCheck:Kp}}),lY=ie([NM,Vr,jc],_c),cY=ie([lY,Vr],AM),uY=ie([SM,Vr,jc],_c),dY=ie([uY,Vr],OM),fY=ie([EM,Vr,jc],_c),hY=ie([fY,Vr],TM),mY=ie([cY,hY,dY],qm),pY=ie([Fr,QM,JM,iY,oY,mY,St,Vr],I1),Wd=ie([Fr,St,Ac,W1,$d,Vr,pY],L1),gY=ie([Wd,Fr,K1],$1),yY=ie([Fr,Wd,gY,Vr],q1),e4=e=>{var t=Vr(e),r=jc(e),n=!1;return Gd(e,t,r,n)},t4=ie([Fr,e4],Fp),r4=ie([Fr,K1,yY,t4],U1),vY=ie([St,W1,Fr,Vr],LM),xY=ie([St,W1,Fr,Vr],zM),bY=(e,t,r,n,i,s,c,d)=>{if(t){var{type:f}=t,h=Wo(e,d);if(n){var p=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,g=f==="category"&&n.bandwidth?n.bandwidth()/p:0;return g=d==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Zr(i[0]-i[1])*2*g:g,h&&c?c.map((v,x)=>({coordinate:n(v)+g,value:v,index:x,offset:g})):n.domain().map((v,x)=>({coordinate:n(v)+g,value:s?s[v]:v,index:x,offset:g}))}}},ts=ie([St,Fr,K1,r4,e4,vY,xY,Vr],bY),Y1=ie([$M,BM,TW],(e,t,r)=>qM(r.shared,e,t)),n4=e=>e.tooltip.settings.trigger,X1=e=>e.tooltip.settings.defaultIndex,Jp=ie([Ec,Y1,n4,X1],WM),Go=ie([Jp,Ac,Fd,Wd],H1),a4=ie([ts,Go],VM),i4=ie([Jp],e=>{if(e)return e.dataKey}),s4=ie([Ec,Y1,n4,X1],XM),wY=ie([Xi,Zi,St,Br,ts,X1,s4,Hd],YM),jY=ie([Jp,wY],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),_Y=ie([Jp],e=>e.active),NY=ie([s4,Go,Xs,Fd,a4,Hd,Y1],ZM);ie([NY],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function yT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yT(Object(r),!0).forEach(function(n){SY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SY(e,t,r){return(t=EY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EY(e){var t=AY(e,"string");return typeof t=="symbol"?t:t+""}function AY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OY=()=>qe(Fr),TY=()=>{var e=OY(),t=qe(ts),r=qe(r4);return wm(!e||!r?void 0:vT(vT({},e),{},{scale:r}),t)};function xT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ul(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xT(Object(r),!0).forEach(function(n){CY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CY(e,t,r){return(t=PY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PY(e){var t=DY(e,"string");return typeof t=="symbol"?t:t+""}function DY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kY=(e,t,r,n)=>{var i=t.find(s=>s&&s.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},RY=(e,t,r,n)=>{var i=t.find(h=>h&&h.index===r);if(i){if(e==="centric"){var s=i.coordinate,{radius:c}=n;return Ul(Ul(Ul({},n),Tr(n.cx,n.cy,c,s)),{},{angle:s,radius:c})}var d=i.coordinate,{angle:f}=n;return Ul(Ul(Ul({},n),Tr(n.cx,n.cy,d,f)),{},{angle:f,radius:d})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function MY(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var o4=(e,t,r,n,i)=>{var s,c=-1,d=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(d<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var f=0;f<d;f++){var h=f>0?r[f-1].coordinate:r[d-1].coordinate,p=r[f].coordinate,g=f>=d-1?r[0].coordinate:r[f+1].coordinate,v=void 0;if(Zr(p-h)!==Zr(g-p)){var x=[];if(Zr(g-p)===Zr(i[1]-i[0])){v=g;var j=p+i[1]-i[0];x[0]=Math.min(j,(j+h)/2),x[1]=Math.max(j,(j+h)/2)}else{v=h;var _=g+i[1]-i[0];x[0]=Math.min(p,(_+p)/2),x[1]=Math.max(p,(_+p)/2)}var N=[Math.min(p,(v+p)/2),Math.max(p,(v+p)/2)];if(e>N[0]&&e<=N[1]||e>=x[0]&&e<=x[1]){({index:c}=r[f]);break}}else{var S=Math.min(h,g),O=Math.max(h,g);if(e>(S+p)/2&&e<=(O+p)/2){({index:c}=r[f]);break}}}else if(t){for(var A=0;A<d;A++)if(A===0&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A>0&&A<d-1&&e>(t[A].coordinate+t[A-1].coordinate)/2&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A===d-1&&e>(t[A].coordinate+t[A-1].coordinate)/2){({index:c}=t[A]);break}}return c},IY=()=>qe(y1),Z1=(e,t)=>t,l4=(e,t,r)=>r,Q1=(e,t,r,n)=>n,LY=ie(ts,e=>gp(e,t=>t.coordinate)),J1=ie([Ec,Z1,l4,Q1],WM),ej=ie([J1,Ac,Fd,Wd],H1),zY=(e,t,r)=>{if(t!=null){var n=Ec(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},c4=ie([Ec,Z1,l4,Q1],XM),Vm=ie([Xi,Zi,St,Br,ts,Q1,c4,Hd],YM),UY=ie([J1,Vm],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),u4=ie([ts,ej],VM),$Y=ie([c4,ej,Xs,Fd,u4,Hd,Z1],ZM),BY=ie([J1,ej],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),qY=(e,t,r,n,i,s,c)=>{if(!(!e||!r||!n||!i)&&MY(e,c)){var d=f9(e,t),f=o4(d,s,i,r,n),h=kY(t,i,f,e);return{activeIndex:String(f),activeCoordinate:h}}},VY=(e,t,r,n,i,s,c)=>{if(!(!e||!n||!i||!s||!r)){var d=OF(e,r);if(d){var f=h9(d,t),h=o4(f,c,s,n,i),p=RY(t,s,h,d);return{activeIndex:String(h),activeCoordinate:p}}}},FY=(e,t,r,n,i,s,c,d)=>{if(!(!e||!t||!n||!i||!s))return t==="horizontal"||t==="vertical"?qY(e,t,n,i,s,c,d):VY(e,t,r,n,i,s,c)},GY=ie(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElementId:n.elementId}}),HY=ie(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(fn)),r=Array.from(new Set(t));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:CK}});function bT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bT(Object(r),!0).forEach(function(n){KY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KY(e,t,r){return(t=WY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WY(e){var t=YY(e,"string");return typeof t=="symbol"?t:t+""}function YY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XY={},ZY={zIndexMap:Object.values(fn).reduce((e,t)=>wT(wT({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),XY)},QY=new Set(Object.values(fn));function JY(e){return QY.has(e)}var d4=Un({name:"zIndex",initialState:ZY,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Jt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!JY(r)&&delete e.zIndexMap[r])},prepare:Jt()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:n,isPanorama:i}=t.payload;e.zIndexMap[r]?i?e.zIndexMap[r].panoramaElementId=n:e.zIndexMap[r].elementId=n:e.zIndexMap[r]={consumers:0,elementId:i?void 0:n,panoramaElementId:i?n:void 0}},prepare:Jt()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:Jt()}}}),{registerZIndexPortal:eX,unregisterZIndexPortal:tX,registerZIndexPortalId:rX,unregisterZIndexPortalId:nX}=d4.actions,aX=d4.reducer;function Ka(e){var{zIndex:t,children:r}=e,n=F9(),i=n&&t!==void 0&&t!==0,s=$n(),c=Ht();w.useLayoutEffect(()=>i?(c(eX({zIndex:t})),()=>{c(tX({zIndex:t}))}):Td,[c,t,i]);var d=qe(h=>GY(h,t,s));if(!i)return r;if(!d)return null;var f=document.getElementById(d);return f?xw.createPortal(r,f):null}function Ib(){return Ib=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ib.apply(null,arguments)}function jT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Uh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jT(Object(r),!0).forEach(function(n){iX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iX(e,t,r){return(t=sX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sX(e){var t=oX(e,"string");return typeof t=="symbol"?t:t+""}function oX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lX(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return w.isValidElement(t)?w.cloneElement(t,n):w.createElement(r,n)}function cX(e){var t,{coordinate:r,payload:n,index:i,offset:s,tooltipAxisBandSize:c,layout:d,cursor:f,tooltipEventType:h,chartName:p}=e,g=r,v=n,x=i;if(!f||!g||p!=="ScatterChart"&&h!=="axis")return null;var j,_,N;if(p==="ScatterChart")j=g,_=F7,N=fn.cursorLine;else if(p==="BarChart")j=G7(d,g,s,c),_=sR,N=fn.cursorRectangle;else if(d==="radial"&&qD(g)){var{cx:S,cy:O,radius:A,startAngle:P,endAngle:D}=lR(g);j={cx:S,cy:O,startAngle:P,endAngle:D,innerRadius:A,outerRadius:A},_=uR,N=fn.cursorLine}else j={points:DF(d,g,s)},_=Vw,N=fn.cursorLine;var T=typeof f=="object"&&"className"in f?f.className:void 0,R=Uh(Uh(Uh(Uh({stroke:"#ccc",pointerEvents:"none"},s),j),nd(f)),{},{payload:v,payloadIndex:x,className:kt("recharts-tooltip-cursor",T)});return w.createElement(Ka,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:N},w.createElement(lX,{cursor:f,cursorComp:_,cursorProps:R}))}function uX(e){var t=TY(),r=Vk(),n=Pp(),i=IY();return t==null||r==null||n==null||i==null?null:w.createElement(cX,Ib({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var f4=w.createContext(null),dX=()=>w.useContext(f4),nx={exports:{}},_T;function fX(){return _T||(_T=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(f,h,p){this.fn=f,this.context=h,this.once=p||!1}function s(f,h,p,g,v){if(typeof p!="function")throw new TypeError("The listener must be a function");var x=new i(p,g||f,v),j=r?r+h:h;return f._events[j]?f._events[j].fn?f._events[j]=[f._events[j],x]:f._events[j].push(x):(f._events[j]=x,f._eventsCount++),f}function c(f,h){--f._eventsCount===0?f._events=new n:delete f._events[h]}function d(){this._events=new n,this._eventsCount=0}d.prototype.eventNames=function(){var h=[],p,g;if(this._eventsCount===0)return h;for(g in p=this._events)t.call(p,g)&&h.push(r?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},d.prototype.listeners=function(h){var p=r?r+h:h,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var v=0,x=g.length,j=new Array(x);v<x;v++)j[v]=g[v].fn;return j},d.prototype.listenerCount=function(h){var p=r?r+h:h,g=this._events[p];return g?g.fn?1:g.length:0},d.prototype.emit=function(h,p,g,v,x,j){var _=r?r+h:h;if(!this._events[_])return!1;var N=this._events[_],S=arguments.length,O,A;if(N.fn){switch(N.once&&this.removeListener(h,N.fn,void 0,!0),S){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,p),!0;case 3:return N.fn.call(N.context,p,g),!0;case 4:return N.fn.call(N.context,p,g,v),!0;case 5:return N.fn.call(N.context,p,g,v,x),!0;case 6:return N.fn.call(N.context,p,g,v,x,j),!0}for(A=1,O=new Array(S-1);A<S;A++)O[A-1]=arguments[A];N.fn.apply(N.context,O)}else{var P=N.length,D;for(A=0;A<P;A++)switch(N[A].once&&this.removeListener(h,N[A].fn,void 0,!0),S){case 1:N[A].fn.call(N[A].context);break;case 2:N[A].fn.call(N[A].context,p);break;case 3:N[A].fn.call(N[A].context,p,g);break;case 4:N[A].fn.call(N[A].context,p,g,v);break;default:if(!O)for(D=1,O=new Array(S-1);D<S;D++)O[D-1]=arguments[D];N[A].fn.apply(N[A].context,O)}}return!0},d.prototype.on=function(h,p,g){return s(this,h,p,g,!1)},d.prototype.once=function(h,p,g){return s(this,h,p,g,!0)},d.prototype.removeListener=function(h,p,g,v){var x=r?r+h:h;if(!this._events[x])return this;if(!p)return c(this,x),this;var j=this._events[x];if(j.fn)j.fn===p&&(!v||j.once)&&(!g||j.context===g)&&c(this,x);else{for(var _=0,N=[],S=j.length;_<S;_++)(j[_].fn!==p||v&&!j[_].once||g&&j[_].context!==g)&&N.push(j[_]);N.length?this._events[x]=N.length===1?N[0]:N:c(this,x)}return this},d.prototype.removeAllListeners=function(h){var p;return h?(p=r?r+h:h,this._events[p]&&c(this,p)):(this._events=new n,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=r,d.EventEmitter=d,e.exports=d})(nx)),nx.exports}var hX=fX();const mX=ci(hX);var vd=new mX,Lb="recharts.syncEvent.tooltip",NT="recharts.syncEvent.brush";function h4(e,t){if(t){var r=Number.parseInt(t,10);if(!Ga(r))return e==null?void 0:e[r]}}var pX={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},m4=Un({name:"options",initialState:pX,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),gX=m4.reducer,{createEventEmitter:yX}=m4.actions;function vX(e){return e.tooltip.syncInteraction}var xX={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},p4=Un({name:"chartData",initialState:xX,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:ST,setDataStartEndIndexes:bX,setComputedData:ble}=p4.actions,wX=p4.reducer,jX=["x","y"];function ET(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $l(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ET(Object(r),!0).forEach(function(n){_X(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ET(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _X(e,t,r){return(t=NX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NX(e){var t=SX(e,"string");return typeof t=="symbol"?t:t+""}function SX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EX(e,t){if(e==null)return{};var r,n,i=AX(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function AX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function OX(){var e=qe(v1),t=qe(x1),r=Ht(),n=qe(cM),i=qe(ts),s=Pp(),c=Cp(),d=qe(f=>f.rootProps.className);w.useEffect(()=>{if(e==null)return Td;var f=(h,p,g)=>{if(t!==g&&e===h){if(n==="index"){var v;if(c&&p!==null&&p!==void 0&&(v=p.payload)!==null&&v!==void 0&&v.coordinate&&p.payload.sourceViewBox){var x=p.payload.coordinate,{x:j,y:_}=x,N=EX(x,jX),{x:S,y:O,width:A,height:P}=p.payload.sourceViewBox,D=$l($l({},N),{},{x:c.x+(A?(j-S)/A:0)*c.width,y:c.y+(P?(_-O)/P:0)*c.height});r($l($l({},p),{},{payload:$l($l({},p.payload),{},{coordinate:D})}))}else r(p);return}if(i!=null){var T;if(typeof n=="function"){var R={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},q=n(i,R);T=i[q]}else n==="value"&&(T=i.find(M=>String(M.value)===p.payload.label));var{coordinate:Y}=p.payload;if(T==null||p.payload.active===!1||Y==null||c==null){r(Rb({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:G,y:U}=Y,z=Math.min(G,c.x+c.width),J=Math.min(U,c.y+c.height),B={x:s==="horizontal"?T.coordinate:z,y:s==="horizontal"?J:T.coordinate},K=Rb({active:p.payload.active,coordinate:B,dataKey:p.payload.dataKey,index:String(T.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox});r(K)}}};return vd.on(Lb,f),()=>{vd.off(Lb,f)}},[d,r,t,e,n,i,s,c])}function TX(){var e=qe(v1),t=qe(x1),r=Ht();w.useEffect(()=>{if(e==null)return Td;var n=(i,s,c)=>{t!==c&&e===i&&r(bX(s))};return vd.on(NT,n),()=>{vd.off(NT,n)}},[r,t,e])}function CX(){var e=Ht();w.useEffect(()=>{e(yX())},[e]),OX(),TX()}function PX(e,t,r,n,i,s){var c=qe(x=>zY(x,e,t)),d=qe(x1),f=qe(v1),h=qe(cM),p=qe(vX),g=p==null?void 0:p.active,v=Cp();w.useEffect(()=>{if(!g&&f!=null&&d!=null){var x=Rb({active:s,coordinate:r,dataKey:c,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:v});vd.emit(Lb,f,x,d)}},[g,r,c,i,n,d,f,h,s,v])}function AT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function OT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AT(Object(r),!0).forEach(function(n){DX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DX(e,t,r){return(t=kX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kX(e){var t=RX(e,"string");return typeof t=="symbol"?t:t+""}function RX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MX(e){return e.dataKey}function IX(e,t){return w.isValidElement(e)?w.cloneElement(e,t):typeof e=="function"?w.createElement(e,t):w.createElement(j7,t)}var TT=[],LX={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Yo.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function xd(e){var t,r,n=Jr(e,LX),{active:i,allowEscapeViewBox:s,animationDuration:c,animationEasing:d,content:f,filterNull:h,isAnimationActive:p,offset:g,payloadUniqBy:v,position:x,reverseDirection:j,useTranslate3d:_,wrapperStyle:N,cursor:S,shared:O,trigger:A,defaultIndex:P,portal:D,axisId:T}=n,R=Ht(),q=typeof P=="number"?String(P):P;w.useEffect(()=>{R(RW({shared:O,trigger:A,axisId:T,active:i,defaultIndex:q}))},[R,O,A,T,i,q]);var Y=Cp(),G=tR(),U=OW(O),{activeIndex:z,isActive:J}=(t=qe(ke=>BY(ke,U,A,q)))!==null&&t!==void 0?t:{},B=qe(ke=>$Y(ke,U,A,q)),K=qe(ke=>u4(ke,U,A,q)),M=qe(ke=>UY(ke,U,A,q)),H=B,re=dX(),be=(r=i??J)!==null&&r!==void 0?r:!1,[Se,L]=nk([H,be]),ee=U==="axis"?K:void 0;PX(U,A,M,ee,z,be);var je=D??re;if(je==null||Y==null||U==null)return null;var Ne=H??TT;be||(Ne=TT),h&&Ne.length&&(Ne=QD(Ne.filter(ke=>ke.value!=null&&(ke.hide!==!0||n.includeHidden)),v,MX));var Ie=Ne.length>0,Oe=w.createElement(T7,{allowEscapeViewBox:s,animationDuration:c,animationEasing:d,isAnimationActive:p,active:be,coordinate:M,hasPayload:Ie,offset:g,position:x,reverseDirection:j,useTranslate3d:_,viewBox:Y,wrapperStyle:N,lastBoundingBox:Se,innerRef:L,hasPortalFromProps:!!D},IX(f,OT(OT({},n),{},{payload:Ne,label:ee,active:be,activeIndex:z,coordinate:M,accessibilityLayer:G})));return w.createElement(w.Fragment,null,xw.createPortal(Oe,je),be&&w.createElement(uX,{cursor:S,tooltipEventType:U,coordinate:M,payload:Ne,index:z}))}var Fs=e=>null;Fs.displayName="Cell";function zX(e,t,r){return(t=UX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UX(e){var t=$X(e,"string");return typeof t=="symbol"?t:t+""}function $X(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class BX{constructor(t){zX(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function CT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qX(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CT(Object(r),!0).forEach(function(n){VX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VX(e,t,r){return(t=FX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FX(e){var t=GX(e,"string");return typeof t=="symbol"?t:t+""}function GX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HX={cacheSize:2e3,enableCache:!0},g4=qX({},HX),PT=new BX(g4.cacheSize),KX={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},DT="recharts_measurement_span";function WX(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",s=t.fontStyle||"",c=t.letterSpacing||"",d=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(s,"|").concat(c,"|").concat(d)}var kT=(e,t)=>{try{var r=document.getElementById(DT);r||(r=document.createElement("span"),r.setAttribute("id",DT),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,KX,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Fu=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Yo.isSsr)return{width:0,height:0};if(!g4.enableCache)return kT(t,r);var n=WX(t,r),i=PT.get(n);if(i)return i;var s=kT(t,r);return PT.set(n,s),s},RT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,MT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,YX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,XX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,y4={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},ZX=Object.keys(y4),Kl="NaN";function QX(e,t){return e*y4[t]}class In{static parse(t){var r,[,n,i]=(r=XX.exec(t))!==null&&r!==void 0?r:[];return new In(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Ga(t)&&(this.unit=""),r!==""&&!YX.test(r)&&(this.num=NaN,this.unit=""),ZX.includes(r)&&(this.num=QX(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new In(NaN,""):new In(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new In(NaN,""):new In(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new In(NaN,""):new In(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new In(NaN,""):new In(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ga(this.num)}}function v4(e){if(e.includes(Kl))return Kl;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,s]=(r=RT.exec(t))!==null&&r!==void 0?r:[],c=In.parse(n??""),d=In.parse(s??""),f=i==="*"?c.multiply(d):c.divide(d);if(f.isNaN())return Kl;t=t.replace(RT,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,[,p,g,v]=(h=MT.exec(t))!==null&&h!==void 0?h:[],x=In.parse(p??""),j=In.parse(v??""),_=g==="+"?x.add(j):x.subtract(j);if(_.isNaN())return Kl;t=t.replace(MT,_.toString())}return t}var IT=/\(([^()]*)\)/;function JX(e){for(var t=e,r;(r=IT.exec(t))!=null;){var[,n]=r;t=t.replace(IT,v4(n))}return t}function eZ(e){var t=e.replace(/\s+/g,"");return t=JX(t),t=v4(t),t}function tZ(e){try{return eZ(e)}catch{return Kl}}function ax(e){var t=tZ(e.slice(5,-1));return t===Kl?"":t}var rZ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],nZ=["dx","dy","angle","className","breakAll"];function zb(){return zb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zb.apply(null,arguments)}function LT(e,t){if(e==null)return{};var r,n,i=aZ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function aZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var x4=/[ \f\n\r\t\v\u2028\u2029]+/,b4=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];Qr(t)||(r?i=t.toString().split(""):i=t.toString().split(x4));var s=i.map(d=>({word:d,width:Fu(d,n).width})),c=r?0:Fu("",n).width;return{wordsWithComputedWidth:s,spaceWidth:c}}catch{return null}};function iZ(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var w4=(e,t,r,n)=>e.reduce((i,s)=>{var{word:c,width:d}=s,f=i[i.length-1];if(f&&d!=null&&(t==null||n||f.width+d+r<Number(t)))f.words.push(c),f.width+=d+r;else{var h={words:[c],width:d};i.push(h)}return i},[]),j4=e=>e.reduce((t,r)=>t.width>r.width?t:r),sZ="",zT=(e,t,r,n,i,s,c,d)=>{var f=e.slice(0,t),h=b4({breakAll:r,style:n,children:f+sZ});if(!h)return[!1,[]];var p=w4(h.wordsWithComputedWidth,s,c,d),g=p.length>i||j4(p).width>Number(s);return[g,p]},oZ=(e,t,r,n,i)=>{var{maxLines:s,children:c,style:d,breakAll:f}=e,h=Fe(s),p=String(c),g=w4(t,n,r,i);if(!h||i)return g;var v=g.length>s||j4(g).width>Number(n);if(!v)return g;for(var x=0,j=p.length-1,_=0,N;x<=j&&_<=p.length-1;){var S=Math.floor((x+j)/2),O=S-1,[A,P]=zT(p,O,f,d,s,n,r,i),[D]=zT(p,S,f,d,s,n,r,i);if(!A&&!D&&(x=S+1),A&&D&&(j=S-1),!A&&D){N=P;break}_++}return N||g},UT=e=>{var t=Qr(e)?[]:e.toString().split(x4);return[{words:t,width:void 0}]},lZ=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:s,maxLines:c}=e;if((t||r)&&!Yo.isSsr){var d,f,h=b4({breakAll:s,children:n,style:i});if(h){var{wordsWithComputedWidth:p,spaceWidth:g}=h;d=p,f=g}else return UT(n);return oZ({breakAll:s,children:n,maxLines:c,style:i},d,f,t,!!r)}return UT(n)},_4="#808080",cZ={angle:0,breakAll:!1,capHeight:"0.71em",fill:_4,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},eg=w.forwardRef((e,t)=>{var r=Jr(e,cZ),{x:n,y:i,lineHeight:s,capHeight:c,fill:d,scaleToFit:f,textAnchor:h,verticalAnchor:p}=r,g=LT(r,rZ),v=w.useMemo(()=>lZ({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),{dx:x,dy:j,angle:_,className:N,breakAll:S}=g,O=LT(g,nZ);if(!ii(n)||!ii(i)||v.length===0)return null;var A=Number(n)+(Fe(x)?x:0),P=Number(i)+(Fe(j)?j:0);if(!br(A)||!br(P))return null;var D;switch(p){case"start":D=ax("calc(".concat(c,")"));break;case"middle":D=ax("calc(".concat((v.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:D=ax("calc(".concat(v.length-1," * -").concat(s,")"));break}var T=[];if(f){var R=v[0].width,{width:q}=g;T.push("scale(".concat(Fe(q)&&Fe(R)?q/R:1,")"))}return _&&T.push("rotate(".concat(_,", ").concat(A,", ").concat(P,")")),T.length&&(O.transform=T.join(" ")),w.createElement("text",zb({},_a(O),{ref:t,x:A,y:P,className:kt("recharts-text",N),textAnchor:h,fill:d.includes("url")?_4:d}),v.map((Y,G)=>{var U=Y.words.join(S?"":" ");return w.createElement("tspan",{x:A,dy:G===0?D:s,key:"".concat(U,"-").concat(G)},U)}))});eg.displayName="Text";var uZ=["labelRef"];function dZ(e,t){if(e==null)return{};var r,n,i=fZ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function fZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function $T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$T(Object(r),!0).forEach(function(n){hZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$T(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hZ(e,t,r){return(t=mZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mZ(e){var t=pZ(e,"string");return typeof t=="symbol"?t:t+""}function pZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Di(){return Di=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Di.apply(null,arguments)}var N4=w.createContext(null),gZ=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:i,width:s,height:c,children:d}=e,f=w.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:i,width:s,height:c}),[t,r,n,i,s,c]);return w.createElement(N4.Provider,{value:f},d)},S4=()=>{var e=w.useContext(N4),t=Cp();return e||qk(t)},yZ=w.createContext(null),vZ=()=>{var e=w.useContext(yZ),t=qe(mM);return e||t},xZ=e=>{var{value:t,formatter:r}=e,n=Qr(e.children)?t:e.children;return typeof r=="function"?r(n):n},tj=e=>e!=null&&typeof e=="function",bZ=(e,t)=>{var r=Zr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},wZ=(e,t,r,n,i)=>{var{offset:s,className:c}=e,{cx:d,cy:f,innerRadius:h,outerRadius:p,startAngle:g,endAngle:v,clockWise:x}=i,j=(h+p)/2,_=bZ(g,v),N=_>=0?1:-1,S,O;switch(t){case"insideStart":S=g+N*s,O=x;break;case"insideEnd":S=v-N*s,O=!x;break;case"end":S=v+N*s,O=x;break;default:throw new Error("Unsupported position ".concat(t))}O=_<=0?O:!O;var A=Tr(d,f,j,S),P=Tr(d,f,j,S+(O?1:-1)*359),D="M".concat(A.x,",").concat(A.y,`
    A`).concat(j,",").concat(j,",0,1,").concat(O?0:1,`,
    `).concat(P.x,",").concat(P.y),T=Qr(e.id)?ad("recharts-radial-line-"):e.id;return w.createElement("text",Di({},n,{dominantBaseline:"central",className:kt("recharts-radial-bar-label",c)}),w.createElement("defs",null,w.createElement("path",{id:T,d:D})),w.createElement("textPath",{xlinkHref:"#".concat(T)},r))},jZ=(e,t,r)=>{var{cx:n,cy:i,innerRadius:s,outerRadius:c,startAngle:d,endAngle:f}=e,h=(d+f)/2;if(r==="outside"){var{x:p,y:g}=Tr(n,i,c+t,h);return{x:p,y:g,textAnchor:p>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(s+c)/2,{x,y:j}=Tr(n,i,v,h);return{x,y:j,textAnchor:"middle",verticalAnchor:"middle"}},Ub=e=>"cx"in e&&Fe(e.cx),_Z=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,s;r!=null&&!Ub(r)&&(s=r);var{x:c,y:d,upperWidth:f,lowerWidth:h,height:p}=t,g=c,v=c+(f-h)/2,x=(g+v)/2,j=(f+h)/2,_=g+f/2,N=p>=0?1:-1,S=N*n,O=N>0?"end":"start",A=N>0?"start":"end",P=f>=0?1:-1,D=P*n,T=P>0?"end":"start",R=P>0?"start":"end";if(i==="top"){var q={x:g+f/2,y:d-S,textAnchor:"middle",verticalAnchor:O};return vr(vr({},q),s?{height:Math.max(d-s.y,0),width:f}:{})}if(i==="bottom"){var Y={x:v+h/2,y:d+p+S,textAnchor:"middle",verticalAnchor:A};return vr(vr({},Y),s?{height:Math.max(s.y+s.height-(d+p),0),width:h}:{})}if(i==="left"){var G={x:x-D,y:d+p/2,textAnchor:T,verticalAnchor:"middle"};return vr(vr({},G),s?{width:Math.max(G.x-s.x,0),height:p}:{})}if(i==="right"){var U={x:x+j+D,y:d+p/2,textAnchor:R,verticalAnchor:"middle"};return vr(vr({},U),s?{width:Math.max(s.x+s.width-U.x,0),height:p}:{})}var z=s?{width:j,height:p}:{};return i==="insideLeft"?vr({x:x+D,y:d+p/2,textAnchor:R,verticalAnchor:"middle"},z):i==="insideRight"?vr({x:x+j-D,y:d+p/2,textAnchor:T,verticalAnchor:"middle"},z):i==="insideTop"?vr({x:g+f/2,y:d+S,textAnchor:"middle",verticalAnchor:A},z):i==="insideBottom"?vr({x:v+h/2,y:d+p-S,textAnchor:"middle",verticalAnchor:O},z):i==="insideTopLeft"?vr({x:g+D,y:d+S,textAnchor:R,verticalAnchor:A},z):i==="insideTopRight"?vr({x:g+f-D,y:d+S,textAnchor:T,verticalAnchor:A},z):i==="insideBottomLeft"?vr({x:v+D,y:d+p-S,textAnchor:R,verticalAnchor:O},z):i==="insideBottomRight"?vr({x:v+h-D,y:d+p-S,textAnchor:T,verticalAnchor:O},z):i&&typeof i=="object"&&(Fe(i.x)||Bi(i.x))&&(Fe(i.y)||Bi(i.y))?vr({x:c+xn(i.x,j),y:d+xn(i.y,p),textAnchor:"end",verticalAnchor:"end"},z):vr({x:_,y:d+p/2,textAnchor:"middle",verticalAnchor:"middle"},z)},NZ={angle:0,offset:5,zIndex:fn.label,position:"middle",textBreakAll:!1};function Ls(e){var t=Jr(e,NZ),{viewBox:r,position:n,value:i,children:s,content:c,className:d="",textBreakAll:f,labelRef:h}=t,p=vZ(),g=S4(),v=n==="center"?g:p??g,x,j,_;if(r==null?x=v:Ub(r)?x=r:x=qk(r),!x||Qr(i)&&Qr(s)&&!w.isValidElement(c)&&typeof c!="function")return null;var N=vr(vr({},t),{},{viewBox:x});if(w.isValidElement(c)){var{labelRef:S}=N,O=dZ(N,uZ);return w.cloneElement(c,O)}if(typeof c=="function"){if(j=w.createElement(c,N),w.isValidElement(j))return j}else j=xZ(t);var A=_a(t);if(Ub(x)){if(n==="insideStart"||n==="insideEnd"||n==="end")return wZ(t,n,j,A,x);_=jZ(x,t.offset,t.position)}else _=_Z(t,x);return w.createElement(Ka,{zIndex:t.zIndex},w.createElement(eg,Di({ref:h,className:kt("recharts-label",d)},A,_,{textAnchor:iZ(A.textAnchor)?A.textAnchor:_.textAnchor,breakAll:f}),j))}Ls.displayName="Label";var SZ=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?w.createElement(Ls,Di({key:"label-implicit"},n)):ii(e)?w.createElement(Ls,Di({key:"label-implicit",value:e},n)):w.isValidElement(e)?e.type===Ls?w.cloneElement(e,vr({key:"label-implicit"},n)):w.createElement(Ls,Di({key:"label-implicit",content:e},n)):tj(e)?w.createElement(Ls,Di({key:"label-implicit",content:e},n)):e&&typeof e=="object"?w.createElement(Ls,Di({},e,{key:"label-implicit"},n)):null};function EZ(e){var{label:t,labelRef:r}=e,n=S4();return SZ(t,n,r)||null}var ix={},sx={},BT;function AZ(){return BT||(BT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(sx)),sx}var ox={},qT;function OZ(){return qT||(qT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(ox)),ox}var VT;function TZ(){return VT||(VT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AZ(),r=OZ(),n=Aw();function i(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=i})(ix)),ix}var lx,FT;function CZ(){return FT||(FT=1,lx=TZ().last),lx}var PZ=CZ();const DZ=ci(PZ);var kZ=["valueAccessor"],RZ=["dataKey","clockWise","id","textBreakAll","zIndex"];function Fm(){return Fm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fm.apply(null,arguments)}function GT(e,t){if(e==null)return{};var r,n,i=MZ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function MZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var IZ=e=>Array.isArray(e.value)?DZ(e.value):e.value,E4=w.createContext(void 0),LZ=E4.Provider,A4=w.createContext(void 0),zZ=A4.Provider;function UZ(){return w.useContext(E4)}function $Z(){return w.useContext(A4)}function Xh(e){var{valueAccessor:t=IZ}=e,r=GT(e,kZ),{dataKey:n,clockWise:i,id:s,textBreakAll:c,zIndex:d}=r,f=GT(r,RZ),h=UZ(),p=$Z(),g=h||p;return!g||!g.length?null:w.createElement(Ka,{zIndex:d??fn.label},w.createElement(Sn,{className:"recharts-label-list"},g.map((v,x)=>{var j,_=Qr(n)?t(v,x):tr(v&&v.payload,n),N=Qr(s)?{}:{id:"".concat(s,"-").concat(x)};return w.createElement(Ls,Fm({key:"label-".concat(x)},_a(v),f,N,{fill:(j=r.fill)!==null&&j!==void 0?j:v.fill,parentViewBox:v.parentViewBox,value:_,textBreakAll:c,viewBox:v.viewBox,index:x,zIndex:0}))})))}Xh.displayName="LabelList";function O4(e){var{label:t}=e;return t?t===!0?w.createElement(Xh,{key:"labelList-implicit"}):w.isValidElement(t)||tj(t)?w.createElement(Xh,{key:"labelList-implicit",content:t}):typeof t=="object"?w.createElement(Xh,Fm({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var T4=e=>e.graphicalItems.polarItems,BZ=ie([nr,Bd],S1),tg=ie([T4,sr,BZ],A1),qZ=ie([tg],O1),rg=ie([qZ,h1],T1),VZ=ie([rg,sr,tg],P1);ie([rg,sr,tg],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var s,c=tr(n,(s=t.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:tr(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var HT=()=>{},FZ=ie([rg,sr,tg,Xp,nr],M1),GZ=ie([sr,k1,R1,HT,FZ,HT,St,nr],I1),C4=ie([sr,St,rg,VZ,$d,nr,GZ],L1),HZ=ie([C4,sr,Nc],$1);ie([sr,C4,HZ,nr],q1);var KZ={radiusAxis:{},angleAxis:{}},P4=Un({name:"polarAxis",initialState:KZ,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:wle,removeRadiusAxis:jle,addAngleAxis:_le,removeAngleAxis:Nle}=P4.actions,WZ=P4.reducer;function KT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function WT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KT(Object(r),!0).forEach(function(n){YZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YZ(e,t,r){return(t=XZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XZ(e){var t=ZZ(e,"string");return typeof t=="symbol"?t:t+""}function ZZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QZ=(e,t)=>t,rj=ie([T4,QZ],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),JZ=[],nj=(e,t,r)=>(r==null?void 0:r.length)===0?JZ:r,D4=ie([h1,rj,nj],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(s=>WT(WT({},t.presentationProps),s.props))),i!=null)return i}}),eQ=ie([D4,rj,nj],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,i)=>{var s,c=tr(n,t.nameKey,t.name),d;return r!=null&&(s=r[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?d=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?d=n.fill:d=t.fill,{value:Sp(c,t.dataKey),color:d,payload:n,type:t.legendType}})}),tQ=ie([D4,rj,nj,Br],(e,t,r,n)=>{if(!(t==null||e==null))return aJ({offset:n,pieSettings:t,displayedData:e,cells:r})}),cx={exports:{}},Lt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YT;function rQ(){if(YT)return Lt;YT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),x=Symbol.for("react.client.reference");function j(_){if(typeof _=="object"&&_!==null){var N=_.$$typeof;switch(N){case e:switch(_=_.type,_){case r:case i:case n:case f:case h:case v:return _;default:switch(_=_&&_.$$typeof,_){case c:case d:case g:case p:return _;case s:return _;default:return N}}case t:return N}}}return Lt.ContextConsumer=s,Lt.ContextProvider=c,Lt.Element=e,Lt.ForwardRef=d,Lt.Fragment=r,Lt.Lazy=g,Lt.Memo=p,Lt.Portal=t,Lt.Profiler=i,Lt.StrictMode=n,Lt.Suspense=f,Lt.SuspenseList=h,Lt.isContextConsumer=function(_){return j(_)===s},Lt.isContextProvider=function(_){return j(_)===c},Lt.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===e},Lt.isForwardRef=function(_){return j(_)===d},Lt.isFragment=function(_){return j(_)===r},Lt.isLazy=function(_){return j(_)===g},Lt.isMemo=function(_){return j(_)===p},Lt.isPortal=function(_){return j(_)===t},Lt.isProfiler=function(_){return j(_)===i},Lt.isStrictMode=function(_){return j(_)===n},Lt.isSuspense=function(_){return j(_)===f},Lt.isSuspenseList=function(_){return j(_)===h},Lt.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===r||_===i||_===n||_===f||_===h||typeof _=="object"&&_!==null&&(_.$$typeof===g||_.$$typeof===p||_.$$typeof===c||_.$$typeof===s||_.$$typeof===d||_.$$typeof===x||_.getModuleId!==void 0)},Lt.typeOf=j,Lt}var XT;function nQ(){return XT||(XT=1,cx.exports=rQ()),cx.exports}var aQ=nQ(),ZT=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",QT=null,ux=null,k4=e=>{if(e===QT&&Array.isArray(ux))return ux;var t=[];return w.Children.forEach(e,r=>{Qr(r)||(aQ.isFragment(r)?t=t.concat(k4(r.props.children)):t.push(r))}),ux=t,QT=e,t};function aj(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>ZT(i)):n=[ZT(t)],k4(e).forEach(i=>{var s=Bo(i,"type.displayName")||Bo(i,"type.name");s&&n.indexOf(s)!==-1&&r.push(i)}),r}var dx={},JT;function iQ(){return JT||(JT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(dx)),dx}var fx,eC;function sQ(){return eC||(eC=1,fx=iQ().isPlainObject),fx}var oQ=sQ();const lQ=ci(oQ);function tC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tC(Object(r),!0).forEach(function(n){cQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cQ(e,t,r){return(t=uQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uQ(e){var t=dQ(e,"string");return typeof t=="symbol"?t:t+""}function dQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gm(){return Gm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gm.apply(null,arguments)}var nC=(e,t,r,n,i)=>{var s=r-n,c;return c="M ".concat(e,",").concat(t),c+="L ".concat(e+r,",").concat(t),c+="L ".concat(e+r-s/2,",").concat(t+i),c+="L ".concat(e+r-s/2-n,",").concat(t+i),c+="L ".concat(e,",").concat(t," Z"),c},fQ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},hQ=e=>{var t=Jr(e,fQ),{x:r,y:n,upperWidth:i,lowerWidth:s,height:c,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:p,isUpdateAnimationActive:g}=t,v=w.useRef(null),[x,j]=w.useState(-1),_=w.useRef(i),N=w.useRef(s),S=w.useRef(c),O=w.useRef(r),A=w.useRef(n),P=Lp(e,"trapezoid-");if(w.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var B=v.current.getTotalLength();B&&j(B)}catch{}},[]),r!==+r||n!==+n||i!==+i||s!==+s||c!==+c||i===0&&s===0||c===0)return null;var D=kt("recharts-trapezoid",d);if(!g)return w.createElement("g",null,w.createElement("path",Gm({},_a(t),{className:D,d:nC(r,n,i,s,c)})));var T=_.current,R=N.current,q=S.current,Y=O.current,G=A.current,U="0px ".concat(x===-1?1:x,"px"),z="".concat(x,"px 0px"),J=rR(["strokeDasharray"],h,f);return w.createElement(Ip,{animationId:P,key:P,canBegin:x>0,duration:h,easing:f,isActive:g,begin:p},B=>{var K=zr(T,i,B),M=zr(R,s,B),H=zr(q,c,B),re=zr(Y,r,B),be=zr(G,n,B);v.current&&(_.current=K,N.current=M,S.current=H,O.current=re,A.current=be);var Se=B>0?{transition:J,strokeDasharray:z}:{strokeDasharray:U};return w.createElement("path",Gm({},_a(t),{className:D,d:nC(re,be,K,M,H),ref:v,style:rC(rC({},Se),t.style)}))})},mQ=["option","shapeType","propTransformer","activeClassName"];function pQ(e,t){if(e==null)return{};var r,n,i=gQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function gQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function aC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Hm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aC(Object(r),!0).forEach(function(n){yQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yQ(e,t,r){return(t=vQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vQ(e){var t=xQ(e,"string");return typeof t=="symbol"?t:t+""}function xQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bQ(e,t){return Hm(Hm({},t),e)}function wQ(e,t){return e==="symbols"}function iC(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return w.createElement(sR,r);case"trapezoid":return w.createElement(hQ,r);case"sector":return w.createElement(uR,r);case"symbols":if(wQ(t))return w.createElement(Ew,r);break;case"curve":return w.createElement(Vw,r);default:return null}}function jQ(e){return w.isValidElement(e)?e.props:e}function R4(e){var{option:t,shapeType:r,propTransformer:n=bQ,activeClassName:i="recharts-active-shape"}=e,s=pQ(e,mQ),c;if(w.isValidElement(t))c=w.cloneElement(t,Hm(Hm({},s),jQ(t)));else if(typeof t=="function")c=t(s);else if(lQ(t)&&typeof t!="boolean"){var d=n(t,s);c=w.createElement(iC,{shapeType:r,elementProps:d})}else{var f=s;c=w.createElement(iC,{shapeType:r,elementProps:f})}return s.isActive?w.createElement(Sn,{className:i},c):c}var ij=(e,t)=>{var r=Ht();return(n,i)=>s=>{e==null||e(n,i,s),r(GM({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},sj=e=>{var t=Ht();return(r,n)=>i=>{e==null||e(r,n,i),t(MW())}},oj=(e,t)=>{var r=Ht();return(n,i)=>s=>{e==null||e(n,i,s),r(IW({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function M4(e){var{tooltipEntrySettings:t}=e,r=Ht(),n=$n(),i=w.useRef(null);return w.useLayoutEffect(()=>{n||(i.current===null?r(PW(t)):i.current!==t&&r(DW({prev:i.current,next:t})),i.current=t)},[t,r,n]),w.useLayoutEffect(()=>()=>{i.current&&(r(kW(i.current)),i.current=null)},[r]),null}function _Q(e){var{legendPayload:t}=e,r=Ht(),n=$n(),i=w.useRef(null);return w.useLayoutEffect(()=>{n||(i.current===null?r(Zk(t)):i.current!==t&&r(Qk({prev:i.current,next:t})),i.current=t)},[r,n,t]),w.useLayoutEffect(()=>()=>{i.current&&(r(Jk(i.current)),i.current=null)},[r]),null}function NQ(e){var{legendPayload:t}=e,r=Ht(),n=qe(St),i=w.useRef(null);return w.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(i.current===null?r(Zk(t)):i.current!==t&&r(Qk({prev:i.current,next:t})),i.current=t)},[r,n,t]),w.useLayoutEffect(()=>()=>{i.current&&(r(Jk(i.current)),i.current=null)},[r]),null}var hx,SQ=()=>{var[e]=w.useState(()=>ad("uid-"));return e},EQ=(hx=X6.useId)!==null&&hx!==void 0?hx:SQ;function I4(e,t){var r=EQ();return t||(e?"".concat(e,"-").concat(r):r)}var AQ=w.createContext(void 0),L4=e=>{var{id:t,type:r,children:n}=e,i=I4("recharts-".concat(r),t);return w.createElement(AQ.Provider,{value:i},n(i))},OQ={cartesianItems:[],polarItems:[]},z4=Un({name:"graphicalItems",initialState:OQ,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Jt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=qa(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:Jt()},removeCartesianGraphicalItem:{reducer(e,t){var r=qa(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Jt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Jt()},removePolarGraphicalItem:{reducer(e,t){var r=qa(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Jt()}}}),{addCartesianGraphicalItem:TQ,replaceCartesianGraphicalItem:CQ,removeCartesianGraphicalItem:PQ,addPolarGraphicalItem:DQ,removePolarGraphicalItem:kQ}=z4.actions,RQ=z4.reducer,MQ=e=>{var t=Ht(),r=w.useRef(null);return w.useLayoutEffect(()=>{r.current===null?t(TQ(e)):r.current!==e&&t(CQ({prev:r.current,next:e})),r.current=e},[t,e]),w.useLayoutEffect(()=>()=>{r.current&&(t(PQ(r.current)),r.current=null)},[t]),null},IQ=w.memo(MQ);function LQ(e){var t=Ht();return w.useLayoutEffect(()=>(t(DQ(e)),()=>{t(kQ(e))}),[t,e]),null}var zQ=["key"],UQ=["onMouseEnter","onClick","onMouseLeave"],$Q=["id"],BQ=["id"];function sC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sC(Object(r),!0).forEach(function(n){qQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qQ(e,t,r){return(t=VQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VQ(e){var t=FQ(e,"string");return typeof t=="symbol"?t:t+""}function FQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gs(){return Gs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gs.apply(null,arguments)}function ng(e,t){if(e==null)return{};var r,n,i=GQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function GQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function HQ(e){var t=w.useMemo(()=>aj(e.children,Fs),[e.children]),r=qe(n=>eQ(n,e.id,t));return r==null?null:w.createElement(NQ,{legendPayload:r})}var KQ=w.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:s,fill:c,name:d,hide:f,tooltipType:h}=e,p={dataDefinedOnItem:n.map(g=>g.tooltipPayload),positions:n.map(g=>g.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:c,dataKey:t,nameKey:r,name:Sp(d,t),hide:f,type:h,color:c,unit:""}};return w.createElement(M4,{tooltipEntrySettings:p})}),WQ=(e,t)=>e>t?"start":e<t?"end":"middle",YQ=(e,t,r)=>xn(typeof t=="function"?t(e):t,r,r*.8),XQ=(e,t,r)=>{var{top:n,left:i,width:s,height:c}=t,d=oR(s,c),f=i+xn(e.cx,s,s/2),h=n+xn(e.cy,c,c/2),p=xn(e.innerRadius,d,0),g=YQ(r,e.outerRadius,d),v=e.maxRadius||Math.sqrt(s*s+c*c)/2;return{cx:f,cy:h,innerRadius:p,outerRadius:g,maxRadius:v}},ZQ=(e,t)=>{var r=Zr(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function QQ(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var JQ=(e,t)=>{if(w.isValidElement(e))return w.cloneElement(e,t);if(typeof e=="function")return e(t);var r=kt("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,i=ng(t,zQ);return w.createElement(Vw,Gs({},i,{type:"linear",className:r}))},eJ=(e,t,r)=>{if(w.isValidElement(e))return w.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),w.isValidElement(n)))return n;var i=kt("recharts-pie-label-text",QQ(e));return w.createElement(eg,Gs({},t,{alignmentBaseline:"middle",className:i}),n)};function tJ(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:s,dataKey:c}=r;if(!n||!i||!t)return null;var d=Fa(r),f=nd(i),h=nd(s),p=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,g=t.map((v,x)=>{var j=(v.startAngle+v.endAngle)/2,_=Tr(v.cx,v.cy,v.outerRadius+p,j),N=dr(dr(dr(dr({},d),v),{},{stroke:"none"},f),{},{index:x,textAnchor:WQ(_.x,v.cx)},_),S=dr(dr(dr(dr({},d),v),{},{fill:"none",stroke:v.fill},h),{},{index:x,points:[Tr(v.cx,v.cy,v.outerRadius,j),_],key:"line"});return w.createElement(Ka,{zIndex:fn.label,key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(x)},w.createElement(Sn,null,s&&JQ(s,S),eJ(i,N,tr(v,c))))});return w.createElement(Sn,{className:"recharts-pie-labels"},g)}function rJ(e){var{sectors:t,props:r,showLabels:n}=e,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?w.createElement(O4,{label:i}):w.createElement(tJ,{sectors:t,props:r,showLabels:n})}function nJ(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i,shape:s}=e,c=qe(Go),{onMouseEnter:d,onClick:f,onMouseLeave:h}=i,p=ng(i,UQ),g=ij(d,i.dataKey),v=sj(h),x=oj(f,i.dataKey);return t==null||t.length===0?null:w.createElement(w.Fragment,null,t.map((j,_)=>{if((j==null?void 0:j.startAngle)===0&&(j==null?void 0:j.endAngle)===0&&t.length!==1)return null;var N=String(_)===c,S=c?n:null,O=r&&N?r:S,A=dr(dr({},j),{},{stroke:j.stroke,tabIndex:-1,[Lk]:_,[zk]:i.dataKey});return w.createElement(Sn,Gs({key:"sector-".concat(j==null?void 0:j.startAngle,"-").concat(j==null?void 0:j.endAngle,"-").concat(j.midAngle,"-").concat(_),tabIndex:-1,className:"recharts-pie-sector"},Cd(p,j,_),{onMouseEnter:g(j,_),onMouseLeave:v(j,_),onClick:x(j,_)}),w.createElement(R4,Gs({option:s??O,shapeType:"sector",isActive:N},A)))}))}function aJ(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:s}=e,{cornerRadius:c,startAngle:d,endAngle:f,dataKey:h,nameKey:p,tooltipType:g}=r,v=Math.abs(r.minAngle),x=ZQ(d,f),j=Math.abs(x),_=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,N=n.filter(T=>tr(T,h,0)!==0).length,S=(j>=360?N:N-1)*_,O=j-N*v-S,A=n.reduce((T,R)=>{var q=tr(R,h,0);return T+(Fe(q)?q:0)},0),P;if(A>0){var D;P=n.map((T,R)=>{var q=tr(T,h,0),Y=tr(T,p,R),G=XQ(r,s,T),U=(Fe(q)?q:0)/A,z,J=dr(dr({},T),i&&i[R]&&i[R].props);R?z=D.endAngle+Zr(x)*_*(q!==0?1:0):z=d;var B=z+Zr(x)*((q!==0?v:0)+U*O),K=(z+B)/2,M=(G.innerRadius+G.outerRadius)/2,H=[{name:Y,value:q,payload:J,dataKey:h,type:g}],re=Tr(G.cx,G.cy,M,K);return D=dr(dr(dr(dr({},r.presentationProps),{},{percent:U,cornerRadius:typeof c=="string"?parseFloat(c):c,name:Y,tooltipPayload:H,midAngle:K,middleRadius:M,tooltipPosition:re},J),G),{},{value:q,startAngle:z,endAngle:B,payload:J,paddingAngle:Zr(x)*_}),D})}return P}function iJ(e){var{showLabels:t,sectors:r,children:n}=e,i=w.useMemo(()=>!t||!r?[]:r.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[r,t]);return w.createElement(zZ,{value:t?i:void 0},n)}function sJ(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:i,animationBegin:s,animationDuration:c,animationEasing:d,activeShape:f,inactiveShape:h,onAnimationStart:p,onAnimationEnd:g}=t,v=Lp(t,"recharts-pie-"),x=r.current,[j,_]=w.useState(!1),N=w.useCallback(()=>{typeof g=="function"&&g(),_(!1)},[g]),S=w.useCallback(()=>{typeof p=="function"&&p(),_(!0)},[p]);return w.createElement(iJ,{showLabels:!j,sectors:n},w.createElement(Ip,{animationId:v,begin:s,duration:c,isActive:i,easing:d,onAnimationStart:S,onAnimationEnd:N,key:v},O=>{var A=[],P=n&&n[0],D=P==null?void 0:P.startAngle;return n==null||n.forEach((T,R)=>{var q=x&&x[R],Y=R>0?Bo(T,"paddingAngle",0):0;if(q){var G=zr(q.endAngle-q.startAngle,T.endAngle-T.startAngle,O),U=dr(dr({},T),{},{startAngle:D+Y,endAngle:D+G+Y});A.push(U),D=U.endAngle}else{var{endAngle:z,startAngle:J}=T,B=zr(0,z-J,O),K=dr(dr({},T),{},{startAngle:D+Y,endAngle:D+B+Y});A.push(K),D=K.endAngle}}),r.current=A,w.createElement(Sn,null,w.createElement(nJ,{sectors:A,activeShape:f,inactiveShape:h,allOtherPieProps:t,shape:t.shape}))}),w.createElement(rJ,{showLabels:!j,sectors:n,props:t}),t.children)}var oJ={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Yo.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:fn.area};function lJ(e){var{id:t}=e,r=ng(e,$Q),{hide:n,className:i,rootTabIndex:s}=e,c=w.useMemo(()=>aj(e.children,Fs),[e.children]),d=qe(p=>tQ(p,t,c)),f=w.useRef(null),h=kt("recharts-pie",i);return n||d==null?(f.current=null,w.createElement(Sn,{tabIndex:s,className:h})):w.createElement(Ka,{zIndex:e.zIndex},w.createElement(KQ,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:d,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),w.createElement(Sn,{tabIndex:s,className:h},w.createElement(sJ,{props:dr(dr({},r),{},{sectors:d}),previousSectorsRef:f})))}function lj(e){var t=Jr(e,oJ),{id:r}=t,n=ng(t,BQ),i=Fa(n);return w.createElement(L4,{id:r,type:"pie"},s=>w.createElement(w.Fragment,null,w.createElement(LQ,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),w.createElement(HQ,Gs({},n,{id:s})),w.createElement(lJ,Gs({},n,{id:s}))))}lj.displayName="Pie";function oC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oC(Object(r),!0).forEach(function(n){cJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cJ(e,t,r){return(t=uJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uJ(e){var t=dJ(e,"string");return typeof t=="symbol"?t:t+""}function dJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fJ={xAxis:{},yAxis:{},zAxis:{}},U4=Un({name:"cartesianAxis",initialState:fJ,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Jt()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Jt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Jt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Jt()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Jt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Jt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Jt()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Jt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Jt()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&n===s[1]&&n!==i.width&&Math.abs(n-s[0])<=1)return;var c=[...s,n].slice(-3);e.yAxis[r]=lC(lC({},e.yAxis[r]),{},{width:n,widthHistory:c})}}}}),{addXAxis:hJ,replaceXAxis:mJ,removeXAxis:pJ,addYAxis:gJ,replaceYAxis:yJ,removeYAxis:vJ,addZAxis:Sle,replaceZAxis:Ele,removeZAxis:Ale,updateYAxisWidth:xJ}=U4.actions,bJ=U4.reducer,wJ=ie([Br],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),jJ=ie([wJ,Xi,Zi],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),$4=()=>qe(jJ),_J="Invariant failed";function NJ(e,t){throw new Error(_J)}var SJ=["x","y"];function $b(){return $b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$b.apply(null,arguments)}function cC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Du(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cC(Object(r),!0).forEach(function(n){EJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EJ(e,t,r){return(t=AJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AJ(e){var t=OJ(e,"string");return typeof t=="symbol"?t:t+""}function OJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TJ(e,t){if(e==null)return{};var r,n,i=CJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function CJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function PJ(e,t){var{x:r,y:n}=e,i=TJ(e,SJ),s="".concat(r),c=parseInt(s,10),d="".concat(n),f=parseInt(d,10),h="".concat(t.height||i.height),p=parseInt(h,10),g="".concat(t.width||i.width),v=parseInt(g,10);return Du(Du(Du(Du(Du({},t),i),c?{x:c}:{}),f?{y:f}:{}),{},{height:p,width:v,name:t.name,radius:t.radius})}function Km(e){return w.createElement(R4,$b({shapeType:"rectangle",propTransformer:PJ,activeClassName:"recharts-active-bar"},e))}var DJ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(Fe(t))return t;var s=Fe(n)||Qr(n);return s?t(n,i):(s||NJ(),r)}},kJ={},B4=Un({name:"errorBars",initialState:kJ,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?i:s))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:Ole,replaceErrorBar:Tle,removeErrorBar:Cle}=B4.actions,RJ=B4.reducer,MJ=["children"];function IJ(e,t){if(e==null)return{};var r,n,i=LJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function LJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var zJ={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},UJ=w.createContext(zJ);function $J(e){var{children:t}=e,r=IJ(e,MJ);return w.createElement(UJ.Provider,{value:r},t)}function q4(e,t){var r,n,i=qe(h=>Ji(h,e)),s=qe(h=>es(h,t)),c=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:Kr.allowDataOverflow,d=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:Wr.allowDataOverflow,f=c||d;return{needClip:f,needClipX:c,needClipY:d}}function BJ(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=$4(),{needClipX:s,needClipY:c,needClip:d}=q4(t,r);if(!d||!i)return null;var{x:f,y:h,width:p,height:g}=i;return w.createElement("clipPath",{id:"clipPath-".concat(n)},w.createElement("rect",{x:s?f:f-p/2,y:c?h:h-g/2,width:s?p:p*2,height:c?g:g*2}))}function qJ(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&br(e.zIndex)?e.zIndex:t}var mx={exports:{}},px={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uC;function VJ(){if(uC)return px;uC=1;var e=yc();function t(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,i=e.useRef,s=e.useEffect,c=e.useMemo,d=e.useDebugValue;return px.useSyncExternalStoreWithSelector=function(f,h,p,g,v){var x=i(null);if(x.current===null){var j={hasValue:!1,value:null};x.current=j}else j=x.current;x=c(function(){function N(D){if(!S){if(S=!0,O=D,D=g(D),v!==void 0&&j.hasValue){var T=j.value;if(v(T,D))return A=T}return A=D}if(T=A,r(O,D))return T;var R=g(D);return v!==void 0&&v(T,R)?(O=D,T):(O=D,A=R)}var S=!1,O,A,P=p===void 0?null:p;return[function(){return N(h())},P===null?void 0:function(){return N(P())}]},[h,p,g,v]);var _=n(f,x[0],x[1]);return s(function(){j.hasValue=!0,j.value=_},[_]),d(_),_},px}var dC;function FJ(){return dC||(dC=1,mx.exports=VJ()),mx.exports}FJ();function GJ(e){e()}function HJ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){GJ(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var fC={notify(){},get:()=>[]};function KJ(e,t){let r,n=fC,i=0,s=!1;function c(_){p();const N=n.subscribe(_);let S=!1;return()=>{S||(S=!0,N(),g())}}function d(){n.notify()}function f(){j.onStateChange&&j.onStateChange()}function h(){return s}function p(){i++,r||(r=e.subscribe(f),n=HJ())}function g(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=fC)}function v(){s||(s=!0,p())}function x(){s&&(s=!1,g())}const j={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:f,isSubscribed:h,trySubscribe:v,tryUnsubscribe:x,getListeners:()=>n};return j}var WJ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",YJ=WJ(),XJ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",ZJ=XJ(),QJ=()=>YJ||ZJ?w.useLayoutEffect:w.useEffect,JJ=QJ();function hC(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function eee(e,t){if(hC(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!hC(e[r[i]],t[r[i]]))return!1;return!0}var gx=Symbol.for("react-redux-context"),yx=typeof globalThis<"u"?globalThis:{};function tee(){if(!w.createContext)return{};const e=yx[gx]??(yx[gx]=new Map);let t=e.get(w.createContext);return t||(t=w.createContext(null),e.set(w.createContext,t)),t}var ree=tee();function nee(e){const{children:t,context:r,serverState:n,store:i}=e,s=w.useMemo(()=>{const f=KJ(i);return{store:i,subscription:f,getServerState:n?()=>n:void 0}},[i,n]),c=w.useMemo(()=>i.getState(),[i]);JJ(()=>{const{subscription:f}=s;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),c!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[s,c]);const d=r||ree;return w.createElement(d.Provider,{value:s},t)}var aee=nee,iee=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function see(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function cj(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(iee.has(n)){if(e[n]==null&&t[n]==null)continue;if(!eee(e[n],t[n]))return!1}else if(!see(e[n],t[n]))return!1;return!0}var oee=["onMouseEnter","onMouseLeave","onClick"],lee=["value","background","tooltipPosition"],cee=["id"],uee=["onMouseEnter","onClick","onMouseLeave"];function Ki(){return Ki=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ki.apply(null,arguments)}function mC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mC(Object(r),!0).forEach(function(n){dee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dee(e,t,r){return(t=fee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fee(e){var t=hee(e,"string");return typeof t=="symbol"?t:t+""}function hee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wm(e,t){if(e==null)return{};var r,n,i=mee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function mee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var pee=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:n,value:Sp(r,t),payload:e}]},gee=w.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:s,hide:c,unit:d,tooltipType:f}=e,h={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:Sp(s,t),hide:c,type:f,color:i,unit:d}};return w.createElement(M4,{tooltipEntrySettings:h})});function yee(e){var t=qe(Go),{data:r,dataKey:n,background:i,allOtherBarProps:s}=e,{onMouseEnter:c,onMouseLeave:d,onClick:f}=s,h=Wm(s,oee),p=ij(c,n),g=sj(d),v=oj(f,n);if(!i||r==null)return null;var x=nd(i);return w.createElement(Ka,{zIndex:qJ(i,fn.barBackground)},r.map((j,_)=>{var{value:N,background:S,tooltipPosition:O}=j,A=Wm(j,lee);if(!S)return null;var P=p(j,_),D=g(j,_),T=v(j,_),R=_n(_n(_n(_n(_n({option:i,isActive:String(_)===t},A),{},{fill:"#eee"},S),x),Cd(h,j,_)),{},{onMouseEnter:P,onMouseLeave:D,onClick:T,dataKey:n,index:_,className:"recharts-bar-background-rectangle"});return w.createElement(Km,Ki({key:"background-bar-".concat(_)},R))}))}function vee(e){var{showLabels:t,children:r,rects:n}=e,i=n==null?void 0:n.map(s=>{var c={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return _n(_n({},c),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:c,fill:s.fill})});return w.createElement(LZ,{value:t?i:void 0},r)}function xee(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:s,dataKey:c}=e,d=qe(Go),f=qe(i4),h=r&&String(s)===d&&(f==null||c===f),p=h?r:t;return h?w.createElement(Ka,{zIndex:fn.activeBar},w.createElement(Km,Ki({},n,{name:String(n.name)},i,{isActive:h,option:p,index:s,dataKey:c}))):w.createElement(Km,Ki({},n,{name:String(n.name)},i,{isActive:h,option:p,index:s,dataKey:c}))}function bee(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:s}=e;return w.createElement(Km,Ki({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:i,dataKey:s}))}function wee(e){var t,{data:r,props:n}=e,i=(t=Fa(n))!==null&&t!==void 0?t:{},{id:s}=i,c=Wm(i,cee),{shape:d,dataKey:f,activeBar:h}=n,{onMouseEnter:p,onClick:g,onMouseLeave:v}=n,x=Wm(n,uee),j=ij(p,f),_=sj(v),N=oj(g,f);return r?w.createElement(w.Fragment,null,r.map((S,O)=>w.createElement(Sn,Ki({key:"rectangle-".concat(S==null?void 0:S.x,"-").concat(S==null?void 0:S.y,"-").concat(S==null?void 0:S.value,"-").concat(O),className:"recharts-bar-rectangle"},Cd(x,S,O),{onMouseEnter:j(S,O),onMouseLeave:_(S,O),onClick:N(S,O)}),h?w.createElement(xee,{shape:d,activeBar:h,baseProps:c,entry:S,index:O,dataKey:f}):w.createElement(bee,{shape:d,baseProps:c,entry:S,index:O,dataKey:f})))):null}function jee(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:s,animationBegin:c,animationDuration:d,animationEasing:f,onAnimationEnd:h,onAnimationStart:p}=t,g=r.current,v=Lp(t,"recharts-bar-"),[x,j]=w.useState(!1),_=!x,N=w.useCallback(()=>{typeof h=="function"&&h(),j(!1)},[h]),S=w.useCallback(()=>{typeof p=="function"&&p(),j(!0)},[p]);return w.createElement(vee,{showLabels:_,rects:n},w.createElement(Ip,{animationId:v,begin:c,duration:d,isActive:s,easing:f,onAnimationEnd:N,onAnimationStart:S,key:v},O=>{var A=O===1?n:n==null?void 0:n.map((P,D)=>{var T=g&&g[D];if(T)return _n(_n({},P),{},{x:zr(T.x,P.x,O),y:zr(T.y,P.y,O),width:zr(T.width,P.width,O),height:zr(T.height,P.height,O)});if(i==="horizontal"){var R=zr(0,P.height,O),q=zr(P.stackedBarStart,P.y,O);return _n(_n({},P),{},{y:q,height:R})}var Y=zr(0,P.width,O),G=zr(P.stackedBarStart,P.x,O);return _n(_n({},P),{},{width:Y,x:G})});return O>0&&(r.current=A??null),A==null?null:w.createElement(Sn,null,w.createElement(wee,{props:t,data:A}))}),w.createElement(O4,{label:t.label}),t.children)}function _ee(e){var t=w.useRef(null);return w.createElement(jee,{previousRectanglesRef:t,props:e})}var V4=0,Nee=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:tr(e,t)}};class See extends w.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:s,yAxisId:c,needClip:d,background:f,id:h}=this.props;if(t||r==null)return null;var p=kt("recharts-bar",i),g=h;return w.createElement(Sn,{className:p,id:h},d&&w.createElement("defs",null,w.createElement(BJ,{clipPathId:g,xAxisId:s,yAxisId:c})),w.createElement(Sn,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(g,")"):void 0},w.createElement(yee,{data:r,dataKey:n,background:f,allOtherBarProps:this.props}),w.createElement(_ee,this.props)))}}var Eee={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:V4,xAxisId:0,yAxisId:0,zIndex:fn.bar};function Aee(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:c,animationBegin:d,animationDuration:f,animationEasing:h,isAnimationActive:p}=e,{needClip:g}=q4(t,r),v=Pp(),x=$n(),j=aj(e.children,Fs),_=qe(O=>tte(O,t,r,x,e.id,j));if(v!=="vertical"&&v!=="horizontal")return null;var N,S=_==null?void 0:_[0];return S==null||S.height==null||S.width==null?N=0:N=v==="vertical"?S.height/2:S.width/2,w.createElement($J,{xAxisId:t,yAxisId:r,data:_,dataPointFormatter:Nee,errorBarOffset:N},w.createElement(See,Ki({},e,{layout:v,needClip:g,data:_,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:c,animationBegin:d,animationDuration:f,animationEasing:h,isAnimationActive:p})))}function Oee(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:s,xAxis:c,yAxis:d,xAxisTicks:f,yAxisTicks:h,stackedData:p,displayedData:g,offset:v,cells:x,parentViewBox:j,dataStartIndex:_}=e,N=t==="horizontal"?d:c,S=p?N.scale.domain():null,O=l9({numericAxis:N}),A=N.scale(O);return g.map((P,D)=>{var T,R,q,Y,G,U;p?T=r9(p[D+_],S):(T=tr(P,r),Array.isArray(T)||(T=[O,T]));var z=DJ(n,V4)(T[1],D);if(t==="horizontal"){var J,[B,K]=[d.scale(T[0]),d.scale(T[1])];R=k2({axis:c,ticks:f,bandSize:s,offset:i.offset,entry:P,index:D}),q=(J=K??B)!==null&&J!==void 0?J:void 0,Y=i.size;var M=B-K;if(G=Ga(M)?0:M,U={x:R,y:v.top,width:Y,height:v.height},Math.abs(z)>0&&Math.abs(G)<Math.abs(z)){var H=Zr(G||z)*(Math.abs(z)-Math.abs(G));q-=H,G+=H}}else{var[re,be]=[c.scale(T[0]),c.scale(T[1])];if(R=re,q=k2({axis:d,ticks:h,bandSize:s,offset:i.offset,entry:P,index:D}),Y=be-re,G=i.size,U={x:v.left,y:q,width:v.width,height:G},Math.abs(z)>0&&Math.abs(Y)<Math.abs(z)){var Se=Zr(Y||z)*(Math.abs(z)-Math.abs(Y));Y+=Se}}if(R==null||q==null||Y==null||G==null)return null;var L=_n(_n({},P),{},{stackedBarStart:A,x:R,y:q,width:Y,height:G,value:p?T:T[1],payload:P,background:U,tooltipPosition:{x:R+Y/2,y:q+G/2},parentViewBox:j},x&&x[D]&&x[D].props);return L}).filter(Boolean)}function Tee(e){var t=Jr(e,Eee),r=$n();return w.createElement(L4,{id:t.id,type:"bar"},n=>w.createElement(w.Fragment,null,w.createElement(_Q,{legendPayload:pee(t)}),w.createElement(gee,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),w.createElement(IQ,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:o9(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),w.createElement(Ka,{zIndex:t.zIndex},w.createElement(Aee,Ki({},t,{id:n})))))}var ag=w.memo(Tee,cj);ag.displayName="Bar";function pC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $h(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pC(Object(r),!0).forEach(function(n){Cee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cee(e,t,r){return(t=Pee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pee(e){var t=Dee(e,"string");return typeof t=="symbol"?t:t+""}function Dee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kee=(e,t)=>t,Ree=(e,t,r)=>r,Mee=(e,t,r,n)=>n,Iee=(e,t,r,n,i)=>i,Yd=ie([E1,Iee],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),Lee=ie([Yd],e=>e==null?void 0:e.maxBarSize),zee=(e,t,r,n,i,s)=>s,gC=(e,t,r)=>{var n=r??e;if(!Qr(n))return xn(n,t,0)},Uee=ie([St,E1,kee,Ree,Mee],(e,t,r,n,i)=>t.filter(s=>e==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),$ee=(e,t,r,n)=>{var i=St(e);return i==="horizontal"?kb(e,"yAxis",r,n):kb(e,"xAxis",t,n)},Bee=(e,t,r)=>{var n=St(e);return n==="horizontal"?fT(e,"xAxis",t):fT(e,"yAxis",r)},qee=(e,t,r)=>{var n={},i=e.filter(Hp),s=e.filter(h=>h.stackId==null),c=i.reduce((h,p)=>(h[p.stackId]||(h[p.stackId]=[]),h[p.stackId].push(p),h),n),d=Object.entries(c).map(h=>{var[p,g]=h,v=g.map(j=>j.dataKey),x=gC(t,r,g[0].barSize);return{stackId:p,dataKeys:v,barSize:x}}),f=s.map(h=>{var p=[h.dataKey].filter(v=>v!=null),g=gC(t,r,h.barSize);return{stackId:void 0,dataKeys:p,barSize:g}});return[...d,...f]},Vee=ie([Uee,NK,Bee],qee),Fee=(e,t,r,n,i)=>{var s,c,d=Yd(e,t,r,n,i);if(d!=null){var f=St(e),h=sM(e),{maxBarSize:p}=d,g=Qr(p)?h:p,v,x;return f==="horizontal"?(v=hc(e,"xAxis",t,n),x=fc(e,"xAxis",t,n)):(v=hc(e,"yAxis",r,n),x=fc(e,"yAxis",r,n)),(s=(c=wm(v,x,!0))!==null&&c!==void 0?c:g)!==null&&s!==void 0?s:0}},F4=(e,t,r,n)=>{var i=St(e),s,c;return i==="horizontal"?(s=hc(e,"xAxis",t,n),c=fc(e,"xAxis",t,n)):(s=hc(e,"yAxis",r,n),c=fc(e,"yAxis",r,n)),wm(s,c)};function Gee(e,t,r,n,i){var s=n.length;if(!(s<1)){var c=xn(e,r,0,!0),d,f=[];if(br(n[0].barSize)){var h=!1,p=r/s,g=n.reduce((S,O)=>S+(O.barSize||0),0);g+=(s-1)*c,g>=r&&(g-=(s-1)*c,c=0),g>=r&&p>0&&(h=!0,p*=.9,g=s*p);var v=(r-g)/2>>0,x={offset:v-c,size:0};d=n.reduce((S,O)=>{var A,P={stackId:O.stackId,dataKeys:O.dataKeys,position:{offset:x.offset+x.size+c,size:h?p:(A=O.barSize)!==null&&A!==void 0?A:0}},D=[...S,P];return x=D[D.length-1].position,D},f)}else{var j=xn(t,r,0,!0);r-2*j-(s-1)*c<=0&&(c=0);var _=(r-2*j-(s-1)*c)/s;_>1&&(_>>=0);var N=br(i)?Math.min(_,i):_;d=n.reduce((S,O,A)=>[...S,{stackId:O.stackId,dataKeys:O.dataKeys,position:{offset:j+(_+c)*A+(_-N)/2,size:N}}],f)}return d}}var Hee=(e,t,r,n,i,s,c)=>{var d=Qr(c)?t:c,f=Gee(r,n,i!==s?i:s,e,d);return i!==s&&f!=null&&(f=f.map(h=>$h($h({},h),{},{position:$h($h({},h.position),{},{offset:h.position.offset-i/2})}))),f},Kee=ie([Vee,sM,_K,oM,Fee,F4,Lee],Hee),Wee=(e,t,r,n)=>hc(e,"xAxis",t,n),Yee=(e,t,r,n)=>hc(e,"yAxis",r,n),Xee=(e,t,r,n)=>fc(e,"xAxis",t,n),Zee=(e,t,r,n)=>fc(e,"yAxis",r,n),Qee=ie([Kee,Yd],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),Jee=(e,t)=>{var r=_1(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:s}=i;if(s)return s.find(c=>c.key===r)}}}},ete=ie([$ee,Yd],Jee),tte=ie([Br,Lw,Wee,Yee,Xee,Zee,Qee,St,m1,F4,ete,Yd,zee],(e,t,r,n,i,s,c,d,f,h,p,g,v)=>{var{chartData:x,dataStartIndex:j,dataEndIndex:_}=f;if(!(g==null||c==null||t==null||d!=="horizontal"&&d!=="vertical"||r==null||n==null||i==null||s==null||h==null)){var{data:N}=g,S;if(N!=null&&N.length>0?S=N:S=x==null?void 0:x.slice(j,_+1),S!=null)return Oee({layout:d,barSettings:g,pos:c,parentViewBox:t,bandSize:h,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:s,stackedData:p,displayedData:S,offset:e,cells:v,dataStartIndex:j})}}),G4=e=>{var{chartData:t}=e,r=Ht(),n=$n();return w.useEffect(()=>n?()=>{}:(r(ST(t)),()=>{r(ST(void 0))}),[t,r,n]),null},yC={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},H4=Un({name:"brush",initialState:yC,reducers:{setBrushSettings(e,t){return t.payload==null?yC:t.payload}}}),{setBrushSettings:Ple}=H4.actions,rte=H4.reducer;function nte(e,t,r){return(t=ate(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ate(e){var t=ite(e,"string");return typeof t=="symbol"?t:t+""}function ite(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class uj{static create(t){return new uj(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(r){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+c}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}nte(uj,"EPS",1e-4);function ste(e){return(e%180+180)%180}var ote=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=ste(i),c=s*Math.PI/180,d=Math.atan(n/r),f=c>d&&c<Math.PI-d?n/Math.sin(c):r/Math.cos(c);return Math.abs(f)},lte={dots:[],areas:[],lines:[]},K4=Un({name:"referenceElements",initialState:lte,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=qa(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=qa(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=qa(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Dle,removeDot:kle,addArea:Rle,removeArea:Mle,addLine:Ile,removeLine:Lle}=K4.actions,cte=K4.reducer,ute=w.createContext(void 0),dte=e=>{var{children:t}=e,[r]=w.useState("".concat(ad("recharts"),"-clip")),n=$4();if(n==null)return null;var{x:i,y:s,width:c,height:d}=n;return w.createElement(ute.Provider,{value:r},w.createElement("defs",null,w.createElement("clipPath",{id:r},w.createElement("rect",{x:i,y:s,height:d,width:c}))),t)};function W4(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function fte(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return ote(n,r)}function hte(e,t,r){var n=r==="width",{x:i,y:s,width:c,height:d}=e;return t===1?{start:n?i:s,end:n?i+c:s+d}:{start:n?i+c:s+d,end:n?i:s}}function Ym(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-i)<=0}function mte(e,t){return W4(e,t+1)}function pte(e,t,r,n,i){for(var s=(n||[]).slice(),{start:c,end:d}=t,f=0,h=1,p=c,g=function(){var j=n==null?void 0:n[f];if(j===void 0)return{v:W4(n,h)};var _=f,N,S=()=>(N===void 0&&(N=r(j,_)),N),O=j.coordinate,A=f===0||Ym(e,O,S,p,d);A||(f=0,p=c,h+=1),A&&(p=O+e*(S()/2+i),f+=h)},v;h<=s.length;)if(v=g(),v)return v.v;return[]}function vC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vC(Object(r),!0).forEach(function(n){gte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gte(e,t,r){return(t=yte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yte(e){var t=vte(e,"string");return typeof t=="symbol"?t:t+""}function vte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xte(e,t,r,n,i){for(var s=(n||[]).slice(),c=s.length,{start:d}=t,{end:f}=t,h=function(v){var x=s[v],j,_=()=>(j===void 0&&(j=r(x,v)),j);if(v===c-1){var N=e*(x.coordinate+e*_()/2-f);s[v]=x=pn(pn({},x),{},{tickCoord:N>0?x.coordinate-N*e:x.coordinate})}else s[v]=x=pn(pn({},x),{},{tickCoord:x.coordinate});if(x.tickCoord!=null){var S=Ym(e,x.tickCoord,_,d,f);S&&(f=x.tickCoord-e*(_()/2+i),s[v]=pn(pn({},x),{},{isShow:!0}))}},p=c-1;p>=0;p--)h(p);return s}function bte(e,t,r,n,i,s){var c=(n||[]).slice(),d=c.length,{start:f,end:h}=t;if(s){var p=n[d-1],g=r(p,d-1),v=e*(p.coordinate+e*g/2-h);if(c[d-1]=p=pn(pn({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate}),p.tickCoord!=null){var x=Ym(e,p.tickCoord,()=>g,f,h);x&&(h=p.tickCoord-e*(g/2+i),c[d-1]=pn(pn({},p),{},{isShow:!0}))}}for(var j=s?d-1:d,_=function(O){var A=c[O],P,D=()=>(P===void 0&&(P=r(A,O)),P);if(O===0){var T=e*(A.coordinate-e*D()/2-f);c[O]=A=pn(pn({},A),{},{tickCoord:T<0?A.coordinate-T*e:A.coordinate})}else c[O]=A=pn(pn({},A),{},{tickCoord:A.coordinate});if(A.tickCoord!=null){var R=Ym(e,A.tickCoord,D,f,h);R&&(f=A.tickCoord+e*(D()/2+i),c[O]=pn(pn({},A),{},{isShow:!0}))}},N=0;N<j;N++)_(N);return c}function dj(e,t,r){var{tick:n,ticks:i,viewBox:s,minTickGap:c,orientation:d,interval:f,tickFormatter:h,unit:p,angle:g}=e;if(!i||!i.length||!n)return[];if(Fe(f)||Yo.isSsr){var v;return(v=mte(i,Fe(f)?f:0))!==null&&v!==void 0?v:[]}var x=[],j=d==="top"||d==="bottom"?"width":"height",_=p&&j==="width"?Fu(p,{fontSize:t,letterSpacing:r}):{width:0,height:0},N=(A,P)=>{var D=typeof h=="function"?h(A.value,P):A.value;return j==="width"?fte(Fu(D,{fontSize:t,letterSpacing:r}),_,g):Fu(D,{fontSize:t,letterSpacing:r})[j]},S=i.length>=2?Zr(i[1].coordinate-i[0].coordinate):1,O=hte(s,S,j);return f==="equidistantPreserveStart"?pte(S,O,N,i,c):(f==="preserveStart"||f==="preserveStartEnd"?x=bte(S,O,N,i,c,f==="preserveStartEnd"):x=xte(S,O,N,i,c),x.filter(A=>A.isShow))}var wte=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:s=0}=e,c=0;if(t){Array.from(t).forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>c&&(c=g.width)}});var d=r?r.getBoundingClientRect().width:0,f=i+s,h=c+f+d+(r?n:0);return Math.round(h)}return 0},jte=["axisLine","width","height","className","hide","ticks","axisType"];function _te(e,t){if(e==null)return{};var r,n,i=Nte(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Nte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ho(){return Ho=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ho.apply(null,arguments)}function xC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Or(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xC(Object(r),!0).forEach(function(n){Ste(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ste(e,t,r){return(t=Ete(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ete(e){var t=Ate(e,"string");return typeof t=="symbol"?t:t+""}function Ate(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Li={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:fn.axis};function Ote(e){var{x:t,y:r,width:n,height:i,orientation:s,mirror:c,axisLine:d,otherSvgProps:f}=e;if(!d)return null;var h=Or(Or(Or({},f),Fa(d)),{},{fill:"none"});if(s==="top"||s==="bottom"){var p=+(s==="top"&&!c||s==="bottom"&&c);h=Or(Or({},h),{},{x1:t,y1:r+p*i,x2:t+n,y2:r+p*i})}else{var g=+(s==="left"&&!c||s==="right"&&c);h=Or(Or({},h),{},{x1:t+g*n,y1:r,x2:t+g*n,y2:r+i})}return w.createElement("line",Ho({},h,{className:kt("recharts-cartesian-axis-line",Bo(d,"className"))}))}function Tte(e,t,r,n,i,s,c,d,f){var h,p,g,v,x,j,_=d?-1:1,N=e.tickSize||c,S=Fe(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":h=p=e.coordinate,v=r+ +!d*i,g=v-_*N,j=g-_*f,x=S;break;case"left":g=v=e.coordinate,p=t+ +!d*n,h=p-_*N,x=h-_*f,j=S;break;case"right":g=v=e.coordinate,p=t+ +d*n,h=p+_*N,x=h+_*f,j=S;break;default:h=p=e.coordinate,v=r+ +d*i,g=v+_*N,j=g+_*f,x=S;break}return{line:{x1:h,y1:g,x2:p,y2:v},tick:{x,y:j}}}function Cte(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Pte(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Dte(e){var{option:t,tickProps:r,value:n}=e,i,s=kt(r.className,"recharts-cartesian-axis-tick-value");if(w.isValidElement(t))i=w.cloneElement(t,Or(Or({},r),{},{className:s}));else if(typeof t=="function")i=t(Or(Or({},r),{},{className:s}));else{var c="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(c=kt(c,t==null?void 0:t.className)),i=w.createElement(eg,Ho({},r,{className:c}),n)}return i}var kte=w.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:s,tickFormatter:c,unit:d,padding:f,tickTextProps:h,orientation:p,mirror:g,x:v,y:x,width:j,height:_,tickSize:N,tickMargin:S,fontSize:O,letterSpacing:A,getTicksConfig:P,events:D,axisType:T}=e,R=dj(Or(Or({},P),{},{ticks:r}),O,A),q=Cte(p,g),Y=Pte(p,g),G=Fa(P),U=nd(n),z={};typeof i=="object"&&(z=i);var J=Or(Or({},G),{},{fill:"none"},z),B=R.map(H=>Or({entry:H},Tte(H,v,x,j,_,p,N,g,S))),K=B.map(H=>{var{entry:re,line:be}=H;return w.createElement(Sn,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(re.value,"-").concat(re.coordinate,"-").concat(re.tickCoord)},i&&w.createElement("line",Ho({},J,be,{className:kt("recharts-cartesian-axis-tick-line",Bo(i,"className"))})))}),M=B.map((H,re)=>{var{entry:be,tick:Se}=H,L=Or(Or(Or(Or({textAnchor:q,verticalAnchor:Y},G),{},{stroke:"none",fill:s},U),Se),{},{index:re,payload:be,visibleTicksCount:R.length,tickFormatter:c,padding:f},h);return w.createElement(Sn,Ho({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(be.value,"-").concat(be.coordinate,"-").concat(be.tickCoord)},Cd(D,be,re)),n&&w.createElement(Dte,{option:n,tickProps:L,value:"".concat(typeof c=="function"?c(be.value,re):be.value).concat(d||"")}))});return w.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(T,"-ticks")},M.length>0&&w.createElement(Ka,{zIndex:fn.label},w.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(T,"-tick-labels"),ref:t},M)),K.length>0&&w.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(T,"-tick-lines")},K))}),Rte=w.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:s,hide:c,ticks:d,axisType:f}=e,h=_te(e,jte),[p,g]=w.useState(""),[v,x]=w.useState(""),j=w.useRef(null);w.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var N;return wte({ticks:j.current,label:(N=e.labelRef)===null||N===void 0?void 0:N.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var _=w.useCallback(N=>{if(N){var S=N.getElementsByClassName("recharts-cartesian-axis-tick-value");j.current=S;var O=S[0];if(O){var A=window.getComputedStyle(O),P=A.fontSize,D=A.letterSpacing;(P!==p||D!==v)&&(g(P),x(D))}}},[p,v]);return c||n!=null&&n<=0||i!=null&&i<=0?null:w.createElement(Ka,{zIndex:e.zIndex},w.createElement(Sn,{className:kt("recharts-cartesian-axis",s)},w.createElement(Ote,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Fa(e)}),w.createElement(kte,{ref:_,axisType:f,events:h,fontSize:p,getTicksConfig:e,height:e.height,letterSpacing:v,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:d,unit:e.unit,width:e.width,x:e.x,y:e.y}),w.createElement(gZ,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},w.createElement(EZ,{label:e.label,labelRef:e.labelRef}),e.children)))}),fj=w.forwardRef((e,t)=>{var r=Jr(e,Li);return w.createElement(Rte,Ho({},r,{ref:t}))});fj.displayName="CartesianAxis";var Mte=["x1","y1","x2","y2","key"],Ite=["offset"],Lte=["xAxisId","yAxisId"],zte=["xAxisId","yAxisId"];function bC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bC(Object(r),!0).forEach(function(n){Ute(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ute(e,t,r){return(t=$te(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $te(e){var t=Bte(e,"string");return typeof t=="symbol"?t:t+""}function Bte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Po(){return Po=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Po.apply(null,arguments)}function Xm(e,t){if(e==null)return{};var r,n,i=qte(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function qte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Vte=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:s,height:c,ry:d}=e;return w.createElement("rect",{x:n,y:i,ry:d,width:s,height:c,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Y4(e){var{option:t,lineItemProps:r}=e,n;if(w.isValidElement(t))n=w.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var i,{x1:s,y1:c,x2:d,y2:f,key:h}=r,p=Xm(r,Mte),g=(i=Fa(p))!==null&&i!==void 0?i:{},{offset:v}=g,x=Xm(g,Ite);n=w.createElement("line",Po({},x,{x1:s,y1:c,x2:d,y2:f,fill:"none",key:h}))}return n}function Fte(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:s,yAxisId:c}=e,d=Xm(e,Lte),f=i.map((h,p)=>{var g=yn(yn({},d),{},{x1:t,y1:h,x2:t+r,y2:h,key:"line-".concat(p),index:p});return w.createElement(Y4,{key:"line-".concat(p),option:n,lineItemProps:g})});return w.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function Gte(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:s,yAxisId:c}=e,d=Xm(e,zte),f=i.map((h,p)=>{var g=yn(yn({},d),{},{x1:h,y1:t,x2:h,y2:t+r,key:"line-".concat(p),index:p});return w.createElement(Y4,{option:n,lineItemProps:g,key:"line-".concat(p)})});return w.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function Hte(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:s,height:c,horizontalPoints:d,horizontal:f=!0}=e;if(!f||!t||!t.length||d==null)return null;var h=d.map(g=>Math.round(g+i-i)).sort((g,v)=>g-v);i!==h[0]&&h.unshift(0);var p=h.map((g,v)=>{var x=!h[v+1],j=x?i+c-g:h[v+1]-g;if(j<=0)return null;var _=v%t.length;return w.createElement("rect",{key:"react-".concat(v),y:g,x:n,height:j,width:s,stroke:"none",fill:t[_],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function Kte(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:s,width:c,height:d,verticalPoints:f}=e;if(!t||!r||!r.length)return null;var h=f.map(g=>Math.round(g+i-i)).sort((g,v)=>g-v);i!==h[0]&&h.unshift(0);var p=h.map((g,v)=>{var x=!h[v+1],j=x?i+c-g:h[v+1]-g;if(j<=0)return null;var _=v%r.length;return w.createElement("rect",{key:"react-".concat(v),x:g,y:s,width:j,height:d,stroke:"none",fill:r[_],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var Wte=(e,t)=>{var{xAxis:r,width:n,height:i,offset:s}=e;return Rk(dj(yn(yn(yn({},Li),r),{},{ticks:Mk(r),viewBox:{x:0,y:0,width:n,height:i}})),s.left,s.left+s.width,t)},Yte=(e,t)=>{var{yAxis:r,width:n,height:i,offset:s}=e;return Rk(dj(yn(yn(yn({},Li),r),{},{ticks:Mk(r),viewBox:{x:0,y:0,width:n,height:i}})),s.top,s.top+s.height,t)},Xte={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:fn.grid};function ig(e){var t=Uw(),r=$w(),n=Vk(),i=yn(yn({},Jr(e,Xte)),{},{x:Fe(e.x)?e.x:n.left,y:Fe(e.y)?e.y:n.top,width:Fe(e.width)?e.width:n.width,height:Fe(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:c,x:d,y:f,width:h,height:p,syncWithTicks:g,horizontalValues:v,verticalValues:x}=i,j=$n(),_=qe(Y=>hT(Y,"xAxis",s,j)),N=qe(Y=>hT(Y,"yAxis",c,j));if(!oi(h)||!oi(p)||!Fe(d)||!Fe(f))return null;var S=i.verticalCoordinatesGenerator||Wte,O=i.horizontalCoordinatesGenerator||Yte,{horizontalPoints:A,verticalPoints:P}=i;if((!A||!A.length)&&typeof O=="function"){var D=v&&v.length,T=O({yAxis:N?yn(yn({},N),{},{ticks:D?v:N.ticks}):void 0,width:t??h,height:r??p,offset:n},D?!0:g);jm(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(A=T)}if((!P||!P.length)&&typeof S=="function"){var R=x&&x.length,q=S({xAxis:_?yn(yn({},_),{},{ticks:R?x:_.ticks}):void 0,width:t??h,height:r??p,offset:n},R?!0:g);jm(Array.isArray(q),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof q,"]")),Array.isArray(q)&&(P=q)}return w.createElement(Ka,{zIndex:i.zIndex},w.createElement("g",{className:"recharts-cartesian-grid"},w.createElement(Vte,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),w.createElement(Hte,Po({},i,{horizontalPoints:A})),w.createElement(Kte,Po({},i,{verticalPoints:P})),w.createElement(Fte,Po({},i,{offset:n,horizontalPoints:A,xAxis:_,yAxis:N})),w.createElement(Gte,Po({},i,{offset:n,verticalPoints:P,xAxis:_,yAxis:N}))))}ig.displayName="CartesianGrid";var Zte=["domain","range"],Qte=["domain","range"];function wC(e,t){if(e==null)return{};var r,n,i=Jte(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Jte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function jC(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function X4(e,t){if(e===t)return!0;var{domain:r,range:n}=e,i=wC(e,Zte),{domain:s,range:c}=t,d=wC(t,Qte);return!jC(r,s)||!jC(n,c)?!1:cj(i,d)}var ere=["dangerouslySetInnerHTML","ticks"],tre=["id"];function Bb(){return Bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bb.apply(null,arguments)}function _C(e,t){if(e==null)return{};var r,n,i=rre(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function rre(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function nre(e){var t=Ht(),r=w.useRef(null);return w.useLayoutEffect(()=>{r.current===null?t(hJ(e)):r.current!==e&&t(mJ({prev:r.current,next:e})),r.current=e},[e,t]),w.useLayoutEffect(()=>()=>{r.current&&(t(pJ(r.current)),r.current=null)},[t]),null}var are=e=>{var{xAxisId:t,className:r}=e,n=qe(Lw),i=$n(),s="xAxis",c=qe(N=>Sc(N,s,t,i)),d=qe(N=>UM(N,s,t,i)),f=qe(N=>MM(N,t)),h=qe(N=>wW(N,t)),p=qe(N=>gM(N,t));if(f==null||h==null||p==null)return null;var{dangerouslySetInnerHTML:g,ticks:v}=e,x=_C(e,ere),{id:j}=p,_=_C(p,tre);return w.createElement(fj,Bb({},x,_,{scale:c,x:h.x,y:h.y,width:f.width,height:f.height,className:kt("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:d,axisType:s}))},ire={allowDataOverflow:Kr.allowDataOverflow,allowDecimals:Kr.allowDecimals,allowDuplicatedCategory:Kr.allowDuplicatedCategory,angle:Kr.angle,axisLine:Li.axisLine,height:Kr.height,hide:!1,includeHidden:Kr.includeHidden,interval:Kr.interval,minTickGap:Kr.minTickGap,mirror:Kr.mirror,orientation:Kr.orientation,padding:Kr.padding,reversed:Kr.reversed,scale:Kr.scale,tick:Kr.tick,tickCount:Kr.tickCount,tickLine:Li.tickLine,tickSize:Li.tickSize,type:Kr.type,xAxisId:0},sre=e=>{var t=Jr(e,ire);return w.createElement(w.Fragment,null,w.createElement(nre,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),w.createElement(are,t))},sg=w.memo(sre,X4);sg.displayName="XAxis";var ore=["dangerouslySetInnerHTML","ticks"],lre=["id"];function qb(){return qb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qb.apply(null,arguments)}function NC(e,t){if(e==null)return{};var r,n,i=cre(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function cre(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ure(e){var t=Ht(),r=w.useRef(null);return w.useLayoutEffect(()=>{r.current===null?t(gJ(e)):r.current!==e&&t(yJ({prev:r.current,next:e})),r.current=e},[e,t]),w.useLayoutEffect(()=>()=>{r.current&&(t(vJ(r.current)),r.current=null)},[t]),null}var dre=e=>{var{yAxisId:t,className:r,width:n,label:i}=e,s=w.useRef(null),c=w.useRef(null),d=qe(Lw),f=$n(),h=Ht(),p="yAxis",g=qe(D=>Sc(D,p,t,f)),v=qe(D=>IM(D,t)),x=qe(D=>_W(D,t)),j=qe(D=>UM(D,p,t,f)),_=qe(D=>yM(D,t));if(w.useLayoutEffect(()=>{if(!(n!=="auto"||!v||tj(i)||w.isValidElement(i)||_==null)){var D=s.current;if(D){var T=D.getCalculatedWidth();Math.round(v.width)!==Math.round(T)&&h(xJ({id:t,width:T}))}}},[j,v,h,i,t,n,_]),v==null||x==null||_==null)return null;var{dangerouslySetInnerHTML:N,ticks:S}=e,O=NC(e,ore),{id:A}=_,P=NC(_,lre);return w.createElement(fj,qb({},O,P,{ref:s,labelRef:c,scale:g,x:x.x,y:x.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:v.width,height:v.height,className:kt("recharts-".concat(p," ").concat(p),r),viewBox:d,ticks:j,axisType:p}))},fre={allowDataOverflow:Wr.allowDataOverflow,allowDecimals:Wr.allowDecimals,allowDuplicatedCategory:Wr.allowDuplicatedCategory,angle:Wr.angle,axisLine:Li.axisLine,hide:!1,includeHidden:Wr.includeHidden,interval:Wr.interval,minTickGap:Wr.minTickGap,mirror:Wr.mirror,orientation:Wr.orientation,padding:Wr.padding,reversed:Wr.reversed,scale:Wr.scale,tick:Wr.tick,tickCount:Wr.tickCount,tickLine:Li.tickLine,tickSize:Li.tickSize,type:Wr.type,width:Wr.width,yAxisId:0},hre=e=>{var t=Jr(e,fre);return w.createElement(w.Fragment,null,w.createElement(ure,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),w.createElement(dre,t))},og=w.memo(hre,X4);og.displayName="YAxis";var mre=(e,t)=>t,hj=ie([mre,St,mM,Vr,t4,ts,LY,Br],FY),mj=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},Z4=Na("mouseClick"),Q4=kd();Q4.startListening({actionCreator:Z4,effect:(e,t)=>{var r=e.payload,n=hj(t.getState(),mj(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(LW({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Vb=Na("mouseMove"),J4=kd(),Bh=null;J4.startListening({actionCreator:Vb,effect:(e,t)=>{var r=e.payload;Bh!==null&&cancelAnimationFrame(Bh);var n=mj(r);Bh=requestAnimationFrame(()=>{var i=t.getState(),s=G1(i,i.tooltip.settings.shared);if(s==="axis"){var c=hj(i,n);(c==null?void 0:c.activeIndex)!=null?t.dispatch(KM({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):t.dispatch(HM())}Bh=null})}});var SC={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},eI=Un({name:"rootProps",initialState:SC,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:SC.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),pre=eI.reducer,{updateOptions:gre}=eI.actions,tI=Un({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:yre}=tI.actions,vre=tI.reducer,rI=Na("keyDown"),nI=Na("focus"),pj=kd();pj.startListening({actionCreator:rI,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var c=H1(i,Ac(r),Fd(r),Wd(r)),d=c==null?-1:Number(c);if(!(!Number.isFinite(d)||d<0)){var f=ts(r);if(s==="Enter"){var h=Vm(r,"axis","hover",String(i.index));t.dispatch(Mb({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:h}));return}var p=AW(r),g=p==="left-to-right"?1:-1,v=s==="ArrowRight"?1:-1,x=d+v*g;if(!(f==null||x>=f.length||x<0)){var j=Vm(r,"axis","hover",String(x));t.dispatch(Mb({active:!0,activeIndex:x.toString(),activeDataKey:void 0,activeCoordinate:j}))}}}}}});pj.startListening({actionCreator:nI,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var s="0",c=Vm(r,"axis","hover",String(s));t.dispatch(Mb({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:c}))}}}});var va=Na("externalEvent"),aI=kd(),vx=new Map;aI.startListening({actionCreator:va,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var i=n.type,s=vx.get(i);s!==void 0&&cancelAnimationFrame(s);var c=requestAnimationFrame(()=>{try{var d=t.getState(),f={activeCoordinate:jY(d),activeDataKey:i4(d),activeIndex:Go(d),activeLabel:a4(d),activeTooltipIndex:Go(d),isTooltipActive:_Y(d)};r(f,n)}finally{vx.delete(i)}});vx.set(i,c)}}});var xre=ie([Ec],e=>e.tooltipItemPayloads),bre=ie([xre,Hd,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(d=>d.settings.dataKey===n);if(i!=null){var{positions:s}=i;if(s!=null){var c=t(s,r);return c}}}),iI=Na("touchMove"),sI=kd();sI.startListening({actionCreator:iI,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),i=G1(n,n.tooltip.settings.shared);if(i==="axis"){var s=hj(n,mj({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(KM({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var c,d=r.touches[0];if(document.elementFromPoint==null)return;var f=document.elementFromPoint(d.clientX,d.clientY);if(!f||!f.getAttribute)return;var h=f.getAttribute(Lk),p=(c=f.getAttribute(zk))!==null&&c!==void 0?c:void 0,g=bre(t.getState(),h,p);t.dispatch(GM({activeDataKey:p,activeIndex:h,activeCoordinate:g}))}}}});var wre=ik({brush:rte,cartesianAxis:bJ,chartData:wX,errorBars:RJ,graphicalItems:RQ,layout:XV,legend:a7,options:gX,polarAxis:WZ,polarOptions:vre,referenceElements:cte,rootProps:pre,tooltip:zW,zIndex:aX}),jre=function(t){return wV({reducer:wre,preloadedState:t,middleware:r=>{var n;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((n="es6")!==null&&n!==void 0?n:"")}).concat([Q4.middleware,J4.middleware,pj.middleware,aI.middleware,sI.middleware])},enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(bk({type:"raf"}))},devTools:Yo.devToolsEnabled})};function oI(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=$n(),s=w.useRef(null);if(i)return r;s.current==null&&(s.current=jre(t));var c=Ow;return w.createElement(aee,{context:c,store:s.current},r)}function _re(e){var{layout:t,margin:r}=e,n=Ht(),i=$n();return w.useEffect(()=>{i||(n(KV(t)),n(HV(r)))},[n,i,t,r]),null}var lI=w.memo(_re,cj);function cI(e){var t=Ht();return w.useEffect(()=>{t(gre(e))},[t,e]),null}function EC(e){var{zIndex:t,isPanorama:r}=e,n=r?"recharts-zindex-panorama-":"recharts-zindex-",i=I4("".concat(n).concat(t)),s=Ht();return w.useLayoutEffect(()=>(s(rX({zIndex:t,elementId:i,isPanorama:r})),()=>{s(nX({zIndex:t,isPanorama:r}))}),[s,t,i,r]),w.createElement("g",{id:i})}function AC(e){var{children:t,isPanorama:r}=e,n=qe(HY);if(!n||n.length===0)return t;var i=n.filter(c=>c<0),s=n.filter(c=>c>0);return w.createElement(w.Fragment,null,i.map(c=>w.createElement(EC,{key:c,zIndex:c,isPanorama:r})),t,s.map(c=>w.createElement(EC,{key:c,zIndex:c,isPanorama:r})))}var Nre=["children"];function Sre(e,t){if(e==null)return{};var r,n,i=Ere(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Ere(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Zm(){return Zm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zm.apply(null,arguments)}var Are={width:"100%",height:"100%",display:"block"},Ore=w.forwardRef((e,t)=>{var r=Uw(),n=$w(),i=tR();if(!oi(r)||!oi(n))return null;var{children:s,otherAttributes:c,title:d,desc:f}=e,h,p;return c!=null&&(typeof c.tabIndex=="number"?h=c.tabIndex:h=i?0:void 0,typeof c.role=="string"?p=c.role:p=i?"application":void 0),w.createElement(vw,Zm({},c,{title:d,desc:f,role:p,tabIndex:h,width:r,height:n,style:Are,ref:t}),s)}),Tre=e=>{var{children:t}=e,r=qe(Tp);if(!r)return null;var{width:n,height:i,y:s,x:c}=r;return w.createElement(vw,{width:n,height:i,x:c,y:s},t)},OC=w.forwardRef((e,t)=>{var{children:r}=e,n=Sre(e,Nre),i=$n();return i?w.createElement(Tre,null,w.createElement(AC,{isPanorama:!0},r)):w.createElement(Ore,Zm({ref:t},n),w.createElement(AC,{isPanorama:!1},r))});function Cre(){var e=Ht(),[t,r]=w.useState(null),n=qe(m9);return w.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),s=i.width/t.offsetWidth;br(s)&&s!==n&&e(YV(s))}},[t,e,n]),r}function TC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pre(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TC(Object(r),!0).forEach(function(n){Dre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dre(e,t,r){return(t=kre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kre(e){var t=Rre(e,"string");return typeof t=="symbol"?t:t+""}function Rre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ko(){return Ko=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ko.apply(null,arguments)}var Mre=()=>(CX(),null);function Qm(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Ire=w.forwardRef((e,t)=>{var r,n,i=w.useRef(null),[s,c]=w.useState({containerWidth:Qm((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:Qm((n=e.style)===null||n===void 0?void 0:n.height)}),d=w.useCallback((h,p)=>{c(g=>{var v=Math.round(h),x=Math.round(p);return g.containerWidth===v&&g.containerHeight===x?g:{containerWidth:v,containerHeight:x}})},[]),f=w.useCallback(h=>{if(typeof t=="function"&&t(h),h!=null&&typeof ResizeObserver<"u"){var{width:p,height:g}=h.getBoundingClientRect();d(p,g);var v=j=>{var{width:_,height:N}=j[0].contentRect;d(_,N)},x=new ResizeObserver(v);x.observe(h),i.current=x}},[t,d]);return w.useEffect(()=>()=>{var h=i.current;h!=null&&h.disconnect()},[d]),w.createElement(w.Fragment,null,w.createElement(Dp,{width:s.containerWidth,height:s.containerHeight}),w.createElement("div",Ko({ref:f},e)))}),Lre=w.forwardRef((e,t)=>{var{width:r,height:n}=e,[i,s]=w.useState({containerWidth:Qm(r),containerHeight:Qm(n)}),c=w.useCallback((f,h)=>{s(p=>{var g=Math.round(f),v=Math.round(h);return p.containerWidth===g&&p.containerHeight===v?p:{containerWidth:g,containerHeight:v}})},[]),d=w.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null){var{width:h,height:p}=f.getBoundingClientRect();c(h,p)}},[t,c]);return w.createElement(w.Fragment,null,w.createElement(Dp,{width:i.containerWidth,height:i.containerHeight}),w.createElement("div",Ko({ref:d},e)))}),zre=w.forwardRef((e,t)=>{var{width:r,height:n}=e;return w.createElement(w.Fragment,null,w.createElement(Dp,{width:r,height:n}),w.createElement("div",Ko({ref:t},e)))}),Ure=w.forwardRef((e,t)=>{var{width:r,height:n}=e;return Bi(r)||Bi(n)?w.createElement(Lre,Ko({},e,{ref:t})):w.createElement(zre,Ko({},e,{ref:t}))});function $re(e){return e===!0?Ire:Ure}var Bre=w.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:s,onContextMenu:c,onDoubleClick:d,onMouseDown:f,onMouseEnter:h,onMouseLeave:p,onMouseMove:g,onMouseUp:v,onTouchEnd:x,onTouchMove:j,onTouchStart:_,style:N,width:S,responsive:O,dispatchTouchEvents:A=!0}=e,P=w.useRef(null),D=Ht(),[T,R]=w.useState(null),[q,Y]=w.useState(null),G=Cre(),U=zw(),z=(U==null?void 0:U.width)>0?U.width:S,J=(U==null?void 0:U.height)>0?U.height:i,B=w.useCallback($=>{G($),typeof t=="function"&&t($),R($),Y($),$!=null&&(P.current=$)},[G,t,R,Y]),K=w.useCallback($=>{D(Z4($)),D(va({handler:s,reactEvent:$}))},[D,s]),M=w.useCallback($=>{D(Vb($)),D(va({handler:h,reactEvent:$}))},[D,h]),H=w.useCallback($=>{D(HM()),D(va({handler:p,reactEvent:$}))},[D,p]),re=w.useCallback($=>{D(Vb($)),D(va({handler:g,reactEvent:$}))},[D,g]),be=w.useCallback(()=>{D(nI())},[D]),Se=w.useCallback($=>{D(rI($.key))},[D]),L=w.useCallback($=>{D(va({handler:c,reactEvent:$}))},[D,c]),ee=w.useCallback($=>{D(va({handler:d,reactEvent:$}))},[D,d]),je=w.useCallback($=>{D(va({handler:f,reactEvent:$}))},[D,f]),Ne=w.useCallback($=>{D(va({handler:v,reactEvent:$}))},[D,v]),Ie=w.useCallback($=>{D(va({handler:_,reactEvent:$}))},[D,_]),Oe=w.useCallback($=>{A&&D(iI($)),D(va({handler:j,reactEvent:$}))},[D,A,j]),ke=w.useCallback($=>{D(va({handler:x,reactEvent:$}))},[D,x]),dt=$re(O);return w.createElement(f4.Provider,{value:T},w.createElement(jD.Provider,{value:q},w.createElement(dt,{width:z??(N==null?void 0:N.width),height:J??(N==null?void 0:N.height),className:kt("recharts-wrapper",n),style:Pre({position:"relative",cursor:"default",width:z,height:J},N),onClick:K,onContextMenu:L,onDoubleClick:ee,onFocus:be,onKeyDown:Se,onMouseDown:je,onMouseEnter:M,onMouseLeave:H,onMouseMove:re,onMouseUp:Ne,onTouchEnd:ke,onTouchMove:Oe,onTouchStart:Ie,ref:B},w.createElement(Mre,null),r)))}),qre=["width","height","responsive","children","className","style","compact","title","desc"];function Vre(e,t){if(e==null)return{};var r,n,i=Fre(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Fre(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var uI=w.forwardRef((e,t)=>{var{width:r,height:n,responsive:i,children:s,className:c,style:d,compact:f,title:h,desc:p}=e,g=Vre(e,qre),v=Fa(g);return f?w.createElement(w.Fragment,null,w.createElement(Dp,{width:r,height:n}),w.createElement(OC,{otherAttributes:v,title:h,desc:p},s)):w.createElement(Bre,{className:c,style:d,width:r,height:n,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},w.createElement(OC,{otherAttributes:v,title:h,desc:p,ref:t},w.createElement(dte,null,s)))});function Fb(){return Fb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fb.apply(null,arguments)}var Gre={top:5,right:5,bottom:5,left:5},Hre={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Gre,reverseStackOrder:!1,syncMethod:"index",responsive:!1},Kre=w.forwardRef(function(t,r){var n,i=Jr(t.categoricalChartProps,Hre),{chartName:s,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:h}=t,p={chartName:s,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return w.createElement(oI,{preloadedState:{options:p},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:s},w.createElement(G4,{chartData:h.data}),w.createElement(lI,{layout:i.layout,margin:i.margin}),w.createElement(cI,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),w.createElement(uI,Fb({},i,{ref:r})))}),Wre=["axis","item"],gj=w.forwardRef((e,t)=>w.createElement(Kre,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Wre,tooltipPayloadSearcher:h4,categoricalChartProps:e,ref:t}));function Yre(e){var t=Ht();return w.useEffect(()=>{t(yre(e))},[t,e]),null}var Xre=["layout"];function Gb(){return Gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gb.apply(null,arguments)}function Zre(e,t){if(e==null)return{};var r,n,i=Qre(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Qre(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Jre={top:5,right:5,bottom:5,left:5},ene={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Jre,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},tne=w.forwardRef(function(t,r){var n,i=Jr(t.categoricalChartProps,ene),{layout:s}=i,c=Zre(i,Xre),{chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p}=t,g={chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,eventEmitter:void 0};return w.createElement(oI,{preloadedState:{options:g},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:d},w.createElement(G4,{chartData:i.data}),w.createElement(lI,{layout:s,margin:i.margin}),w.createElement(cI,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),w.createElement(Yre,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),w.createElement(uI,Gb({},c,{ref:r})))}),rne=["item"],nne={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},dI=w.forwardRef((e,t)=>{var r=Jr(e,nne);return w.createElement(tne,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:rne,tooltipPayloadSearcher:h4,categoricalChartProps:r,ref:t})});const CC=({onNavigate:e})=>{var B;const{inventory:t,requisitions:r,items:n,locations:i,currentUser:s,selectedDepartmentId:c,isAdminOrGM:d,transactions:f,accountingEntries:h,performanceRecords:p,allUsers:g,getItemName:v,getLocationName:x,hasPermission:j}=$r(),[_,N]=w.useState(!1),[S,O]=w.useState(new Date().toISOString().split("T")[0]),A=c||(d?null:s==null?void 0:s.locationId),T=(A?i.filter(K=>K.id===A||K.parentId===A):i).map(K=>K.id),R=t.filter(K=>T.includes(K.locationId)),q=r.filter(K=>T.includes(K.sourceLocationId)||T.includes(K.targetLocationId)),Y=n.map(K=>{const M=R.filter(H=>H.itemId===K.id).reduce((H,re)=>H+re.quantity,0);return{name:K.name.split(" ")[0],total:M,fullName:K.name}}),G=q.filter(K=>K.status==="PENDING").length,U=q.filter(K=>K.status==="IN_TRANSIT").length,z=w.useMemo(()=>{const K=S,M=f.filter(Oe=>Oe.date.startsWith(K)),H=M.filter(Oe=>Oe.type===La.SALE),re=M.filter(Oe=>Oe.type===La.EXPENSE),be=H.reduce((Oe,ke)=>Oe+ke.amount,0),Se=re.reduce((Oe,ke)=>Oe+ke.amount,0),L=h.filter(Oe=>Oe.date.startsWith(K)),ee=L.reduce((Oe,ke)=>Oe+ke.totalValue,0),je=r.filter(Oe=>Oe.updatedAt.startsWith(K)),Ie=p.filter(Oe=>Oe.date===K&&Oe.status===ut.ABSENT).map(Oe=>g.find(ke=>ke.id===Oe.workerId)).filter(Boolean);return{sales:H,expenses:re,purchases:L,movements:je,absentWorkers:Ie,totalSales:be,totalExpenses:Se,totalPurchasesValue:ee}},[S,f,h,r,p,g]),J=K=>new Intl.NumberFormat("pt-MZ",{style:"currency",currency:"MZN"}).format(K);return l.jsxs("div",{className:"space-y-6 pb-20 md:pb-0",children:[e&&l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4",children:[l.jsxs("button",{onClick:()=>e("requisitions"),className:"bg-white p-3 md:p-4 rounded-xl shadow-sm border border-gray-100 hover:shadow-md hover:border-blue-200 transition-all text-left group active:scale-95",children:[l.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 bg-blue-50 text-blue-600 rounded-lg flex items-center justify-center mb-2 md:mb-3 group-hover:bg-blue-600 group-hover:text-black transition-colors",children:l.jsx(Ci,{size:18})}),l.jsx("h4",{className:"font-black text-slate-900 text-sm md:text-base",children:"Requisies"}),l.jsx("p",{className:"text-[10px] md:text-xs text-slate-500 mt-1 font-bold line-clamp-1",children:"Gerenciar pedidos"})]}),l.jsxs("button",{onClick:()=>e("inventory"),className:"bg-white p-3 md:p-4 rounded-xl shadow-sm border border-gray-100 hover:shadow-md hover:border-emerald-200 transition-all text-left group active:scale-95",children:[l.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 bg-emerald-50 text-emerald-600 rounded-lg flex items-center justify-center mb-2 md:mb-3 group-hover:bg-emerald-600 group-hover:text-black transition-colors",children:l.jsx(hw,{size:18})}),l.jsx("h4",{className:"font-black text-slate-900 text-sm md:text-base",children:"Estoque"}),l.jsx("p",{className:"text-[10px] md:text-xs text-slate-500 mt-1 font-bold line-clamp-1",children:"Visualizar e adicionar"})]}),l.jsxs("button",{onClick:()=>e("performance"),className:"bg-white p-3 md:p-4 rounded-xl shadow-sm border border-gray-100 hover:shadow-md hover:border-purple-200 transition-all text-left group active:scale-95",children:[l.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 bg-purple-50 text-purple-600 rounded-lg flex items-center justify-center mb-2 md:mb-3 group-hover:bg-purple-600 group-hover:text-black transition-colors",children:l.jsx(Vx,{size:18})}),l.jsx("h4",{className:"font-black text-slate-900 text-sm md:text-base",children:"Desempenho"}),l.jsx("p",{className:"text-[10px] md:text-xs text-slate-500 mt-1 font-bold line-clamp-1",children:"RH e Produtividade"})]}),j("VIEW_REPORTS")&&l.jsxs("button",{onClick:()=>N(!0),className:"bg-white p-3 md:p-4 rounded-xl shadow-sm border border-gray-100 hover:shadow-md hover:border-orange-200 transition-all text-left group active:scale-95",children:[l.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 bg-orange-50 text-orange-600 rounded-lg flex items-center justify-center mb-2 md:mb-3 group-hover:bg-orange-600 group-hover:text-black transition-colors",children:l.jsx(Va,{size:18})}),l.jsx("h4",{className:"font-black text-slate-900 text-sm md:text-base",children:"Relatrios"}),l.jsx("p",{className:"text-[10px] md:text-xs text-slate-500 mt-1 font-bold line-clamp-1",children:"Viso Diria"})]})]}),A&&l.jsxs("div",{className:"bg-emerald-50 border border-emerald-100 p-3 md:p-4 rounded-xl flex items-center gap-3 text-emerald-950",children:[l.jsx("div",{className:"bg-emerald-100 p-2 rounded-lg",children:l.jsx($i,{size:18,className:"text-emerald-700"})}),l.jsxs("div",{children:[l.jsxs("h3",{className:"font-black text-sm md:text-base",children:["Visualizando: ",(B=i.find(K=>K.id===A))==null?void 0:B.name]}),l.jsx("p",{className:"text-[10px] md:text-xs text-emerald-700 font-bold",children:"Dados filtrados para este departamento."})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6",children:[l.jsxs("div",{className:"bg-white p-4 md:p-6 rounded-xl shadow-sm border border-gray-100 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs md:text-sm text-slate-500 font-black uppercase tracking-tighter",children:"Req. Pendentes"}),l.jsx("h3",{className:"text-2xl md:text-3xl font-black text-slate-950 mt-1",children:G})]}),l.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-yellow-100 text-yellow-700 rounded-full flex items-center justify-center shadow-inner",children:l.jsx(KU,{size:20})})]}),l.jsxs("div",{className:"bg-white p-4 md:p-6 rounded-xl shadow-sm border border-gray-100 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs md:text-sm text-slate-500 font-black uppercase tracking-tighter",children:"Em Trnsito"}),l.jsx("h3",{className:"text-2xl md:text-3xl font-black text-slate-950 mt-1",children:U})]}),l.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-blue-100 text-blue-700 rounded-full flex items-center justify-center shadow-inner",children:l.jsx(Ad,{size:20})})]}),l.jsxs("div",{className:"bg-white p-4 md:p-6 rounded-xl shadow-sm border border-gray-100 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs md:text-sm text-slate-500 font-black uppercase tracking-tighter",children:"Tipos em Estoque"}),l.jsx("h3",{className:"text-2xl md:text-3xl font-black text-slate-950 mt-1",children:n.length})]}),l.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-emerald-100 text-emerald-700 rounded-full flex items-center justify-center shadow-inner",children:l.jsx(h$,{size:20})})]})]}),l.jsx("div",{className:"grid grid-cols-1 gap-6",children:l.jsxs("div",{className:"bg-white p-4 md:p-6 rounded-xl shadow-sm border border-gray-200 h-80 md:h-96",children:[l.jsx("h3",{className:"text-base md:text-lg font-black text-slate-900 mb-4 uppercase tracking-widest text-center",children:"Nveis de Estoque"}),l.jsx(ld,{width:"100%",height:"100%",children:l.jsxs(gj,{data:Y,children:[l.jsx(ig,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0"}),l.jsx(sg,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:10,fontWeight:900,fill:"#0f172a"},interval:0}),l.jsx(og,{axisLine:!1,tickLine:!1,tick:{fontSize:10,fontWeight:900,fill:"#0f172a"}}),l.jsx(xd,{}),l.jsx(ag,{dataKey:"total",fill:"#3b82f6",radius:[4,4,0,0],children:Y.map((K,M)=>l.jsx(Fs,{fill:K.total<5?"#ef4444":"#10b981"},`cell-${M}`))})]})})]})}),_&&l.jsx("div",{className:"fixed inset-0 bg-black/40 z-50 flex items-end md:items-center justify-center p-0 md:p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white w-full md:max-w-5xl h-[90vh] md:h-auto md:max-h-[90vh] rounded-t-2xl md:rounded-2xl shadow-2xl flex flex-col overflow-hidden animate-in slide-in-from-bottom-10 md:zoom-in duration-200 border border-slate-200",children:[l.jsxs("div",{className:"bg-slate-50 text-slate-950 p-4 md:p-6 shrink-0 flex justify-between items-start border-b border-slate-200",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-xl md:text-2xl font-black flex items-center gap-2",children:[l.jsx(Va,{size:24,className:"text-orange-500"}),"Relatrio Dirio"]}),l.jsx("div",{className:"flex flex-col md:flex-row md:items-center gap-2 md:gap-4 mt-2",children:l.jsxs("div",{className:"flex items-center gap-2 bg-slate-100 px-3 py-1.5 rounded-lg border border-slate-200 w-fit",children:[l.jsx(Ed,{size:16,className:"text-slate-500"}),l.jsx("input",{type:"date",value:S,onChange:K=>O(K.target.value),"aria-label":"Data do Relatrio",className:"bg-transparent text-slate-950 text-sm outline-none cursor-pointer font-black"})]})})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{className:"p-2 text-slate-500 hover:text-slate-950 hover:bg-slate-100 rounded-xl transition-all hidden md:block",title:"Imprimir",children:l.jsx(mw,{size:20})}),l.jsx("button",{onClick:()=>N(!1),className:"p-2 text-slate-500 hover:text-slate-950 hover:bg-slate-100 rounded-xl transition-all",title:"Fechar","aria-label":"Fechar",children:l.jsx(na,{size:24})})]})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-6 bg-slate-50/50 custom-scrollbar",children:[l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4 mb-6",children:[l.jsxs("div",{className:"bg-white p-3 md:p-4 rounded-xl border border-slate-200 shadow-sm flex flex-col",children:[l.jsx("span",{className:"text-[10px] md:text-xs font-black text-slate-400 uppercase tracking-widest",children:"Vendas"}),l.jsx("div",{className:"mt-1 flex items-center gap-1 md:gap-2 text-emerald-600",children:l.jsx("span",{className:"text-lg md:text-2xl font-black",children:J(z.totalSales)})})]}),l.jsxs("div",{className:"bg-white p-3 md:p-4 rounded-xl border border-slate-200 shadow-sm flex flex-col",children:[l.jsx("span",{className:"text-[10px] md:text-xs font-black text-slate-400 uppercase tracking-widest",children:"Despesas"}),l.jsx("div",{className:"mt-1 flex items-center gap-1 md:gap-2 text-red-600",children:l.jsx("span",{className:"text-lg md:text-2xl font-black",children:J(z.totalExpenses)})})]}),l.jsxs("div",{className:"bg-white p-3 md:p-4 rounded-xl border border-slate-200 shadow-sm flex flex-col",children:[l.jsx("span",{className:"text-[10px] md:text-xs font-black text-slate-400 uppercase tracking-widest",children:"Compras"}),l.jsx("div",{className:"mt-1 flex items-center gap-1 md:gap-2 text-blue-600",children:l.jsx("span",{className:"text-lg md:text-2xl font-black",children:J(z.totalPurchasesValue)})})]}),l.jsxs("div",{className:"bg-white p-3 md:p-4 rounded-xl border border-slate-200 shadow-sm flex flex-col",children:[l.jsx("span",{className:"text-[10px] md:text-xs font-black text-slate-400 uppercase tracking-widest",children:"Faltas"}),l.jsx("div",{className:"mt-1 flex items-center gap-1 md:gap-2 text-orange-600",children:l.jsx("span",{className:"text-lg md:text-2xl font-black",children:z.absentWorkers.length})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[l.jsx("div",{className:"px-4 py-3 border-b border-gray-100 bg-gray-50 flex items-center justify-between",children:l.jsxs("h4",{className:"font-bold text-gray-800 flex items-center gap-2 text-sm",children:[l.jsx(zn,{size:16})," Movimento Financeiro"]})}),l.jsx("div",{className:"max-h-60 overflow-y-auto",children:l.jsx("table",{className:"w-full text-sm text-left",children:l.jsx("tbody",{className:"divide-y divide-gray-100",children:z.sales.concat(z.expenses).length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:3,className:"px-4 py-8 text-center text-gray-400 text-xs",children:"Sem movimento financeiro."})}):z.sales.concat(z.expenses).map((K,M)=>l.jsxs("tr",{children:[l.jsx("td",{className:"px-4 py-2",children:l.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded font-bold ${K.type===La.SALE?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:K.type===La.SALE?"ENT":"SAI"})}),l.jsx("td",{className:"px-4 py-2 text-gray-700 truncate max-w-[120px] text-xs",children:K.clientName||K.description||K.category}),l.jsx("td",{className:`px-4 py-2 text-right font-bold text-xs ${K.type===La.SALE?"text-green-600":"text-red-600"}`,children:J(K.amount)})]},M))})})})]})}),l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[l.jsx("div",{className:"px-4 py-3 border-b border-gray-100 bg-gray-50 flex items-center justify-between",children:l.jsxs("h4",{className:"font-bold text-gray-800 flex items-center gap-2 text-sm",children:[l.jsx(Ci,{size:16})," Logstica Hoje"]})}),l.jsx("div",{className:"max-h-60 overflow-y-auto",children:z.movements.length===0?l.jsx("div",{className:"p-8 text-center text-gray-400 text-xs",children:"Nenhuma movimentao."}):l.jsx("ul",{className:"divide-y divide-gray-100",children:z.movements.map((K,M)=>l.jsxs("li",{className:"px-4 py-3 text-sm",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsx("span",{className:"font-bold text-gray-800 text-xs",children:v(K.itemId)}),l.jsx("span",{className:"text-[10px] bg-gray-100 px-2 py-0.5 rounded text-gray-600",children:K.status})]}),l.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-gray-500 mt-1",children:[l.jsx("span",{children:x(K.sourceLocationId)}),l.jsx(rc,{size:10}),l.jsx("span",{children:x(K.targetLocationId)})]})]},M))})})]})})]})]})]})})]})},ane="modulepreload",ine=function(e){return"/"+e},PC={},yj=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){let c=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));i=c(r.map(h=>{if(h=ine(h),h in PC)return;PC[h]=!0;const p=h.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":ane,p||(v.as="script"),v.crossOrigin="",v.href=h,f&&v.setAttribute("nonce",f),document.head.appendChild(v),p)return new Promise((x,j)=>{v.addEventListener("load",x),v.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return i.then(c=>{for(const d of c||[])d.status==="rejected"&&s(d.reason);return t().catch(s)})};function fr(e,t){const{dateOnly:r=!1,time:n=!1,fallback:i=""}=t||{};if(e==null)return i;let s=null;if(e instanceof Date)s=e;else if(typeof e=="string"&&e.trim())s=new Date(e);else if(typeof e=="number")s=new Date(e);else if(typeof e=="object"){const c=["timestamp","created_at","createdAt","date","updated_at","updatedAt"];for(const d of c)if(d in e&&e[d]&&(s=new Date(e[d]),!isNaN(s.getTime())))break}if(!s||isNaN(s.getTime()))return i;try{return r?s.toLocaleDateString("pt-MZ",{year:"numeric",month:"2-digit",day:"2-digit"}):n?s.toLocaleString("pt-MZ",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):s.toLocaleString("pt-MZ")}catch{return i}}const sne=({onCancel:e,onSuccess:t})=>{const{items:r,locations:n,currentUser:i,createRequisitionSheet:s,getLocationName:c}=$r(),[d,f]=w.useState(""),[h,p]=w.useState(""),[g,v]=w.useState(null),[x,j]=w.useState([{id:"1",itemId:"",itemName:"",quantity:1,unit:"Unidade",condition:Yr.NEW,notes:""}]),[_,N]=w.useState(!1),S=n.filter(T=>T.id!==(i==null?void 0:i.locationId)),O=()=>{j([...x,{id:Math.random().toString(36).substr(2,9),itemId:"",itemName:"",quantity:1,unit:"Unidade",condition:Yr.NEW,notes:""}])},A=T=>{x.length!==1&&j(x.filter(R=>R.id!==T))},P=(T,R,q)=>{j(x.map(Y=>{if(Y.id===T){const G={...Y,[R]:q};if(R==="itemId"&&q!==""){const U=r.find(z=>z.id===q);U&&(G.itemName=U.name,G.unit=U.unit||"Unidade")}return G}return Y}))},D=async T=>{if(T.preventDefault(),!d){v({type:"info",message:"Selecione o local de destino."});return}if(x.length===0){v({type:"info",message:"Adicione pelo menos um item."});return}if(x.some(R=>!R.itemName)){v({type:"info",message:"Todos os itens precisam de uma descrio ou nome."});return}N(!0);try{await s(d,x.map(R=>({itemId:R.itemId||void 0,itemName:R.itemName,quantity:R.quantity,unit:R.unit,condition:R.condition,notes:R.notes})),h);try{const{registerEmployeeDelivery:R}=await yj(async()=>{const{registerEmployeeDelivery:q}=await import("./employeeDeliveryService-CVu-LO4A.js");return{registerEmployeeDelivery:q}},[]);await Promise.all(x.map(async q=>{await R({employeeId:d,itemId:q.itemId||void 0,itemName:q.itemName,quantity:q.quantity,unit:q.unit,deliveredBy:i==null?void 0:i.id,origin:"REQUISITION",notes:q.notes})}))}catch{}v({type:"success",message:"Requisio criada com sucesso!"}),setTimeout(()=>t(),1500)}catch(R){v({type:"error",message:`Erro ao criar requisio: ${R instanceof Error?R.message:String(R)}`})}finally{N(!1)}};return l.jsxs("div",{className:"p-4 max-w-5xl mx-auto pb-20 md:pb-4",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[l.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full",title:"Voltar",children:l.jsx(YU,{size:20,className:"text-gray-600"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Nova Requisio de Materiais"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Preencha o formulrio abaixo para solicitar mltiplos itens."})]})]}),g&&l.jsx("div",{className:`p-3 rounded text-sm mb-6 ${g.type==="success"?"bg-green-100 border border-green-300 text-green-800":g.type==="error"?"bg-red-100 border border-red-300 text-red-800":"bg-blue-50 border border-blue-100 text-blue-800"}`,children:g.message}),l.jsxs("form",{onSubmit:D,className:"space-y-6",children:[l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 grid md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"targetLocation",className:"block text-sm font-medium text-gray-700 mb-1",children:"Destino (Solicitar Para)"}),l.jsxs("select",{id:"targetLocation",className:"w-full border border-gray-300 rounded-lg p-2.5 bg-gray-50 focus:bg-white focus:ring-2 focus:ring-blue-500 outline-none",value:d,onChange:T=>f(T.target.value),required:!0,children:[l.jsx("option",{value:"",children:"Selecione uma localizao..."}),S.map(T=>l.jsx("option",{value:T.id,children:T.name},T.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notas / Observaes Gerais"}),l.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg p-2.5 bg-gray-50 focus:bg-white focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Ex: Urgente para obra em Nampula",value:h,onChange:T=>p(T.target.value)})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[l.jsxs("div",{className:"p-4 border-b border-gray-100 bg-gray-50 flex justify-between items-center",children:[l.jsxs("h3",{className:"font-semibold text-gray-700 flex items-center gap-2",children:[l.jsx(ko,{size:18})," Itens da Requisio"]}),l.jsx("span",{className:"text-xs text-gray-500 hidden md:inline",children:"Preencha os detalhes de cada item"})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full min-w-[800px]",children:[l.jsx("thead",{className:"bg-gray-50 text-left",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-xs font-bold text-gray-500 uppercase w-10"}),l.jsx("th",{className:"px-4 py-3 text-xs font-bold text-gray-500 uppercase w-1/3",children:"Item (Estoque ou Manual)"}),l.jsx("th",{className:"px-4 py-3 text-xs font-bold text-gray-500 uppercase w-24",children:"Qtd"}),l.jsx("th",{className:"px-4 py-3 text-xs font-bold text-gray-500 uppercase w-24",children:"Unidade"}),l.jsx("th",{className:"px-4 py-3 text-xs font-bold text-gray-500 uppercase w-32",children:"Condio"}),l.jsx("th",{className:"px-4 py-3 text-xs font-bold text-gray-500 uppercase",children:"Observaes"}),l.jsx("th",{className:"px-4 py-3 text-xs font-bold text-gray-500 w-10"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-100",children:x.map((T,R)=>l.jsxs("tr",{className:"hover:bg-slate-50 transition",children:[l.jsx("td",{className:"px-3 py-2 text-center text-gray-400 text-xs font-mono",children:R+1}),l.jsx("td",{className:"px-3 py-2",children:l.jsxs("div",{className:"space-y-1",children:[l.jsxs("select",{"aria-label":"Selecionar item",className:"w-full text-sm border-gray-200 rounded focus:ring-blue-500 border p-1.5",value:T.itemId,onChange:q=>P(T.id,"itemId",q.target.value),children:[l.jsx("option",{value:"",children:"-- Item Manual --"}),r.map(q=>l.jsx("option",{value:q.id,children:q.name},q.id))]}),T.itemId===""&&l.jsx("input",{type:"text",placeholder:"Descreva o item...","aria-label":"Nome do item manual",className:"w-full text-sm border-gray-200 rounded border p-1.5 focus:ring-blue-500",value:T.itemName,onChange:q=>P(T.id,"itemName",q.target.value),required:!0})]})}),l.jsx("td",{className:"px-3 py-2",children:l.jsx("input",{type:"number",min:"0.1",step:"0.1","aria-label":"Quantidade",className:"w-full text-sm border-gray-200 rounded border p-1.5 font-semibold text-center",value:T.quantity,onChange:q=>P(T.id,"quantity",parseFloat(q.target.value)||0)})}),l.jsx("td",{className:"px-3 py-2",children:l.jsx("input",{type:"text","aria-label":"Unidade",className:"w-full text-sm border-gray-200 rounded border p-1.5",value:T.unit,onChange:q=>P(T.id,"unit",q.target.value),list:"units-datalist"})}),l.jsx("td",{className:"px-3 py-2",children:l.jsxs("select",{"aria-label":"Selecionar condio",className:"w-full text-sm border-gray-200 rounded border p-1.5",value:T.condition,onChange:q=>P(T.id,"condition",q.target.value),children:[l.jsx("option",{value:Yr.NEW,children:"Novo"}),l.jsx("option",{value:Yr.GOOD,children:"Bom"}),l.jsx("option",{value:Yr.FAIR,children:"Usado"})]})}),l.jsx("td",{className:"px-3 py-2",children:l.jsx("input",{type:"text",placeholder:"Detalhes...","aria-label":"Observaes",className:"w-full text-sm border-gray-200 rounded border p-1.5 text-gray-500",value:T.notes,onChange:q=>P(T.id,"notes",q.target.value)})}),l.jsx("td",{className:"px-3 py-2 text-center",children:l.jsx("button",{type:"button",onClick:()=>A(T.id),className:"text-gray-400 hover:text-red-500 transition p-1",disabled:x.length===1,title:"Remover linha",children:l.jsx(Bs,{size:16})})})]},T.id))})]})}),l.jsx("div",{className:"p-4 bg-gray-50 border-t border-gray-100",children:l.jsxs("button",{type:"button",onClick:O,className:"flex items-center gap-2 text-blue-600 font-bold text-sm hover:underline",children:[l.jsx(dn,{size:16})," Adicionar Linha"]})})]}),l.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[l.jsx("button",{type:"button",onClick:e,className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-xl font-bold hover:bg-gray-200 transition",children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:_,className:"px-6 py-3 bg-blue-600 text-white rounded-xl font-bold hover:bg-blue-700 transition shadow-lg flex items-center gap-2",children:_?"Enviando...":l.jsxs(l.Fragment,{children:[l.jsx(nc,{size:18})," Criar Requisio"]})})]})]}),l.jsxs("datalist",{id:"units-datalist",children:[l.jsx("option",{value:"Unidade"}),l.jsx("option",{value:"Kg"}),l.jsx("option",{value:"Litros"}),l.jsx("option",{value:"Metros"}),l.jsx("option",{value:"Par"}),l.jsx("option",{value:"Caixa"}),l.jsx("option",{value:"Saco"})]})]})},one=({sheet:e,companyInfo:t,onClose:r})=>{const n=()=>{window.print()};return l.jsxs("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-50 z-50 overflow-y-auto flex justify-center items-start p-4",children:[l.jsxs("div",{className:"bg-gray-100 min-h-screen w-full max-w-4xl flex flex-col items-center",children:[l.jsxs("div",{className:"w-full bg-white p-4 shadow-sm mb-4 flex justify-between items-center rounded-lg no-print",children:[l.jsx("h2",{className:"font-bold text-gray-700",children:"Visualizao de Impresso"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:r,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-50",children:"Fechar"}),l.jsx("button",{onClick:n,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 font-bold",children:"Imprimir"})]})]}),l.jsxs("div",{className:"bg-white w-[210mm] min-h-[297mm] p-10 shadow-lg text-sm text-gray-800 print-content",id:"printable-area",children:[l.jsxs("div",{className:"border-b-2 border-gray-800 pb-4 mb-6 flex justify-between items-start",children:[l.jsxs("div",{children:[t!=null&&t.logo?l.jsx("img",{src:t.logo,alt:"Logo",className:"h-16 mb-2"}):l.jsx("h1",{className:"text-2xl font-bold uppercase tracking-wider",children:(t==null?void 0:t.nome)||"EMPRESA DEMO"}),l.jsxs("div",{className:"text-xs text-gray-500 mt-1 space-y-0.5",children:[l.jsx("p",{children:(t==null?void 0:t.endereco)||"Endereo da Empresa"}),l.jsxs("p",{children:["NUIT: ",(t==null?void 0:t.nuit)||"000000000"," | Tel: ",(t==null?void 0:t.contacto)||"82 000 0000"]}),l.jsx("p",{children:(t==null?void 0:t.email)||"contato@empresa.com"})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900 uppercase",children:"Ficha de Requisio"}),l.jsx("p",{className:"text-gray-500 font-mono text-lg mt-1",children:e.requisitionNumber}),l.jsxs("div",{className:"mt-2 text-xs",children:[l.jsxs("p",{children:["Data: ",l.jsx("strong",{children:fr(e.createdAt,{dateOnly:!0})})]}),l.jsxs("p",{children:["Status: ",l.jsx("span",{className:"uppercase font-bold",children:e.status})]})]})]})]}),l.jsxs("div",{className:"flex justify-between border border-gray-200 rounded p-4 mb-6 bg-gray-50",children:[l.jsxs("div",{className:"w-1/2",children:[l.jsx("h3",{className:"text-xs font-bold text-gray-500 uppercase mb-1",children:"Origem (Fornecedor Interno)"}),l.jsx("p",{className:"font-semibold text-lg",children:e.sourceLocationName})]}),l.jsxs("div",{className:"w-1/2 border-l border-gray-200 pl-4",children:[l.jsx("h3",{className:"text-xs font-bold text-gray-500 uppercase mb-1",children:"Destino (Requisitante)"}),l.jsx("p",{className:"font-semibold text-lg",children:e.targetLocationName})]})]}),l.jsxs("table",{className:"w-full mb-8 border-collapse",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-800",children:[l.jsx("th",{className:"py-2 px-2 text-left font-bold uppercase text-xs w-10",children:"#"}),l.jsx("th",{className:"py-2 px-2 text-left font-bold uppercase text-xs",children:"Item / Descrio"}),l.jsx("th",{className:"py-2 px-2 text-center font-bold uppercase text-xs w-20",children:"Qtd"}),l.jsx("th",{className:"py-2 px-2 text-center font-bold uppercase text-xs w-20",children:"Unid."}),l.jsx("th",{className:"py-2 px-2 text-center font-bold uppercase text-xs w-24",children:"Condio"}),l.jsx("th",{className:"py-2 px-2 text-left font-bold uppercase text-xs w-1/4",children:"Obs."})]})}),l.jsx("tbody",{className:"divide-y divide-gray-200",children:e.items.map((i,s)=>l.jsxs("tr",{children:[l.jsx("td",{className:"py-3 px-2 text-gray-500",children:s+1}),l.jsx("td",{className:"py-3 px-2 font-medium",children:i.itemName}),l.jsx("td",{className:"py-3 px-2 text-center",children:i.quantity}),l.jsx("td",{className:"py-3 px-2 text-center text-xs text-gray-500",children:i.unit}),l.jsx("td",{className:"py-3 px-2 text-center text-xs",children:i.condition}),l.jsx("td",{className:"py-3 px-2 text-xs text-gray-500 italic",children:i.notes})]},i.id))})]}),e.notes&&l.jsxs("div",{className:"mb-8 p-4 border border-gray-200 rounded bg-yellow-50",children:[l.jsx("h4",{className:"text-xs font-bold text-gray-500 uppercase mb-1",children:"Observaes Gerais"}),l.jsx("p",{className:"text-sm text-gray-800 italic",children:e.notes})]}),l.jsxs("div",{className:"mt-auto pt-12 grid grid-cols-2 gap-12",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"border-t border-gray-400 w-3/4 mx-auto mb-2"}),l.jsx("p",{className:"text-xs font-bold uppercase",children:"Solicitante"}),l.jsx("p",{className:"text-[10px] text-gray-400",children:"Assinatura e Carimbo"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"border-t border-gray-400 w-3/4 mx-auto mb-2"}),l.jsx("p",{className:"text-xs font-bold uppercase",children:"Autorizado Por"}),l.jsx("p",{className:"text-[10px] text-gray-400",children:"Assinatura e Carimbo"})]})]}),l.jsxs("div",{className:"text-center mt-8 pt-4 border-t border-gray-100 text-[10px] text-gray-400",children:["Processado via OFICE Logistics System | ",fr(new Date().toISOString(),{time:!0})]})]})]}),l.jsx("style",{children:`
        @media print {
          .no-print { display: none !important; }
          .bg-gray-100 { background: white !important; }
          .fixed { position: static !important; overflow: visible !important; }
          .min-h-screen { min-height: 0 !important; }
          @page { margin: 10mm; }
        }
      `})]})},lne=()=>{const{requisitions:e,requisitionSheets:t,currentUser:r,items:n,locations:i,getItemName:s,getLocationName:c,createRequisition:d,updateRequisitionStatus:f,updateRequisitionSheetStatus:h,updateRequisitionSheetItemDelivery:p,isAdminOrGM:g,companyInfo:v}=$r(),[x,j]=w.useState(!1),[_,N]=w.useState("list"),[S,O]=w.useState("single"),[A,P]=w.useState(null),[D,T]=w.useState(null),[R,q]=w.useState(null),[Y,G]=w.useState(null),[U,z]=w.useState(n.length>0?n[0].id:""),[J,B]=w.useState(1),[K,M]=w.useState(Yr.NEW);if(Ba.useEffect(()=>{n.length>0&&!U&&z(n[0].id)},[n,U]),_==="form")return l.jsx(sne,{onCancel:()=>N("list"),onSuccess:()=>N("list")});const H=e.filter($=>{var Q,ue;if(g)return!0;if((r==null?void 0:r.role)===Ee.MANAGER){const oe=((Q=i.find(Le=>Le.id===$.sourceLocationId))==null?void 0:Q.parentId)===r.locationId,Je=((ue=i.find(Le=>Le.id===$.targetLocationId))==null?void 0:ue.parentId)===r.locationId;return $.sourceLocationId===r.locationId||$.targetLocationId===r.locationId||oe||Je}return $.targetLocationId===(r==null?void 0:r.locationId)||$.requesterId===(r==null?void 0:r.id)}),re=(t||[]).filter($=>{var Q,ue;if(g)return!0;if((r==null?void 0:r.role)===Ee.MANAGER){const oe=((Q=i.find(Le=>Le.id===$.sourceLocationId))==null?void 0:Q.parentId)===r.locationId,Je=((ue=i.find(Le=>Le.id===$.targetLocationId))==null?void 0:ue.parentId)===r.locationId;return $.sourceLocationId===r.locationId||$.targetLocationId===r.locationId||oe||Je}return $.targetLocationId===(r==null?void 0:r.locationId)||$.requesterId===(r==null?void 0:r.id)}),be=$=>{q(R===$?null:$)},Se=async($,Q)=>{G({type:"info",message:"Atualizando status..."});try{await f($,Q),G({type:"success",message:`Status atualizado: ${Q}`}),setTimeout(()=>G(null),4e3)}catch(ue){G({type:"error",message:(ue==null?void 0:ue.message)||String(ue)})}},L=async($,Q)=>{G({type:"info",message:"Atualizando status da ficha..."});try{await h($,Q),G({type:"success",message:`Status da ficha atualizado: ${Q}`}),setTimeout(()=>G(null),4e3)}catch(ue){G({type:"error",message:(ue==null?void 0:ue.message)||String(ue)})}},ee=async($,Q)=>{G({type:"info",message:"Atualizando entrega do item..."});try{if(await p($,Q),Q){const ue=t.find(Je=>Je.items.some(Le=>Le.id===$)),oe=ue==null?void 0:ue.items.find(Je=>Je.id===$);if(ue&&oe&&r){const{registerEmployeeDelivery:Je}=await yj(async()=>{const{registerEmployeeDelivery:Le}=await import("./employeeDeliveryService-CVu-LO4A.js");return{registerEmployeeDelivery:Le}},[]);await Je({employeeId:ue.requesterId,itemId:oe.itemId??void 0,itemName:oe.itemName,quantity:oe.quantity,unit:oe.unit,deliveredBy:r.id,origin:"REQUISITION",requisitionId:ue.id,notes:oe.notes})}}G({type:"success",message:"Entrega atualizada."}),setTimeout(()=>G(null),3e3)}catch(ue){G({type:"error",message:(ue==null?void 0:ue.message)||String(ue)})}},je=$=>{$.preventDefault(),d(U,J,K),j(!1),B(1),M(Yr.NEW)},Ne=$=>{switch($){case ot.PENDING:return l.jsxs("span",{className:"px-2 py-1 rounded text-xs font-bold bg-yellow-100 text-yellow-800 flex items-center gap-1 w-max",children:[l.jsx(rd,{size:12})," Pendente"]});case ot.APPROVED:return l.jsxs("span",{className:"px-2 py-1 rounded text-xs font-bold bg-blue-100 text-blue-800 flex items-center gap-1 w-max",children:[l.jsx(wa,{size:12})," Aprovado"]});case ot.IN_TRANSIT:return l.jsxs("span",{className:"px-2 py-1 rounded text-xs font-bold bg-indigo-100 text-indigo-800 flex items-center gap-1 w-max",children:[l.jsx(Ci,{size:12})," Em Trnsito"]});case ot.DELIVERED:return l.jsxs("span",{className:"px-2 py-1 rounded text-xs font-bold bg-orange-100 text-orange-800 flex items-center gap-1 w-max",children:[l.jsx(zy,{size:12})," Entregue"]});case ot.REJECTED:return l.jsxs("span",{className:"px-2 py-1 rounded text-xs font-bold bg-red-100 text-red-800 flex items-center gap-1 w-max",children:[l.jsx(im,{size:12})," Rejeitado"]});case ot.CONFIRMED:return l.jsxs("span",{className:"px-2 py-1 rounded text-xs font-bold bg-green-100 text-green-800 flex items-center gap-1 w-max",children:[l.jsx(wa,{size:12})," Confirmado"]});default:return null}},Ie=$=>{switch($){case Yr.NEW:return l.jsx("span",{className:"text-[10px] font-semibold text-green-600 border border-green-200 bg-green-50 px-1.5 py-0.5 rounded",children:"Novo"});case Yr.GOOD:return l.jsx("span",{className:"text-[10px] font-semibold text-blue-600 border border-blue-200 bg-blue-50 px-1.5 py-0.5 rounded",children:"Bom"});case Yr.FAIR:return l.jsx("span",{className:"text-[10px] font-semibold text-orange-600 border border-orange-200 bg-orange-50 px-1.5 py-0.5 rounded",children:"Usado"});case Yr.POOR:return l.jsx("span",{className:"text-[10px] font-semibold text-red-600 border border-red-200 bg-red-50 px-1.5 py-0.5 rounded",children:"Ruim"});default:return l.jsx("span",{className:"text-[10px] font-semibold text-gray-600 border border-gray-200 bg-gray-50 px-1.5 py-0.5 rounded",children:$})}},Oe=$=>($==null?void 0:$.type)===er.CONSUMABLE?l.jsxs("span",{className:"flex items-center gap-1 text-[10px] text-purple-600 bg-purple-50 px-1.5 py-0.5 rounded border border-purple-100",children:[l.jsx(M$,{size:10})," Consumvel"]}):l.jsxs("span",{className:"flex items-center gap-1 text-[10px] text-slate-600 bg-slate-50 px-1.5 py-0.5 rounded border border-slate-200",children:[l.jsx(ko,{size:10})," Ativo"]}),ke=($,Q=!1)=>{var mt,lt;const ue=(r==null?void 0:r.role)===Ee.MANAGER&&($.sourceLocationId===r.locationId||((mt=i.find(Ve=>Ve.id===$.sourceLocationId))==null?void 0:mt.parentId)===r.locationId),oe=(r==null?void 0:r.role)===Ee.MANAGER&&($.targetLocationId===r.locationId||((lt=i.find(Ve=>Ve.id===$.targetLocationId))==null?void 0:lt.parentId)===r.locationId),Je=g||ue||oe,Le=Q?"flex-1 py-3 justify-center text-sm font-bold shadow-md":"px-3 py-1 text-xs shadow-sm whitespace-nowrap";if(!Je&&(r==null?void 0:r.role)!==Ee.WORKER)return l.jsxs("span",{className:"text-gray-300 text-xs flex items-center gap-1",children:[l.jsx($o,{size:10})," Visualizao"]});if($.status===ot.PENDING&&(g||ue||oe))return l.jsxs("div",{className:`flex gap-2 ${Q?"w-full mt-2":""}`,children:[l.jsx("button",{onClick:Ve=>{Ve.stopPropagation(),Se($.id,ot.APPROVED)},className:`${Le} bg-blue-600 text-white rounded hover:bg-blue-700`,children:"Aprovar"}),l.jsx("button",{onClick:Ve=>{Ve.stopPropagation(),Se($.id,ot.REJECTED)},className:`${Le} bg-red-50 text-red-600 rounded hover:bg-red-100 border border-red-200`,children:"Rejeitar"})]});if($.status===ot.APPROVED)return g||ue?l.jsxs("button",{onClick:Ve=>{Ve.stopPropagation(),Se($.id,ot.IN_TRANSIT)},className:`${Le} bg-indigo-600 text-white rounded hover:bg-indigo-700 flex items-center gap-1 ${Q?"w-full":""}`,children:[l.jsx(Ci,{size:12})," Despachar"]}):l.jsx("span",{className:"text-blue-500 text-xs italic",children:"Aguardando Envio..."});if($.status===ot.IN_TRANSIT)return g||oe?l.jsxs("button",{onClick:Ve=>{Ve.stopPropagation(),Se($.id,ot.DELIVERED)},className:`${Le} bg-blue-500 text-white rounded hover:bg-blue-600 flex items-center gap-1 ${Q?"w-full":""}`,children:[l.jsx(Ci,{size:12})," Registrar Chegada"]}):l.jsx("span",{className:"text-indigo-500 text-xs italic",children:"Em Trnsito..."});if($.status===ot.DELIVERED){if(g||oe)return l.jsxs("button",{onClick:Ve=>{Ve.stopPropagation(),Se($.id,ot.CONFIRMED)},className:`${Le} bg-green-600 text-white rounded hover:bg-green-700 flex items-center gap-1 animate-pulse ${Q?"w-full":""}`,children:[l.jsx(zy,{size:12})," Conferir e Aceitar"]});if((r==null?void 0:r.role)===Ee.WORKER&&$.targetLocationId===r.locationId)return l.jsxs("button",{onClick:Ve=>{Ve.stopPropagation(),Se($.id,ot.CONFIRMED)},className:`${Le} bg-green-600 text-white rounded hover:bg-green-700 flex items-center gap-1 ${Q?"w-full":""}`,children:[l.jsx(wa,{size:12})," Confirmar"]})}return $.status===ot.CONFIRMED?l.jsxs("span",{className:"text-green-600 text-xs font-medium flex items-center gap-1",children:[l.jsx(wa,{size:12})," Concludo"]}):$.status===ot.PENDING&&!Je?l.jsxs("span",{className:"text-orange-400 text-xs font-medium flex items-center gap-1 whitespace-nowrap",children:[l.jsx(rd,{size:12})," Aguardando"]}):$.status===ot.REJECTED?l.jsxs("span",{className:"text-red-400 text-xs font-medium flex items-center gap-1 whitespace-nowrap",children:[l.jsx(im,{size:12})," Cancelado"]}):l.jsxs("span",{className:"text-gray-400 text-xs italic whitespace-nowrap",children:["Status: ",$.status]})},dt=n.find($=>$.id===U);return l.jsxs("div",{children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-800",children:"Fluxo de Requisies"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Gerencie a entrada e sada de materiais."})]}),l.jsxs("div",{className:"flex flex-col md:flex-row gap-2 w-full md:w-auto",children:[l.jsxs("button",{onClick:()=>j(!0),className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-3 md:py-2 rounded-lg hover:bg-blue-700 transition shadow-md w-full md:w-auto justify-center font-medium",children:[l.jsx(dn,{size:18})," Nova Requisio (Simples)"]}),l.jsxs("button",{onClick:()=>N("form"),className:"flex items-center gap-2 bg-indigo-600 text-white px-4 py-3 md:py-2 rounded-lg hover:bg-indigo-700 transition shadow-md w-full md:w-auto justify-center font-medium",children:[l.jsx(Va,{size:18})," Nova Requisio (Mltipla)"]})]})]}),Y&&l.jsx("div",{className:`mb-4 p-3 rounded ${Y.type==="success"?"bg-green-100 border border-green-300 text-green-800":Y.type==="error"?"bg-red-100 border border-red-300 text-red-800":"bg-blue-50 border border-blue-100 text-blue-800"}`,children:Y.message}),l.jsxs("div",{className:"flex gap-4 mb-4 border-b border-gray-200",children:[l.jsx("button",{onClick:()=>O("single"),className:`pb-2 px-1 text-sm font-medium ${S==="single"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Requisies Individuais (Legado)"}),l.jsx("button",{onClick:()=>O("sheets"),className:`pb-2 px-1 text-sm font-medium ${S==="sheets"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Fichas de Requisio (Mltiplos Itens)"})]}),S==="single"?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"hidden md:block bg-white rounded-xl shadow border border-gray-100 overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left",children:[l.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase whitespace-nowrap w-8"}),l.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase whitespace-nowrap",children:"Item / Condio"}),l.jsxs("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase whitespace-nowrap",children:["Origem ",l.jsx(rc,{size:10,className:"inline mx-1"})," Destino"]}),l.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase whitespace-nowrap",children:"Qtd"}),l.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase whitespace-nowrap",children:"Status"}),l.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase whitespace-nowrap",children:"Data"}),l.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase text-right whitespace-nowrap",children:"Aes"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-100",children:H.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-400",children:"Nenhuma requisio encontrada."})}):H.map($=>{const Q=n.find(oe=>oe.id===$.itemId),ue=R===$.id;return l.jsxs(Ba.Fragment,{children:[l.jsxs("tr",{onClick:()=>be($.id),className:`hover:bg-slate-50 transition cursor-pointer ${ue?"bg-slate-50":""}`,children:[l.jsx("td",{className:"px-6 py-4 text-center",children:ue?l.jsx(uA,{size:16,className:"text-gray-400"}):l.jsx(cA,{size:16,className:"text-gray-400"})}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[l.jsxs("div",{className:"font-medium text-gray-900 flex items-center gap-2",children:[Q==null?void 0:Q.name,Oe(Q)]}),l.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-2 mt-1",children:[l.jsxs("span",{children:["ID: ",$.id]}),(Q==null?void 0:Q.type)===er.ASSET&&Ie($.condition)]})]}),l.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 whitespace-nowrap",children:l.jsxs("div",{className:"flex flex-col",children:[l.jsxs("span",{className:"text-xs text-gray-400",children:["De: ",c($.sourceLocationId)]}),l.jsxs("span",{className:"font-medium text-gray-800",children:["Para: ",c($.targetLocationId)]})]})}),l.jsxs("td",{className:"px-6 py-4 text-sm font-semibold text-gray-900 whitespace-nowrap",children:[$.quantity," un"]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Ne($.status)}),l.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap",children:fr($.createdAt,{dateOnly:!0})}),l.jsx("td",{className:"px-6 py-4 text-right whitespace-nowrap",onClick:oe=>oe.stopPropagation(),children:ke($)})]}),ue&&l.jsx("tr",{className:"bg-slate-50 border-b border-gray-100",children:l.jsx("td",{colSpan:7,className:"px-6 py-4",children:l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[l.jsxs("h4",{className:"text-xs font-bold text-gray-500 uppercase flex items-center gap-2 mb-3",children:[l.jsx(fw,{size:14})," Histrico de Rastreabilidade"]}),l.jsxs("div",{className:"space-y-4 relative pl-2",children:[l.jsx("div",{className:"absolute left-3.5 top-2 bottom-2 w-0.5 bg-gray-100"}),$.logs.map((oe,Je)=>l.jsxs("div",{className:"relative flex gap-4 text-sm",children:[l.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-50 border-2 border-white shadow-sm z-10 mt-1 shrink-0"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-800",children:oe.message}),l.jsxs("p",{className:"text-xs text-gray-400",children:[fr(oe.timestamp,{time:!0}),"  ",oe.actorId||"Sistema"," (",oe.action,")"]})]})]},Je))]})]})})})]},$.id)})})]})})}),l.jsxs("div",{className:"md:hidden space-y-4",children:[H.length===0&&l.jsxs("div",{className:"text-center p-8 bg-white rounded-xl border border-gray-200 text-gray-400",children:[l.jsx(ko,{size:40,className:"mx-auto mb-2 opacity-20"}),l.jsx("p",{children:"Nenhuma requisio."})]}),H.map($=>{const Q=n.find(ue=>ue.id===$.itemId);return l.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsxs("div",{children:[l.jsxs("span",{className:"text-[10px] text-gray-400 font-mono block mb-1",children:["#",$.id.slice(-6)]}),l.jsx("h4",{className:"font-bold text-gray-900 text-lg leading-tight",children:Q==null?void 0:Q.name})]}),Ne($.status)]}),l.jsxs("div",{className:"flex gap-2 mb-3",children:[Oe(Q),(Q==null?void 0:Q.type)===er.ASSET&&Ie($.condition),l.jsxs("span",{className:"text-[10px] font-bold bg-gray-100 text-gray-700 px-2 py-0.5 rounded",children:[$.quantity," un"]})]}),l.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-100 text-sm space-y-2 mb-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx($i,{size:14,className:"text-gray-400"}),l.jsx("span",{className:"text-gray-500 text-xs",children:"De:"}),l.jsx("span",{className:"font-medium text-gray-800",children:c($.sourceLocationId)})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx($i,{size:14,className:"text-blue-500"}),l.jsx("span",{className:"text-gray-500 text-xs",children:"Para:"}),l.jsx("span",{className:"font-bold text-gray-900",children:c($.targetLocationId)})]}),l.jsxs("div",{className:"flex items-center gap-2 border-t border-gray-100 pt-2 mt-1",children:[l.jsx(Ed,{size:14,className:"text-gray-400"}),l.jsx("span",{className:"text-xs text-gray-500",children:fr($.createdAt,{dateOnly:!0})})]})]}),l.jsx("div",{className:"border-t border-gray-100 pt-3",children:ke($,!0)})]},$.id)})]})]}):l.jsx("div",{className:"bg-white rounded-xl shadow border border-gray-100 overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left",children:[l.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase whitespace-nowrap",children:"N Requisio"}),l.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase whitespace-nowrap",children:"Origem / Destino"}),l.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase whitespace-nowrap",children:"Itens"}),l.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase whitespace-nowrap",children:"Status"}),l.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase whitespace-nowrap",children:"Data"}),l.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase text-right",children:"Aes"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-100",children:re.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-400",children:"Nenhuma ficha de requisio encontrada."})}):re.map($=>{var Le,mt,lt;const Q=D===$.id,ue=(r==null?void 0:r.role)===Ee.MANAGER&&($.sourceLocationId===r.locationId||((Le=i.find(Ve=>Ve.id===$.sourceLocationId))==null?void 0:Le.parentId)===r.locationId),oe=(r==null?void 0:r.role)===Ee.MANAGER&&($.targetLocationId===r.locationId||((mt=i.find(Ve=>Ve.id===$.targetLocationId))==null?void 0:mt.parentId)===r.locationId),Je=g||ue||oe;return l.jsxs(Ba.Fragment,{children:[l.jsxs("tr",{className:`hover:bg-slate-50 transition cursor-pointer ${Q?"bg-slate-50":""}`,onClick:()=>T(Q?null:$.id),children:[l.jsx("td",{className:"px-6 py-4 font-mono text-sm font-medium text-gray-700",children:l.jsxs("div",{className:"flex items-center gap-2",children:[Q?l.jsx(uA,{size:14,className:"text-gray-400"}):l.jsx(cA,{size:14,className:"text-gray-400"}),$.requisitionNumber||"N/A"]})}),l.jsx("td",{className:"px-6 py-4 text-sm whitespace-nowrap",children:l.jsxs("div",{className:"flex flex-col",children:[l.jsxs("span",{className:"text-xs text-gray-400",children:["De: ",$.sourceLocationName]}),l.jsxs("span",{className:"font-medium text-gray-800",children:["Para: ",$.targetLocationName]})]})}),l.jsxs("td",{className:"px-6 py-4 text-sm font-semibold text-gray-900",children:[((lt=$.items)==null?void 0:lt.length)||0," itens"]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Ne($.status)}),l.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap",children:fr($.createdAt,{dateOnly:!0})}),l.jsx("td",{className:"px-6 py-4 text-right",onClick:Ve=>Ve.stopPropagation(),children:l.jsxs("div",{className:"flex justify-end gap-2",children:[$.status===ot.PENDING&&Je&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>L($.id,ot.APPROVED),className:"p-1 px-2 text-[10px] font-bold bg-blue-600 text-white rounded hover:bg-blue-700",children:"Aprovar"}),l.jsx("button",{onClick:()=>L($.id,ot.REJECTED),className:"p-1 px-2 text-[10px] font-bold bg-white text-red-600 border border-red-200 rounded hover:bg-red-50",children:"Rejeitar"})]}),$.status===ot.APPROVED&&(g||ue)&&l.jsxs("button",{onClick:()=>L($.id,ot.IN_TRANSIT),className:"p-1 px-2 text-[10px] font-bold bg-indigo-600 text-white rounded hover:bg-indigo-700 flex items-center gap-1",children:[l.jsx(Ci,{size:10})," Despachar"]}),$.status===ot.IN_TRANSIT&&(g||oe)&&l.jsxs("button",{onClick:()=>L($.id,ot.DELIVERED),className:"p-1 px-2 text-[10px] font-bold bg-blue-500 text-white rounded hover:bg-blue-600 flex items-center gap-1",children:[l.jsx(Ci,{size:10})," Registrar Chegada"]}),$.status===ot.DELIVERED&&(g||oe)&&l.jsxs("button",{onClick:()=>L($.id,ot.CONFIRMED),className:"p-1 px-2 text-[10px] font-bold bg-green-600 text-white rounded hover:bg-green-700 flex items-center gap-1",children:[l.jsx(zy,{size:10})," Aceitar"]}),l.jsx("button",{onClick:()=>P($),className:"text-gray-400 hover:text-blue-600 p-1",title:"Imprimir",children:l.jsx(Va,{size:18})})]})})]}),Q&&l.jsx("tr",{className:"bg-slate-50",children:l.jsx("td",{colSpan:6,className:"px-6 py-4",children:l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[l.jsxs("h4",{className:"text-xs font-bold text-gray-500 uppercase mb-3 flex items-center gap-2",children:[l.jsx(ko,{size:14})," Detalhes dos Itens e Entrega"]}),l.jsx("div",{className:"space-y-2",children:$.items.map(Ve=>l.jsxs("div",{className:"flex items-center justify-between p-2 border-b border-gray-50 last:border-0 hover:bg-gray-50 rounded",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("input",{type:"checkbox","aria-label":`Marcar ${Ve.itemName} como entregue`,checked:Ve.isDelivered,onChange:hr=>ee(Ve.id,hr.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",disabled:$.status===ot.CONFIRMED}),l.jsxs("div",{children:[l.jsx("p",{className:`text-sm font-medium ${Ve.isDelivered?"text-gray-400 line-through":"text-gray-900"}`,children:Ve.itemName}),l.jsxs("p",{className:"text-[10px] text-gray-500",children:[Ve.quantity," ",Ve.unit,"  ",Ve.condition]})]})]}),Ve.notes&&l.jsxs("p",{className:"text-[10px] text-gray-400 italic",children:['"',Ve.notes,'"']})]},Ve.id))}),$.notes&&l.jsxs("div",{className:"mt-4 p-3 bg-yellow-50 rounded border border-yellow-100 italic text-xs text-gray-600",children:[l.jsx("strong",{children:"Notas:"})," ",$.notes]})]})})})]},$.id)})})]})})}),A&&l.jsx(one,{sheet:A,companyInfo:v,onClose:()=>P(null)}),x&&l.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-end md:items-center justify-center z-50 p-0 md:p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white rounded-t-2xl md:rounded-xl shadow-2xl w-full max-w-md p-6 animate-in slide-in-from-bottom-10 md:slide-in-from-bottom-4 duration-200",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Nova Requisio"}),l.jsx("button",{onClick:()=>j(!1),className:"bg-gray-100 p-1 rounded-full",title:"Fechar","aria-label":"Fechar",children:l.jsx(na,{size:20,className:"text-gray-500"})})]}),l.jsxs("form",{onSubmit:je,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"item-select",className:"block text-sm font-medium text-gray-700 mb-1",children:"Item Necessrio"}),l.jsx("select",{id:"item-select",className:"w-full border border-gray-300 rounded-xl p-3 focus:ring-2 focus:ring-blue-500 focus:outline-none bg-white text-gray-900 text-base",value:U,onChange:$=>z($.target.value),children:n.map($=>l.jsx("option",{value:$.id,children:$.name},$.id))}),dt&&l.jsx("div",{className:"mt-2",children:Oe(dt)})]}),(dt==null?void 0:dt.type)===er.ASSET&&l.jsxs("div",{children:[l.jsx("label",{htmlFor:"condition-select",className:"block text-sm font-medium text-gray-700 mb-1",children:"Condio Desejada"}),l.jsxs("select",{id:"condition-select",className:"w-full border border-gray-300 rounded-xl p-3 focus:ring-2 focus:ring-blue-500 focus:outline-none bg-white text-gray-900 text-base",value:K,onChange:$=>M($.target.value),children:[l.jsx("option",{value:Yr.NEW,children:"Novo"}),l.jsx("option",{value:Yr.GOOD,children:"Bom Estado (Usado)"}),l.jsx("option",{value:Yr.FAIR,children:"Qualquer um (Funcional)"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"quantity-input",className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantidade"}),l.jsx("input",{id:"quantity-input",type:"number",min:"1",className:"w-full border border-gray-300 rounded-xl p-3 focus:ring-2 focus:ring-blue-500 focus:outline-none bg-white text-gray-900 text-lg font-bold",value:J,onChange:$=>B(parseInt($.target.value))})]}),l.jsx("div",{className:"bg-blue-50 p-4 rounded-xl text-sm text-blue-800 border border-blue-100",children:l.jsxs("p",{children:["A requisio ser enviada para aprovao do ",l.jsx("strong",{children:"Gerente Regional"})," ou ",l.jsx("strong",{children:"Administrao"}),"."]})}),l.jsxs("div",{className:"flex gap-3 mt-6 pt-2",children:[l.jsx("button",{type:"button",onClick:()=>j(!1),className:"flex-1 py-3 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-xl text-sm font-bold",children:"Cancelar"}),l.jsx("button",{type:"submit",className:"flex-1 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 text-sm font-bold shadow-md",children:"Confirmar Envio"})]})]})]})})]})},cne=()=>{const{locations:e,items:t,inventory:r,currentUser:n,selectedDepartmentId:i,registerNewItem:s,addToInventory:c,createRequisition:d,itemTypes:f,isAdminOrGM:h,deleteItem:p,allUsers:g,createFicha:v}=$r(),[x,j]=w.useState(i||(n==null?void 0:n.locationId)||"all"),[_,N]=w.useState(!1),[S,O]=w.useState(!1),[A,P]=w.useState(!1),[D,T]=w.useState(null),R=w.useMemo(()=>r?!x||x==="all"?r:r.filter(Y=>Y.locationId===x):[],[r,x]),q=async(Y,G,U)=>{if(!Y)return alert("Selecione uma pessoa");const z=g.find(B=>B.id===Y);if(!z||!z.locationId)return alert("Usurio sem localizao definida.");const J=t.find(B=>B.id===G);if(!J)return alert("Item invlido");try{await v({tipo:"materiais",entidade_id:Y,entidade_tipo:"trabalhador",data:new Date().toISOString().split("T")[0],produto_id:G,produto:J.name||"",quantidade:U,unidade:J.unit||"Unidade",usuario_registou:(n==null?void 0:n.id)||"",estado:"confirmado"}),alert("Entrega registrada"),P(!1)}catch(B){console.error(B),alert("Erro ao registrar entrega")}};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Controle de Estoque"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Visualizao e gesto de ativos por localidade."})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[l.jsxs("div",{className:"flex items-center gap-2 bg-white p-2 rounded-lg border border-gray-200 shadow-sm w-full sm:w-auto",children:[l.jsx($i,{size:18,className:"text-gray-400 ml-2"}),l.jsxs("select",{"aria-label":"Filtrar por localizao",value:x||"",onChange:Y=>j(Y.target.value),className:"bg-transparent border-none text-sm font-medium text-gray-700 focus:outline-none pr-4 w-full sm:w-auto bg-white text-gray-900",children:[l.jsx("option",{value:"all",children:"Todas as Localizaes"}),e.map(Y=>l.jsx("option",{value:Y.id,children:Y.name},Y.id))]})]}),l.jsxs("button",{onClick:()=>O(!0),className:"flex items-center justify-center gap-2 bg-emerald-600 text-black px-4 py-2 rounded-lg hover:bg-emerald-500 transition shadow-sm text-sm font-black w-full sm:w-auto",title:"Registrar entrada de estoque",children:[l.jsx(ko,{size:16})," Entrada"]}),h&&l.jsxs("button",{onClick:()=>N(!0),className:"flex items-center justify-center gap-2 bg-emerald-100 text-emerald-900 border border-emerald-200 px-4 py-2 rounded-lg hover:bg-emerald-200 transition shadow-sm text-sm font-black w-full sm:w-auto",title:"Cadastrar um novo tipo de item",children:[l.jsx(dn,{size:16})," Novo Item"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[R.map((Y,G)=>{const U=t.find(J=>J.id===Y.itemId),z=e.find(J=>J.id===Y.locationId);return l.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-100 shadow-sm flex flex-col justify-between hover:shadow-md transition",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded uppercase tracking-wider ${(U==null?void 0:U.type)===er.ASSET?"bg-blue-50 text-blue-600":"bg-purple-50 text-purple-600"}`,children:U==null?void 0:U.category}),l.jsx("span",{className:"text-xs font-bold px-2 py-1 bg-gray-50 text-gray-600 rounded uppercase tracking-wider border border-gray-100",children:U==null?void 0:U.unit})]}),l.jsx("span",{className:"text-xs text-gray-400",children:U==null?void 0:U.sku})]}),l.jsx("h3",{className:"font-semibold text-gray-800 text-lg mb-1",children:U==null?void 0:U.name}),l.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-1",children:[l.jsx($i,{size:12})," ",z==null?void 0:z.name]})]}),l.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-50 flex items-end justify-between",children:[l.jsx("div",{className:"text-xs text-gray-400",children:"Quantidade Disponvel"}),l.jsx("div",{className:`text-2xl font-bold ${Y.quantity<5?"text-red-500":"text-gray-900"}`,children:Y.quantity})]}),l.jsxs("button",{onClick:()=>{},className:"mt-4 w-full bg-slate-100 text-slate-700 py-2 rounded flex items-center justify-center gap-2 hover:bg-slate-200 transition text-sm font-medium",children:[l.jsx(Ci,{size:14})," Solicitar"]}),l.jsxs("button",{onClick:()=>{T(Y.itemId),P(!0)},className:"mt-2 w-full bg-emerald-50 text-emerald-700 py-2 rounded flex items-center justify-center gap-2 hover:bg-emerald-100 transition text-sm font-bold border border-emerald-100 shadow-sm",children:[l.jsx(ko,{size:14})," Entregar a Pessoa"]}),h&&l.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[l.jsxs("button",{className:"bg-blue-50 text-blue-600 py-2 rounded flex items-center justify-center gap-2 hover:bg-blue-100 transition text-sm font-medium border border-blue-200",children:[l.jsx(nc,{size:14})," Editar"]}),l.jsxs("button",{onClick:()=>p(Y.itemId),className:"bg-red-50 text-red-600 py-2 rounded flex items-center justify-center gap-2 hover:bg-red-100 transition text-sm font-medium border border-red-200",children:[l.jsx(Bs,{size:14})," Apagar"]})]})]},G)}),R.length===0&&l.jsx("div",{className:"col-span-full p-12 text-center border-2 border-dashed border-gray-200 rounded-xl text-gray-400",children:"Nenhum item encontrado nesta localizao."})]}),A&&D&&l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-bold",children:"Entregar Material"}),l.jsx("button",{onClick:()=>P(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx(na,{size:20})})]}),l.jsxs("form",{onSubmit:Y=>{Y.preventDefault();const G=Y.target;q(G.person.value,D,parseFloat(G.qty.value||"1"))},className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pessoa"}),l.jsxs("select",{name:"person",className:"w-full border rounded p-2 bg-white text-gray-900",children:[l.jsx("option",{value:"",children:"Selecione"}),g.map(Y=>l.jsx("option",{value:Y.id,children:Y.name},Y.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantidade"}),l.jsx("input",{name:"qty",type:"number",step:"0.01",defaultValue:1,className:"w-full border rounded p-2 bg-white text-gray-900"})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx("button",{type:"button",onClick:()=>P(!1),className:"px-4 py-2 rounded border",children:"Cancelar"}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-emerald-600 text-white rounded",children:"Registrar"})]})]})]})})]})},une=()=>{const{currentUser:e,getWorkersByManager:t,getWorkersByLocation:r,performanceRecords:n,savePerformanceRecord:i,locations:s,selectedDepartmentId:c,allUsers:d,isAdminOrGM:f}=$r(),[h,p]=w.useState("register"),[g,v]=w.useState(new Date().toISOString().split("T")[0]),[x,j]=w.useState(null),[_,N]=w.useState({status:ut.FULL_DAY,production:0,notes:""}),[S,O]=w.useState(()=>{const B=new Date;return B.setDate(1),B.toISOString().split("T")[0]}),[A,P]=w.useState(new Date().toISOString().split("T")[0]),D=(B,K=g)=>n.find(M=>M.workerId===B&&M.date===K),T=B=>{switch(B){case ut.FULL_DAY:return"D";case ut.HALF_DAY:return"D/2";case ut.ABSENT:return"F";default:return B}},R=B=>{switch(B){case ut.FULL_DAY:return"text-green-600 bg-green-50 border-green-200";case ut.HALF_DAY:return"text-orange-600 bg-orange-50 border-orange-200";case ut.ABSENT:return"text-red-600 bg-red-50 border-red-200";default:return"text-gray-600"}},q=B=>{const K=D(B.id);if(K&&!f){alert("Apenas Administradores podem alterar registros j submetidos.");return}j(B.id),N(K?{status:K.status,production:K.production,notes:K.notes||""}:{status:ut.FULL_DAY,production:B.defaultDailyGoal||0,notes:""})},Y=B=>{const K=D(B.id);if(K&&!f||!confirm(`Confirmar "Falta" (F) para ${B.name} na data ${g}?`))return;const M={id:(K==null?void 0:K.id)||`perf-${Date.now()}-${B.id}`,workerId:B.id,date:g,status:ut.ABSENT,production:0,notes:"Falta Registrada (Rpido)"};i(M)},G=B=>{const K=D(B.id),M={id:(K==null?void 0:K.id)||`perf-${Date.now()}-${B.id}`,workerId:B.id,date:g,status:_.status,production:_.status===ut.ABSENT?0:_.production,notes:_.notes};i(M),j(null)},U=()=>{let B=[];if((e==null?void 0:e.role)===Ee.ADMIN){const K=d.filter(M=>M.role===Ee.WORKER);if(c){const M=s.filter(re=>re.parentId===c).map(re=>re.id),H=[c,...M];B=K.filter(re=>re.locationId&&H.includes(re.locationId))}else B=K}else B=e?t(e.id):[];return B.sort((K,M)=>K.name.localeCompare(M.name)),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-2",children:[l.jsx($o,{size:14})," Registros salvos s podem ser alterados pela Administrao."]}),l.jsxs("div",{className:"flex items-center gap-2 bg-white p-2 rounded-lg border border-gray-200 shadow-sm",children:[l.jsx(Ed,{size:18,className:"text-gray-400"}),l.jsx("input",{type:"date",value:g,onChange:K=>v(K.target.value),className:"text-sm font-medium text-gray-700 outline-none bg-white"})]})]}),B.length===0?l.jsxs("div",{className:"text-center p-8 bg-white rounded-xl border border-dashed border-gray-300 text-gray-400",children:[l.jsx(fp,{size:48,className:"mx-auto mb-2 opacity-20"}),l.jsx("p",{children:"Nenhum trabalhador encontrado para o filtro atual."})]}):B.map(K=>{const M=D(K.id),H=x===K.id,re=K.defaultDailyGoal||0,be=!!M&&!f;return l.jsx("div",{className:`bg-white rounded-xl border transition-all ${H?"border-blue-500 shadow-md ring-1 ring-blue-500":"border-gray-200 shadow-sm hover:border-blue-300"}`,children:l.jsxs("div",{className:"p-4 flex flex-col md:flex-row items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-3 w-full md:w-1/4",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center text-slate-600 font-bold shrink-0",children:K.name.charAt(0)}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-gray-900",children:K.name}),l.jsx("p",{className:"text-xs text-gray-500",children:K.jobTitle||"Operrio"})]})]}),l.jsx("div",{className:"flex-1 w-full",children:H?l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx("div",{className:"flex gap-2",children:[ut.FULL_DAY,ut.HALF_DAY,ut.ABSENT].map(Se=>l.jsx("button",{onClick:()=>N({..._,status:Se}),className:`flex-1 py-2 px-3 rounded border text-sm font-bold transition-all ${_.status===Se?"bg-blue-600 text-white border-blue-600 shadow-md":"bg-white text-gray-600 border-gray-200 hover:bg-gray-50"}`,children:T(Se)},Se))}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"text-[10px] uppercase text-gray-400 font-bold mb-1 block",children:"Produo"}),l.jsx("input",{type:"number",min:"0",disabled:_.status===ut.ABSENT,className:"w-full p-2 border border-gray-300 rounded focus:border-blue-500 outline-none text-sm font-semibold disabled:bg-gray-100 disabled:text-gray-400 bg-white text-gray-900",value:_.production,onChange:Se=>N({..._,production:parseFloat(Se.target.value)})})]}),l.jsxs("div",{className:"text-xs text-gray-400 pt-5",children:["Meta: ",re]})]})]}):l.jsxs("div",{className:"flex items-center justify-between md:justify-around w-full",children:[l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("span",{className:"text-[10px] text-gray-400 uppercase font-bold",children:"Estado"}),l.jsx("span",{className:`px-3 py-1 rounded text-sm font-bold border mt-1 ${M?R(M.status):"bg-gray-100 text-gray-400"}`,children:M?T(M.status):"-"})]}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("span",{className:"text-[10px] text-gray-400 uppercase font-bold",children:"Produo"}),l.jsxs("div",{className:"mt-1 flex items-baseline gap-1",children:[l.jsx("span",{className:"text-lg font-bold text-gray-900",children:M?M.production:"-"}),l.jsxs("span",{className:"text-xs text-gray-400",children:["/ ",re]})]})]})]})}),l.jsx("div",{className:"w-full md:w-auto flex justify-end gap-2 mt-2 md:mt-0",children:H?l.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[l.jsx("button",{onClick:()=>j(null),className:"flex-1 md:flex-none px-3 py-2 text-sm text-gray-500 hover:bg-gray-100 rounded border border-gray-200",children:"Cancelar"}),l.jsxs("button",{onClick:()=>G(K),className:"flex-1 md:flex-none px-4 py-2 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center justify-center gap-2",children:[l.jsx(nc,{size:14})," Salvar"]})]}):l.jsxs(l.Fragment,{children:[!be&&l.jsxs("button",{onClick:()=>Y(K),className:"px-3 py-2 text-sm border border-red-200 text-red-700 bg-red-50 rounded hover:bg-red-100 transition flex items-center gap-1",title:"Registrar Falta",children:[l.jsx(im,{size:14})," ",l.jsx("span",{className:"hidden sm:inline",children:"Falta"})]}),be?l.jsxs("button",{disabled:!0,className:"px-4 py-2 text-sm border border-gray-100 bg-gray-50 text-gray-400 rounded flex items-center gap-2 cursor-not-allowed",children:[l.jsx($o,{size:12})," Registrado"]}):l.jsx("button",{onClick:()=>q(K),className:`px-4 py-2 text-sm border rounded hover:bg-gray-50 transition ${M?"border-gray-300 text-gray-700":"border-blue-200 text-blue-600 bg-blue-50"}`,children:M?"Editar":"Registrar"})]})})]})},K.id)})]})},z=w.useMemo(()=>{const B=d.filter(L=>L.role===Ee.WORKER);let K=B;if(!e||e.role!==Ee.ADMIN){const L=[(e==null?void 0:e.locationId)||"",...s.filter(ee=>ee.parentId===(e==null?void 0:e.locationId)).map(ee=>ee.id)];K=B.filter(ee=>ee.locationId&&L.includes(ee.locationId))}else if(c){const L=s.filter(je=>je.parentId===c).map(je=>je.id),ee=[c,...L];K=B.filter(je=>je.locationId&&ee.includes(je.locationId))}const M=K.map(L=>{var Q;const ee=n.filter(ue=>ue.workerId===L.id&&ue.date>=S&&ue.date<=A),je=ee.filter(ue=>ue.status===ut.FULL_DAY).length,Ne=ee.filter(ue=>ue.status===ut.HALF_DAY).length,Ie=ee.filter(ue=>ue.status===ut.ABSENT).length,Oe=ee.reduce((ue,oe)=>ue+(oe.production||0),0),ke=je+Ne,dt=ke>0?(Oe/ke).toFixed(1):"0",$=((Q=s.find(ue=>ue.id===L.locationId))==null?void 0:Q.name)||"N/A";return{worker:L,locationName:$,dCount:je,halfCount:Ne,fCount:Ie,totalProduction:Oe,avgProduction:parseFloat(dt)}}),H=M.reduce((L,ee)=>L+ee.totalProduction,0),re=M.reduce((L,ee)=>L+ee.fCount,0),be=M.reduce((L,ee)=>L+ee.dCount,0),Se=M.reduce((L,ee)=>L+ee.halfCount,0);return{rows:M,globalTotalProduction:H,globalAbsences:re,globalD:be,globalHalf:Se,totalWorkers:M.length}},[d,n,s,e,c,S,A]),J=()=>{const{rows:B,globalTotalProduction:K,globalAbsences:M,globalD:H,globalHalf:re}=z,be=[...B].sort((L,ee)=>ee.totalProduction-L.totalProduction).slice(0,5),Se=[{name:"Dias Completos (D)",value:H,color:"#22c55e"},{name:"Meios Dias (D/2)",value:re,color:"#f97316"},{name:"Faltas (F)",value:M,color:"#ef4444"}].filter(L=>L.value>0);return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm flex flex-col md:flex-row items-center gap-4 justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[l.jsx(pD,{size:18}),l.jsx("span",{className:"font-semibold text-sm",children:"Filtro de Perodo:"})]}),l.jsxs("div",{className:"flex items-center gap-3 w-full md:w-auto",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-[10px] text-gray-400 font-bold uppercase",children:"De"}),l.jsx("input",{type:"date",value:S,onChange:L=>O(L.target.value),className:"border rounded px-2 py-1 text-sm bg-gray-50 text-gray-900 focus:outline-blue-500"})]}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-[10px] text-gray-400 font-bold uppercase",children:"At"}),l.jsx("input",{type:"date",value:A,onChange:L=>P(L.target.value),className:"border rounded px-2 py-1 text-sm bg-gray-50 text-gray-900 focus:outline-blue-500"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-100 shadow-sm",children:[l.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase",children:"Produo Total"}),l.jsx("h3",{className:"text-3xl font-bold text-blue-600 mt-1",children:K}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"rvores no perodo"})]}),l.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-100 shadow-sm",children:[l.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase",children:"Total de Faltas"}),l.jsx("h3",{className:"text-3xl font-bold text-red-600 mt-1",children:M}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Ocorrncias 'F'"})]}),l.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-100 shadow-sm",children:[l.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase",children:"Assiduidade Total"}),l.jsx("h3",{className:"text-3xl font-bold text-green-600 mt-1",children:H+re}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Dias trabalhados (D + D/2)"})]}),l.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-100 shadow-sm",children:[l.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase",children:"Mdia Geral"}),l.jsx("h3",{className:"text-3xl font-bold text-gray-800 mt-1",children:(K/(H+re||1)).toFixed(1)}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"rvores / Dia Trabalhado"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm h-80",children:[l.jsxs("h4",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2",children:[l.jsx(gw,{className:"rotate-180 text-green-600"})," Top 5 Produtores"]}),l.jsx(ld,{width:"100%",height:"90%",children:l.jsxs(gj,{data:be,layout:"vertical",margin:{left:40,right:20},children:[l.jsx(ig,{strokeDasharray:"3 3",horizontal:!1}),l.jsx(sg,{type:"number",hide:!0}),l.jsx(og,{type:"category",dataKey:"worker.name",width:100,tick:{fontSize:10}}),l.jsx(xd,{}),l.jsx(ag,{dataKey:"totalProduction",fill:"#3b82f6",radius:[0,4,4,0],children:be.map((L,ee)=>l.jsx(Fs,{fill:ee===0?"#f59e0b":"#3b82f6"},`cell-${ee}`))})]})})]}),l.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm h-80 flex flex-col",children:[l.jsxs("h4",{className:"font-bold text-gray-800 mb-2 flex items-center gap-2",children:[l.jsx(T$,{className:"text-purple-600"})," Distribuio de Presena"]}),l.jsx("div",{className:"flex-1 w-full",children:l.jsx(ld,{width:"100%",height:"100%",children:l.jsxs(dI,{children:[l.jsx(lj,{data:Se,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:Se.map((L,ee)=>l.jsx(Fs,{fill:L.color},`cell-${ee}`))}),l.jsx(xd,{}),l.jsx(eR,{})]})})})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[l.jsx("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:l.jsxs("h3",{className:"font-bold text-gray-800 flex items-center gap-2",children:[l.jsx(Va,{size:18})," Detalhe por Funcionrio"]})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left text-sm",children:[l.jsx("thead",{className:"bg-white text-xs text-gray-500 uppercase font-semibold border-b border-gray-200",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-4",children:"Funcionrio"}),l.jsx("th",{className:"px-6 py-4",children:"Localizao"}),l.jsx("th",{className:"px-6 py-4 text-center text-green-700 bg-green-50/50",children:"D (Dias)"}),l.jsx("th",{className:"px-6 py-4 text-center text-orange-700 bg-orange-50/50",children:"D/2 (Meios)"}),l.jsx("th",{className:"px-6 py-4 text-center text-red-700 bg-red-50/50",children:"F (Faltas)"}),l.jsx("th",{className:"px-6 py-4 text-right",children:"Total Produo"}),l.jsx("th",{className:"px-6 py-4 text-right",children:"Mdia / Dia"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-100",children:B.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-400",children:"Nenhum dado no perodo."})}):B.map(L=>l.jsxs("tr",{className:"hover:bg-slate-50 transition",children:[l.jsx("td",{className:"px-6 py-4 font-medium text-gray-900",children:L.worker.name}),l.jsx("td",{className:"px-6 py-4 text-gray-600",children:L.locationName}),l.jsx("td",{className:"px-6 py-4 text-center font-bold text-green-700 bg-green-50/30",children:L.dCount}),l.jsx("td",{className:"px-6 py-4 text-center font-bold text-orange-700 bg-orange-50/30",children:L.halfCount}),l.jsx("td",{className:"px-6 py-4 text-center font-bold text-red-700 bg-red-50/30",children:L.fCount}),l.jsx("td",{className:"px-6 py-4 text-right font-bold text-blue-700",children:L.totalProduction}),l.jsx("td",{className:"px-6 py-4 text-right text-gray-600",children:L.avgProduction})]},L.worker.id))})]})})]})]})};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-end gap-4 border-b border-gray-200 pb-2",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Desempenho Operacional"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Controle de produo florestal e assiduidade."})]}),l.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg",children:[l.jsx("button",{onClick:()=>p("register"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${h==="register"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(wa,{size:16}),"Registo Dirio"]})}),l.jsx("button",{onClick:()=>p("report"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${h==="report"?"bg-white text-purple-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(l8,{size:16}),"Relatrio Geral"]})})]})]}),h==="register"?U():J()]})},dne=()=>{var $;const{allUsers:e,locations:t,addUser:r,updateUser:n,deleteUser:i,performanceRecords:s,savePerformanceRecord:c,payrollParams:d,updatePayrollParams:f,isAdminOrGM:h,createFicha:p,items:g,inventory:v,fichasIndividuais:x}=$r(),[j,_]=w.useState(""),[N,S]=w.useState(null),[O,A]=w.useState(null),[P,D]=w.useState("summary"),[T,R]=w.useState(!1),[q,Y]=w.useState(null),[G,U]=w.useState({name:"",email:"",password:"",role:Ee.WORKER,locationId:null,jobTitle:"",defaultDailyGoal:10,dailyRate:236.5,halfDayRate:118,absencePenalty:95,bonusPerUnit:10}),[z,J]=w.useState({}),[B,K]=w.useState({date:new Date().toISOString().split("T")[0],status:ut.FULL_DAY,production:0,notes:""}),[M,H]=w.useState(!1),re=e.filter(Q=>{var ue;return Q.name.toLowerCase().includes(j.toLowerCase())||((ue=Q.jobTitle)==null?void 0:ue.toLowerCase().includes(j.toLowerCase()))}),be=async Q=>{if(Q.preventDefault(),!G.locationId){S({type:"info",message:"Selecione um departamento/localizao."});return}try{const ue={name:G.name,email:G.email,password:G.password,role:G.role,locationId:G.locationId||void 0,jobTitle:G.jobTitle,defaultDailyGoal:G.role===Ee.WORKER?G.defaultDailyGoal:void 0,dailyRate:G.role===Ee.WORKER?G.dailyRate:void 0,halfDayRate:G.role===Ee.WORKER?G.halfDayRate:void 0,absencePenalty:G.role===Ee.WORKER?G.absencePenalty:void 0,bonusPerUnit:G.role===Ee.WORKER?G.bonusPerUnit:void 0};await r(ue),S({type:"success",message:"Funcionrio adicionado com sucesso!"}),setTimeout(()=>S(null),3e3),U({name:"",email:"",password:"",role:Ee.WORKER,locationId:null,jobTitle:"",defaultDailyGoal:10,dailyRate:236.5,halfDayRate:118,absencePenalty:95,bonusPerUnit:10})}catch(ue){S({type:"error",message:`Erro ao adicionar funcionrio: ${ue instanceof Error?ue.message:String(ue)}`})}},Se=Q=>{A(Q),D("summary"),J({defaultDailyGoal:Q.defaultDailyGoal,dailyRate:Q.dailyRate,halfDayRate:Q.halfDayRate,absencePenalty:Q.absencePenalty,bonusPerUnit:Q.bonusPerUnit,role:Q.role,jobTitle:Q.jobTitle}),K(ue=>({...ue,production:Q.defaultDailyGoal||0})),H(!1)},L=()=>{if(h&&O){const Q={...O,...z};n(Q),A(Q),S({type:"success",message:"Configuraes atualizadas com sucesso!"}),setTimeout(()=>S(null),3e3)}},ee=Q=>{Y(Q),R(!0)},je=async()=>{q&&(await i(q.id),R(!1),Y(null),A(null))},[Ne,Ie]=Ba.useState([]),[Oe,ke]=Ba.useState(!1);Ba.useEffect(()=>{O&&P==="entregas"&&(ke(!0),yj(async()=>{const{getEmployeeDeliveries:Q}=await import("./employeeDeliveryService-CVu-LO4A.js");return{getEmployeeDeliveries:Q}},[]).then(({getEmployeeDeliveries:Q})=>{Q(O.id).then(Ie).catch(()=>Ie([])).finally(()=>ke(!1))}))},[O,P]);const dt=()=>{if(!O)return null;const Q=new Date().toISOString().slice(0,7),ue=s.filter(Ae=>Ae.workerId===O.id),oe=ue.filter(Ae=>Ae.date.startsWith(Q)),Je=oe.filter(Ae=>Ae.status===ut.FULL_DAY).length,Le=oe.filter(Ae=>Ae.status===ut.HALF_DAY).length,mt=oe.filter(Ae=>Ae.status===ut.ABSENT).length,lt=oe.reduce((Ae,et)=>Ae+(et.production||0),0),hr=(Je+Le*.5)*(O.defaultDailyGoal||0),xt=Je*(O.dailyRate||0)+Le*(O.halfDayRate||0),An=Math.max(0,lt-hr)*(O.bonusPerUnit||0),$t=mt*(O.absencePenalty||0),Wa=xt+An-$t;if(P==="summary")return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-100 shadow-sm",children:[l.jsxs("h4",{className:"font-bold text-gray-700 mb-3 flex items-center gap-2",children:[l.jsx(rd,{size:18,className:"text-blue-500"})," Este Ms (",Q,")"]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between border-b border-gray-50 pb-2",children:[l.jsx("span",{className:"text-gray-500 text-sm",children:"Dias Trabalhados"}),l.jsxs("span",{className:"font-bold text-gray-800",children:[Je," ",l.jsxs("span",{className:"text-xs font-normal text-gray-400",children:["(",Le," meios)"]})]})]}),l.jsxs("div",{className:"flex justify-between border-b border-gray-50 pb-2",children:[l.jsx("span",{className:"text-gray-500 text-sm",children:"Produo Real"}),l.jsxs("span",{className:`font-bold ${lt>=hr?"text-green-600":"text-orange-500"}`,children:[lt," ",l.jsxs("span",{className:"text-xs text-gray-400",children:["/ ",hr," meta"]})]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-500 text-sm",children:"Faltas"}),l.jsx("span",{className:"font-bold text-red-500",children:mt})]})]})]}),l.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-100 shadow-sm",children:[l.jsxs("h4",{className:"font-bold text-gray-700 mb-3 flex items-center gap-2",children:[l.jsx(zn,{size:18,className:"text-green-500"})," Salrio Previsto"]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between border-b border-gray-50 pb-2",children:[l.jsx("span",{className:"text-gray-500 text-sm",children:"Base Calculada"}),l.jsxs("span",{className:"font-medium text-gray-800",children:[xt.toFixed(2)," MT"]})]}),l.jsxs("div",{className:"flex justify-between border-b border-gray-50 pb-2",children:[l.jsx("span",{className:"text-gray-500 text-sm",children:"Bnus Produtividade"}),l.jsxs("span",{className:"font-medium text-blue-600",children:["+",An.toFixed(2)," MT"]})]}),l.jsxs("div",{className:"flex justify-between pt-1",children:[l.jsx("span",{className:"text-gray-800 font-bold text-sm",children:"Lquido Estimado"}),l.jsxs("span",{className:"font-bold text-green-700 text-lg",children:[Wa.toFixed(2)," MT"]})]})]})]})]}),l.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl border border-blue-100 flex items-start gap-3",children:[l.jsx(Ad,{className:"text-blue-600 mt-1",size:20}),l.jsxs("div",{children:[l.jsx("h5",{className:"font-bold text-blue-800",children:"Anlise de Eficincia"}),l.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["O funcionrio est com uma eficincia de ",l.jsxs("strong",{children:[hr>0?(lt/hr*100).toFixed(0):0,"%"]})," este ms.",lt>hr?" Excelente desempenho, acima da meta estabelecida.":" Ateno: Produo abaixo do esperado para os dias trabalhados."]})]})]})]});if(P==="history"){const Ae={};ue.forEach(De=>{const rt=De.date.slice(0,7);Ae[rt]||(Ae[rt]={d:0,h:0,f:0,prod:0}),De.status===ut.FULL_DAY&&Ae[rt].d++,De.status===ut.HALF_DAY&&Ae[rt].h++,De.status===ut.ABSENT&&Ae[rt].f++,Ae[rt].prod+=De.production||0});const et=Object.keys(Ae).sort().reverse();return l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left text-sm",children:[l.jsx("thead",{className:"bg-gray-50 text-gray-500 font-semibold border-b border-gray-200",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3",children:"Ms/Ano"}),l.jsx("th",{className:"px-4 py-3 text-center",children:"Dias (D)"}),l.jsx("th",{className:"px-4 py-3 text-center",children:"Faltas"}),l.jsx("th",{className:"px-4 py-3 text-right",children:"Produo"}),l.jsx("th",{className:"px-4 py-3 text-right",children:"Eficincia"}),l.jsx("th",{className:"px-4 py-3 text-center",children:"Status"})]})}),l.jsx("tbody",{children:et.map(De=>{const rt=Ae[De];return l.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[l.jsx("td",{className:"px-4 py-3 font-medium",children:De}),l.jsx("td",{className:"px-4 py-3 text-center",children:rt.d}),l.jsx("td",{className:"px-4 py-3 text-center",children:rt.f}),l.jsx("td",{className:"px-4 py-3 text-right",children:rt.prod.toFixed(0)}),l.jsxs("td",{className:"px-4 py-3 text-right",children:[(rt.prod/(rt.d+rt.h+rt.f)||0).toFixed(1)," un/dia"]}),l.jsx("td",{className:"px-4 py-3 text-center",children:l.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded",children:"Fechado"})})]},De)})})]})})}if(P==="daily"){const Ae=[...ue].sort((De,rt)=>(rt.date||"").localeCompare(De.date||"")),et=async()=>{if(O)try{await c({id:crypto.randomUUID(),workerId:O.id,date:B.date,status:B.status,production:Number(B.production),notes:B.notes}),S({type:"success",message:"Registo dirio salvo com sucesso!"}),H(!1),setTimeout(()=>S(null),3e3)}catch(De){S({type:"error",message:`Erro ao salvar: ${De.message}`})}};return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center bg-blue-50 p-4 rounded-xl border border-blue-100",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-blue-800",children:"Registo Dirio"}),l.jsxs("p",{className:"text-xs text-blue-600",children:["Histrico de presenas e produo de ",O.name]})]}),l.jsxs("button",{onClick:()=>H(!M),className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-1.5 px-3 rounded text-sm flex items-center gap-1 transition-colors",children:[M?l.jsx(na,{size:16}):l.jsx(dn,{size:16}),M?"Cancelar":"Novo Registo"]})]}),M&&l.jsxs("div",{className:"bg-white border text-sm border-blue-200 p-4 rounded-xl shadow-sm mb-4",children:[l.jsxs("h5",{className:"font-bold text-gray-700 mb-3",children:["Lanar Registo (",fr(B.date),")"]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Data"}),l.jsx("input",{type:"date",className:"w-full border rounded p-2",value:B.date,onChange:De=>K({...B,date:De.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Presena"}),l.jsxs("select",{className:"w-full border rounded p-2",value:B.status,onChange:De=>K({...B,status:De.target.value}),children:[l.jsx("option",{value:ut.FULL_DAY,children:"Dia Completo (D)"}),l.jsx("option",{value:ut.HALF_DAY,children:"Meio Dia (D/2)"}),l.jsx("option",{value:ut.ABSENT,children:"Falta (F)"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Produo (un)"}),l.jsx("input",{type:"number",className:"w-full border rounded p-2",value:B.production,onChange:De=>K({...B,production:Number(De.target.value)})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Notas"}),l.jsx("input",{type:"text",className:"w-full border rounded p-2 placeholder-gray-300",placeholder:"Opcional",value:B.notes,onChange:De=>K({...B,notes:De.target.value})})]})]}),l.jsx("div",{className:"flex justify-end",children:l.jsxs("button",{onClick:et,className:"bg-blue-600 text-white font-medium px-4 py-2 rounded flex items-center gap-2 hover:bg-blue-700",children:[l.jsx(nc,{size:16})," Salvar Registo"]})})]}),l.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto pr-2 custom-scrollbar",children:Ae.length===0?l.jsx("p",{className:"text-gray-400 text-sm text-center py-4",children:"Nenhum registo dirio encontrado."}):Ae.map(De=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border border-gray-100 rounded-lg shadow-sm hover:border-blue-200 transition",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"bg-gray-100 text-gray-600 text-xs font-bold px-2 py-1 rounded border border-gray-200",children:fr(De.date,{dateOnly:!0})}),l.jsx("div",{className:`text-xs font-bold px-2 py-0.5 rounded uppercase w-10 text-center ${De.status==="D"?"bg-green-100 text-green-700":De.status==="D/2"?"bg-orange-100 text-orange-700":"bg-red-100 text-red-700"}`,children:De.status})]}),l.jsxs("div",{className:"flex items-center gap-6",children:[l.jsxs("div",{className:"text-sm",children:[l.jsx("span",{className:"text-gray-400 text-xs mr-2",children:"PRODUO"}),l.jsx("span",{className:"font-bold text-gray-800",children:De.production})]}),De.notes&&l.jsxs("div",{className:"text-xs text-gray-500 italic max-w-[150px] truncate",title:De.notes,children:['"',De.notes,'"']})]})]},De.id))})]})}if(P==="financial"){const Ae=[];return ue.forEach(et=>{const De=et.date.slice(0,7);Ae.includes(De)||Ae.push(De)}),Ae.sort().reverse(),Ae.includes(Q)||Ae.unshift(Q),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-green-50 p-4 rounded-xl border border-green-100 flex items-start gap-3",children:[l.jsx(zn,{className:"text-green-600 mt-1",size:20}),l.jsxs("div",{children:[l.jsx("h5",{className:"font-bold text-green-800",children:"Histrico de Fechos Salariais"}),l.jsx("p",{className:"text-sm text-green-700 mt-1",children:"Para cada ms em que o funcionrio teve actividade registada,  apresentado o valor estimado do salrio considerando dias trabalhados, faltas e produo."})]})]}),Ae.length===0?l.jsx("p",{className:"text-sm text-gray-500 text-center py-6",children:"Nenhuma informao financeira disponvel para este funcionrio."}):l.jsx("div",{className:"space-y-3",children:Ae.map(et=>{const De=et===Q,rt=ue.filter(it=>it.date.startsWith(et)),Pr=rt.filter(it=>it.status===ut.FULL_DAY).length,Bn=rt.filter(it=>it.status===ut.HALF_DAY).length,bn=rt.filter(it=>it.status===ut.ABSENT).length,qn=rt.reduce((it,Gr)=>it+(Gr.production||0),0),Aa=(Pr+Bn*.5)*(O.defaultDailyGoal||0),Dr=Pr*(O.dailyRate||0)+Bn*(O.halfDayRate||0),Zt=Math.max(0,qn-Aa)*(O.bonusPerUnit||0),Bt=bn*(O.absencePenalty||0),ge=Dr+Zt-Bt;return l.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between p-4 bg-white border border-gray-200 rounded-xl shadow-sm gap-4",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center shrink-0 ${De?"bg-blue-100 text-blue-600":"bg-green-100 text-green-600"}`,children:l.jsx(zn,{size:20})}),l.jsxs("div",{children:[l.jsxs("h5",{className:"font-bold text-gray-800",children:["Ms: ",et]}),l.jsx("p",{className:"text-xs text-gray-500",children:De?"Ms em curso (Aberto)":"Ms Fechado"}),l.jsxs("div",{className:"text-xs text-gray-500 flex gap-2 mt-1",children:[l.jsxs("span",{children:["Base: ",Dr.toFixed(2),"MT"]}),l.jsxs("span",{children:["Bnus: ",Zt.toFixed(2),"MT"]}),l.jsxs("span",{className:"text-red-500",children:["Desc: -",Bt.toFixed(2),"MT"]})]})]})]}),l.jsxs("div",{className:"flex flex-col sm:items-end gap-2 w-full sm:w-auto",children:[l.jsxs("div",{className:"text-sm font-bold text-gray-900 border px-3 py-1 rounded bg-gray-50",children:["Total Estimado: ",l.jsxs("span",{className:"text-green-700",children:[ge.toFixed(2)," MT"]})]}),l.jsx("div",{className:"flex items-center gap-2 self-end",children:l.jsx("span",{className:`px-2 py-1 rounded-sm text-[10px] uppercase font-bold ${De?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:De?"Pendente":"Processado"})})]})]},et)})})]})}if(P==="settings")return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex justify-between items-center bg-gray-50 p-4 rounded-xl border border-gray-200",children:l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-gray-800",children:"Parametrizao do Funcionrio"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Defina o cargo, taxas de remunerao diria, metas e penalizaes por faltas para este operrio."})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 bg-white p-6 rounded-xl border border-gray-100 shadow-sm",children:[l.jsxs("div",{className:"col-span-1 md:col-span-2",children:[l.jsx("h5",{className:"font-semibold text-gray-700 mb-3 border-b pb-2 text-sm uppercase tracking-wide",children:"Informao Geral"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cargo / Funo"}),l.jsx("input",{type:"text",value:z.jobTitle||"",onChange:Ae=>J(et=>({...et,jobTitle:Ae.target.value})),className:"w-full border rounded p-2 focus:ring-2 focus:ring-blue-500 outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nvel de Acesso (Papel)"}),l.jsxs("select",{value:z.role||Ee.WORKER,onChange:Ae=>J(et=>({...et,role:Ae.target.value})),className:"w-full border rounded p-2 focus:ring-2 focus:ring-blue-500 outline-none",disabled:!h,children:[l.jsx("option",{value:Ee.WORKER,children:"Operrio"}),l.jsx("option",{value:Ee.MANAGER,children:"Gerente"}),l.jsx("option",{value:Ee.GENERAL_MANAGER,children:"Diretor Geral"}),l.jsx("option",{value:Ee.ADMIN,children:"Administrador"})]}),!h&&l.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Apenas Admins podem alterar o papel."})]})]})]}),l.jsxs("div",{className:"col-span-1 md:col-span-2",children:[l.jsx("h5",{className:"font-semibold text-gray-700 mb-3 border-b pb-2 text-sm uppercase tracking-wide mt-4",children:"Remunerao e Metas"}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Taxa Dia Completo (MT)"}),l.jsx("input",{type:"number",step:"0.5",value:z.dailyRate||0,onChange:Ae=>J(et=>({...et,dailyRate:parseFloat(Ae.target.value)})),className:"w-full border rounded p-2 focus:ring-2 focus:ring-blue-500 outline-none font-medium"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Taxa Meio Dia (MT)"}),l.jsx("input",{type:"number",step:"0.5",value:z.halfDayRate||0,onChange:Ae=>J(et=>({...et,halfDayRate:parseFloat(Ae.target.value)})),className:"w-full border rounded p-2 focus:ring-2 focus:ring-blue-500 outline-none font-medium"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 text-red-600",children:"Penalizao Falta (MT)"}),l.jsx("input",{type:"number",step:"0.5",value:z.absencePenalty||0,onChange:Ae=>J(et=>({...et,absencePenalty:parseFloat(Ae.target.value)})),className:"w-full border rounded border-red-200 p-2 focus:ring-2 focus:ring-red-500 outline-none font-medium"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Meta Produo Diria (un)"}),l.jsx("input",{type:"number",step:"1",value:z.defaultDailyGoal||0,onChange:Ae=>J(et=>({...et,defaultDailyGoal:parseFloat(Ae.target.value)})),className:"w-full border rounded p-2 focus:ring-2 focus:ring-blue-500 outline-none font-medium"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-blue-700 mb-1",children:"Bnus por Unid Extra (MT)"}),l.jsx("input",{type:"number",step:"0.5",value:z.bonusPerUnit||0,onChange:Ae=>J(et=>({...et,bonusPerUnit:parseFloat(Ae.target.value)})),className:"w-full border rounded border-blue-200 p-2 focus:ring-2 focus:ring-blue-500 outline-none font-medium text-blue-800"})]})]})]}),l.jsx("div",{className:"col-span-1 md:col-span-2 pt-4 flex justify-end",children:l.jsxs("button",{onClick:L,disabled:!h,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-lg shadow-sm flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[l.jsx(nc,{size:18}),"Salvar Configuraes"]})})]})]});if(P==="entregas")return l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex justify-between items-center bg-emerald-50 p-4 rounded-xl border border-emerald-100",children:l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-emerald-800",children:"Histrico de Entregas de Materiais"}),l.jsx("p",{className:"text-xs text-emerald-600",children:"Todas as entregas de materiais, EPIs e ferramentas registradas para este funcionrio."})]})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left text-sm",children:[l.jsx("thead",{className:"bg-gray-50 text-gray-500 font-semibold border-b border-gray-200",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3",children:"Data"}),l.jsx("th",{className:"px-4 py-3",children:"Produto"}),l.jsx("th",{className:"px-4 py-3 text-center",children:"Qtd"}),l.jsx("th",{className:"px-4 py-3 text-center",children:"Unidade"}),l.jsx("th",{className:"px-4 py-3 text-center",children:"Origem"}),l.jsx("th",{className:"px-4 py-3 text-center",children:"Observaes"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-100",children:Oe?l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"px-4 py-10 text-center text-gray-400",children:"Carregando entregas..."})}):Ne.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"px-4 py-10 text-center text-gray-400",children:"Nenhuma entrega registrada."})}):Ne.map(Ae=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-4 py-3 text-gray-600",children:Ae.delivery_date?fr(Ae.delivery_date,{dateOnly:!0}):"-"}),l.jsx("td",{className:"px-4 py-3 font-medium text-gray-800",children:Ae.item_name}),l.jsx("td",{className:"px-4 py-3 text-center font-bold text-emerald-600",children:Ae.quantity}),l.jsx("td",{className:"px-4 py-3 text-center",children:Ae.unit}),l.jsx("td",{className:"px-4 py-3 text-center",children:l.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded bg-gray-100 text-gray-600 uppercase font-bold tracking-tighter",children:Ae.origin})}),l.jsx("td",{className:"px-4 py-3 text-center text-xs text-gray-500",children:Ae.notes||"-"})]},Ae.id))})]})})]});if(P==="fichas"){const Ae=x.filter(De=>De.entidade_id===O.id).sort((De,rt)=>(rt.data||"").localeCompare(De.data)),et=async De=>{try{await p({tipo:De.tipo,entidade_id:O.id,entidade_tipo:"trabalhador",data:De.data,produto_id:De.produto_id||null,produto:De.produto||De.produto_name||"",quantidade:Number(De.quantidade)||0,unidade:De.unidade||"Unidade",observacoes:De.observacoes||"",usuario_registou:"",estado:"pendente"}),S({type:"success",message:"Ficha registada com sucesso."}),setTimeout(()=>S(null),3e3)}catch(rt){S({type:"error",message:`Erro ao registar ficha: ${(rt==null?void 0:rt.message)||String(rt)}`})}};return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{children:[l.jsxs("h4",{className:"font-bold text-gray-800",children:["Fichas de Entrega  ",O.name]}),l.jsx("p",{className:"text-sm text-gray-500",children:"Registos de entregas e requisies associadas ao funcionrio."})]})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"lg:col-span-2 bg-white p-4 rounded-xl border border-gray-100",children:[l.jsx("h5",{className:"font-semibold text-gray-700 mb-3",children:"Histrico de Fichas"}),Ae.length===0?l.jsx("div",{className:"text-sm text-gray-400",children:"Nenhuma ficha registada para este funcionrio."}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left text-sm",children:[l.jsx("thead",{className:"bg-gray-50 text-gray-500 font-semibold border-b border-gray-200",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-3 py-2",children:"Data"}),l.jsx("th",{className:"px-3 py-2",children:"Tipo"}),l.jsx("th",{className:"px-3 py-2",children:"Produto"}),l.jsx("th",{className:"px-3 py-2 text-center",children:"Qtd"}),l.jsx("th",{className:"px-3 py-2",children:"Observaes"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-100",children:Ae.map(De=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-3 py-2 text-gray-600",children:De.data}),l.jsx("td",{className:"px-3 py-2 font-medium text-gray-800",children:De.tipo}),l.jsx("td",{className:"px-3 py-2",children:De.produto_name||De.produto}),l.jsx("td",{className:"px-3 py-2 text-center font-bold text-emerald-600",children:De.quantidade}),l.jsx("td",{className:"px-3 py-2 text-sm text-gray-500",children:De.observacoes||"-"})]},De.id))})]})})]}),l.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-100 lg:col-span-1",children:[l.jsx("h5",{className:"font-semibold text-gray-700 mb-3",children:"Registar Nova Ficha"}),l.jsx(fne,{userId:O.id,items:g,inventory:v,onSave:et,onCancel:()=>{}})]})]})]})}return null};return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Recursos Humanos"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Gesto de pessoal, cadastro e configurao de salrios."})]})}),N&&l.jsx("div",{className:`p-3 rounded text-sm ${N.type==="success"?"bg-green-100 border border-green-300 text-green-800":N.type==="error"?"bg-red-100 border border-red-300 text-red-800":"bg-blue-50 border border-blue-100 text-blue-800"}`,children:N.message}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 h-fit",children:[l.jsxs("h3",{className:"font-bold text-gray-800 flex items-center gap-2 mb-4",children:[l.jsx(sm,{size:20,className:"text-blue-600"}),"Cadastrar Novo Funcionrio"]}),l.jsxs("form",{onSubmit:be,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome Completo"}),l.jsx("input",{required:!0,type:"text",className:"w-full border rounded p-2 bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 outline-none",value:G.name,onChange:Q=>U({...G,name:Q.target.value}),placeholder:"Ex: Joo da Silva"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cargo / Funo"}),l.jsx("input",{required:!0,type:"text",className:"w-full border rounded p-2 bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 outline-none",value:G.jobTitle,onChange:Q=>U({...G,jobTitle:Q.target.value}),placeholder:"Ex: Operador de Mquina"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email (para login)"}),l.jsx("input",{required:!0,type:"email",className:"w-full border rounded p-2 bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 outline-none",value:G.email,onChange:Q=>U({...G,email:Q.target.value}),placeholder:"funcionario@example.com"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Senha Inicial"}),l.jsx("input",{required:!0,type:"password",minLength:6,className:"w-full border rounded p-2 bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 outline-none",value:G.password,onChange:Q=>U({...G,password:Q.target.value}),placeholder:"Mnimo 6 caracteres"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nvel de Acesso"}),l.jsxs("select",{"aria-label":"Nvel de Acesso",className:"w-full border rounded p-2 bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 outline-none",value:G.role,onChange:Q=>U({...G,role:Q.target.value}),children:[l.jsx("option",{value:Ee.WORKER,children:"Operrio (Campo)"}),l.jsx("option",{value:Ee.MANAGER,children:"Gerente Regional"}),l.jsx("option",{value:Ee.GENERAL_MANAGER,children:"Diretor Geral"}),l.jsx("option",{value:Ee.ADMIN,children:"Administrador"})]})]}),G.role===Ee.WORKER&&l.jsxs("div",{className:"bg-gray-50 p-3 rounded border border-gray-100 space-y-3",children:[l.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase",children:"Configurao Salarial (MZN)"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Valor Dia"}),l.jsx("input",{"aria-label":"Valor Dia",title:"Valor Dia",type:"number",step:"0.1",placeholder:"0.00",className:"w-full border rounded p-1 text-sm bg-white text-gray-900",value:G.dailyRate,onChange:Q=>U({...G,dailyRate:parseFloat(Q.target.value)})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Valor Meio Dia"}),l.jsx("input",{"aria-label":"Valor Meio Dia",title:"Valor Meio Dia",type:"number",step:"0.1",placeholder:"0.00",className:"w-full border rounded p-1 text-sm bg-white text-gray-900",value:G.halfDayRate,onChange:Q=>U({...G,halfDayRate:parseFloat(Q.target.value)})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Valor Falta"}),l.jsx("input",{"aria-label":"Valor Falta",title:"Valor Falta",type:"number",step:"0.1",placeholder:"0.00",className:"w-full border rounded p-1 text-sm bg-white text-gray-900",value:G.absencePenalty,onChange:Q=>U({...G,absencePenalty:parseFloat(Q.target.value)})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Bnus (Unid)"}),l.jsx("input",{"aria-label":"Bnus (Unid)",title:"Bnus por Unidade",type:"number",step:"0.1",placeholder:"0.00",className:"w-full border rounded p-1 text-sm bg-white text-gray-900",value:G.bonusPerUnit,onChange:Q=>U({...G,bonusPerUnit:parseFloat(Q.target.value)})})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Meta Diria (Produo)"}),l.jsx("input",{"aria-label":"Meta Diria (Produo)",title:"Meta Diria",type:"number",placeholder:"0",className:"w-full border rounded p-1 text-sm bg-white text-gray-900",value:G.defaultDailyGoal,onChange:Q=>U({...G,defaultDailyGoal:parseFloat(Q.target.value)})})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Departamento / Alocao"}),l.jsxs("select",{"aria-label":"Departamento / Alocao",title:"Selecione o departamento",className:"w-full border rounded p-2 bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 outline-none",value:G.locationId||"",onChange:Q=>U({...G,locationId:Q.target.value}),children:[l.jsx("option",{value:"",children:"Selecione..."}),t.filter((Q,ue,oe)=>ue===oe.findIndex(Je=>Je.id===Q.id)).map(Q=>l.jsx("option",{value:Q.id,children:Q.name},Q.id))]})]}),l.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white font-medium py-2 rounded hover:bg-blue-700 transition shadow-sm mt-4",children:"Cadastrar"})]})]}),l.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("h3",{className:"font-bold text-gray-800 flex items-center gap-2",children:[l.jsx(fp,{size:20,className:"text-blue-600"}),"Quadro de Funcionrios (",re.length,")"]}),l.jsxs("div",{className:"relative",children:[l.jsx($s,{size:16,className:"absolute left-2.5 top-2.5 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Buscar por nome...",className:"pl-8 pr-4 py-2 border rounded-full text-sm focus:outline-none focus:border-blue-500 bg-gray-50",value:j,onChange:Q=>_(Q.target.value)})]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left border-collapse",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100 text-xs text-gray-500 uppercase",children:[l.jsx("th",{className:"px-4 py-3",children:"Nome"}),l.jsx("th",{className:"px-4 py-3",children:"Cargo"}),l.jsx("th",{className:"px-4 py-3",children:"Departamento"}),l.jsx("th",{className:"px-4 py-3 text-center",children:"Meta"}),l.jsx("th",{className:"px-4 py-3 text-center",children:"Aes"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-50",children:re.map(Q=>{var ue;return l.jsxs("tr",{className:"hover:bg-slate-50",children:[l.jsxs("td",{className:"px-4 py-3 font-medium text-gray-800 flex items-center gap-2 cursor-pointer",onClick:()=>Se(Q),children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center text-xs font-bold text-gray-600",children:Q.name.charAt(0)}),Q.name]}),l.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 cursor-pointer",onClick:()=>Se(Q),children:Q.jobTitle||"-"}),l.jsxs("td",{className:"px-4 py-3 text-sm text-gray-600 flex items-center gap-1 cursor-pointer",onClick:()=>Se(Q),children:[l.jsx($i,{size:12,className:"text-gray-400"}),(ue=t.find(oe=>oe.id===Q.locationId))==null?void 0:ue.name]}),l.jsx("td",{className:"px-4 py-3 text-sm font-bold text-gray-700 text-center cursor-pointer",onClick:()=>Se(Q),children:Q.defaultDailyGoal?Q.defaultDailyGoal:"-"}),l.jsx("td",{className:"px-4 py-3 text-center",children:l.jsx("button",{onClick:()=>Se(Q),"aria-label":`Abrir perfil de ${Q.name}`,title:`Abrir perfil de ${Q.name}`,className:"text-blue-600 hover:text-blue-800 text-xs font-medium border border-blue-200 px-2 py-1 rounded bg-blue-50",children:"Perfil"})})]},Q.id)})})]})})]})]}),O&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 overflow-hidden",children:l.jsxs("div",{className:"bg-white w-full max-w-4xl max-h-[90vh] rounded-2xl shadow-2xl flex flex-col overflow-hidden animate-in fade-in zoom-in duration-200",children:[l.jsxs("div",{className:"bg-slate-900 text-white p-6 shrink-0 flex justify-between items-start",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center text-2xl font-bold border-4 border-slate-800",children:O.name.charAt(0)}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold",children:O.name}),l.jsxs("p",{className:"text-slate-400 flex items-center gap-2",children:[l.jsx(fD,{size:14})," ",O.jobTitle," ",l.jsx("span",{className:"bg-slate-800 px-2 py-0.5 rounded text-xs text-blue-300 border border-slate-700",children:($=t.find(Q=>Q.id===O.locationId))==null?void 0:$.name})]})]})]}),l.jsxs("div",{className:"flex gap-2",children:[h&&l.jsx("button",{onClick:()=>ee(O),className:"text-red-400 hover:text-red-300 p-2 hover:bg-red-900/20 rounded transition",title:"Apagar Funcionrio",children:l.jsx(Bs,{size:20})}),l.jsx("button",{onClick:()=>A(null),className:"text-slate-400 hover:text-white p-2","aria-label":"Fechar",children:l.jsx(na,{size:24})})]})]}),l.jsxs("div",{className:"bg-slate-50 border-b border-gray-200 px-6 flex gap-6 overflow-x-auto shrink-0",children:[l.jsx("button",{onClick:()=>D("summary"),className:`py-4 text-sm font-medium border-b-2 transition ${P==="summary"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Resumo"}),l.jsx("button",{onClick:()=>D("history"),className:`py-4 text-sm font-medium border-b-2 transition ${P==="history"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Histrico Mensal"}),l.jsx("button",{onClick:()=>D("daily"),className:`py-4 text-sm font-medium border-b-2 transition ${P==="daily"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Registo Dirio"}),l.jsx("button",{onClick:()=>D("financial"),className:`py-4 text-sm font-medium border-b-2 transition ${P==="financial"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Financeiro"}),l.jsx("button",{onClick:()=>D("fichas"),className:`py-4 text-sm font-medium border-b-2 transition ${P==="fichas"?"border-emerald-600 text-emerald-600 underline":"border-transparent text-gray-500 hover:text-gray-700"}`,children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Va,{size:16})," Ficha de Entregas"]})}),l.jsx("button",{onClick:()=>D("settings"),className:`py-4 text-sm font-medium border-b-2 transition ${P==="settings"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Configuraes"})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-white",children:dt()})]})}),T&&q&&l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-6",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Confirmar Apagamento de Funcionrio"}),l.jsxs("p",{className:"text-gray-600 mb-6",children:["Tem a certeza que deseja apagar o funcionrio ",l.jsx("strong",{children:q.name}),"? Esta ao no pode ser desfeita e todos os seus dados relacionados sero removidos."]}),l.jsxs("div",{className:"flex gap-3 justify-end",children:[l.jsx("button",{onClick:()=>{R(!1),Y(null)},className:"px-4 py-2 rounded border border-gray-300 text-gray-700 hover:bg-gray-50 font-medium transition",children:"Cancelar"}),l.jsxs("button",{onClick:je,className:"px-4 py-2 rounded bg-red-600 text-white hover:bg-red-700 font-medium transition flex items-center gap-2",children:[l.jsx(Bs,{size:16})," Apagar"]})]})]})})]})},fne=({userId:e,items:t,inventory:r,onSave:n,onCancel:i})=>{const[s,c]=w.useState({tipo:"ferramentas",entidade_id:e,entidade_tipo:"trabalhador",data:new Date().toISOString().split("T")[0],produto_id:"",produto:"",quantidade:1,unidade:"Unidade",observacoes:""}),[d,f]=w.useState(""),[h,p]=w.useState(!1),g=w.useMemo(()=>d?t.filter(x=>x.name.toLowerCase().includes(d.toLowerCase())).slice(0,5):[],[t,d]),v=x=>{c({...s,produto_id:x.id,produto:x.name,unidade:x.unit||"Unidade"}),f(x.name),p(!1)};return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Procurar Produto"}),l.jsxs("div",{className:"relative",children:[l.jsx($s,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),l.jsx("input",{type:"text",value:d,onChange:x=>{f(x.target.value),p(!0)},className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl outline-none focus:ring-2 focus:ring-emerald-500",placeholder:"Ex: Enxada, Bota, Combustvel..."})]}),h&&g.length>0&&l.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-xl shadow-lg z-50",children:g.map(x=>l.jsxs("button",{onClick:()=>v(x),className:"w-full text-left p-3 hover:bg-emerald-50 border-b border-gray-50 last:border-0",children:[l.jsx("div",{className:"font-bold text-gray-800 text-sm",children:x.name}),l.jsx("div",{className:"text-[10px] text-gray-500 uppercase",children:x.category})]},x.id))})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Quantidade"}),l.jsx("input",{type:"number",step:"0.01",value:s.quantidade,onChange:x=>c({...s,quantidade:parseFloat(x.target.value)}),className:"w-full p-3 border border-gray-200 rounded-xl outline-none focus:ring-2 focus:ring-emerald-500 font-bold"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Unidade"}),l.jsx("div",{className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl text-gray-500 text-sm",children:s.unidade})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Tipo de Ficha"}),l.jsxs("select",{value:s.tipo,onChange:x=>c({...s,tipo:x.target.value}),className:"w-full p-3 border border-gray-200 rounded-xl outline-none focus:ring-2 focus:ring-emerald-500 text-sm",children:[l.jsx("option",{value:"ferramentas",children:"Ferramentas"}),l.jsx("option",{value:"pecas",children:"Peas"}),l.jsx("option",{value:"materiais",children:"Materiais"}),l.jsx("option",{value:"combustivel",children:"Combustvel"}),l.jsx("option",{value:"oleo",children:"leo"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Data"}),l.jsx("input",{type:"date",value:s.data,onChange:x=>c({...s,data:x.target.value}),className:"w-full p-3 border border-gray-200 rounded-xl outline-none focus:ring-2 focus:ring-emerald-500 text-sm"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Observaes (Opcional)"}),l.jsx("textarea",{value:s.observacoes,onChange:x=>c({...s,observacoes:x.target.value}),className:"w-full p-3 border border-gray-200 rounded-xl outline-none focus:ring-2 focus:ring-emerald-500 text-sm min-h-[80px]",placeholder:"Notas adicionais..."})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx("button",{onClick:i,className:"flex-1 py-3 bg-gray-100 text-gray-600 font-bold rounded-xl hover:bg-gray-200 uppercase text-xs tracking-widest",children:"Cancelar"}),l.jsx("button",{onClick:()=>n(s),disabled:!s.produto_id,className:"flex-[2] py-3 bg-emerald-600 text-white font-bold rounded-xl hover:bg-emerald-700 disabled:opacity-50 uppercase text-xs tracking-widest shadow-lg shadow-emerald-200",children:"Confirmar Entrega"})]})]})},hne=()=>{const{locations:e,addLocation:t,removeLocation:r,categories:n,addCategory:i,measureUnits:s,addMeasureUnit:c,itemTypes:d,addItemType:f,paymentMethods:h,addPaymentMethod:p,removePaymentMethod:g,expenseCategories:v,addExpenseCategory:x,removeExpenseCategory:j,companyInfo:_,updateCompanyInfo:N,availableCurrencies:S,defaultCurrency:O,setDefaultCurrency:A,hasPermission:P,addUser:D,resetLocalData:T}=$r(),[R,q]=w.useState("organization"),[Y,G]=w.useState(!1),[U,z]=w.useState(null),[J,B]=w.useState(_),[K,M]=w.useState(""),[H,re]=w.useState(Lr.BRANCH),[be,Se]=w.useState(""),[L,ee]=w.useState(""),[je,Ne]=w.useState(""),[Ie,Oe]=w.useState(er.ASSET),[ke,dt]=w.useState(""),[$,Q]=w.useState(""),[ue,oe]=w.useState(""),[Je,Le]=w.useState(""),[mt,lt]=w.useState(""),[Ve,hr]=w.useState(Ee.WORKER),[xt,An]=w.useState(""),[$t,Wa]=w.useState(""),Ae=P("MANAGE_SETTINGS"),et=ge=>{if(ge.preventDefault(),K.trim()!==""){const it=e.find(ce=>ce.type===Lr.CENTRAL),Gr=it?it.id:null;t(K,H,Gr),M("")}},De=ge=>{ge.preventDefault(),be.trim()!==""&&(i(be),Se(""))},rt=ge=>{ge.preventDefault(),L.trim()!==""&&(c(L),ee(""))},Pr=ge=>{ge.preventDefault(),je.trim()!==""&&(f(je,Ie),Ne(""))},Bn=ge=>{ge.preventDefault(),ke.trim()!==""&&(p(ke),dt(""))},bn=ge=>{ge.preventDefault(),$.trim()!==""&&(x($),Q(""))},qn=ge=>{ge.preventDefault(),N(J)},ui=async ge=>{if(ge.preventDefault(),!ue||!Je||!mt){z({type:"info",message:"Por favor preencha todos os campos obrigatrios."});return}if(mt.length<8){z({type:"info",message:"A senha deve ter no mnimo 8 caracteres"});return}try{await D({name:ue,email:Je,password:mt,role:Ve,locationId:xt||void 0,jobTitle:$t||void 0}),z({type:"success",message:"Usurio criado com sucesso!"}),setTimeout(()=>z(null),3e3),G(!1),oe(""),Le(""),lt(""),hr(Ee.WORKER),An(""),Wa("")}catch(it){z({type:"error",message:`Erro ao criar utilizador: ${it instanceof Error?it.message:String(it)}`})}},Aa=()=>{if(!Ae||!window.confirm("Isto ir apagar TODOS os dados locais. Continuar?"))return;if(window.prompt("Digite RESET para confirmar:")==="RESET")try{z({type:"success",message:"Dados locais reiniciados."}),setTimeout(()=>z(null),3e3)}catch(it){z({type:"error",message:`Erro ao reiniciar dados locais: ${it instanceof Error?it.message:String(it)}`})}else z({type:"info",message:"Confirmao cancelada."})},Dr=({id:ge,label:it,icon:Gr})=>l.jsxs("button",{onClick:()=>q(ge),className:`flex items-center gap-2 px-4 py-3 font-medium transition-all rounded-lg ${R===ge?"bg-emerald-600 text-white shadow-md":"text-gray-600 hover:bg-gray-100"}`,children:[Gr,l.jsx("span",{className:"hidden sm:inline",children:it})]}),Zt=()=>Y&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md p-6 max-h-96 overflow-y-auto",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("h3",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[l.jsx(sm,{className:"text-emerald-600",size:24}),"Novo Usurio"]}),l.jsx("button",{"aria-label":"Fechar modal",title:"Fechar",onClick:()=>G(!1),className:"text-gray-500 hover:text-gray-700 transition",children:l.jsx(na,{size:24})})]}),l.jsxs("form",{onSubmit:ui,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"userFullName",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Nome Completo *"}),l.jsx("input",{id:"userFullName",type:"text",value:ue,onChange:ge=>oe(ge.target.value),className:"w-full border border-gray-300 p-2.5 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-emerald-500 transition",placeholder:"Joo Silva",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"userJobTitle",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Cargo (opcional)"}),l.jsx("input",{id:"userJobTitle",type:"text",value:$t,onChange:ge=>Wa(ge.target.value),className:"w-full border border-gray-300 p-2.5 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-emerald-500 transition",placeholder:"Ex: Operador de Mquina, Gerente, etc."})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"userEmail",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email *"}),l.jsx("input",{id:"userEmail",type:"email",value:Je,onChange:ge=>Le(ge.target.value),className:"w-full border border-gray-300 p-2.5 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-emerald-500 transition",placeholder:"joao@example.com",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"userPassword",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Senha (min. 8 caracteres) *"}),l.jsx("input",{id:"userPassword",type:"password",value:mt,onChange:ge=>lt(ge.target.value),className:"w-full border border-gray-300 p-2.5 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-emerald-500 transition",placeholder:"",minLength:8,required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"userRole",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Funo *"}),l.jsxs("select",{id:"userRole",value:Ve,onChange:ge=>hr(ge.target.value),className:"w-full border border-gray-300 p-2.5 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-emerald-500 transition",required:!0,children:[l.jsx("option",{value:Ee.WORKER,children:"Trabalhador (Campo)"}),l.jsx("option",{value:Ee.MANAGER,children:"Gerente (Filial)"}),l.jsx("option",{value:Ee.GENERAL_MANAGER,children:"Diretor Geral"}),l.jsx("option",{value:Ee.ADMIN,children:"Administrador"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"userLocation",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Localizao *"}),l.jsxs("select",{id:"userLocation",value:xt,onChange:ge=>An(ge.target.value),className:"w-full border border-gray-300 p-2.5 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-emerald-500 transition",required:!0,children:[l.jsx("option",{value:"",children:"Selecione a localizao"}),e.map(ge=>l.jsx("option",{value:ge.id,children:ge.name},ge.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"userLocation",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Localizao"}),l.jsxs("select",{id:"userLocation",value:xt,onChange:ge=>An(ge.target.value),className:"w-full border border-gray-300 p-2.5 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-emerald-500 transition",children:[l.jsx("option",{value:"",children:"Nenhuma"}),e.map(ge=>l.jsx("option",{value:ge.id,children:ge.name},ge.id))]})]}),l.jsxs("div",{className:"pt-4 flex gap-3",children:[l.jsx("button",{type:"button",onClick:()=>G(!1),className:"flex-1 py-2.5 px-4 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium transition",children:"Cancelar"}),l.jsx("button",{type:"submit",className:"flex-1 py-2.5 px-4 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 font-medium transition shadow-sm",children:"Criar Usurio"})]})]})]})}),Bt=({icon:ge,title:it,description:Gr,children:ce,className:Ya=""})=>l.jsxs("div",{className:`bg-white rounded-xl border border-gray-200 p-6 shadow-sm hover:shadow-md transition ${Ya}`,children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"p-2.5 bg-gray-100 rounded-lg",children:l.jsx(ge,{size:20,className:"text-gray-700"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-gray-800",children:it}),Gr&&l.jsx("p",{className:"text-xs text-gray-500",children:Gr})]})]}),l.jsx("div",{className:"border-t border-gray-100 pt-4",children:ce})]});return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Definies"}),l.jsx("p",{className:"text-gray-500 mt-1",children:"Configure o sistema para sua operao"})]}),!Ae&&l.jsxs("div",{className:"bg-yellow-50 text-yellow-700 px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 border border-yellow-200",children:[l.jsx($o,{size:16})," Modo Visualizao"]})]}),U&&l.jsx("div",{className:`p-3 rounded text-sm ${U.type==="success"?"bg-green-100 border border-green-300 text-green-800":U.type==="error"?"bg-red-100 border border-red-300 text-red-800":"bg-blue-50 border border-blue-100 text-blue-800"}`,children:U.message}),l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-2 flex flex-wrap gap-1 md:gap-2",children:[l.jsx(Dr,{id:"organization",label:"Organizao",icon:l.jsx($i,{size:18})}),l.jsx(Dr,{id:"catalog",label:"Catlogo",icon:l.jsx(qx,{size:18})}),l.jsx(Dr,{id:"finance",label:"Financeiro",icon:l.jsx(zn,{size:18})}),P("MANAGE_USERS")&&l.jsx(Dr,{id:"admin",label:"Administrao",icon:l.jsx(fp,{size:18})})]}),R==="organization"&&l.jsxs("div",{className:"space-y-6",children:[l.jsx(Bt,{icon:nm,title:"Informaes da Empresa",description:"Dados exibidos em faturas e documentos",children:Ae?l.jsxs("form",{onSubmit:qn,className:"space-y-4",children:[l.jsx("input",{type:"text",placeholder:"Nome da Empresa",value:J.nome,onChange:ge=>B({...J,nome:ge.target.value}),className:"w-full border border-gray-300 p-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500",required:!0}),l.jsx("input",{type:"text",placeholder:"NUIT",value:J.nuit,onChange:ge=>B({...J,nuit:ge.target.value}),className:"w-full border border-gray-300 p-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500",required:!0}),l.jsx("input",{type:"text",placeholder:"Endereo",value:J.endereco,onChange:ge=>B({...J,endereco:ge.target.value}),className:"w-full border border-gray-300 p-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500",required:!0}),l.jsx("input",{type:"text",placeholder:"Contacto (Opcional)",value:J.contacto||"",onChange:ge=>B({...J,contacto:ge.target.value}),className:"w-full border border-gray-300 p-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500"}),l.jsx("button",{type:"submit",className:"w-full bg-emerald-600 text-white py-2.5 rounded-lg hover:bg-emerald-700 font-medium transition",children:"Guardar Informaes"})]}):l.jsxs("div",{className:"space-y-3 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-semibold text-gray-700",children:"Nome:"}),l.jsx("p",{className:"text-gray-600",children:_.nome})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-semibold text-gray-700",children:"NUIT:"}),l.jsx("p",{className:"text-gray-600",children:_.nuit})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-semibold text-gray-700",children:"Endereo:"}),l.jsx("p",{className:"text-gray-600",children:_.endereco})]}),_.contacto&&l.jsxs("div",{children:[l.jsx("span",{className:"font-semibold text-gray-700",children:"Contacto:"}),l.jsx("p",{className:"text-gray-600",children:_.contacto})]})]})}),l.jsxs(Bt,{icon:$i,title:"Localizaes",description:"Filiais, sucursais e equipes de campo",children:[Ae&&l.jsxs("form",{onSubmit:et,className:"mb-4 space-y-3",children:[l.jsx("input",{type:"text",placeholder:"Nome da Filial/Local",value:K,onChange:ge=>M(ge.target.value),className:"w-full border border-gray-300 p-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500"}),l.jsxs("select",{title:"Tipo de localizao","aria-label":"Tipo de localizao",value:H,onChange:ge=>re(ge.target.value),className:"w-full border border-gray-300 p-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500",children:[l.jsx("option",{value:Lr.BRANCH,children:"Filial (Branch)"}),l.jsx("option",{value:Lr.FIELD,children:"Equipe de Campo (Field)"})]}),l.jsxs("button",{type:"submit",className:"w-full bg-emerald-600 text-white py-2.5 rounded-lg hover:bg-emerald-700 font-medium transition flex items-center justify-center gap-2",children:[l.jsx(dn,{size:18})," Adicionar Local"]})]}),l.jsx("div",{className:"space-y-2",children:e.filter(ge=>ge.type!=="CENTRAL").map(ge=>l.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-3 rounded-lg border border-gray-200",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-800",children:ge.name}),l.jsx("p",{className:"text-xs text-gray-500",children:ge.type})]}),Ae&&l.jsx("button",{onClick:()=>{window.confirm(`Remover "${ge.name}"?`)&&r(ge.id)},className:"text-red-500 hover:text-red-700 p-1.5 hover:bg-red-50 rounded transition",title:"Remover",children:l.jsx(Bs,{size:18})})]},ge.id))})]})]}),R==="catalog"&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs(Bt,{icon:ko,title:"Tipos de Item",description:"Ativo (durvel) ou Consumvel",children:[Ae&&l.jsxs("form",{onSubmit:Pr,className:"mb-4 space-y-3",children:[l.jsx("input",{type:"text",placeholder:"Ex: Ferramenta Eltrica",value:je,onChange:ge=>Ne(ge.target.value),className:"w-full border border-gray-300 p-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500"}),l.jsxs("select",{title:"Comportamento do item","aria-label":"Comportamento do item",value:Ie,onChange:ge=>Oe(ge.target.value),className:"w-full border border-gray-300 p-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500",children:[l.jsx("option",{value:er.ASSET,children:"Ativo (Durvel)"}),l.jsx("option",{value:er.CONSUMABLE,children:"Consumvel"})]}),l.jsxs("button",{type:"submit",className:"w-full bg-emerald-600 text-white py-2.5 rounded-lg hover:bg-emerald-700 font-medium transition flex items-center justify-center gap-2",children:[l.jsx(dn,{size:18})," Adicionar Tipo"]})]}),l.jsx("div",{className:"space-y-2",children:d.map(ge=>l.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-3 rounded-lg",children:[l.jsx("p",{className:"font-medium text-gray-800",children:ge.name}),l.jsx("span",{className:`text-xs px-2.5 py-1 rounded-full font-semibold ${ge.behavior===er.ASSET?"bg-blue-100 text-blue-700":"bg-purple-100 text-purple-700"}`,children:ge.behavior===er.ASSET?"Ativo":"Consumvel"})]},ge.id))})]}),l.jsxs(Bt,{icon:o$,title:"Unidades de Medida",description:"Ex: Kg, Litros, Unidade",children:[Ae&&l.jsxs("form",{onSubmit:rt,className:"mb-4 flex gap-2",children:[l.jsx("input",{type:"text",placeholder:"Ex: Kg, Litros",value:L,onChange:ge=>ee(ge.target.value),className:"flex-1 border border-gray-300 p-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500"}),l.jsx("button",{type:"submit",className:"bg-emerald-600 text-white p-2.5 rounded-lg hover:bg-emerald-700 transition",title:"Adicionar",children:l.jsx(dn,{size:18})})]}),l.jsx("div",{className:"space-y-2",children:s.map((ge,it)=>l.jsx("div",{className:"bg-gray-50 p-3 rounded-lg font-medium text-gray-800 border border-gray-200",children:ge},it))})]}),l.jsxs(Bt,{icon:vD,title:"Categorias de Itens",description:"Classificao de produtos",children:[Ae&&l.jsxs("form",{onSubmit:De,className:"mb-4 flex gap-2",children:[l.jsx("input",{type:"text",placeholder:"Ex: EPI, Ferramentas",value:be,onChange:ge=>Se(ge.target.value),className:"flex-1 border border-gray-300 p-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500"}),l.jsx("button",{type:"submit",className:"bg-emerald-600 text-white p-2.5 rounded-lg hover:bg-emerald-700 transition",title:"Adicionar",children:l.jsx(dn,{size:18})})]}),l.jsx("div",{className:"space-y-2",children:n.map((ge,it)=>l.jsx("div",{className:"bg-gray-50 p-3 rounded-lg font-medium text-gray-800 border border-gray-200",children:ge},it))})]})]}),R==="finance"&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs(Bt,{icon:mD,title:"Mtodos de Pagamento",description:"Cash, Carto, Mobile Money, etc",children:[Ae&&l.jsxs("form",{onSubmit:Bn,className:"mb-4 flex gap-2",children:[l.jsx("input",{type:"text",placeholder:"Ex: PayPal, Crypto",value:ke,onChange:ge=>dt(ge.target.value),className:"flex-1 border border-gray-300 p-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500"}),l.jsx("button",{type:"submit",className:"bg-emerald-600 text-white p-2.5 rounded-lg hover:bg-emerald-700 transition",title:"Adicionar mtodo de pagamento","aria-label":"Adicionar mtodo de pagamento",children:l.jsx(dn,{size:18})})]}),l.jsx("div",{className:"space-y-2",children:h.map((ge,it)=>l.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-3 rounded-lg border border-gray-200",children:[l.jsx("p",{className:"font-medium text-gray-800",children:ge}),Ae&&l.jsx("button",{onClick:()=>g(ge),className:"text-red-500 hover:text-red-700 p-1 hover:bg-red-50 rounded transition",children:l.jsx(Bs,{size:16})})]},it))})]}),l.jsxs(Bt,{icon:zn,title:"Categorias de Despesas",description:"Classificao de gastos",children:[Ae&&l.jsxs("form",{onSubmit:bn,className:"mb-4 flex gap-2",children:[l.jsx("input",{type:"text",placeholder:"Ex: Marketing, Transporte",value:$,onChange:ge=>Q(ge.target.value),className:"flex-1 border border-gray-300 p-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500"}),l.jsx("button",{type:"submit",className:"bg-emerald-600 text-white p-2.5 rounded-lg hover:bg-emerald-700 transition",title:"Adicionar categoria de despesa","aria-label":"Adicionar categoria de despesa",children:l.jsx(dn,{size:18})})]}),l.jsx("div",{className:"space-y-2",children:v.map((ge,it)=>l.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-3 rounded-lg border border-gray-200",children:[l.jsx("p",{className:"font-medium text-gray-800",children:ge}),Ae&&l.jsx("button",{onClick:()=>j(ge),className:"text-red-500 hover:text-red-700 p-1 hover:bg-red-50 rounded transition",children:l.jsx(Bs,{size:16})})]},it))})]}),l.jsxs(Bt,{icon:S8,title:"Moeda Padro",description:"Moeda para novos documentos",className:"md:col-span-2",children:['title="Moeda padro do sistema" aria-label="Moeda padro do sistema"',Ae?l.jsxs("div",{className:"space-y-4",children:[l.jsx("select",{value:O,onChange:ge=>A(ge.target.value),className:"w-full border border-gray-300 p-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500",children:S.map(ge=>l.jsx("option",{value:ge,children:ge},ge))}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Moedas Disponveis:"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:S.map(ge=>l.jsx("span",{className:"px-3 py-1.5 bg-emerald-100 text-emerald-700 rounded-full text-sm font-semibold border border-emerald-200",children:ge},ge))})]})]}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx("p",{className:"text-3xl font-bold text-emerald-600 mb-2",children:O}),l.jsx("p",{className:"text-sm text-gray-500",children:"Moeda padro do sistema"})]})]})]}),R==="admin"&&P("MANAGE_USERS")&&l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:"Gesto de Usurios"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Criar novos usurios no sistema"})]}),l.jsxs("button",{onClick:()=>G(!0),className:"flex items-center gap-2 bg-emerald-600 text-white px-4 py-3 rounded-lg hover:bg-emerald-700 font-medium transition shadow-sm",children:[l.jsx(sm,{size:18}),"Novo Usurio"]})]})}),l.jsxs("div",{className:"bg-red-50 rounded-xl border border-red-200 p-6 shadow-sm",children:[l.jsxs("h3",{className:"font-bold text-red-700 text-lg mb-2 flex items-center gap-2",children:[l.jsx(pw,{size:20})," Danger Zone"]}),l.jsx("p",{className:"text-sm text-red-600 mb-4",children:"Aes nesta seco so irreversveis. Apagam dados locais do navegador."}),l.jsx("button",{onClick:Aa,className:"bg-red-600 text-white px-4 py-2.5 rounded-lg hover:bg-red-700 font-medium transition",children:"Resetar Dados Locais"})]}),l.jsx(Zt,{})]}),R==="admin"&&!P("MANAGE_USERS")&&l.jsxs("div",{className:"bg-yellow-50 rounded-xl border border-yellow-200 p-8 text-center",children:[l.jsx($o,{size:32,className:"mx-auto text-yellow-600 mb-2"}),l.jsx("p",{className:"text-gray-600 font-medium",children:"Acesso Restrito"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Voc no tem permisso para acessar esta seco."})]})]})},mne=()=>{const{inventory:e,items:t,locations:r,accountingEntries:n}=$r();let i=0,s=0;e.forEach(g=>{const v=t.find(x=>x.id===g.itemId);if(v){const x=g.quantity*v.price;v.type===er.ASSET?i+=x:s+=x}});const c=i+s,f=r.filter(g=>g.type===Lr.BRANCH).map(g=>{const v=r.filter(_=>_.parentId===g.id).map(_=>_.id),x=[g.id,...v];let j=0;return e.filter(_=>x.includes(_.locationId)).forEach(_=>{const N=t.find(S=>S.id===_.itemId);N&&(j+=_.quantity*N.price)}),{name:g.name.replace("Filial ",""),value:j}}),h=[{name:"Ativos (Bens Durveis)",value:i,color:"#3b82f6"},{name:"Consumveis (Em Estoque)",value:s,color:"#a855f7"}],p=g=>new Intl.NumberFormat("pt-MZ",{style:"currency",currency:"MZN"}).format(g);return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[l.jsx(gD,{className:"text-blue-600"}),"Patrimnio & Contabilidade"]}),l.jsx("p",{className:"text-sm text-gray-500",children:"Gesto financeira de ativos e estoque."})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 relative overflow-hidden",children:[l.jsxs("div",{className:"relative z-10",children:[l.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Valor Total do Patrimnio"}),l.jsx("h3",{className:"text-3xl font-bold text-gray-900 mt-2",children:p(c)}),l.jsxs("p",{className:"text-xs text-green-600 flex items-center gap-1 mt-1",children:[l.jsx(Ad,{size:12})," Posio Atual"]})]}),l.jsx(zn,{className:"absolute right-4 top-4 text-gray-100",size:80})]}),l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 relative overflow-hidden",children:[l.jsxs("div",{className:"relative z-10",children:[l.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Ativos Fixos (Mquinas/Equip.)"}),l.jsx("h3",{className:"text-3xl font-bold text-blue-600 mt-2",children:p(i)}),l.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Bens durveis da empresa"})]}),l.jsx(hD,{className:"absolute right-4 top-4 text-blue-50",size:80})]}),l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 relative overflow-hidden",children:[l.jsxs("div",{className:"relative z-10",children:[l.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Passivo Circulante (Consumveis)"}),l.jsx("h3",{className:"text-3xl font-bold text-purple-600 mt-2",children:p(s)}),l.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Estoque rotativo (EPIs, Insumos)"})]}),l.jsx(Va,{className:"absolute right-4 top-4 text-purple-50",size:80})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[l.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:"Valor de Estoque por Filial"}),l.jsx("div",{className:"h-64",children:l.jsx(ld,{width:"100%",height:"100%",children:l.jsxs(gj,{data:f,children:[l.jsx(ig,{strokeDasharray:"3 3",vertical:!1}),l.jsx(sg,{dataKey:"name",axisLine:!1,tickLine:!1,fontSize:12}),l.jsx(og,{axisLine:!1,tickLine:!1,fontSize:12,tickFormatter:g=>`MZN ${g/1e3}k`}),l.jsx(xd,{formatter:g=>p(g)}),l.jsx(ag,{dataKey:"value",fill:"#3b82f6",radius:[4,4,0,0]})]})})})]}),l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 flex flex-col items-center justify-center",children:[l.jsx("h3",{className:"font-bold text-gray-800 mb-4 w-full text-left",children:"Composio do Patrimnio"}),l.jsx("div",{className:"h-64 w-full",children:l.jsx(ld,{width:"100%",height:"100%",children:l.jsxs(dI,{children:[l.jsx(lj,{data:h,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,label:!0,children:h.map((g,v)=>l.jsx(Fs,{fill:g.color},`cell-${v}`))}),l.jsx(xd,{formatter:g=>p(g)})]})})}),l.jsxs("div",{className:"flex gap-4 text-xs mt-2",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),l.jsx("span",{children:"Ativos"})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),l.jsx("span",{children:"Consumveis"})]})]})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[l.jsx("h3",{className:"font-bold text-gray-800",children:"Histrico de Lanamentos Contbeis (Entradas)"}),l.jsx("button",{className:"text-blue-600 text-sm hover:underline",children:"Exportar Relatrio"})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left",children:[l.jsx("thead",{className:"bg-gray-50 text-xs text-gray-500 uppercase font-semibold",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-4",children:"Data"}),l.jsx("th",{className:"px-6 py-4",children:"Item"}),l.jsx("th",{className:"px-6 py-4",children:"Tipo"}),l.jsx("th",{className:"px-6 py-4",children:"Local"}),l.jsx("th",{className:"px-6 py-4 text-right",children:"Qtd"}),l.jsx("th",{className:"px-6 py-4 text-right",children:"Preo Un."}),l.jsx("th",{className:"px-6 py-4 text-right",children:"Total"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-100 text-sm",children:n.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-400",children:"Nenhum lanamento registrado recentemente."})}):n.map(g=>{var v;return l.jsxs("tr",{className:"hover:bg-slate-50",children:[l.jsx("td",{className:"px-6 py-4 text-gray-600",children:fr(g.date,{dateOnly:!0})}),l.jsx("td",{className:"px-6 py-4 font-medium text-gray-800",children:g.itemName}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold border ${g.type==="ATIVO"?"bg-blue-50 text-blue-600 border-blue-200":"bg-purple-50 text-purple-600 border-purple-200"}`,children:g.type})}),l.jsx("td",{className:"px-6 py-4 text-gray-600",children:(v=r.find(x=>x.id===g.locationId))==null?void 0:v.name}),l.jsx("td",{className:"px-6 py-4 text-right font-medium",children:g.quantity}),l.jsx("td",{className:"px-6 py-4 text-right text-gray-600",children:p(g.unitPrice)}),l.jsx("td",{className:"px-6 py-4 text-right font-bold text-gray-900",children:p(g.totalValue)})]},g.id)})})]})})]})]})},Jm=e=>{const t=e.reduce((i,s)=>i+s.quantidade*s.precoUnitario,0),r=e.reduce((i,s)=>{const c=(s.impostoPercent??16)/100;return i+s.quantidade*s.precoUnitario*c},0),n=t+r;return{subtotal:t,impostos:r,total:n}},ep=e=>e.reduce((t,r)=>t+r.valor,0),pne=e=>{const{total:t}=Jm(e.itens),r=ep(e.pagamentos);return r>=t-.1?{saldo:0,situacao:"Pago"}:r<=0?{saldo:t,situacao:"Por pagar"}:{saldo:t-r,situacao:"Pagamento parcial"}};function gne({invoice:e,onClose:t,onConfirm:r}){const[n,i]=w.useState(0),[s,c]=w.useState(Mn.CASH),[d,f]=w.useState("");if(!e)return null;const{total:h}=Jm(e.itens),p=ep(e.pagamentos),g=Math.max(0,h-p),v=()=>{if(n<=0){alert("Insira um valor vlido.");return}if(n>g+.1&&!confirm("O valor excede o saldo restante. Deseja continuar e registrar como troco/crdito?"))return;const x={data:new Date().toISOString(),valor:n,modalidade:s,referencia:d};r(x),t()};return l.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-[60] backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white w-full max-w-md rounded-xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200",children:[l.jsxs("div",{className:"bg-blue-600 p-4 flex justify-between items-center text-white",children:[l.jsxs("h3",{className:"font-bold flex items-center gap-2",children:[l.jsx(zn,{size:20})," Receber Pagamento"]}),l.jsx("button",{onClick:t,className:"hover:bg-blue-700 p-1 rounded",title:"Fechar",children:l.jsx(na,{size:20})})]}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"mb-6 bg-gray-50 p-4 rounded-lg border border-gray-100 text-center",children:[l.jsxs("p",{className:"text-gray-500 text-sm",children:["Fatura N ",e.numero]}),l.jsxs("div",{className:"flex justify-between items-end mt-2",children:[l.jsxs("div",{className:"text-left",children:[l.jsx("p",{className:"text-xs text-gray-400",children:"Total Fatura"}),l.jsxs("p",{className:"font-bold text-gray-800",children:[h.toFixed(2)," ",e.moeda]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs text-gray-400",children:"Saldo Devedor"}),l.jsxs("p",{className:"font-bold text-2xl text-red-600",children:[g.toFixed(2)," ",e.moeda]})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"payment-amount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor a Pagar"}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-3 top-2.5 text-gray-400 font-bold text-sm",children:e.moeda}),l.jsx("input",{id:"payment-amount","aria-label":"Valor a pagar",title:"Valor a pagar",type:"number",step:"0.01",className:"w-full pl-12 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none text-lg font-bold text-gray-900 bg-white",value:n===0?"":n,onChange:x=>{const j=x.target.value;i(j===""?0:parseFloat(j))},placeholder:g.toFixed(2)})]}),l.jsx("div",{className:"flex justify-end gap-2 mt-2",children:l.jsx("button",{title:"Pagar o valor total",onClick:()=>i(g),className:"text-xs bg-blue-50 text-blue-600 px-2 py-1 rounded border border-blue-100 font-medium hover:bg-blue-100",children:"Pagar Total"})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"payment-method",className:"block text-sm font-medium text-gray-700 mb-1",children:"Mtodo"}),l.jsxs("select",{id:"payment-method",title:"Mtodo de pagamento","aria-label":"Mtodo de pagamento",className:"w-full border rounded-lg p-2 bg-white text-gray-900",value:s,onChange:x=>c(x.target.value),children:[l.jsx("option",{value:"CASH",children:"Dinheiro"}),l.jsx("option",{value:"CARD",children:"POS / Carto"}),l.jsx("option",{value:"MOBILE_MONEY",children:"M-Pesa / E-Mola"}),l.jsx("option",{value:"BANK_TRANSFER",children:"Transferncia"}),l.jsx("option",{value:"CHEQUE",children:"Cheque"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"payment-ref",className:"block text-sm font-medium text-gray-700 mb-1",children:"Referncia"}),l.jsx("input",{id:"payment-ref",title:"Referncia do pagamento","aria-label":"Referncia do pagamento",type:"text",className:"w-full border rounded-lg p-2 bg-white text-gray-900",placeholder:"Ex: Talo 123",value:d,onChange:x=>f(x.target.value)})]})]}),l.jsxs("button",{title:"Confirmar recebimento",onClick:v,className:"w-full bg-green-600 text-white py-3 rounded-lg font-bold hover:bg-green-700 shadow-md flex items-center justify-center gap-2 mt-4",children:[l.jsx(wa,{size:18})," Confirmar Recebimento"]})]})]})]})})}function yne({open:e,onClose:t,initial:r,onSave:n,companyDefaults:i}){const{clients:s,registerPayment:c}=$r(),[d,f]=w.useState(()=>{var z,J,B,K,M;return{id:(r==null?void 0:r.id)||`doc-${Date.now()}`,numero:(r==null?void 0:r.numero)||i.gerarNumero(),tipo:(r==null?void 0:r.tipo)??"FATURA",status:(r==null?void 0:r.status)??"RASCUNHO",locationId:(r==null?void 0:r.locationId)||i.locationId,empresa:i.empresa,cliente:{nome:((z=r==null?void 0:r.cliente)==null?void 0:z.nome)??"",nuit:((J=r==null?void 0:r.cliente)==null?void 0:J.nuit)??"",endereco:((B=r==null?void 0:r.cliente)==null?void 0:B.endereco)??"",contacto:((K=r==null?void 0:r.cliente)==null?void 0:K.contacto)??"",id:(M=r==null?void 0:r.cliente)==null?void 0:M.id},itens:(r==null?void 0:r.itens)??[],pagamentos:(r==null?void 0:r.pagamentos)??[],moeda:i.moeda,dataEmissao:(r==null?void 0:r.dataEmissao)||new Date().toISOString().slice(0,10),vencimento:r==null?void 0:r.vencimento,observacoes:(r==null?void 0:r.observacoes)??"",createdBy:(r==null?void 0:r.createdBy)||i.userId}}),[h,p]=w.useState({descricao:"",quantidade:1,precoUnitario:0,impostoPercent:16}),[g,v]=w.useState(!1),[x,j]=w.useState(""),[_,N]=w.useState(!1),S=w.useMemo(()=>Jm(d.itens),[d.itens]),O=w.useMemo(()=>pne(d),[d]),A=w.useRef(null);if(w.useEffect(()=>{e&&!r?f({id:`doc-${Date.now()}`,numero:i.gerarNumero(),tipo:"FATURA",status:"RASCUNHO",locationId:i.locationId,empresa:i.empresa,cliente:{nome:"",nuit:"",endereco:"",contacto:""},itens:[],pagamentos:[],moeda:i.moeda,dataEmissao:new Date().toISOString().slice(0,10),observacoes:"",createdBy:i.userId}):e&&r&&f(z=>({...z,...r}))},[e,r]),!e)return null;const P=()=>{if(!h.descricao||h.quantidade<=0)return;const z=h.impostoPercent??16;if(z<0){alert("IVA no pode ser negativo");return}if(d.status!=="RASCUNHO"){alert("No  possvel adicionar itens aps emisso da fatura");return}const J={...h,impostoPercent:z};f(B=>({...B,itens:[...B.itens,J]})),p({descricao:"",quantidade:1,precoUnitario:0,impostoPercent:16})},D=z=>{f(J=>({...J,itens:J.itens.filter((B,K)=>K!==z)}))},T=async()=>{try{const z=d.status==="RASCUNHO"?"EMITIDA":d.status,J={...d,status:z};await n(J),t()}catch(z){console.error("Erro ao emitir fatura:",z),alert("Erro ao guardar fatura. Por favor tente novamente.")}},R=z=>{f(J=>({...J,cliente:{id:z.id,nome:z.name||z.nome||"",nuit:z.nuit||"",endereco:z.address||z.endereco||"",contacto:z.contact||z.contacto||""}})),N(!1)},q=z=>{f(J=>{const B=[...J.pagamentos,z],K=B.reduce((re,be)=>re+be.valor,0),{total:M}=Jm(J.itens);let H=J.status;return K>=M-.1?H="PAGA":K>0&&(H="PAGA_PARCIAL"),{...J,pagamentos:B,status:H}}),c(d.id,z)},Y=()=>{const z=A.current;if(!z)return;z.style.display="block";const J={margin:10,filename:`Fatura_${d.numero.replace("/","-")}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}};html2pdf().set(J).from(z).save().then(()=>{z.style.display="none"})},G=()=>{var B;const z=((B=A.current)==null?void 0:B.innerHTML)??"",J=window.open("","_blank","width=800,height=900");J&&(J.document.write(`
      <html>
        <head>
          <title>${d.tipo} ${d.numero}</title>
          <style>
            body { font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; color: #333; }
            .sheet { width: 100%; max-width: 800px; margin: 0 auto; padding: 40px; }
            .header { display:flex; justify-content:space-between; margin-bottom: 30px; border-bottom: 2px solid #eee; padding-bottom: 20px; }
            .title { font-size: 24px; font-weight: bold; color: #111; text-transform: uppercase; }
            .meta { font-size: 14px; color: #666; margin-top: 5px; }
            .section-title { font-size: 12px; font-weight: bold; text-transform: uppercase; color: #888; margin-bottom: 8px; }
            table { width: 100%; border-collapse: collapse; margin-top: 20px; }
            th { text-align: left; background: #f9f9f9; padding: 10px; font-size: 12px; text-transform: uppercase; border-bottom: 1px solid #ddd; }
            td { padding: 10px; font-size: 13px; border-bottom: 1px solid #eee; }
            .right { text-align: right; }
            .totals { margin-top: 30px; display: flex; justify-content: flex-end; }
            .totals-box { width: 250px; }
            .total-row { display: flex; justify-content: space-between; padding: 5px 0; }
            .grand-total { font-weight: bold; font-size: 16px; border-top: 2px solid #333; margin-top: 10px; padding-top: 10px; }
          </style>
        </head>
        <body onload="window.print(); setTimeout(()=>window.close(), 300);">
          <div class="sheet">${z}</div>
        </body>
      </html>
    `),J.document.close())},U=s.filter(z=>(z.name||z.nome||"").toLowerCase().includes(x.toLowerCase()));return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white w-[1000px] max-h-[90vh] overflow-y-auto rounded-xl shadow-2xl flex flex-col",children:[l.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-100 bg-gray-50",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:l.jsxs("select",{"aria-label":"Tipo de documento",value:d.tipo,onChange:z=>f({...d,tipo:z.target.value}),className:"bg-transparent border-none font-bold text-xl focus:ring-0 cursor-pointer",children:[l.jsx("option",{value:"FATURA",children:"FATURA"}),l.jsx("option",{value:"COTACAO",children:"COTAO"}),l.jsx("option",{value:"PRO_FORMA",children:"PRO FORMA"}),l.jsx("option",{value:"FATURA_RECIBO",children:"FATURA RECIBO"})]})}),l.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["N ",d.numero,"  Status: ",l.jsx("span",{className:"font-bold text-blue-600",children:d.status})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{"aria-label":"Fechar modal",title:"Fechar",className:"px-3 py-2 text-gray-600 hover:bg-gray-100 rounded-lg flex items-center gap-2",onClick:t,children:l.jsx(na,{size:18})}),l.jsxs("button",{"aria-label":"Descarregar PDF",title:"Descarregar PDF",className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg flex items-center gap-2 hover:bg-gray-200",onClick:Y,children:[l.jsx(dw,{size:18})," PDF"]}),l.jsxs("button",{"aria-label":"Imprimir",title:"Imprimir",className:"px-3 py-2 bg-gray-800 text-white rounded-lg flex items-center gap-2 hover:bg-gray-900",onClick:G,children:[l.jsx(mw,{size:18})," Print"]}),l.jsxs("button",{"aria-label":"Salvar fatura",title:"Salvar e emitir",className:"px-3 py-2 bg-blue-600 text-white rounded-lg flex items-center gap-2 hover:bg-blue-700 shadow-sm",onClick:T,children:[l.jsx(nc,{size:18})," Salvar"]})]})]}),l.jsxs("div",{className:"p-8 grid grid-cols-2 gap-8",children:[l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-100",children:[l.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase mb-2",children:"Emissor (Sua Empresa)"}),l.jsxs("div",{className:"text-sm text-gray-800 space-y-1",children:[l.jsx("div",{className:"font-bold text-lg",children:d.empresa.nome}),l.jsxs("div",{children:["NUIT: ",d.empresa.nuit]}),l.jsx("div",{children:d.empresa.endereco}),d.empresa.contacto&&l.jsxs("div",{children:["Tel: ",d.empresa.contacto]})]})]}),l.jsxs("div",{className:"border border-gray-200 p-4 rounded-lg relative",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase",children:"Cliente / Destinatrio"}),d.status==="RASCUNHO"&&l.jsxs("button",{onClick:()=>N(!_),className:"text-xs text-blue-600 font-medium flex items-center gap-1",children:[l.jsx($s,{size:12})," Buscar Registrado"]})]}),_&&l.jsxs("div",{className:"absolute top-10 right-0 left-0 bg-white shadow-xl border border-gray-200 rounded-lg z-10 max-h-40 overflow-y-auto",children:[l.jsx("input",{className:"w-full p-2 text-sm border-b",placeholder:"Filtrar clientes...",autoFocus:!0,value:x,onChange:z=>j(z.target.value)}),U.map(z=>l.jsxs("div",{onClick:()=>R(z),className:"p-2 hover:bg-gray-50 cursor-pointer text-sm border-b border-gray-50",children:[l.jsx("span",{className:"font-bold",children:z.name}),l.jsx("span",{className:"text-gray-400 text-xs ml-2",children:z.nuit})]},z.id))]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsxs("div",{className:"relative",children:[l.jsx(Vu,{size:16,className:"absolute top-2.5 left-2.5 text-gray-400"}),l.jsx("input",{disabled:d.status!=="RASCUNHO",className:`border border-gray-300 p-2 pl-8 rounded text-sm w-full font-bold focus:outline-blue-500 bg-white text-gray-900 ${d.status!=="RASCUNHO"?"bg-gray-100 cursor-not-allowed opacity-60":""}`,placeholder:"Nome do cliente",value:d.cliente.nome,onChange:z=>f({...d,cliente:{...d.cliente,nome:z.target.value}})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsx("input",{disabled:d.status!=="RASCUNHO",className:`border border-gray-300 p-2 rounded text-sm bg-white text-gray-900 ${d.status!=="RASCUNHO"?"bg-gray-100 cursor-not-allowed opacity-60":""}`,placeholder:"NUIT",value:d.cliente.nuit??"",onChange:z=>f({...d,cliente:{...d.cliente,nuit:z.target.value}})}),l.jsx("input",{disabled:d.status!=="RASCUNHO",className:`border border-gray-300 p-2 rounded text-sm bg-white text-gray-900 ${d.status!=="RASCUNHO"?"bg-gray-100 cursor-not-allowed opacity-60":""}`,placeholder:"Contacto",value:d.cliente.contacto??"",onChange:z=>f({...d,cliente:{...d.cliente,contacto:z.target.value}})})]}),l.jsx("input",{disabled:d.status!=="RASCUNHO",className:`border border-gray-300 p-2 rounded text-sm bg-white text-gray-900 ${d.status!=="RASCUNHO"?"bg-gray-100 cursor-not-allowed opacity-60":""}`,placeholder:"Endereo",value:d.cliente.endereco??"",onChange:z=>f({...d,cliente:{...d.cliente,endereco:z.target.value}})})]})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("div",{className:"text-sm font-bold text-gray-800 mb-2 flex items-center gap-2",children:"Itens do Documento"}),d.status==="RASCUNHO"&&l.jsxs("div",{className:"grid grid-cols-12 gap-2 mb-4 bg-gray-50 p-2 rounded border border-gray-200 items-end",children:[l.jsxs("div",{className:"col-span-5",children:[l.jsx("label",{className:"text-[10px] text-gray-500",children:"Descrio"}),l.jsx("input",{className:"w-full border p-2 rounded text-sm bg-white text-gray-900",placeholder:"Descrio do item",value:h.descricao,onChange:z=>p({...h,descricao:z.target.value})})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("label",{className:"text-[10px] text-gray-500",children:"Qtd"}),l.jsx("input",{"aria-label":"Quantidade de item",className:"w-full border p-2 rounded text-sm bg-white text-gray-900",type:"number",min:1,value:h.quantidade,onChange:z=>p({...h,quantidade:+z.target.value})})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("label",{className:"text-[10px] text-gray-500",children:"Preo"}),l.jsx("input",{"aria-label":"Preo unitrio",className:"w-full border p-2 rounded text-sm bg-white text-gray-900",type:"number",step:"0.01",value:h.precoUnitario,onChange:z=>p({...h,precoUnitario:+z.target.value})})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsxs("label",{className:"text-[10px] text-gray-500",children:["IVA% ",l.jsx("span",{className:"text-red-500",title:"Obrigatrio 16% (MZN)",children:"*"})]}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{"aria-label":"Percentagem de imposto IVA - Obrigatrio 16% para Moambique",className:"w-full border p-2 rounded text-sm bg-white text-gray-900",type:"number",step:"0.01",value:h.impostoPercent??16,onChange:z=>p({...h,impostoPercent:+z.target.value||16})}),(h.impostoPercent??16)!==16&&l.jsx("span",{className:"text-[9px] text-orange-500 absolute -bottom-4 left-0",children:" 16%  padro em MZN"})]})]}),l.jsx("div",{className:"col-span-1",children:l.jsx("button",{"aria-label":"Adicionar item  fatura",title:"Adicionar item",className:"w-full bg-gray-800 text-white rounded p-2 flex justify-center",onClick:P,children:l.jsx(dn,{size:18})})})]}),l.jsxs("table",{className:"w-full border-collapse",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-100 border-b border-gray-200 text-xs uppercase text-gray-500 font-semibold",children:[l.jsx("th",{className:"p-3 text-left",children:"Descrio"}),l.jsx("th",{className:"p-3 text-right",children:"Qtd"}),l.jsx("th",{className:"p-3 text-right",children:"Preo"}),l.jsx("th",{className:"p-3 text-right",children:"IVA %"}),l.jsx("th",{className:"p-3 text-right",children:"Total"}),d.status==="RASCUNHO"&&l.jsx("th",{className:"p-3 w-10"})]})}),l.jsxs("tbody",{className:"text-sm",children:[d.itens.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"text-center p-4 text-gray-400",children:"Nenhum item adicionado."})}),d.itens.map((z,J)=>l.jsxs("tr",{className:"border-b border-gray-50",children:[l.jsx("td",{className:"p-3",children:z.descricao}),l.jsx("td",{className:"p-3 text-right",children:z.quantidade}),l.jsxs("td",{className:"p-3 text-right",children:[z.precoUnitario.toFixed(2)," ",d.moeda]}),l.jsxs("td",{className:"p-3 text-right",children:[(z.impostoPercent??0).toFixed(0),"%"]}),l.jsxs("td",{className:"p-3 text-right font-medium",children:[(z.quantidade*z.precoUnitario*(1+(z.impostoPercent??0)/100)).toFixed(2)," ",d.moeda]}),d.status==="RASCUNHO"&&l.jsx("td",{className:"p-3 text-right",children:l.jsx("button",{"aria-label":"Remover item",title:"Remover",onClick:()=>D(J),className:"text-red-400 hover:text-red-600",children:l.jsx(na,{size:14})})})]},J))]})]}),l.jsx("div",{className:"flex justify-end mt-4",children:l.jsxs("div",{className:"w-64 space-y-2 bg-gray-50 p-4 rounded border border-gray-100",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:"Subtotal:"})," ",l.jsxs("span",{children:[S.subtotal.toFixed(2)," ",d.moeda]})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:"Impostos:"})," ",l.jsxs("span",{children:[S.impostos.toFixed(2)," ",d.moeda]})]}),l.jsxs("div",{className:"flex justify-between text-lg font-bold border-t border-gray-200 pt-2 text-gray-900",children:[l.jsx("span",{children:"Total:"})," ",l.jsxs("span",{children:[S.total.toFixed(2)," ",d.moeda]})]}),l.jsxs("div",{className:"flex justify-between text-xs text-gray-500 pt-1",children:[l.jsx("span",{children:"Saldo a Pagar:"})," ",l.jsxs("span",{className:`${O.saldo>0?"text-red-600 font-bold":"text-green-600"}`,children:[O.saldo.toFixed(2)," ",d.moeda]})]})]})})]}),l.jsxs("div",{className:"col-span-2 border-t border-gray-200 pt-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("div",{className:"text-sm font-bold text-gray-800",children:"Pagamentos & Recebimentos"}),d.tipo!=="COTACAO"&&d.tipo!=="PRO_FORMA"&&d.status!=="CANCELADA"&&l.jsxs("button",{onClick:()=>v(!0),className:"bg-green-600 text-white px-4 py-2 rounded-lg shadow-sm hover:bg-green-700 flex items-center gap-2 text-sm font-bold",children:[l.jsx(zn,{size:16})," Receber Pagamento"]})]}),l.jsxs("table",{className:"w-full border-collapse",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-100 border-b border-gray-200 text-xs uppercase text-gray-500 font-semibold",children:[l.jsx("th",{className:"p-2 text-left",children:"Data"}),l.jsx("th",{className:"p-2 text-left",children:"Modalidade"}),l.jsx("th",{className:"p-2 text-left",children:"Ref."}),l.jsx("th",{className:"p-2 text-right",children:"Valor"})]})}),l.jsxs("tbody",{className:"text-sm",children:[d.pagamentos.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:4,className:"text-center p-2 text-gray-400 text-xs",children:"Nenhum pagamento registrado."})}),d.pagamentos.map((z,J)=>l.jsxs("tr",{className:"border-b border-gray-50",children:[l.jsx("td",{className:"p-2",children:fr(z.data,{time:!0})}),l.jsx("td",{className:"p-2",children:z.modalidade}),l.jsx("td",{className:"p-2",children:z.referencia??"-"}),l.jsxs("td",{className:"p-2 text-right font-medium text-green-600",children:[z.valor.toFixed(2)," ",d.moeda]})]},J))]})]})]})]})]})}),g&&l.jsx(gne,{invoice:d,onClose:()=>v(!1),onConfirm:q}),l.jsx("div",{className:"invoice-pdf-hidden",children:l.jsxs("div",{ref:A,className:"invoice-pdf-container",children:[l.jsxs("div",{className:"invoice-pdf-header",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"invoice-pdf-title",children:d.tipo.replace("_"," ")}),l.jsxs("div",{className:"invoice-pdf-meta",children:["N Documento: ",l.jsx("strong",{children:d.numero})]}),l.jsxs("div",{className:"invoice-pdf-meta",children:["Data Emisso: ",d.dataEmissao]}),d.vencimento&&l.jsxs("div",{className:"invoice-pdf-meta",children:["Vencimento: ",d.vencimento]})]}),l.jsxs("div",{className:"invoice-pdf-right",children:[l.jsx("div",{className:"invoice-pdf-section-title",children:"EMITIDO POR"}),l.jsx("div",{className:"invoice-pdf-company-name",children:d.empresa.nome}),l.jsxs("div",{className:"invoice-pdf-company-detail",children:["NUIT: ",d.empresa.nuit]}),l.jsx("div",{className:"invoice-pdf-company-detail",children:d.empresa.endereco}),d.empresa.contacto&&l.jsx("div",{className:"invoice-pdf-company-detail",children:d.empresa.contacto})]})]}),l.jsxs("div",{className:"invoice-pdf-client-box",children:[l.jsx("div",{className:"invoice-pdf-section-title",children:"CLIENTE"}),l.jsx("div",{className:"invoice-pdf-client-name",children:d.cliente.nome}),d.cliente.nuit&&l.jsxs("div",{className:"invoice-pdf-client-detail",children:["NUIT: ",d.cliente.nuit]}),d.cliente.endereco&&l.jsx("div",{className:"invoice-pdf-client-detail",children:d.cliente.endereco}),d.cliente.contacto&&l.jsx("div",{className:"invoice-pdf-client-detail",children:d.cliente.contacto})]}),l.jsxs("table",{className:"invoice-pdf-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Descrio"}),l.jsx("th",{children:"Qtd"}),l.jsx("th",{children:"Preo Un."}),l.jsx("th",{children:"IVA %"}),l.jsx("th",{children:"Total"})]})}),l.jsx("tbody",{children:d.itens.map((z,J)=>l.jsxs("tr",{children:[l.jsx("td",{children:z.descricao}),l.jsx("td",{children:z.quantidade}),l.jsx("td",{children:z.precoUnitario.toFixed(2)}),l.jsxs("td",{children:[(z.impostoPercent??0).toFixed(0),"%"]}),l.jsx("td",{children:(z.quantidade*z.precoUnitario*(1+(z.impostoPercent??0)/100)).toFixed(2)})]},J))})]}),l.jsx("div",{className:"invoice-pdf-totals",children:l.jsxs("div",{className:"invoice-pdf-totals-box",children:[l.jsxs("div",{className:"invoice-pdf-totals-row",children:[l.jsx("span",{children:"Subtotal:"})," ",l.jsxs("span",{children:[S.subtotal.toFixed(2)," ",d.moeda]})]}),l.jsxs("div",{className:"invoice-pdf-totals-row",children:[l.jsx("span",{children:"Impostos:"})," ",l.jsxs("span",{children:[S.impostos.toFixed(2)," ",d.moeda]})]}),l.jsxs("div",{className:"invoice-pdf-totals-total",children:[l.jsx("span",{children:"Total:"})," ",l.jsxs("span",{children:[S.total.toFixed(2)," ",d.moeda]})]}),ep(d.pagamentos)>0&&l.jsxs("div",{className:"invoice-pdf-totals-paid",children:[l.jsx("span",{children:"Valor Pago:"})," ",l.jsxs("span",{children:[ep(d.pagamentos).toFixed(2)," ",d.moeda]})]})]})}),l.jsxs("div",{className:"invoice-pdf-footer",children:[l.jsx("p",{children:"Processado por OFFICIO Software. Documento gerado eletronicamente."}),d.observacoes&&l.jsxs("p",{children:["Obs: ",d.observacoes]})]})]})})]})}const vne=()=>{const{items:e,inventory:t,currentUser:r,processSale:n,registerExpense:i,transactions:s,invoices:c,addInvoice:d,updateInvoice:f,getNextInvoiceNumber:h,hasPermission:p,locations:g,clients:v,addClient:x,updateClient:j,getClientBalance:_,companyInfo:N}=$r(),[S,O]=w.useState("terminal"),[A,P]=w.useState([]),[D,T]=w.useState("Consumidor Final"),[R,q]=w.useState(""),[Y,G]=w.useState(null),[U,z]=w.useState(Mn.CASH),[J,B]=w.useState(""),[K,M]=w.useState(""),[H,re]=w.useState(""),[be,Se]=w.useState(0),[L,ee]=w.useState(Mn.CASH),[je,Ne]=w.useState(!1),[Ie,Oe]=w.useState(void 0),[ke,dt]=w.useState(""),[$,Q]=w.useState(!1),[ue,oe]=w.useState({}),[Je,Le]=w.useState(""),[mt,lt]=w.useState(!1),[Ve,hr]=w.useState("ALL"),[xt,An]=w.useState(null),[$t,Wa]=w.useState(null),[Ae,et]=w.useState(""),[De,rt]=w.useState(1),[Pr,Bn]=w.useState(20),[bn,qn]=w.useState(null),ui=()=>{const Et=s.filter(bt=>!(r!=null&&r.locationId)||bt.locationId===r.locationId).filter(bt=>Ve==="ALL"?!0:bt.type===Ve).filter(bt=>{if(!xt&&!$t)return!0;const Tt=bt.date?bt.date.slice(0,10):"";return!(xt&&Tt<xt||$t&&Tt>$t)}).filter(bt=>{const Tt=Ae.toLowerCase();return Tt?(bt.clientName||"").toLowerCase().includes(Tt)||(bt.description||"").toLowerCase().includes(Tt)||(bt.category||"").toLowerCase().includes(Tt):!0});if(Et.length===0)return;const kr=Et.map(bt=>({id:bt.id,date:bt.date,type:bt.type,client:bt.clientName||"",description:bt.description||"",category:bt.category||"",amount:bt.amount,paymentMethod:bt.paymentMethod||"",locationId:bt.locationId||""})),At=Object.keys(kr[0]).join(",")+`
`+kr.map(bt=>Object.values(bt).map(Tt=>`"${String(Tt).replace(/"/g,'""')}"`).join(",")).join(`
`),qt=new Blob([At],{type:"text/csv;charset=utf-8;"}),tn=URL.createObjectURL(qt),as=document.createElement("a");as.href=tn,as.download=`transactions_${new Date().toISOString().slice(0,10)}.csv`,as.click(),URL.revokeObjectURL(tn)},Aa=t.filter(le=>le.locationId===(r==null?void 0:r.locationId)&&le.quantity>0).map(le=>({...e.find(vt=>vt.id===le.itemId),stockQty:le.quantity})).filter(le=>le.id&&le.name&&le.price).filter(le=>le.is_for_sale!==!1).filter(le=>{var Ke;return(Ke=le.name)==null?void 0:Ke.toLowerCase().includes(J.toLowerCase())}),Dr=le=>{P(Ke=>{const vt=Ke.find(Et=>Et.itemId===le.id);return vt?vt.quantity>=le.stockQty?Ke:Ke.map(Et=>Et.itemId===le.id?{...Et,quantity:Et.quantity+1}:Et):[...Ke,{itemId:le.id,name:le.name,quantity:1,unitPrice:le.price}]})},Zt=le=>{P(Ke=>Ke.filter(vt=>vt.itemId!==le))},Bt=(le,Ke)=>{P(vt=>vt.map(Et=>{if(Et.itemId===le){const kr=Et.quantity+Ke;if(kr<1)return Et;const wn=Aa.find(At=>At.id===le);return kr>((wn==null?void 0:wn.stockQty)||0)?Et:{...Et,quantity:kr}}return Et}))},ge=le=>{T(le.name||le.nome||""),q(le.nuit||""),G(le.id||"")},it=A.reduce((le,Ke)=>le+Ke.quantity*Ke.unitPrice,0),Gr=it*.16,ce=it+Gr,Ya=()=>{if(A.length===0)return;const le=A.map(vt=>({itemId:vt.itemId,descricao:vt.name,quantidade:vt.quantity,precoUnitario:vt.unitPrice,impostoPercent:16}));Oe({tipo:"FATURA_RECIBO",status:"PAGA",cliente:{id:Y||void 0,nome:D,nuit:R},itens:le,observacoes:"Venda via POS Terminal - Rastreabilidade: Itens do inventrio"}),lt(!0),Ne(!0)},rs=le=>{le.preventDefault(),!(be<=0)&&(i(K,H,be,L),M(""),re(""),Se(0),ee(Mn.CASH))},Xa=()=>{Oe(void 0),lt(!1),Ne(!0)},sa=le=>{Oe(le),lt(!1),Ne(!0)},ns=async le=>{qn({type:"info",message:"Gravando documento..."});try{c.find(vt=>vt.id===le.id)?await f(le):await d(le),Ne(!1),mt&&(P([]),T("Consumidor Final"),q(""),G(null),z(Mn.CASH),lt(!1)),qn({type:"success",message:"Documento guardado."}),setTimeout(()=>qn(null),3500)}catch(Ke){qn({type:"error",message:`Erro ao guardar fatura: ${(Ke==null?void 0:Ke.message)||String(Ke)}`})}},di=le=>{le.preventDefault(),ue.name&&(ue.id?j(ue):x({id:`cli-${Date.now()}`,name:ue.name,nuit:ue.nuit,contact:ue.contact,email:ue.email,address:ue.address,notes:ue.notes}),Q(!1),oe({}))},Cc=le=>{oe(le),Q(!0)},mr=le=>new Intl.NumberFormat("pt-MZ",{style:"currency",currency:"MZN"}).format(le);return g.find(le=>le.id===(r==null?void 0:r.locationId)),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex gap-2 border-b border-gray-200 pb-2 overflow-x-auto hide-scrollbar",children:[l.jsx("button",{onClick:()=>O("terminal"),className:`px-4 py-2 font-black uppercase tracking-widest text-xs rounded-full whitespace-nowrap transition-all ${S==="terminal"?"bg-emerald-600 text-black shadow-lg shadow-emerald-200":"bg-white text-slate-500 border border-slate-200 hover:bg-slate-50"}`,children:"Terminal"}),p("VIEW_INVOICES")&&l.jsxs("button",{onClick:()=>O("invoices"),className:`px-4 py-2 font-black uppercase tracking-widest text-xs rounded-full whitespace-nowrap flex items-center gap-2 transition-all ${S==="invoices"?"bg-indigo-600 text-black shadow-lg shadow-indigo-200":"bg-white text-slate-500 border border-slate-200 hover:bg-slate-50"}`,children:[l.jsx(Va,{size:16})," Documentos"]}),l.jsxs("button",{onClick:()=>O("clients"),className:`px-4 py-2 font-black uppercase tracking-widest text-xs rounded-full whitespace-nowrap flex items-center gap-2 transition-all ${S==="clients"?"bg-emerald-100 text-emerald-900 shadow-sm border border-emerald-200":"bg-white text-slate-500 border border-slate-200 hover:bg-slate-50"}`,children:[l.jsx(fp,{size:16})," Clientes"]}),l.jsx("button",{onClick:()=>O("expenses"),className:`px-4 py-2 font-black uppercase tracking-widest text-xs rounded-full whitespace-nowrap transition-all ${S==="expenses"?"bg-orange-500 text-black shadow-lg shadow-orange-200":"bg-white text-slate-500 border border-slate-200 hover:bg-slate-50"}`,children:"Despesas"}),l.jsx("button",{onClick:()=>O("history"),className:`px-4 py-2 font-black uppercase tracking-widest text-xs rounded-full whitespace-nowrap transition-all ${S==="history"?"bg-slate-900 text-white shadow-lg":"bg-white text-slate-500 border border-slate-200 hover:bg-slate-50"}`,children:"Histrico"})]}),bn&&l.jsx("div",{className:`mt-3 p-3 rounded ${bn.type==="success"?"bg-green-100 border border-green-300 text-green-800":bn.type==="error"?"bg-red-100 border border-red-300 text-red-800":"bg-blue-50 border border-blue-100 text-blue-800"}`,children:bn.message}),S==="terminal"&&l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-auto lg:h-[calc(100vh-220px)] pb-20 lg:pb-0",children:[l.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-gray-200 flex flex-col overflow-hidden h-[500px] lg:h-full",children:[l.jsx("div",{className:"p-4 border-b border-gray-100 flex gap-4 bg-white sticky top-0 z-10",children:l.jsxs("div",{className:"relative flex-1",children:[l.jsx($s,{className:"absolute left-3 top-2.5 text-gray-400",size:18}),l.jsx("input",{type:"text",placeholder:"Buscar produto...",className:"w-full pl-10 pr-4 py-2 border rounded-lg bg-gray-50 focus:outline-none focus:border-blue-500 text-gray-900",value:J,onChange:le=>B(le.target.value)})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4 grid grid-cols-2 sm:grid-cols-3 xl:grid-cols-4 gap-3 bg-gray-50",children:Aa.length===0?l.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center text-gray-400 mt-20",children:[l.jsx(hw,{size:48,className:"mb-2 opacity-30"}),l.jsx("p",{children:"Sem itens no estoque."})]}):Aa.map((le,Ke)=>l.jsxs("button",{onClick:()=>Dr(le),className:"bg-white p-3 md:p-4 rounded-xl border border-gray-100 shadow-sm hover:shadow-md hover:border-blue-300 transition text-left flex flex-col h-full active:scale-95",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2 w-full",children:[l.jsx("span",{className:"text-[10px] bg-gray-100 text-gray-600 px-1.5 py-0.5 rounded truncate max-w-[60%]",children:le.sku}),l.jsxs("span",{className:"text-[10px] font-bold text-blue-600",children:[le.stockQty," un"]})]}),l.jsx("h4",{className:"font-semibold text-gray-800 text-sm mb-auto line-clamp-2 leading-tight",children:le.name}),l.jsxs("div",{className:"mt-3 flex items-end justify-between w-full",children:[l.jsx("span",{className:"text-sm md:text-lg font-bold text-gray-900",children:mr(le.price||0)}),l.jsx("div",{className:"bg-blue-50 text-blue-600 p-1 rounded-full",children:l.jsx(dn,{size:16})})]})]},Ke))})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 flex flex-col lg:h-full order-first lg:order-last mb-4 lg:mb-0",children:[l.jsxs("div",{className:"p-4 border-b border-gray-100 bg-slate-50",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsxs("h3",{className:"font-bold text-gray-800 flex items-center gap-2",children:[l.jsx(Gx,{size:20,className:"text-blue-600"})," Carrinho (",A.length,")"]}),l.jsx("button",{onClick:()=>O("clients"),className:"text-xs text-blue-600 bg-white border border-blue-100 px-2 py-1 rounded font-medium",children:"Cliente"})]}),l.jsxs("div",{className:"mt-2 space-y-2",children:[v.length>0&&l.jsxs("select",{"aria-label":"Selecionar cliente rpido",className:"w-full border rounded p-1.5 text-sm bg-white text-gray-900",value:Y||"",onChange:le=>{const Ke=v.find(vt=>vt.id===le.target.value);Ke?ge(Ke):(G(null),T("Consumidor Final"),q(""))},children:[l.jsx("option",{value:"",children:"-- Cliente Rpido --"}),v.map(le=>l.jsx("option",{value:le.id,children:le.name},le.id))]}),l.jsx("input",{type:"text",placeholder:"Nome do Cliente",className:"w-full border rounded p-1.5 text-sm bg-white text-gray-900",value:D,onChange:le=>T(le.target.value)})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 min-h-[150px] lg:min-h-0",children:A.length===0?l.jsxs("div",{className:"text-center text-gray-400 mt-10",children:[l.jsx(Gx,{size:32,className:"mx-auto mb-2 opacity-20"}),l.jsx("p",{className:"text-sm",children:"Carrinho vazio"})]}):A.map((le,Ke)=>l.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-2 rounded-lg border border-gray-100",children:[l.jsxs("div",{className:"flex-1 min-w-0 mr-2",children:[l.jsx("h4",{className:"font-medium text-gray-800 text-sm truncate",children:le.name}),l.jsx("p",{className:"text-xs text-blue-600 font-bold",children:mr(le.unitPrice)})]}),l.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[l.jsxs("div",{className:"flex items-center gap-0 bg-white rounded border border-gray-200",children:[l.jsx("button",{"aria-label":"Diminuir quantidade",title:"Diminuir quantidade",onClick:()=>Bt(le.itemId,-1),className:"p-1 hover:bg-gray-100 text-gray-600 w-6 h-6 flex items-center justify-center",children:l.jsx(K8,{size:10})}),l.jsx("span",{className:"text-xs font-bold w-6 text-center","aria-label":`Quantidade: ${le.quantity}`,children:le.quantity}),l.jsx("button",{"aria-label":"Aumentar quantidade",title:"Aumentar quantidade",onClick:()=>Bt(le.itemId,1),className:"p-1 hover:bg-gray-100 text-gray-600 w-6 h-6 flex items-center justify-center",children:l.jsx(dn,{size:10})})]}),l.jsx("button",{"aria-label":"Remover item do carrinho",title:"Remover",onClick:()=>Zt(le.itemId),className:"text-red-400 hover:text-red-600",children:l.jsx(Bs,{size:16})})]})]},Ke))}),l.jsxs("div",{className:"p-4 bg-white border-t border-gray-200 shadow-inner",children:[l.jsxs("div",{className:"flex justify-between text-sm mb-1 text-gray-600",children:[l.jsx("span",{children:"Subtotal"}),l.jsx("span",{children:mr(it)})]}),l.jsxs("div",{className:"flex justify-between text-sm mb-3 text-gray-600",children:[l.jsx("span",{children:"IVA (16%)"}),l.jsx("span",{children:mr(Gr)})]}),l.jsxs("div",{className:"flex justify-between text-xl font-bold text-gray-900 mb-4",children:[l.jsx("span",{children:"Total"}),l.jsx("span",{children:mr(ce)})]}),l.jsx("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[{id:Mn.CASH,label:"Dinheiro",icon:uw},{id:Mn.CARD,label:"POS",icon:mD},{id:Mn.MOBILE_MONEY,label:"M-Pesa",icon:y$},{id:Mn.BANK_TRANSFER,label:"Transf.",icon:r$}].map(le=>l.jsxs("button",{"aria-label":`Mtodo de pagamento: ${le.label}`,title:`Selecionar ${le.label}`,onClick:()=>z(le.id),className:`flex items-center justify-center gap-1 py-2 rounded-lg text-[10px] md:text-xs font-black uppercase tracking-tighter border transition-all ${U===le.id?"bg-emerald-600 text-black shadow-lg shadow-emerald-200 border-emerald-600":"bg-white text-slate-500 border-slate-200 hover:bg-slate-50"}`,children:[l.jsx(le.icon,{size:12})," ",le.label]},le.id))}),l.jsxs("button",{onClick:Ya,disabled:A.length===0,className:"w-full bg-emerald-600 text-black py-3 rounded-xl font-black hover:bg-emerald-500 transition shadow-lg shadow-emerald-100 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 uppercase tracking-widest text-sm",children:[l.jsx(wa,{size:20})," Finalizar Venda"]})]})]})]}),S==="invoices"&&l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 flex flex-col h-[calc(100vh-220px)]",children:[l.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center bg-white sticky top-0 z-10",children:[l.jsxs("div",{className:"relative w-full max-w-xs",children:[l.jsx($s,{className:"absolute left-3 top-2.5 text-gray-400",size:18}),l.jsx("input",{type:"text",placeholder:"Buscar documento...",className:"w-full pl-10 pr-4 py-2 border rounded-lg bg-gray-50 focus:outline-none focus:border-blue-500 text-gray-900 text-sm",value:ke,onChange:le=>dt(le.target.value)})]}),l.jsxs("button",{onClick:Xa,className:"bg-emerald-600 text-black p-2 md:px-4 md:py-2 rounded-xl flex items-center gap-2 hover:bg-emerald-500 shadow-lg shadow-emerald-100 ml-2 shrink-0 font-black uppercase text-xs tracking-widest transition-all",children:[l.jsx(dn,{size:18})," ",l.jsx("span",{className:"hidden md:inline",children:"Novo"})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto",children:l.jsxs("table",{className:"w-full text-left border-collapse",children:[l.jsx("thead",{className:"bg-gray-50 text-xs font-semibold text-gray-500 uppercase sticky top-0",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4 border-b",children:"Documento"}),l.jsx("th",{className:"p-4 border-b hidden md:table-cell",children:"Cliente"}),l.jsx("th",{className:"p-4 border-b text-right",children:"Total"}),l.jsx("th",{className:"p-4 border-b text-center",children:"Status"}),l.jsx("th",{className:"p-4 border-b text-center"})]})}),l.jsxs("tbody",{className:"divide-y divide-gray-100 text-sm",children:[c.filter(le=>le.numero.includes(ke)||le.cliente.nome.toLowerCase().includes(ke.toLowerCase())).map(le=>{const Ke=le.itens.reduce((vt,Et)=>vt+Et.quantidade*Et.precoUnitario*(1+(Et.impostoPercent||0)/100),0);return l.jsxs("tr",{className:"hover:bg-slate-50",children:[l.jsxs("td",{className:"p-4",children:[l.jsx("div",{className:"font-bold text-gray-900",children:le.numero}),l.jsx("div",{className:"text-xs text-gray-500 md:hidden",children:le.cliente.nome}),l.jsx("span",{className:"text-[10px] bg-gray-100 px-1.5 py-0.5 rounded border border-gray-200 mt-1 inline-block",children:le.tipo.replace("_"," ")})]}),l.jsx("td",{className:"p-4 text-gray-600 hidden md:table-cell",children:le.cliente.nome}),l.jsx("td",{className:"p-4 text-right font-bold text-gray-800",children:mr(Ke)}),l.jsx("td",{className:"p-4 text-center",children:l.jsx("span",{className:`text-[10px] md:text-xs font-bold px-2 py-1 rounded-full ${le.status==="PAGA"?"bg-green-100 text-green-700":le.status==="EMITIDA"?"bg-blue-100 text-blue-700":le.status==="CANCELADA"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:le.status})}),l.jsx("td",{className:"p-4 text-center",children:l.jsx("button",{"aria-label":"Editar documento",title:"Editar",onClick:()=>sa(le),className:"text-blue-600 hover:text-blue-800 p-2 bg-blue-50 rounded-lg",children:l.jsx(hA,{size:16})})})]},le.id)}),c.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:5,className:"p-8 text-center text-gray-400",children:"Nenhum documento encontrado."})})]})]})})]}),S==="clients"&&l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 flex flex-col h-[calc(100vh-220px)]",children:[l.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center sticky top-0 bg-white z-10",children:[l.jsxs("div",{className:"relative w-full max-w-xs",children:[l.jsx($s,{className:"absolute left-3 top-2.5 text-gray-400",size:18}),l.jsx("input",{type:"text",placeholder:"Buscar cliente...",className:"w-full pl-10 pr-4 py-2 border rounded-lg bg-gray-50 focus:outline-none focus:border-blue-500 text-gray-900 text-sm",value:Je,onChange:le=>Le(le.target.value)})]}),l.jsxs("button",{onClick:()=>{oe({}),Q(!0)},className:"bg-emerald-600 text-black p-2 md:px-4 md:py-2 rounded-xl flex items-center gap-2 hover:bg-emerald-500 ml-2 shrink-0 shadow-lg shadow-emerald-100 font-black uppercase tracking-widest text-xs transition-all",children:[l.jsx(sm,{size:18})," ",l.jsx("span",{className:"hidden md:inline",children:"Novo"})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto",children:l.jsxs("table",{className:"w-full text-left border-collapse",children:[l.jsx("thead",{className:"bg-gray-50 text-xs font-semibold text-gray-500 uppercase sticky top-0",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4 border-b",children:"Nome"}),l.jsx("th",{className:"p-4 border-b hidden md:table-cell",children:"Contacto"}),l.jsx("th",{className:"p-4 border-b text-right",children:"Saldo"}),l.jsx("th",{className:"p-4 border-b text-center"})]})}),l.jsxs("tbody",{className:"divide-y divide-gray-100 text-sm",children:[v.filter(le=>(le.name||le.nome||"").toLowerCase().includes(Je.toLowerCase())).map(le=>{const Ke=_(le.id||"");return l.jsxs("tr",{className:"hover:bg-slate-50",children:[l.jsxs("td",{className:"p-4",children:[l.jsx("div",{className:"font-bold text-gray-800",children:le.name}),l.jsx("div",{className:"text-xs text-gray-500 md:hidden",children:le.nuit})]}),l.jsx("td",{className:"p-4 text-gray-600 hidden md:table-cell",children:le.contact||"-"}),l.jsx("td",{className:`p-4 text-right font-bold ${Ke>0?"text-red-600":"text-green-600"}`,children:mr(Ke)}),l.jsx("td",{className:"p-4 text-center",children:l.jsx("button",{"aria-label":"Editar cliente",title:"Editar",onClick:()=>Cc(le),className:"text-blue-600 hover:text-blue-800 p-2 bg-blue-50 rounded-lg",children:l.jsx(hA,{size:16})})})]},le.id)}),v.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:4,className:"p-8 text-center text-gray-400",children:"Nenhum cliente registrado."})})]})]})})]}),S==="history"&&l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 flex flex-col h-[calc(100vh-220px)]",children:[l.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center sticky top-0 z-10 bg-white",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(fw,{size:20,className:"text-gray-600"}),l.jsx("h3",{className:"font-bold text-gray-800",children:"Histrico Financeiro"})]}),l.jsx("div",{className:"text-sm text-gray-500",children:"Mostrando transaes da sua localizao"})]}),l.jsx("div",{className:"p-4 border-t bg-white flex items-center justify-between",children:(()=>{const Et=s.filter(qt=>!(r!=null&&r.locationId)||qt.locationId===r.locationId).filter(qt=>Ve==="ALL"?!0:qt.type===Ve).filter(qt=>{if(!xt&&!$t)return!0;const tn=qt.date?qt.date.slice(0,10):"";return!(xt&&tn<xt||$t&&tn>$t)}).filter(qt=>{const tn=Ae.toLowerCase();return tn?(qt.clientName||"").toLowerCase().includes(tn)||(qt.description||"").toLowerCase().includes(tn)||(qt.category||"").toLowerCase().includes(tn):!0}),kr=Et.length,wn=(De-1)*Pr,At=Et.slice(wn,wn+Pr);return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"text-sm text-gray-600",children:["Mostrando ",kr===0?0:wn+1," - ",Math.min(wn+At.length,kr)," de ",kr]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{disabled:De===1,onClick:()=>rt(De-1),className:"px-3 py-1 bg-gray-100 rounded text-sm disabled:opacity-50",children:"Anterior"}),l.jsxs("div",{className:"text-sm text-gray-600",children:["Pgina ",De]}),l.jsx("button",{disabled:De*Pr>=kr,onClick:()=>rt(De+1),className:"px-3 py-1 bg-gray-100 rounded text-sm disabled:opacity-50",children:"Prxima"})]})]})})()}),l.jsxs("div",{className:"p-4 border-b border-gray-100 flex flex-col gap-3 md:flex-row md:items-center md:justify-between sticky top-0 z-10 bg-white",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("label",{htmlFor:"historyType",className:"text-xs text-gray-500",children:"Tipo"}),l.jsxs("select",{id:"historyType",value:Ve,onChange:le=>{hr(le.target.value),rt(1)},className:"border px-2 py-1 rounded text-sm bg-white",children:[l.jsx("option",{value:"ALL",children:"Todos"}),l.jsx("option",{value:"SALE",children:"Recebimentos"}),l.jsx("option",{value:"EXPENSE",children:"Despesas"})]}),l.jsx("label",{htmlFor:"historyStartDate",className:"text-xs text-gray-500 ml-4",children:"De"}),l.jsx("input",{id:"historyStartDate",type:"date",value:xt||"",onChange:le=>{An(le.target.value||null),rt(1)},className:"border px-2 py-1 rounded text-sm bg-white"}),l.jsx("label",{htmlFor:"historyEndDate",className:"text-xs text-gray-500 ml-2",children:"At"}),l.jsx("input",{id:"historyEndDate",type:"date",value:$t||"",onChange:le=>{Wa(le.target.value||null),rt(1)},className:"border px-2 py-1 rounded text-sm bg-white"}),l.jsx("label",{htmlFor:"historySearch",className:"text-xs text-gray-500 ml-4",children:"Buscar"}),l.jsx("input",{id:"historySearch",placeholder:"Buscar",value:Ae,onChange:le=>{et(le.target.value),rt(1)},className:"ml-4 border rounded px-2 py-1 text-sm bg-white"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{"aria-label":"Exportar transaes para CSV",title:"Exportar para CSV",onClick:()=>{ui()},className:"text-sm bg-blue-50 text-blue-700 px-3 py-1 rounded",children:"Exportar CSV"}),l.jsx("label",{htmlFor:"historyPageSize",className:"text-xs text-gray-500",children:"Linhas por pgina:"}),l.jsxs("select",{id:"historyPageSize",value:Pr,onChange:le=>{Bn(Number(le.target.value)),rt(1)},className:"border px-2 py-1 rounded text-sm bg-white",children:[l.jsx("option",{value:10,children:"10"}),l.jsx("option",{value:20,children:"20"}),l.jsx("option",{value:50,children:"50"})]})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:l.jsxs("table",{className:"w-full text-left border-collapse",children:[l.jsx("thead",{className:"bg-gray-50 text-xs font-semibold text-gray-500 uppercase sticky top-0",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-3 border-b",children:"Data"}),l.jsx("th",{className:"p-3 border-b",children:"Tipo"}),l.jsx("th",{className:"p-3 border-b",children:"Origem / Descrio"}),l.jsx("th",{className:"p-3 border-b text-right",children:"Valor"}),l.jsx("th",{className:"p-3 border-b",children:"Mtodo"})]})}),l.jsxs("tbody",{className:"divide-y divide-gray-100 text-sm",children:[(()=>{const Et=s.filter(At=>!(r!=null&&r.locationId)||At.locationId===r.locationId).filter(At=>Ve==="ALL"?!0:At.type===Ve).filter(At=>{if(!xt&&!$t)return!0;const qt=At.date?At.date.slice(0,10):"";return!(xt&&qt<xt||$t&&qt>$t)}).filter(At=>{const qt=Ae.toLowerCase();return qt?(At.clientName||"").toLowerCase().includes(qt)||(At.description||"").toLowerCase().includes(qt)||(At.category||"").toLowerCase().includes(qt):!0});Et.length;const kr=(De-1)*Pr;return Et.slice(kr,kr+Pr).map(At=>l.jsxs("tr",{className:"hover:bg-slate-50",children:[l.jsx("td",{className:"p-3 text-xs text-gray-500",children:fr(At.date,{time:!0})}),l.jsx("td",{className:"p-3 font-bold text-[12px]",children:At.type==="SALE"?"Recebimento":"Despesa"}),l.jsx("td",{className:"p-3 text-gray-700",children:At.clientName||At.description||At.category||"-"}),l.jsx("td",{className:"p-3 text-right font-bold text-gray-800",children:mr(At.amount)}),l.jsx("td",{className:"p-3 text-sm text-gray-600",children:At.paymentMethod})]},At.id))})(),s.filter(Ke=>!(r!=null&&r.locationId)||Ke.locationId===r.locationId).filter(Ke=>Ve==="ALL"?!0:Ke.type===Ve).filter(Ke=>{if(!xt&&!$t)return!0;const vt=Ke.date?Ke.date.slice(0,10):"";return!(xt&&vt<xt||$t&&vt>$t)}).filter(Ke=>{const vt=Ae.toLowerCase();return vt?(Ke.clientName||"").toLowerCase().includes(vt)||(Ke.description||"").toLowerCase().includes(vt)||(Ke.category||"").toLowerCase().includes(vt):!0}).length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:5,className:"p-8 text-center text-gray-400",children:"Nenhuma transao encontrada."})}):null]})]})})]}),S==="expenses"&&l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pb-20 md:pb-0",children:l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[l.jsxs("h3",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2",children:[l.jsx(gw,{className:"text-red-500"})," Registrar Despesa"]}),l.jsxs("form",{onSubmit:rs,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"expenseDesc",className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),l.jsx("input",{id:"expenseDesc",required:!0,type:"text",className:"w-full border rounded-lg p-3 bg-white text-gray-900",value:K,onChange:le=>M(le.target.value),placeholder:"Ex: Compra de material"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"expenseCategory",className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),l.jsxs("select",{id:"expenseCategory",className:"w-full border rounded-lg p-3 bg-white text-gray-900",value:H,onChange:le=>re(le.target.value),children:[l.jsx("option",{value:"",children:"Selecione..."}),l.jsx("option",{value:"Combustvel",children:"Combustvel"}),l.jsx("option",{value:"Manuteno",children:"Manuteno"}),l.jsx("option",{value:"Alimentao",children:"Alimentao"}),l.jsx("option",{value:"Transporte",children:"Transporte"}),l.jsx("option",{value:"Outros",children:"Outros"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"expenseAmount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor"}),l.jsx("input",{id:"expenseAmount",required:!0,type:"number",min:"0",step:"0.01",className:"w-full border rounded-lg p-3 bg-white text-gray-900",value:be,onChange:le=>Se(parseFloat(le.target.value))})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"expenseMethod",className:"block text-sm font-medium text-gray-700 mb-1",children:"Mtodo"}),l.jsxs("select",{id:"expenseMethod",className:"w-full border rounded-lg p-3 bg-white text-gray-900",value:L,onChange:le=>ee(le.target.value),children:[l.jsx("option",{value:Mn.CASH,children:"Dinheiro"}),l.jsx("option",{value:Mn.MOBILE_MONEY,children:"M-Pesa"}),l.jsx("option",{value:Mn.CARD,children:"Carto"})]})]})]}),l.jsx("button",{type:"submit",className:"w-full bg-red-600 text-white py-3 rounded-xl font-bold hover:bg-red-700 mt-2 shadow-md",children:"Lanar Despesa"})]})]})}),l.jsx(yne,{open:je,onClose:()=>Ne(!1),onSave:ns,initial:Ie,companyDefaults:{empresa:N,moeda:"MZN",gerarNumero:h,locationId:(r==null?void 0:r.locationId)||"",userId:(r==null?void 0:r.id)||""}}),$&&l.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-end md:items-center justify-center z-50 p-0 md:p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white w-full max-w-md rounded-t-2xl md:rounded-xl shadow-xl p-6 animate-in slide-in-from-bottom-10 md:zoom-in",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:ue.id?"Editar Cliente":"Novo Cliente"}),l.jsxs("form",{onSubmit:di,className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"clientName",className:"block text-sm font-medium text-gray-700",children:"Nome"}),l.jsx("input",{id:"clientName",className:"w-full border rounded-lg p-3 bg-white text-gray-900",required:!0,value:ue.name||"",onChange:le=>oe({...ue,name:le.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"clientNuit",className:"block text-sm font-medium text-gray-700",children:"NUIT"}),l.jsx("input",{id:"clientNuit",className:"w-full border rounded-lg p-3 bg-white text-gray-900",value:ue.nuit||"",onChange:le=>oe({...ue,nuit:le.target.value})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"clientContact",className:"block text-sm font-medium text-gray-700",children:"Telefone"}),l.jsx("input",{id:"clientContact",className:"w-full border rounded-lg p-3 bg-white text-gray-900",value:ue.contact||"",onChange:le=>oe({...ue,contact:le.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"clientEmail",className:"block text-sm font-medium text-gray-700",children:"Email"}),l.jsx("input",{id:"clientEmail",className:"w-full border rounded-lg p-3 bg-white text-gray-900",value:ue.email||"",onChange:le=>oe({...ue,email:le.target.value})})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"clientAddress",className:"block text-sm font-medium text-gray-700",children:"Endereo"}),l.jsx("input",{id:"clientAddress",className:"w-full border rounded-lg p-3 bg-white text-gray-900",value:ue.address||"",onChange:le=>oe({...ue,address:le.target.value})})]}),l.jsxs("div",{className:"flex gap-3 mt-6",children:[l.jsx("button",{type:"button",onClick:()=>Q(!1),className:"flex-1 text-gray-700 bg-gray-100 py-3 font-bold rounded-xl",children:"Cancelar"}),l.jsx("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-3 rounded-xl font-bold hover:bg-blue-700 shadow-md",children:"Salvar"})]})]})]})})]})},xne=()=>{const{rolePermissions:e,togglePermission:t,hasPermission:r,isAdminOrGM:n}=$r(),i=Array.from(new Set(oA.map(c=>c.category))),s=[Ee.ADMIN,Ee.GENERAL_MANAGER,Ee.MANAGER,Ee.WORKER];return n?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[l.jsx(yD,{className:"text-indigo-600"}),"Matriz de Permisses"]}),l.jsx("p",{className:"text-sm text-gray-500",children:"Controle granular de acesso por cargo e funcionalidade."})]}),l.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 text-yellow-800 px-4 py-2 rounded-lg text-xs flex items-center gap-2",children:[l.jsx(E$,{size:14}),l.jsx("span",{children:"Alteraes entram em vigor imediatamente."})]})]}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left border-collapse",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[l.jsx("th",{className:"p-4 text-sm font-semibold text-gray-600 uppercase tracking-wider w-1/3",children:"Funcionalidade / Permisso"}),s.map(c=>l.jsx("th",{className:"p-4 text-center text-xs font-bold text-gray-600 uppercase tracking-wider",children:c.replace("_"," ")},c))]})}),l.jsx("tbody",{className:"divide-y divide-gray-100",children:i.map(c=>l.jsxs(Ba.Fragment,{children:[l.jsx("tr",{className:"bg-slate-50",children:l.jsx("td",{colSpan:5,className:"px-4 py-2 text-xs font-bold text-slate-500 uppercase tracking-widest border-y border-gray-200",children:c})}),oA.filter(d=>d.category===c).map(d=>l.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[l.jsxs("td",{className:"p-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-800",children:d.label}),l.jsx("p",{className:"text-xs text-gray-400 font-mono mt-0.5",children:d.id})]}),s.map(f=>{var g;const h=(g=e[f])==null?void 0:g.includes(d.id),p=f===Ee.ADMIN&&d.id==="MANAGE_PERMISSIONS";return l.jsx("td",{className:"p-4 text-center",children:l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",className:"sr-only peer",checked:h||p,disabled:p,onChange:()=>t(f,d.id)}),l.jsx("div",{className:`w-11 h-6 rounded-full peer peer-focus:ring-4 peer-focus:ring-indigo-300 dark:peer-focus:ring-indigo-800 transition-colors ${h||p?"bg-indigo-600":"bg-gray-200"}`,children:l.jsx("div",{className:`absolute top-0.5 left-[2px] bg-white border border-gray-300 rounded-full h-5 w-5 transition-all ${h||p?"translate-x-full border-white":""}`})})]})},`${f}-${d.id}`)})]},d.id))]},c))})]})})})]}):l.jsxs("div",{className:"flex flex-col items-center justify-center h-96 text-gray-400",children:[l.jsx($o,{size:64,className:"mb-4 text-gray-300"}),l.jsx("h2",{className:"text-xl font-bold text-gray-700",children:"Acesso Negado"}),l.jsx("p",{children:"Voc no tem permisso para gerenciar as configuraes de acesso."})]})},bne=()=>{const{allUsers:e,calculatePayrollForUser:t,updatePayrollParams:r,payrollParams:n}=$r(),[i,s]=w.useState(new Date().toISOString().slice(0,7)),c=e.map(v=>t(v)),d=c.reduce((v,x)=>v+x.baseSalary,0),f=c.reduce((v,x)=>v+x.productionBonus,0),h=c.reduce((v,x)=>v+x.netSalary,0),p=c.reduce((v,x)=>v+x.totalDeductions,0),g=v=>new Intl.NumberFormat("pt-MZ",{style:"currency",currency:"MZN"}).format(v);return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[l.jsx(uw,{className:"text-green-600"}),"Folha Salarial (Payroll)"]}),l.jsx("p",{className:"text-sm text-gray-500",children:"Modelo Florestal: (Dias x Taxa) + Bnus - Descontos"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("input",{type:"month",className:"border rounded-lg p-2 bg-white text-gray-800 shadow-sm",value:i,onChange:v=>s(v.target.value)}),l.jsxs("button",{className:"bg-green-600 text-white px-4 py-2 rounded-lg font-medium shadow-sm hover:bg-green-700 flex items-center gap-2",children:[l.jsx(a8,{size:18})," Processar"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[l.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-gray-100",children:[l.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase",children:"Total Lquido a Pagar"}),l.jsx("h3",{className:"text-2xl font-bold text-green-600 mt-1",children:g(h)})]}),l.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-gray-100",children:[l.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase",children:"Total Salrio Base"}),l.jsx("h3",{className:"text-2xl font-bold text-gray-900 mt-1",children:g(d)}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Dias teis"})]}),l.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-gray-100",children:[l.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase",children:"Total Bnus Produo"}),l.jsx("h3",{className:"text-2xl font-bold text-blue-600 mt-1",children:g(f)})]}),l.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-gray-100",children:[l.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase",children:"Total Descontos"}),l.jsx("h3",{className:"text-2xl font-bold text-red-600 mt-1",children:g(p)}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Faltas e Adiantamentos"})]})]}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left text-sm whitespace-nowrap",children:[l.jsx("thead",{className:"bg-gray-50 text-xs text-gray-500 uppercase font-bold border-b border-gray-200",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-4",children:"Funcionrio"}),l.jsx("th",{className:"px-6 py-4 text-center text-green-700 bg-green-50/50",title:"Dias Completos",children:"D"}),l.jsx("th",{className:"px-6 py-4 text-center text-orange-700 bg-orange-50/50",title:"Meios Dias",children:"D/2"}),l.jsx("th",{className:"px-6 py-4 text-center text-red-700 bg-red-50/50",title:"Faltas",children:"F"}),l.jsx("th",{className:"px-6 py-4 text-center",children:"Produo (Real/Meta)"}),l.jsx("th",{className:"px-6 py-4 text-right font-bold bg-blue-50/50",children:"Salrio Base"}),l.jsx("th",{className:"px-6 py-4 text-right text-blue-600",children:"Bnus"}),l.jsx("th",{className:"px-6 py-4 text-center w-24 text-red-600",children:"Adiant."}),l.jsx("th",{className:"px-6 py-4 text-right text-red-600",children:"T. Desc."}),l.jsx("th",{className:"px-6 py-4 text-right font-bold text-green-700 bg-green-50",children:"Lquido"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-100",children:c.map(v=>{var x;return l.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[l.jsx("td",{className:"px-6 py-4 font-medium text-gray-800",children:v.userName}),l.jsx("td",{className:"px-6 py-4 text-center font-bold text-green-700 bg-green-50/30",children:v.fullDays}),l.jsx("td",{className:"px-6 py-4 text-center font-bold text-orange-700 bg-orange-50/30",children:v.halfDays}),l.jsx("td",{className:"px-6 py-4 text-center font-bold text-red-700 bg-red-50/30",children:v.absences}),l.jsx("td",{className:"px-6 py-4 text-center",children:l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("span",{className:"font-bold",children:v.realProduction}),l.jsxs("span",{className:"text-[10px] text-gray-400",children:["Meta: ",v.targetProduction]}),l.jsxs("span",{className:`text-[10px] font-bold ${v.efficiency>=100?"text-green-600":"text-orange-500"}`,children:[v.efficiency,"%"]})]})}),l.jsx("td",{className:"px-6 py-4 text-right font-bold bg-blue-50/30",children:g(v.baseSalary)}),l.jsx("td",{className:"px-6 py-4 text-right text-blue-600",children:g(v.productionBonus)}),l.jsx("td",{className:"px-6 py-4 text-center",children:l.jsx("input",{type:"number",min:"0",className:"w-20 border rounded p-1 text-center bg-white focus:ring-1 focus:ring-red-500 outline-none text-red-600 font-medium",value:((x=n[v.userId])==null?void 0:x.advances)||0,onChange:j=>r(v.userId,parseFloat(j.target.value)||0)})}),l.jsx("td",{className:"px-6 py-4 text-right text-red-600",children:g(v.totalDeductions)}),l.jsx("td",{className:"px-6 py-4 text-right font-bold text-green-700 bg-green-50 text-base border-l border-green-100",children:g(v.netSalary)})]},v.userId)})})]})})})]})},wne=()=>{const{fichasIndividuais:e,currentUser:t,allUsers:r,isAdminOrGM:n,items:i,inventory:s,createFicha:c,confirmFicha:d,lockFicha:f,deleteFicha:h}=$r(),[p,g]=w.useState(""),[v,x]=w.useState(null),[j,_]=w.useState(!1),[N,S]=w.useState("todos"),O=w.useMemo(()=>r.filter(R=>{var q;return R.name.toLowerCase().includes(p.toLowerCase())||((q=R.jobTitle)==null?void 0:q.toLowerCase().includes(p.toLowerCase()))}),[r,p]),A=w.useMemo(()=>r.find(R=>R.id===v),[r,v]),P=w.useMemo(()=>{let R=e.filter(q=>q.entidade_id===v);return N!=="todos"&&(R=R.filter(q=>q.tipo===N)),R},[e,v,N]),D=R=>{switch(R){case"pendente":return l.jsx(rd,{className:"w-4 h-4 text-yellow-500"});case"confirmado":return l.jsx(wa,{className:"w-4 h-4 text-green-500"});case"trancado":return l.jsx($o,{className:"w-4 h-4 text-blue-500"})}},T=R=>{switch(R){case"combustivel":return"bg-amber-100 text-amber-800";case"oleo":return"bg-orange-100 text-orange-800";case"pecas":return"bg-blue-100 text-blue-800";case"materiais":return"bg-green-100 text-green-800";case"ferramentas":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}};return l.jsx("div",{className:"p-6 bg-gray-50 min-h-screen",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[l.jsx(Va,{className:"w-8 h-8 text-emerald-600"}),"Fichas Individuais"]}),!v&&l.jsxs("button",{onClick:()=>_(!0),className:"bg-emerald-600 text-white px-4 py-2 rounded-lg hover:bg-emerald-700 transition-all flex items-center gap-2 shadow-sm",children:[l.jsx(dn,{className:"w-5 h-5"}),"Nova Entrega"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6",children:[l.jsxs("div",{className:`${v?"hidden md:block md:col-span-4":"col-span-12"} bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden transition-all shrink-0`,children:[l.jsx("div",{className:"p-4 border-b border-gray-100 bg-gray-50/50",children:l.jsxs("div",{className:"relative",children:[l.jsx($s,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Procurar funcionrio...",value:p,onChange:R=>g(R.target.value),className:"w-full pl-10 pr-4 py-2 bg-white border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-emerald-500 transition-all outline-none"})]})}),l.jsx("div",{className:"overflow-y-auto max-h-[calc(100vh-250px)]",children:O.length===0?l.jsx("div",{className:"p-8 text-center text-gray-500",children:"Nenhum funcionrio encontrado."}):O.map(R=>l.jsxs("button",{onClick:()=>x(R.id),className:`w-full p-4 flex items-center justify-between hover:bg-emerald-50 transition-colors border-b border-gray-50 last:border-0 ${v===R.id?"bg-emerald-50 border-r-4 border-r-emerald-500":""}`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${v===R.id?"bg-emerald-600 text-white":"bg-gray-100 text-gray-500"}`,children:l.jsx(Vu,{className:"w-5 h-5"})}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"font-semibold text-gray-900 line-clamp-1",children:R.name}),l.jsx("div",{className:"text-xs text-gray-500",children:R.jobTitle||"Sem cargo"})]})]}),l.jsx(am,{className:`w-4 h-4 text-gray-400 ${v===R.id?"text-emerald-500 translate-x-1":""} transition-transform`})]},R.id))})]}),l.jsx("div",{className:`${v?"col-span-12 md:col-span-8":"hidden md:flex md:col-span-8 items-center justify-center"} bg-white rounded-xl shadow-sm border border-gray-200 min-h-[500px] overflow-hidden`,children:A?l.jsxs("div",{className:"h-full flex flex-col",children:[l.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-start bg-white sticky top-0 z-10",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:()=>x(null),title:"Voltar","aria-label":"Voltar",className:"md:hidden p-2 hover:bg-gray-100 rounded-lg -ml-2",children:l.jsx(m8,{className:"w-6 h-6 text-gray-600"})}),l.jsx("div",{className:"w-12 h-12 rounded-2xl bg-emerald-100 text-emerald-700 flex items-center justify-center shadow-inner",children:l.jsx(Vu,{className:"w-6 h-6"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:A.name}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[l.jsx("span",{className:"font-medium",children:A.jobTitle||"Cargo no definido"}),l.jsx("span",{children:""}),l.jsx("span",{children:A.locationId?"Local vinculado":"Sem local fixo"})]})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>_(!0),className:"bg-emerald-600 text-white px-4 py-2 rounded-lg hover:bg-emerald-700 transition-all flex items-center gap-2 shadow-sm text-sm",children:[l.jsx(dn,{className:"w-4 h-4"}),"Nova Entrega"]}),l.jsx("button",{className:"p-2 border border-gray-200 rounded-lg hover:bg-gray-50 text-gray-600 shadow-sm transition-all",title:"Imprimir Ficha",children:l.jsx(mw,{className:"w-5 h-5"})})]})]}),l.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-100 flex flex-wrap gap-4 items-center justify-between",children:[l.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1 no-scrollbar",children:["todos","combustivel","oleo","pecas","materiais","ferramentas"].map(R=>l.jsx("button",{onClick:()=>S(R),className:`px-3 py-1.5 rounded-full text-xs font-medium whitespace-nowrap transition-all ${N===R?"bg-emerald-600 text-white shadow-sm":"bg-white text-gray-600 border border-gray-200 hover:border-emerald-300"}`,children:R==="todos"?"Todos":R.charAt(0).toUpperCase()+R.slice(1)},R))}),l.jsxs("div",{className:"text-xs text-gray-500 font-medium",children:[P.length," registros encontrados"]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto",children:P.length===0?l.jsxs("div",{className:"p-20 text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4 text-gray-400",children:l.jsx(fw,{className:"w-8 h-8"})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Sem histrico"}),l.jsx("p",{className:"text-gray-500 text-sm max-w-xs mx-auto mt-1",children:"Este funcionrio ainda no recebeu nenhuma entrega registrada."})]}):l.jsx("div",{className:"divide-y divide-gray-50",children:P.map(R=>l.jsxs("div",{className:"p-6 hover:bg-gray-50 transition-colors group",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider ${T(R.tipo)}`,children:R.tipo}),l.jsx("span",{className:"text-xs text-gray-400 font-mono tracking-tighter",children:R.codigo})]}),l.jsxs("div",{className:"flex items-center gap-1.5 text-xs font-medium bg-white px-2 py-1 rounded-full border border-gray-100 shadow-sm",children:[D(R.estado),l.jsx("span",{className:"text-gray-600 capitalize",children:R.estado})]})]}),l.jsxs("div",{className:"flex items-end justify-between",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-bold text-gray-900 group-hover:text-emerald-700 transition-colors",children:R.produto}),l.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[l.jsxs("div",{className:"text-2xl font-black text-emerald-600",children:[R.quantidade," ",l.jsx("span",{className:"text-sm font-medium text-gray-500",children:R.unidade})]}),l.jsx("div",{className:"h-4 w-px bg-gray-200"}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-widest",children:"Entrega"}),l.jsx("span",{className:"text-sm text-gray-600 font-medium",children:fr(R.data)})]})]})]}),l.jsx("div",{className:"text-right",children:R.stock_antes!==void 0&&l.jsxs("div",{className:"text-[10px] text-gray-400 flex flex-col items-end",children:[l.jsx("span",{className:"uppercase font-bold tracking-widest",children:"Saldo Stock"}),l.jsxs("div",{className:"flex items-center gap-1 mt-0.5 font-medium",children:[l.jsx("span",{children:R.stock_antes}),l.jsx(rc,{className:"w-3 h-3"}),l.jsx("span",{className:"text-emerald-600",children:R.stock_depois})]})]})})]}),R.observacoes&&l.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg border border-gray-100 text-sm text-gray-600 italic",children:['"',R.observacoes,'"']})]},R.id))})})]}):l.jsxs("div",{className:"p-20 text-center max-w-md mx-auto",children:[l.jsx("div",{className:"w-20 h-20 bg-emerald-50 rounded-3xl flex items-center justify-center mx-auto mb-6 text-emerald-500 shadow-inner",children:l.jsx(Vu,{className:"w-10 h-10"})}),l.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Selecione um Funcionrio"}),l.jsx("p",{className:"text-gray-500 mt-2",children:"Escolha uma pessoa ao lado para visualizar seu histrico individual de entregas e consumos."}),l.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-100 grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-gray-900",children:r.length}),l.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-widest font-bold",children:"Pessoas"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-gray-900",children:e.length}),l.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-widest font-bold",children:"Entregas"})]})]})]})})]}),j&&l.jsx(jne,{initialPersonId:v||void 0,allPeople:r,allItems:i,inventory:s,currentUser:t,onClose:()=>_(!1),onSave:async R=>{await c(R),_(!1)}})]})})},jne=({initialPersonId:e,allPeople:t,allItems:r,inventory:n,currentUser:i,onClose:s,onSave:c})=>{const[d,f]=w.useState({tipo:"combustivel",entidade_id:e||"",entidade_tipo:"trabalhador",data:new Date().toISOString().split("T")[0],produto_id:"",produto:"",quantidade:1,unidade:"Unidade",observacoes:""}),[h,p]=w.useState(""),[g,v]=w.useState(!1),x=w.useMemo(()=>h?r.filter(A=>{var P;return A.name.toLowerCase().includes(h.toLowerCase())||((P=A.sku)==null?void 0:P.toLowerCase().includes(h.toLowerCase()))}):r.slice(0,5),[r,h]),j=w.useMemo(()=>t.find(A=>A.id===d.entidade_id),[t,d.entidade_id]),_=w.useMemo(()=>(j==null?void 0:j.locationId)||(i==null?void 0:i.locationId),[j,i]),N=w.useMemo(()=>{if(!d.produto_id||!_)return 0;const A=n.find(P=>P.itemId===d.produto_id&&P.locationId===_);return(A==null?void 0:A.quantity)||0},[d.produto_id,_,n]),S=A=>{if(A.preventDefault(),!d.entidade_id||!d.produto){alert("Por favor, selecione o funcionrio e o produto.");return}c(d)},O=A=>{f({...d,produto_id:A.id,produto:A.name,unidade:A.unit||"Unidade"}),p(A.name),v(!1)};return l.jsx("div",{className:"fixed inset-0 bg-gray-900/60 backdrop-blur-sm flex items-center justify-center z-[100] p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-xl overflow-hidden animate-in fade-in zoom-in duration-200",children:[l.jsxs("div",{className:"bg-emerald-600 p-6 text-white flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold",children:"Registrar Entrega de Material"}),l.jsx("p",{className:"text-emerald-100 text-xs mt-1 uppercase tracking-widest font-bold",children:"Sada de Stock Individual"})]}),l.jsx("button",{title:"Fechar","aria-label":"Fechar",onClick:s,className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:l.jsx(na,{className:"w-6 h-6"})})]}),l.jsxs("form",{onSubmit:S,className:"p-8 space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"col-span-1 md:col-span-2",children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-widest mb-2",children:"Funcionrio / Beneficirio"}),l.jsxs("select",{id:"ficha-entidade",title:"Funcionrio","aria-label":"Funcionrio",value:d.entidade_id,onChange:A=>f({...d,entidade_id:A.target.value}),className:"w-full border border-gray-200 rounded-xl p-3 text-sm focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none transition-all",required:!0,children:[l.jsx("option",{value:"",children:"Selecione um funcionrio..."}),t.map(A=>l.jsxs("option",{value:A.id,children:[A.name," (",A.jobTitle||"Sem cargo",")"]},A.id))]})]}),l.jsxs("div",{className:"col-span-1 md:col-span-2 relative",children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-widest mb-2",children:"Produto / Material"}),l.jsxs("div",{className:"relative",children:[l.jsx($s,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),l.jsx("input",{id:"ficha-search-product",title:"Pesquisar produto no inventrio","aria-label":"Pesquisar produto no inventrio",type:"text",placeholder:"Buscar no inventrio...",value:h,onChange:A=>{p(A.target.value),v(!0)},onFocus:()=>v(!0),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl text-sm focus:ring-2 focus:ring-emerald-500 outline-none transition-all"}),g&&l.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-gray-100 rounded-xl shadow-xl z-20 max-h-48 overflow-y-auto",children:x.map(A=>l.jsxs("button",{type:"button",onClick:()=>O(A),className:"w-full p-3 text-left hover:bg-emerald-50 flex items-center justify-between border-b border-gray-50 last:border-0",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-semibold text-gray-900",children:A.name}),l.jsxs("div",{className:"text-[10px] text-gray-500 uppercase tracking-wide",children:[A.category,"  SKU: ",A.sku]})]}),l.jsx(rc,{className:"w-4 h-4 text-gray-300"})]},A.id))})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-widest mb-2",children:"Categoria da Ficha"}),l.jsxs("select",{id:"ficha-tipo",title:"Categoria da ficha","aria-label":"Categoria da ficha",value:d.tipo,onChange:A=>f({...d,tipo:A.target.value}),className:"w-full border border-gray-200 rounded-xl p-3 text-sm focus:ring-2 focus:ring-emerald-500 outline-none",children:[l.jsx("option",{value:"combustivel",children:"Combustvel"}),l.jsx("option",{value:"oleo",children:"leo"}),l.jsx("option",{value:"pecas",children:"Peas"}),l.jsx("option",{value:"materiais",children:"Materiais"}),l.jsx("option",{value:"ferramentas",children:"Ferramentas"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-widest mb-2",children:"Data de Entrega"}),l.jsx("input",{id:"ficha-data",title:"Data da entrega","aria-label":"Data da entrega",type:"date",value:d.data,onChange:A=>f({...d,data:A.target.value}),className:"w-full border border-gray-200 rounded-xl p-3 text-sm focus:ring-2 focus:ring-emerald-500 outline-none",required:!0})]}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-2xl border border-gray-100 col-span-1 md:col-span-2",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest",children:"Quantidade a Entregar"}),d.produto_id&&l.jsxs("div",{className:"text-[10px] font-bold text-gray-400 bg-white px-2 py-1 rounded-full border border-gray-100 shadow-sm",children:["STOCK DISPONVEL: ",l.jsxs("span",{className:"text-emerald-600",children:[N," ",d.unidade]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx("input",{id:"ficha-quantidade",title:"Quantidade a entregar","aria-label":"Quantidade a entregar",type:"number",step:"0.01",placeholder:"0.00",value:d.quantidade,onChange:A=>f({...d,quantidade:parseFloat(A.target.value)}),min:"0.01",className:"w-full border border-gray-200 rounded-xl p-3 text-lg font-bold text-emerald-700 focus:ring-2 focus:ring-emerald-500 outline-none",required:!0}),l.jsx("div",{className:"flex items-center px-4 bg-white border border-gray-200 rounded-xl text-sm font-medium text-gray-600",children:d.unidade})]})]}),l.jsxs("div",{className:"col-span-1 md:col-span-2",children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-widest mb-2",children:"Notas / Observaes"}),l.jsx("textarea",{value:d.observacoes,onChange:A=>f({...d,observacoes:A.target.value}),className:"w-full border border-gray-200 rounded-xl p-3 text-sm focus:ring-2 focus:ring-emerald-500 outline-none min-h-[80px]",placeholder:"Ex: Entrega para manuteno de campo, requisio extra, etc."})]})]}),l.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-100",children:[l.jsx("button",{type:"button",onClick:s,className:"flex-1 px-6 py-3 bg-gray-100 text-gray-600 font-bold rounded-xl hover:bg-gray-200 transition-colors uppercase tracking-widest text-xs",children:"Cancelar"}),l.jsx("button",{type:"submit",className:"flex-[2] px-6 py-3 bg-emerald-600 text-white font-bold rounded-xl hover:bg-emerald-700 shadow-lg shadow-emerald-200 transition-all uppercase tracking-widest text-xs",children:"Confirmar Entrega"})]})]})]})})},Mi={async createGroup(e,t,r,n){const{data:{user:i}}=await te.auth.getUser();if(!i)throw new Error("User not authenticated");const{data:s,error:c}=await te.from("chat_groups").insert({name:e,type:t,description:r,location_id:n,created_by:i.id}).select().single();if(c)throw c;return s},async getUserGroups(){const{data:{user:e}}=await te.auth.getUser();if(!e)throw new Error("User not authenticated");try{const{data:t,error:r}=await te.from("chat_group_members").select("group_id").eq("user_id",e.id);if(r)throw r;if(!t||t.length===0)return[];const n=t.map(c=>c.group_id),{data:i,error:s}=await te.from("chat_groups").select(`
          *,
          chat_group_members(*),
          chat_messages(created_at)
        `).in("id",n).order("created_at",{ascending:!1});if(s)throw s;return i}catch(t){return console.error("Error fetching user chat groups:",t),[]}},async getGroupDetails(e){const{data:t,error:r}=await te.from("chat_groups").select(`
        *,
        chat_group_members(*)
      `).eq("id",e).single();if(r)throw r;return t},async addGroupMember(e,t,r="MEMBER"){const{data:n,error:i}=await te.from("chat_group_members").insert({group_id:e,user_id:t,role:r}).select().single();if(i)throw i;return n},async removeGroupMember(e,t){const{error:r}=await te.from("chat_group_members").delete().eq("group_id",e).eq("user_id",t);if(r)throw r},async getOrCreateDirectGroup(e,t){const[r,n]=[e,t].sort(),i=`DIRECT-${r.slice(0,8)}-${n.slice(0,8)}`,{data:s,error:c}=await te.from("chat_groups").select("*").eq("name",i).eq("type","DIRECT").single();if(c&&c.code!=="PGRST116")throw c;if(s)return s;const{data:d,error:f}=await te.from("chat_groups").insert({name:i,type:"DIRECT",created_by:e}).select().single();if(f)throw f;return await Mi.addGroupMember(d.id,e),await Mi.addGroupMember(d.id,t),d},async sendMessage(e,t,r="TEXT"){const{data:{user:n}}=await te.auth.getUser();if(!n)throw new Error("User not authenticated");const{data:i,error:s}=await te.from("chat_messages").insert({group_id:e,sender_id:n.id,content:t,message_type:r}).select().single();if(s)throw s;return i},async getGroupMessages(e,t=50,r=0){const{data:n,error:i}=await te.from("chat_messages").select(`
        *,
        chat_file_attachments(*)
      `).eq("group_id",e).eq("is_deleted",!1).order("created_at",{ascending:!1}).range(r,r+t-1);if(i)throw i;return(n==null?void 0:n.reverse())||[]},async editMessage(e,t){const{data:{user:r}}=await te.auth.getUser();if(!r)throw new Error("User not authenticated");const{data:n,error:i}=await te.from("chat_messages").update({content:t,is_edited:!0,edited_at:new Date().toISOString()}).eq("id",e).eq("sender_id",r.id).select().single();if(i)throw i;return n},async deleteMessage(e){const{data:{user:t}}=await te.auth.getUser();if(!t)throw new Error("User not authenticated");const{data:r,error:n}=await te.from("chat_messages").update({is_deleted:!0,deleted_by:t.id}).eq("id",e).eq("sender_id",t.id).select().single();if(n)throw n;return r},async markMessageAsRead(e){const{data:{user:t}}=await te.auth.getUser();if(!t)throw new Error("User not authenticated");const{data:r,error:n}=await te.from("chat_message_reads").insert({message_id:e,user_id:t.id}).select().single();if(n&&n.code!=="23505")throw n;return r},async getUnreadCount(e){const{data:{user:t}}=await te.auth.getUser();if(!t)throw new Error("User not authenticated");const{data:r,error:n}=await te.from("chat_messages").select("id").eq("group_id",e).not("chat_message_reads","is",null);if(n)throw n;return(r==null?void 0:r.length)||0},async validateFileUpload(e,t){const{data:{session:r}}=await te.auth.getSession();if(!(r!=null&&r.access_token))throw new Error("User not authenticated");const n=await fetch("/functions/v1/validate-chat-file",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r.access_token}`},body:JSON.stringify({fileSize:e.size,mimeType:e.type,groupId:t})});if(!n.ok){const i=await n.json();throw new Error(i.error||"File validation failed")}return await n.json()},async uploadFile(e,t,r){var p;const n=await Mi.validateFileUpload(e,t),i=`${t}/${r}/${e.name}`,{data:s,error:c}=await te.storage.from("chat-attachments").upload(i,e);if(c)throw c;const d="https://kwnbyiqzrphkembkwyvd.supabase.co",{data:f,error:h}=await te.from("chat_file_attachments").insert({message_id:r,file_name:e.name,file_url:`${d}/storage/v1/object/public/chat-attachments/${i}`,file_size:e.size,mime_type:e.type,storage_path:i,uploaded_by:((p=(await te.auth.getUser()).data.user)==null?void 0:p.id)||"",expires_at:n.expiresAt}).select().single();if(h)throw h;return f},async getFileDownloadUrl(e,t=900){const{data:r,error:n}=await te.storage.from("chat-attachments").createSignedUrl(e,t);if(n)throw n;return r.signedUrl},async getMessageAttachments(e){const{data:t,error:r}=await te.from("chat_file_attachments").select("*").eq("message_id",e).order("uploaded_at",{ascending:!1});if(r)throw r;return t},async addReaction(e,t){const{data:{user:r}}=await te.auth.getUser();if(!r)throw new Error("User not authenticated");const{data:n,error:i}=await te.from("chat_reactions").insert({message_id:e,user_id:r.id,emoji:t}).select().single();if(i&&i.code!=="23505")throw i;return n},async removeReaction(e,t){const{data:{user:r}}=await te.auth.getUser();if(!r)throw new Error("User not authenticated");const{error:n}=await te.from("chat_reactions").delete().eq("message_id",e).eq("user_id",r.id).eq("emoji",t);if(n)throw n},async getMessageReactions(e){const{data:t,error:r}=await te.from("chat_reactions").select("*").eq("message_id",e);if(r)throw r;return(t||[]).reduce((i,s)=>(i[s.emoji]||(i[s.emoji]=[]),i[s.emoji].push(s.user_id),i),{})}},_ne=()=>{const{currentUser:e,allUsers:t}=$r(),[r,n]=w.useState([]),[i,s]=w.useState(null),[c,d]=w.useState([]),[f,h]=w.useState(""),[p,g]=w.useState(new Set),[v,x]=w.useState(!1),[j,_]=w.useState(""),[N,S]=w.useState(!1),[O,A]=w.useState(null),[P,D]=w.useState(null),[T,R]=w.useState(!1),q=Ba.useRef(null);w.useEffect(()=>{Y()},[]),w.useEffect(()=>{if(!i)return;let M;return(async()=>{M=await IU(te,i.id,re=>{d(be=>[...be,re.new])})})(),G(i.id),()=>{M&&M()}},[i]),w.useEffect(()=>{if(!i)return;let M;return(async()=>{M=await LU(te,i.id,re=>{g(be=>{const Se=new Set(be);return re.isTyping?Se.add(re.userId):Se.delete(re.userId),Se})})})(),()=>{M&&M()}},[i]);const Y=async()=>{try{const M=await Mi.getUserGroups();n(M),M.length>0&&s(M[0])}catch(M){A({type:"error",message:`Erro ao carregar conversas: ${M instanceof Error?M.message:String(M)}`})}},G=async M=>{x(!0);try{const H=await Mi.getGroupMessages(M);d(H)}catch(H){A({type:"error",message:`Erro ao carregar mensagens: ${H instanceof Error?H.message:String(H)}`})}finally{x(!1)}},U=async M=>{var re;const H=(re=M.target.files)==null?void 0:re[0];H&&D(H)},z=async()=>{if(!(!f.trim()&&!P||!i))try{R(!0);const M=await Mi.sendMessage(i.id,f||(P?`File: ${P.name}`:""));P&&(await Mi.uploadFile(P,i.id,M.id),D(null),q.current&&(q.current.value="")),h(""),await Dy(te,i.id,(e==null?void 0:e.id)||"",!1)}catch(M){A({type:"error",message:`Erro ao enviar: ${M instanceof Error?M.message:String(M)}`})}finally{R(!1)}},J=async()=>{i&&(await Dy(te,i.id,(e==null?void 0:e.id)||"",!0),setTimeout(()=>{f.trim()||Dy(te,i.id,(e==null?void 0:e.id)||"",!1)},3e3))},B=r.filter(M=>M.name.toLowerCase().includes(j.toLowerCase())),K=()=>p.size===0?"":`${Array.from(p).map(H=>{var re;return(re=t.find(be=>be.id===H))==null?void 0:re.name}).filter(Boolean).join(", ")} is typing...`;return l.jsxs("div",{className:"flex h-screen bg-gray-100",children:[l.jsxs("div",{className:"w-64 bg-white border-r border-gray-200 flex flex-col",children:[l.jsxs("div",{className:"p-4 border-b border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[l.jsx(Fx,{size:24,className:"text-blue-600"}),"Chats"]}),l.jsx("button",{onClick:()=>S(!0),className:"p-2 hover:bg-gray-100 rounded-lg transition",title:"Nova conversa","aria-label":"Criar nova conversa",children:l.jsx(dn,{size:20,className:"text-blue-600"})})]}),l.jsx("input",{type:"text",placeholder:"Procurar conversas...",value:j,onChange:M=>_(M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),l.jsx("div",{className:"flex-1 overflow-y-auto",children:B.map(M=>l.jsxs("button",{onClick:()=>s(M),className:`w-full px-4 py-3 text-left border-b border-gray-100 hover:bg-gray-50 transition ${(i==null?void 0:i.id)===M.id?"bg-blue-50":""}`,children:[l.jsx("p",{className:"font-medium text-gray-800 truncate",children:M.name}),l.jsx("p",{className:"text-xs text-gray-500",children:M.type==="DIRECT"?"Direct message":M.type})]},M.id))})]}),l.jsx("div",{className:"flex-1 flex flex-col bg-white",children:i?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-white border-b border-gray-200 p-4 flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-gray-800",children:i.name}),l.jsx("p",{className:"text-sm text-gray-500",children:i.description})]}),l.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition","aria-label":"Configuraes da conversa",children:l.jsx(pw,{size:20,className:"text-gray-600"})})]}),O&&l.jsx("div",{className:`p-3 text-sm ${O.type==="error"?"bg-red-100 text-red-800 border border-red-300":O.type==="success"?"bg-green-100 text-green-800 border border-green-300":"bg-blue-50 text-blue-800 border border-blue-100"} `,children:O.message}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[v?l.jsx("div",{className:"text-center text-gray-500",children:"Carregando mensagens..."}):c.length===0?l.jsx("div",{className:"text-center text-gray-500 mt-8",children:"Nenhuma mensagem ainda. Comece a conversa!"}):c.map(M=>{const H=t.find(re=>re.id===M.sender_id);return l.jsx("div",{className:`flex ${M.sender_id===(e==null?void 0:e.id)?"justify-end":"justify-start"}`,children:l.jsxs("div",{className:`max-w-xs px-4 py-2 rounded-lg ${M.sender_id===(e==null?void 0:e.id)?"bg-blue-600 text-white":"bg-gray-200 text-gray-800"}`,children:[M.sender_id!==(e==null?void 0:e.id)&&l.jsx("p",{className:"text-xs font-semibold mb-1",children:H==null?void 0:H.name}),l.jsx("p",{className:"text-sm break-words",children:M.content}),M.chat_file_attachments&&M.chat_file_attachments.length>0&&l.jsx("div",{className:"mt-2 space-y-2",children:M.chat_file_attachments.map(re=>l.jsx("div",{className:"bg-white/10 rounded p-2 flex items-center gap-2",children:re.mime_type.startsWith("image/")?l.jsx("img",{src:re.file_url,alt:re.file_name,className:"max-w-full rounded cursor-pointer hover:opacity-90",onClick:()=>window.open(re.file_url,"_blank")}):l.jsxs("a",{href:re.file_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-xs underline",children:[l.jsx(qu,{size:14}),re.file_name," (",Math.round(re.file_size/1024)," KB)"]})},re.id))}),l.jsx("p",{className:"text-xs mt-1 opacity-70",children:new Date(M.created_at).toLocaleTimeString()})]})},M.id)}),K()&&l.jsx("div",{className:"text-sm text-gray-500 italic",children:K()})]}),l.jsx("div",{className:"border-t border-gray-200 p-4 bg-gray-50",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>{var M;return(M=q.current)==null?void 0:M.click()},className:`p-2 hover:bg-gray-200 rounded-lg transition ${P?"text-blue-600 bg-blue-50":"text-gray-600"}`,"aria-label":"Anexar ficheiro",title:"Anexar ficheiro",children:l.jsx(qu,{size:20})}),l.jsx("input",{type:"file",ref:q,onChange:U,className:"hidden"}),l.jsxs("div",{className:"flex-1 flex flex-col",children:[P&&l.jsxs("div",{className:"flex items-center gap-2 bg-blue-50 p-1 px-2 mb-1 rounded text-xs text-blue-800",children:[l.jsx(qu,{size:12}),l.jsx("span",{className:"truncate max-w-[200px]",children:P.name}),l.jsx("button",{onClick:()=>D(null),className:"ml-auto p-1 hover:bg-blue-100 rounded",children:l.jsx(na,{size:12})})]}),l.jsx("input",{type:"text",placeholder:P?"Legenda opcional...":"Escreva uma mensagem...",value:f,onChange:M=>h(M.target.value),onKeyUp:J,onKeyPress:M=>{M.key==="Enter"&&!M.shiftKey&&(M.preventDefault(),z())},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("button",{onClick:z,disabled:!f.trim()&&!P||T,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 transition flex items-center gap-2",children:[T?l.jsx("div",{className:"w-5 h-5 border-2 border-white/20 border-t-white rounded-full animate-spin"}):l.jsx(u$,{size:18}),T?"Enviando...":"Enviar"]})]})})]}):l.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Fx,{size:48,className:"mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"Selecione uma conversa para comear"})]})})}),N&&l.jsx(Nne,{onClose:()=>S(!1),onGroupCreated:()=>{Y(),S(!1)}})]})},Nne=({onClose:e,onGroupCreated:t})=>{const{allUsers:r,currentUser:n}=$r(),[i,s]=w.useState("direct"),[c,d]=w.useState(""),[f,h]=w.useState("GROUP"),[p,g]=w.useState(null),[v,x]=w.useState(!1),[j,_]=w.useState(null),[N,S]=w.useState(""),[O,A]=w.useState(0),P=r.filter(G=>G.id!==(n==null?void 0:n.id)).filter(G=>G.name.toLowerCase().includes(N.toLowerCase())||(G.email||"").toLowerCase().includes(N.toLowerCase()));w.useEffect(()=>{A(0)},[N]);const D=G=>{if(i==="direct"){if(G.key==="ArrowDown")G.preventDefault(),A(U=>Math.min(U+1,P.length-1));else if(G.key==="ArrowUp")G.preventDefault(),A(U=>Math.max(U-1,0));else if(G.key==="Enter"){G.preventDefault();const U=P[O];U&&g(U.id)}}},T=async()=>{if(!p){_("Selecione um usurio para iniciar a conversa.");return}x(!0);try{const G=r.find(z=>z.id===p);if(!G)throw new Error("Usurio no encontrado");const U=n;if(!U)throw new Error("Usurio atual no identificado");await Mi.getOrCreateDirectGroup(U.id,G.id),t()}catch(G){_(G instanceof Error?G.message:String(G))}finally{x(!1)}},R=async()=>{if(c.trim()){x(!0);try{await Mi.createGroup(c,f),t()}catch(G){_(G instanceof Error?G.message:String(G))}finally{x(!1)}}},q=(G="")=>G.split(" ").map(U=>U[0]).slice(0,2).join("").toUpperCase(),Y=G=>{if(!G)return"";const U=new Date(G).getTime(),z=Date.now(),J=Math.max(0,Math.floor((z-U)/1e3));return J<60?"agora":J<3600?`h ${Math.floor(J/60)}m`:J<86400?`h ${Math.floor(J/3600)}h`:`h ${Math.floor(J/86400)}d`};return l.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",onKeyDown:D,tabIndex:-1,children:l.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-6 w-full max-w-lg mx-4 max-h-[80vh] overflow-y-auto transform transition-all duration-200 ease-out scale-100 motion-safe:animate-fadeIn",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Nova Conversa"}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("button",{onClick:e,className:"p-1 hover:bg-gray-100 rounded","aria-label":"Fechar",title:"Fechar",children:l.jsx(na,{size:20})})})]}),l.jsxs("div",{className:"flex gap-2 mb-4 border-b border-gray-200",children:[l.jsx("button",{onClick:()=>s("direct"),className:`flex-1 py-2 text-sm font-medium border-b-2 transition ${i==="direct"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,"aria-label":"Conversa Direta",title:"Conversa Direta",children:"Direto"}),l.jsx("button",{onClick:()=>s("group"),className:`flex-1 py-2 text-sm font-medium border-b-2 transition ${i==="group"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,"aria-label":"Novo Grupo",title:"Novo Grupo",children:"Grupo/Canal"})]}),i==="direct"&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{children:l.jsx("input",{type:"text",value:N,onChange:G=>S(G.target.value),placeholder:"Procurar usurio por nome ou email...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Buscar usurio"})}),l.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:P.length>0?P.map((G,U)=>l.jsxs("button",{onClick:()=>{g(G.id),A(U)},className:`w-full p-3 text-left rounded-lg transition flex items-center gap-3 border-2 ${p===G.id?"border-blue-600 bg-blue-50 shadow-sm":O===U?"border-gray-300 bg-gray-50":"border-transparent hover:bg-gray-50"}`,"aria-label":`Selecionar ${G.name}`,title:G.name,children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-indigo-500 to-pink-500 flex items-center justify-center text-white font-semibold",children:q(G.name)}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`w-2 h-2 rounded-full ${G.isOnline?"bg-emerald-400":"bg-gray-300"}`,"aria-hidden":"true"}),l.jsx("div",{className:"font-medium text-gray-900",children:G.name})]}),l.jsx("div",{className:"text-xs text-gray-500",children:G.email||""}),l.jsx("div",{className:"text-xs text-gray-400",children:G.isOnline?"Online":G.lastSeen?`Visto ${Y(G.lastSeen)}`:"Offline"})]}),l.jsx("div",{className:"text-xs text-gray-400",children:G.role})]},G.id)):l.jsx("div",{className:"text-center py-6 text-gray-500",children:"Nenhum usurio encontrado"})}),l.jsxs("div",{className:"flex gap-2 pt-4",children:[l.jsx("button",{onClick:e,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition","aria-label":"Cancelar",children:"Cancelar"}),l.jsx("button",{onClick:T,disabled:!p||v,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 transition flex items-center justify-center gap-2","aria-label":"Abrir conversa",children:v?l.jsxs(l.Fragment,{children:[l.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4l3-3-3-3v4a8 8 0 00-8 8z"})]}),"Abrindo..."]}):"Abrir"})]})]}),i==="group"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome da Conversa"}),l.jsx("input",{type:"text",value:c,onChange:G=>d(G.target.value),placeholder:"Ex: Marketing Team",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Nome do grupo"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),l.jsxs("select",{value:f,onChange:G=>h(G.target.value),"aria-label":"Tipo de conversa",title:"Selecione o tipo de conversa",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"GROUP",children:"Grupo"}),l.jsx("option",{value:"CHANNEL",children:"Canal"})]})]}),l.jsxs("div",{className:"flex gap-2 pt-4",children:[l.jsx("button",{onClick:e,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition","aria-label":"Cancelar",children:"Cancelar"}),l.jsx("button",{onClick:R,disabled:!c.trim()||v,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 transition","aria-label":"Criar grupo",children:v?"Criando...":"Criar"})]})]}),j&&l.jsx("div",{className:"mt-4 p-3 text-sm bg-red-100 text-red-800 border border-red-300 rounded",children:j})]})})};async function Sne(e=1){const{data:t,error:r}=await te.from("v_overdue_installments").select("*").gte("days_overdue",e).order("days_overdue",{ascending:!1});if(r)throw r;return t||[]}async function Ene(e){let t=te.from("v_client_balances").select("*");const{data:r,error:n}=await t.order("overdue_amount",{ascending:!1});if(n)throw n;return r||[]}async function Ane(e=30,t=50){const{data:r,error:n}=await te.from("v_client_balances").select("*").gte("max_days_overdue",e).gte("overdue_invoice_count",1).order("max_days_overdue",{ascending:!1}).limit(t);if(n)throw n;return r||[]}async function One(e,t=1){let r=te.from("v_overdue_invoices").select("*").gte("days_overdue",t);e&&(r=r.eq("location_id",e));const{data:n,error:i}=await r.order("days_overdue",{ascending:!1});if(i)throw i;return n||[]}async function Tne(e){let t=te.from("v_overdue_invoices").select("*");e&&(t=t.eq("location_id",e));const{data:r,error:n}=await t;if(n)throw n;const i={totalOverdue:(r==null?void 0:r.length)||0,totalOverdueAmount:0,byStatus:{due:0,overdue30:0,overdue60:0,overdue90:0},averageDaysOverdue:0};return r&&r.length>0&&(i.totalOverdueAmount=r.reduce((s,c)=>s+(c.valor_total||0),0),i.averageDaysOverdue=Math.round(r.reduce((s,c)=>s+(c.days_overdue||0),0)/r.length),r.forEach(s=>{s.collection_status==="DUE"?i.byStatus.due++:s.collection_status==="OVERDUE_30"?i.byStatus.overdue30++:s.collection_status==="OVERDUE_60"?i.byStatus.overdue60++:s.collection_status==="OVERDUE_90"&&i.byStatus.overdue90++})),i}function Cne(){const{invoices:e,selectedDepartmentId:t}=$r(),[r,n]=w.useState(!0),[i,s]=w.useState(null),[c,d]=w.useState("overview"),[f,h]=w.useState("all"),[p,g]=w.useState(null),[v,x]=w.useState([]),[j,_]=w.useState([]),[N,S]=w.useState([]),[O,A]=w.useState([]);w.useEffect(()=>{P()},[t,f]);const P=async()=>{try{n(!0);const[T,R,q,Y,G]=await Promise.all([Tne(t||""),Ane(parseInt(f==="all"?"1":f)),One(t||"",1),Ene(),Sne(1)]);g(T),x(R),_(q),S(Y),A(G)}catch(T){s({type:"error",message:`Error loading collections data: ${T instanceof Error?T.message:String(T)}`})}finally{n(!1)}},D=T=>T<=0?{label:"No Vencida",color:"bg-green-100 text-green-800"}:T<=30?{label:"Vencida",color:"bg-yellow-100 text-yellow-800"}:T<=60?{label:"Atraso 30+ dias",color:"bg-orange-100 text-orange-800"}:T<=90?{label:"Atraso 60+ dias",color:"bg-red-100 text-red-800"}:{label:"Atraso 90+ dias",color:"bg-red-200 text-red-900"};return r?l.jsx("div",{className:"flex items-center justify-center h-screen",children:l.jsx("div",{className:"text-gray-500",children:"Carregando..."})}):l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("h1",{className:"text-4xl font-bold text-slate-900 flex items-center gap-3",children:[l.jsx(zn,{className:"w-10 h-10 text-blue-600"}),"Contas a Receber"]}),l.jsx("p",{className:"text-slate-600 mt-2",children:"Dashboard de cobranas, atrasos e parcelamentos"})]}),i&&l.jsx("div",{className:`p-3 rounded text-sm mb-6 ${i.type==="success"?"bg-green-100 border border-green-300 text-green-800":i.type==="error"?"bg-red-100 border border-red-300 text-red-800":"bg-blue-50 border border-blue-100 text-blue-800"}`,children:i.message}),p&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[l.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-red-500",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-600",children:"Faturas Atrasadas"}),l.jsx("p",{className:"text-3xl font-bold text-slate-900",children:p.totalOverdue})]}),l.jsx(Ro,{className:"w-10 h-10 text-red-500 opacity-50"})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-orange-500",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-600",children:"Montante Atrasado"}),l.jsxs("p",{className:"text-3xl font-bold text-slate-900",children:[(p.totalOverdueAmount/1e3).toFixed(1),"K"]})]}),l.jsx(gw,{className:"w-10 h-10 text-orange-500 opacity-50"})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-yellow-500",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-600",children:"Dias Mdios de Atraso"}),l.jsx("p",{className:"text-3xl font-bold text-slate-900",children:p.averageDaysOverdue})]}),l.jsx(rd,{className:"w-10 h-10 text-yellow-500 opacity-50"})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-purple-500",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-600",children:"Clientes c/ Atraso"}),l.jsx("p",{className:"text-3xl font-bold text-slate-900",children:v.length})]}),l.jsx(Ad,{className:"w-10 h-10 text-purple-500 opacity-50"})]})})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md mb-6",children:[l.jsx("div",{className:"flex border-b border-slate-200",children:["overview","clientes","faturas","parcelamentos"].map(T=>l.jsxs("button",{onClick:()=>d(T),className:`flex-1 px-6 py-3 text-sm font-medium transition-colors ${c===T?"border-b-2 border-blue-600 text-blue-600":"text-slate-600 hover:text-slate-900"}`,children:[T==="overview"&&"Viso Geral",T==="clientes"&&"Clientes",T==="faturas"&&"Faturas",T==="parcelamentos"&&"Parcelamentos"]},T))}),l.jsxs("div",{className:"p-6",children:[c==="overview"&&l.jsxs("div",{className:"space-y-6",children:[p&&l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"bg-blue-50 rounded p-4 border-l-4 border-blue-500",children:[l.jsx("p",{className:"text-xs text-slate-600",children:"Vencidas"}),l.jsx("p",{className:"text-2xl font-bold text-blue-600",children:p.byStatus.due})]}),l.jsxs("div",{className:"bg-yellow-50 rounded p-4 border-l-4 border-yellow-500",children:[l.jsx("p",{className:"text-xs text-slate-600",children:"30+ dias"}),l.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:p.byStatus.overdue30})]}),l.jsxs("div",{className:"bg-orange-50 rounded p-4 border-l-4 border-orange-500",children:[l.jsx("p",{className:"text-xs text-slate-600",children:"60+ dias"}),l.jsx("p",{className:"text-2xl font-bold text-orange-600",children:p.byStatus.overdue60})]}),l.jsxs("div",{className:"bg-red-50 rounded p-4 border-l-4 border-red-500",children:[l.jsx("p",{className:"text-xs text-slate-600",children:"90+ dias"}),l.jsx("p",{className:"text-2xl font-bold text-red-600",children:p.byStatus.overdue90})]})]}),l.jsxs("div",{className:"mt-6",children:[l.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[l.jsx(Ro,{className:"w-5 h-5 text-red-500"}),"Clientes Prioritrios para Cobrana"]}),l.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:v.slice(0,10).map(T=>{var R;return l.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-semibold text-slate-900",children:T.clientName}),l.jsxs("p",{className:"text-sm text-slate-600",children:["NUIT: ",T.nuit||"N/A"]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"font-semibold text-red-600",children:(R=T.overdueAmount)==null?void 0:R.toLocaleString("pt-BR",{style:"currency",currency:"MZN"})}),l.jsxs("p",{className:"text-sm text-slate-600",children:[T.maxDaysOverdue," dias de atraso"]})]})]},T.clientId)})})]})]}),c==="clientes"&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex items-center gap-4 mb-4",children:l.jsx("div",{className:"flex gap-2",children:["all","30","60","90"].map(T=>l.jsx("button",{onClick:()=>h(T),className:`px-4 py-2 rounded text-sm font-medium transition-colors ${f===T?"bg-blue-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:T==="all"?"Todos":`${T}+ dias`},T))})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{className:"bg-slate-100 border-b border-slate-300",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-2 text-left font-semibold text-slate-900",children:"Cliente"}),l.jsx("th",{className:"px-4 py-2 text-right font-semibold text-slate-900",children:"Saldo Pendente"}),l.jsx("th",{className:"px-4 py-2 text-right font-semibold text-slate-900",children:"Montante Atrasado"}),l.jsx("th",{className:"px-4 py-2 text-right font-semibold text-slate-900",children:"Dias Atraso"}),l.jsx("th",{className:"px-4 py-2 text-center font-semibold text-slate-900",children:"Faturas"}),l.jsx("th",{className:"px-4 py-2 text-center font-semibold text-slate-900",children:"Aes"})]})}),l.jsx("tbody",{children:N.map(T=>{var R,q;return l.jsxs("tr",{className:"border-b border-slate-200 hover:bg-slate-50",children:[l.jsx("td",{className:"px-4 py-3",children:l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-slate-900",children:T.clientName}),l.jsx("p",{className:"text-xs text-slate-600",children:T.nuit})]})}),l.jsx("td",{className:"px-4 py-3 text-right font-semibold text-slate-900",children:(R=T.outstandingAmount)==null?void 0:R.toLocaleString("pt-BR",{style:"currency",currency:"MZN"})}),l.jsx("td",{className:"px-4 py-3 text-right",children:l.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-semibold ${T.overdueAmount&&T.overdueAmount>0?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:(q=T.overdueAmount)==null?void 0:q.toLocaleString("pt-BR",{style:"currency",currency:"MZN"})})}),l.jsx("td",{className:"px-4 py-3 text-right",children:l.jsx("span",{className:`inline-block px-2 py-1 rounded text-sm font-semibold ${T.maxDaysOverdue>90?"bg-red-100 text-red-800":T.maxDaysOverdue>60?"bg-orange-100 text-orange-800":"bg-yellow-100 text-yellow-800"}`,children:T.maxDaysOverdue})}),l.jsx("td",{className:"px-4 py-3 text-center",children:T.overdueInvoiceCount}),l.jsxs("td",{className:"px-4 py-3 text-center flex gap-2 justify-center",children:[l.jsx("button",{className:"p-1 hover:bg-slate-200 rounded transition-colors",title:"Enviar Email",children:l.jsx(fA,{className:"w-4 h-4 text-blue-600"})}),l.jsx("button",{className:"p-1 hover:bg-slate-200 rounded transition-colors",title:"Agendar Chamada",children:l.jsx(Q8,{className:"w-4 h-4 text-green-600"})})]})]},T.clientId)})})]})})]}),c==="faturas"&&l.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:j.map(T=>{var q;const R=D(T.daysOverdue);return l.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors border-l-4 border-red-500",children:[l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Va,{className:"w-5 h-5 text-slate-600"}),l.jsxs("div",{children:[l.jsxs("p",{className:"font-semibold text-slate-900",children:["Fatura ",T.numero]}),l.jsx("p",{className:"text-sm text-slate-600",children:T.clientName})]})]})}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"font-semibold text-red-600",children:(q=T.valorTotal)==null?void 0:q.toLocaleString("pt-BR",{style:"currency",currency:"MZN"})}),l.jsxs("p",{className:"text-sm text-slate-600",children:["Venceu em ",fr(T.dueDate)]})]}),l.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${R.color}`,children:R.label}),l.jsx(am,{className:"w-5 h-5 text-slate-400"})]})]},T.id)})}),c==="parcelamentos"&&l.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:O.length>0?O.map(T=>{var R;return l.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors border-l-4 border-orange-500",children:[l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Ed,{className:"w-5 h-5 text-slate-600"}),l.jsxs("div",{children:[l.jsxs("p",{className:"font-semibold text-slate-900",children:["Parcela ",T.installmentNumber,"/",T.totalInstallments]}),l.jsxs("p",{className:"text-sm text-slate-600",children:["Vencimento: ",fr(T.dueDate)]})]})]})}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"font-semibold text-orange-600",children:(R=T.installmentAmount)==null?void 0:R.toLocaleString("pt-BR",{style:"currency",currency:"MZN"})}),l.jsxs("p",{className:"text-sm text-slate-600",children:["Atraso: ",T.daysOverdue," dias"]})]}),l.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-orange-100 text-orange-800",children:T.status}),l.jsx(am,{className:"w-5 h-5 text-slate-400"})]})]},T.id)}):l.jsx("div",{className:"text-center py-8 text-slate-500",children:"Nenhum parcelamento com atraso"})})]})]}),l.jsxs("div",{className:"flex gap-4 justify-end",children:[l.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-slate-200 text-slate-900 hover:bg-slate-300 transition-colors font-medium",children:[l.jsx(dw,{className:"w-4 h-4"}),"Exportar Relatrio"]}),l.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 transition-colors font-medium",children:[l.jsx(fA,{className:"w-4 h-4"}),"Enviar Recordatrios"]})]})]})}async function Pne(e){const{data:t,error:r}=await te.from("transactions").select("*").eq("id",e).eq("type","EXPENSE").single();if(r)throw r;return t}async function Dne(e){const{data:t,error:r}=await te.from("expense_attachments").select("*").eq("transaction_id",e).order("uploaded_at",{ascending:!1});if(r)throw r;return t||[]}async function kne(e,t=50){let r=te.from("v_pending_expense_approvals").select("*");const{data:n,error:i}=await r.limit(t).order("date",{ascending:!1});if(i)throw i;return n||[]}async function Rne(e,t,r){const{data:n,error:i}=await te.from("transactions").update({approval_status:"APPROVED",approved_by:t,approval_date:new Date().toISOString(),notes:r,requires_approval:!1}).eq("id",e).eq("type","EXPENSE").select().single();if(i)throw i;return n}async function Mne(e,t){const{data:r,error:n}=await te.from("transactions").update({approval_status:"REJECTED",rejection_reason:t,requires_approval:!1}).eq("id",e).eq("type","EXPENSE").select().single();if(n)throw n;return r}async function Ine(e){const t=new Date,r=new Date(t.getFullYear(),t.getMonth(),1).toISOString().split("T")[0],n=new Date(t.getFullYear(),t.getMonth()+1,0).toISOString().split("T")[0],{data:i,error:s}=await te.from("v_expense_budget_summary").select("*").eq("cost_center_id",e).gte("period_start",r).lte("period_end",n).single();if(s&&s.code!=="PGRST116")throw s;return i||null}async function fI(e){let t=te.from("v_expense_budget_summary").select("*");const r=new Date,n=new Date(r.getFullYear(),r.getMonth(),1).toISOString().split("T")[0],i=new Date(r.getFullYear(),r.getMonth()+1,0).toISOString().split("T")[0],{data:s,error:c}=await t.gte("period_start",n).lte("period_end",i).order("percentage_used",{ascending:!1});if(c)throw c;return s||[]}async function Lne(e,t){const r=await Ine(e);if(!r||!r.budgetAmount)return{canApprove:!0,message:"Sem limite de oramento definido",percentageAfter:0};const n=r.spentAmount+t,i=n/r.budgetAmount*100;return{canApprove:n<=r.budgetAmount,message:i>100?`Excede oramento em ${(i-100).toFixed(2)}%`:`Utilizaria ${i.toFixed(2)}% do oramento`,percentageAfter:i}}async function zne(e){let t=te.from("v_expenses_by_category").select("*");const{data:r,error:n}=await t;if(n)throw n;return r||[]}async function Une(e,t=!0){let r=te.from("cost_centers").select("*");t&&(r=r.eq("is_active",!0)),e&&(r=r.eq("location_id",e));const{data:n,error:i}=await r.order("name");if(i)throw i;return n||[]}function $ne(){const{currentUser:e,selectedDepartmentId:t}=$r(),[r,n]=w.useState(!0),[i,s]=w.useState("pending"),[c,d]=w.useState(null),[f,h]=w.useState([]),[p,g]=w.useState(null),[v,x]=w.useState([]),[j,_]=w.useState(!1),[N,S]=w.useState([]),[O,A]=w.useState(""),[P,D]=w.useState(null);w.useEffect(()=>{T()},[t]);const T=async()=>{try{n(!0);const[U,z]=await Promise.all([kne(t||""),fI(t||"")]);h(U),S(z)}catch(U){d({type:"error",message:`Error loading expense data: ${U instanceof Error?U.message:String(U)}`})}finally{n(!1)}},R=async U=>{try{const z=await Pne(U.id),J=await Dne(U.id);if(g(z),x(J),z.costCenterId){const B=await Lne(z.costCenterId,z.amount);B.canApprove?D(null):D(B.message)}_(!0)}catch(z){d({type:"error",message:`Error loading expense details: ${z instanceof Error?z.message:String(z)}`})}},q=async()=>{if(!(!p||!e))try{await Rne(p.id,e.id),h(f.filter(U=>U.id!==p.id)),_(!1),g(null),A("")}catch(U){d({type:"error",message:`Error approving expense: ${U instanceof Error?U.message:String(U)}`})}},Y=async()=>{if(!p||!O.trim()){alert("Por favor, fornea uma razo para a rejeio"),d({type:"info",message:"Por favor, fornea uma razo para a rejeio"});return}try{await Mne(p.id,O),h(f.filter(U=>U.id!==p.id)),_(!1),g(null),A("")}catch(U){d({type:"error",message:`Error rejecting expense: ${U instanceof Error?U.message:String(U)}`})}},G=U=>{switch(U){case"EXCEEDED":return"bg-red-100 text-red-800 border-red-300";case"CRITICAL":return"bg-orange-100 text-orange-800 border-orange-300";case"WARNING":return"bg-yellow-100 text-yellow-800 border-yellow-300";default:return"bg-green-100 text-green-800 border-green-300"}};return e?l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("h1",{className:"text-4xl font-bold text-slate-900 flex items-center gap-3",children:[l.jsx(zn,{className:"w-10 h-10 text-blue-600"}),"Aprovao de Despesas"]}),l.jsx("p",{className:"text-slate-600 mt-2",children:"Revise e aprove despesas pendentes | Monitorize oramentos"})]}),c&&l.jsx("div",{className:`p-3 rounded text-sm mb-6 ${c.type==="success"?"bg-green-100 border border-green-300 text-green-800":c.type==="error"?"bg-red-100 border border-red-300 text-red-800":"bg-blue-50 border border-blue-100 text-blue-800"}`,children:c.message}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md mb-6",children:[l.jsx("div",{className:"flex border-b border-slate-200",children:["pending","budgets"].map(U=>l.jsxs("button",{onClick:()=>s(U),className:`flex-1 px-6 py-3 text-sm font-medium transition-colors ${i===U?"border-b-2 border-blue-600 text-blue-600":"text-slate-600 hover:text-slate-900"}`,children:[U==="pending"&&`Pendentes (${f.length})`,U==="budgets"&&"Oramentos"]},U))}),i==="pending"&&l.jsx("div",{className:"p-6",children:r?l.jsx("div",{className:"flex items-center justify-center py-8",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):f.length===0?l.jsxs("div",{className:"text-center py-8 text-slate-500",children:[l.jsx(wa,{className:"w-12 h-12 mx-auto text-green-400 mb-3"}),l.jsx("p",{children:"Todas as despesas foram aprovadas!"})]}):l.jsx("div",{className:"space-y-3 max-h-[600px] overflow-y-auto",children:f.map(U=>l.jsx("div",{className:"p-4 bg-slate-50 rounded-lg border-l-4 border-orange-500 hover:bg-slate-100 transition-colors",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx(Va,{className:"w-5 h-5 text-slate-600"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-slate-900",children:U.receiptNumber||"Recibo Sem Nmero"}),l.jsx("p",{className:"text-sm text-slate-600",children:U.userName})]})]}),U.description&&l.jsx("p",{className:"text-sm text-slate-700 ml-8 mb-2",children:U.description}),l.jsxs("div",{className:"flex flex-wrap gap-4 ml-8 text-sm text-slate-600",children:[U.category&&l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(vD,{className:"w-4 h-4"}),U.category]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Ed,{className:"w-4 h-4"}),fr(U.date)]}),U.attachmentCount>0&&l.jsxs("span",{className:"flex items-center gap-1 text-blue-600",children:[l.jsx(qu,{className:"w-4 h-4"}),U.attachmentCount," anexo",U.attachmentCount>1?"s":""]})]})]}),l.jsxs("div",{className:"flex items-center gap-4 ml-4",children:[l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"font-semibold text-slate-900 text-lg",children:U.amount.toLocaleString("pt-BR",{style:"currency",currency:"MZN"})}),U.requiresApproval&&l.jsx("p",{className:"text-xs text-red-600 font-semibold",children:" Requer Aprovao"})]}),l.jsx("button",{onClick:()=>R(U),className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors whitespace-nowrap",children:"Revisar"})]})]})},U.id))})}),i==="budgets"&&l.jsx("div",{className:"p-6",children:N.length===0?l.jsxs("div",{className:"text-center py-8 text-slate-500",children:[l.jsx(Ro,{className:"w-12 h-12 mx-auto text-slate-300 mb-3"}),l.jsx("p",{children:"Sem oramentos configurados"})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:N.map(U=>{var z;return l.jsxs("div",{className:`p-4 rounded-lg border-2 ${G(U.budgetStatus)}`,children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-sm",children:U.costCenterName||"Centro Sem Nome"}),l.jsxs("p",{className:"text-xs opacity-75",children:[fr(U.periodStart)," a"," ",fr(U.periodEnd)]})]}),l.jsx("span",{className:"text-xs font-bold px-2 py-1 rounded bg-current bg-opacity-20",children:U.budgetStatus})]}),l.jsxs("div",{className:"space-y-2 mb-3",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:"Oramento:"}),l.jsx("span",{className:"font-semibold",children:((z=U.budgetAmount)==null?void 0:z.toLocaleString("pt-BR",{style:"currency",currency:"MZN"}))||"N/A"})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:"Gasto:"}),l.jsx("span",{className:"font-semibold",children:U.spentAmount.toLocaleString("pt-BR",{style:"currency",currency:"MZN"})})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:"Restante:"}),l.jsx("span",{className:"font-semibold",children:U.remainingBudget.toLocaleString("pt-BR",{style:"currency",currency:"MZN"})})]})]}),l.jsx("div",{className:"w-full bg-gray-300 rounded-full h-2 overflow-hidden",children:l.jsx("div",{className:`h-full transition-all ${U.budgetStatus==="EXCEEDED"?"bg-red-600":U.budgetStatus==="CRITICAL"?"bg-orange-600":U.budgetStatus==="WARNING"?"bg-yellow-600":"bg-green-600"}`,style:{width:`${Math.min(U.percentageUsed,100)}%`}})}),l.jsxs("p",{className:"text-xs mt-2 font-semibold",children:[U.percentageUsed.toFixed(1),"% utilizado"]})]},U.costCenterId)})})})]}),j&&p&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] flex flex-col",children:[l.jsx("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 bg-gradient-to-r from-blue-50 to-slate-50",children:l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Detalhes da Despesa"}),l.jsx("p",{className:"text-sm text-slate-600 mt-1",children:p.receiptNumber||"Recibo sem nmero"})]})}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[P&&l.jsx("div",{className:"p-4 bg-red-50 border-l-4 border-red-500 rounded",children:l.jsxs("p",{className:"text-sm text-red-800 font-semibold flex items-center gap-2",children:[l.jsx(Ro,{className:"w-5 h-5"}),P]})}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Solicitante"}),l.jsx("p",{className:"font-semibold text-slate-900",children:p.userId})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Valor"}),l.jsx("p",{className:"font-semibold text-lg text-blue-600",children:p.amount.toLocaleString("pt-BR",{style:"currency",currency:"MZN"})})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Data"}),l.jsx("p",{className:"font-semibold text-slate-900",children:fr(p.date)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Categoria"}),l.jsx("p",{className:"font-semibold text-slate-900",children:p.category||"N/A"})]})]}),p.description&&l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-600 mb-2",children:"Descrio"}),l.jsx("p",{className:"p-3 bg-slate-50 rounded text-slate-800",children:p.description})]}),v.length>0&&l.jsxs("div",{children:[l.jsxs("p",{className:"text-sm font-semibold text-slate-900 mb-3",children:["Documentos (",v.length,")"]}),l.jsx("div",{className:"space-y-2",children:v.map(U=>l.jsxs("a",{href:U.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 p-2 bg-slate-50 hover:bg-blue-50 rounded border border-slate-200 transition-colors",children:[l.jsx(qu,{className:"w-4 h-4 text-blue-600"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-slate-900 truncate",children:U.fileName}),l.jsxs("p",{className:"text-xs text-slate-600",children:[U.attachmentType,"  ",fr(U.uploadedAt)]})]})]},U.id))})]}),p.approvalStatus==="PENDING"&&l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Razo da Rejeio (se aplicvel)"}),l.jsx("textarea",{value:O,onChange:U=>A(U.target.value),placeholder:"Explique por que a despesa  rejeitada...",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 text-sm",rows:3})]})]}),l.jsxs("div",{className:"flex gap-3 p-6 border-t border-slate-200 bg-slate-50",children:[l.jsxs("button",{onClick:Y,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-colors flex items-center justify-center gap-2",children:[l.jsx(im,{className:"w-4 h-4"}),"Rejeitar"]}),l.jsxs("button",{onClick:q,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition-colors flex items-center justify-center gap-2",children:[l.jsx(wa,{className:"w-4 h-4"}),"Aprovar"]}),l.jsx("button",{onClick:()=>{_(!1),g(null),A("")},className:"flex-1 px-4 py-2 bg-slate-300 text-slate-800 rounded-lg font-medium hover:bg-slate-400 transition-colors",children:"Fechar"})]})]})})]}):l.jsx("div",{className:"flex items-center justify-center h-screen",children:l.jsx("div",{className:"text-gray-500",children:"Carregando..."})})}function Bne(){const{currentUser:e,selectedDepartmentId:t}=$r(),[r,n]=w.useState(!0),[i,s]=w.useState("overview"),[c,d]=w.useState(null),[f,h]=w.useState([]),[p,g]=w.useState([]),[v,x]=w.useState([]),j=new Date,_=new Date(j.getFullYear(),j.getMonth(),1),[N,S]=w.useState({startDate:_.toISOString().split("T")[0],endDate:j.toISOString().split("T")[0],costCenterId:void 0}),[O,A]=w.useState(0),[P,D]=w.useState(0),[T,R]=w.useState(0);w.useEffect(()=>{q()},[N,t]);const q=async()=>{try{n(!0);const[B,K,M]=await Promise.all([fI(t||""),zne(),Une(t||"")]);h(B),g(K),x(M);const H=B.reduce((Se,L)=>Se+(L.budgetAmount||0),0),re=B.reduce((Se,L)=>Se+L.spentAmount,0),be=B.reduce((Se,L)=>Se+(L.approvalPendingAmount||0),0);A(H),D(re),R(be)}catch(B){d({type:"error",message:`Error loading report data: ${B instanceof Error?B.message:String(B)}`})}finally{n(!1)}},Y=B=>{try{if(B==="csv"){const K=G();U(K,"expenses-report.csv","text/csv")}}catch(K){d({type:"error",message:`Error exporting report: ${K instanceof Error?K.message:String(K)}`})}},G=()=>{const B=["Centro de Custo","Oramento","Gasto","Pendente","Restante","Status","% Utilizado"],K=f.map(M=>{var H,re;return[M.costCenterName||"N/A",((H=M.budgetAmount)==null?void 0:H.toFixed(2))||"0",M.spentAmount.toFixed(2),((re=M.approvalPendingAmount)==null?void 0:re.toFixed(2))||"0",M.remainingBudget.toFixed(2),M.budgetStatus,M.percentageUsed.toFixed(1)]});return[B,...K].map(M=>M.join(",")).join(`
`)},U=(B,K,M)=>{const H=new Blob([B],{type:M}),re=window.URL.createObjectURL(H),be=document.createElement("a");be.href=re,be.download=K,be.click(),window.URL.revokeObjectURL(re)},z=B=>{switch(B){case"EXCEEDED":return"bg-red-100 text-red-800 border-red-300";case"CRITICAL":return"bg-orange-100 text-orange-800 border-orange-300";case"WARNING":return"bg-yellow-100 text-yellow-800 border-yellow-300";default:return"bg-green-100 text-green-800 border-green-300"}},J=B=>{switch(B){case"EXCEEDED":return"bg-red-600";case"CRITICAL":return"bg-orange-600";case"WARNING":return"bg-yellow-600";default:return"bg-green-600"}};return e?l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("h1",{className:"text-4xl font-bold text-slate-900 flex items-center gap-3",children:[l.jsx(qx,{className:"w-10 h-10 text-purple-600"}),"Relatrios de Oramento"]}),l.jsx("p",{className:"text-slate-600 mt-2",children:"Monitore gastos vs oramento | Anlise por categoria"})]}),c&&l.jsx("div",{className:`p-3 rounded text-sm mb-6 ${c.type==="success"?"bg-green-100 border border-green-300 text-green-800":c.type==="error"?"bg-red-100 border border-red-300 text-red-800":"bg-blue-50 border border-blue-100 text-blue-800"}`,children:c.message}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(pD,{className:"w-5 h-5 text-slate-600"}),l.jsx("h3",{className:"font-semibold text-slate-900",children:"Filtros"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Data Inicial"}),l.jsx("input",{type:"date",value:N.startDate,onChange:B=>S({...N,startDate:B.target.value}),"aria-label":"Data Inicial",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-sm"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Data Final"}),l.jsx("input",{type:"date",value:N.endDate,onChange:B=>S({...N,endDate:B.target.value}),"aria-label":"Data Final",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-sm"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Centro de Custo"}),l.jsxs("select",{value:N.costCenterId||"",onChange:B=>S({...N,costCenterId:B.target.value||void 0}),"aria-label":"Centro de Custo",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-sm",children:[l.jsx("option",{value:"",children:"Todos"}),v.map(B=>l.jsx("option",{value:B.id,children:B.name},B.id))]})]}),l.jsxs("div",{className:"flex items-end gap-2",children:[l.jsx("button",{onClick:q,className:"flex-1 px-4 py-2 bg-purple-600 text-white rounded-lg font-medium hover:bg-purple-700 transition-colors",children:"Atualizar"}),l.jsxs("button",{onClick:()=>Y("csv"),className:"px-4 py-2 bg-slate-600 text-white rounded-lg font-medium hover:bg-slate-700 transition-colors flex items-center gap-2",children:[l.jsx(dw,{className:"w-4 h-4"}),"CSV"]})]})]})]}),!r&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-blue-500",children:[l.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Oramento Total"}),l.jsx("p",{className:"text-3xl font-bold text-slate-900",children:O.toLocaleString("pt-BR",{style:"currency",currency:"MZN"})})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-orange-500",children:[l.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Gasto Realizado"}),l.jsx("p",{className:"text-3xl font-bold text-slate-900",children:P.toLocaleString("pt-BR",{style:"currency",currency:"MZN"})}),l.jsxs("p",{className:"text-xs text-slate-600 mt-1",children:[O>0?(P/O*100).toFixed(1):"0","% do oramento"]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-yellow-500",children:[l.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Pendente Aprovao"}),l.jsx("p",{className:"text-3xl font-bold text-slate-900",children:T.toLocaleString("pt-BR",{style:"currency",currency:"MZN"})})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-green-500",children:[l.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Restante"}),l.jsx("p",{className:"text-3xl font-bold text-slate-900",children:(O-P-T).toLocaleString("pt-BR",{style:"currency",currency:"MZN"})})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[l.jsx("div",{className:"flex border-b border-slate-200",children:["overview","details","analysis"].map(B=>l.jsxs("button",{onClick:()=>s(B),className:`flex-1 px-6 py-3 text-sm font-medium transition-colors flex items-center justify-center gap-2 ${i===B?"border-b-2 border-purple-600 text-purple-600":"text-slate-600 hover:text-slate-900"}`,children:[B==="overview"&&l.jsxs(l.Fragment,{children:[l.jsx(qx,{className:"w-4 h-4"}),"Viso Geral"]}),B==="details"&&l.jsxs(l.Fragment,{children:[l.jsx(Ad,{className:"w-4 h-4"}),"Detalhes"]}),B==="analysis"&&l.jsxs(l.Fragment,{children:[l.jsx(hD,{className:"w-4 h-4"}),"Anlise"]})]},B))}),l.jsx("div",{className:"p-6",children:r?l.jsx("div",{className:"flex items-center justify-center py-8",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"})}):i==="overview"?l.jsx("div",{className:"space-y-6",children:f.length===0?l.jsxs("div",{className:"text-center py-8 text-slate-500",children:[l.jsx(Ro,{className:"w-12 h-12 mx-auto text-slate-300 mb-3"}),l.jsx("p",{children:"Sem dados de oramento para o perodo selecionado"})]}):l.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto",children:f.map(B=>{var K,M;return l.jsxs("div",{className:`p-4 rounded-lg border-2 ${z(B.budgetStatus)}`,children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold",children:B.costCenterName||"Centro Sem Nome"}),l.jsxs("p",{className:"text-xs opacity-75 mt-1",children:[fr(B.periodStart)," a"," ",fr(B.periodEnd)]})]}),l.jsx("span",{className:"text-xs font-bold px-3 py-1 rounded bg-current bg-opacity-20 uppercase",children:B.budgetStatus})]}),l.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-3 text-sm",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs opacity-75",children:"Oramento"}),l.jsx("p",{className:"font-semibold",children:((K=B.budgetAmount)==null?void 0:K.toLocaleString("pt-BR",{style:"currency",currency:"MZN"}))||"N/A"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs opacity-75",children:"Gasto"}),l.jsx("p",{className:"font-semibold",children:B.spentAmount.toLocaleString("pt-BR",{style:"currency",currency:"MZN"})})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs opacity-75",children:"Pendente"}),l.jsx("p",{className:"font-semibold",children:((M=B.approvalPendingAmount)==null?void 0:M.toLocaleString("pt-BR",{style:"currency",currency:"MZN"}))||"0,00 MZN"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs opacity-75",children:"Restante"}),l.jsx("p",{className:"font-semibold",children:B.remainingBudget.toLocaleString("pt-BR",{style:"currency",currency:"MZN"})})]})]}),l.jsx("div",{className:"w-full bg-gray-300 rounded-full h-3 overflow-hidden",children:l.jsx("div",{className:`h-full transition-all ${J(B.budgetStatus)}`,style:{width:`${Math.min(B.percentageUsed,100)}%`}})}),l.jsxs("p",{className:"text-xs mt-2 font-semibold opacity-75",children:[B.percentageUsed.toFixed(1),"% utilizado"]})]},B.costCenterId)})})}):i==="details"?l.jsx("div",{className:"overflow-x-auto",children:f.length===0?l.jsxs("div",{className:"text-center py-8 text-slate-500",children:[l.jsx(Ro,{className:"w-12 h-12 mx-auto text-slate-300 mb-3"}),l.jsx("p",{children:"Sem dados para exibir"})]}):l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{className:"bg-slate-100",children:l.jsxs("tr",{className:"border-b border-slate-200",children:[l.jsx("th",{className:"px-4 py-3 text-left font-semibold text-slate-900",children:"Centro de Custo"}),l.jsx("th",{className:"px-4 py-3 text-right font-semibold text-slate-900",children:"Oramento"}),l.jsx("th",{className:"px-4 py-3 text-right font-semibold text-slate-900",children:"Gasto"}),l.jsx("th",{className:"px-4 py-3 text-right font-semibold text-slate-900",children:"Pendente"}),l.jsx("th",{className:"px-4 py-3 text-right font-semibold text-slate-900",children:"Restante"}),l.jsx("th",{className:"px-4 py-3 text-right font-semibold text-slate-900",children:"% Utilizado"}),l.jsx("th",{className:"px-4 py-3 text-center font-semibold text-slate-900",children:"Status"})]})}),l.jsx("tbody",{children:f.map(B=>{var K,M;return l.jsxs("tr",{className:"border-b border-slate-200 hover:bg-slate-50",children:[l.jsx("td",{className:"px-4 py-3 font-medium text-slate-900",children:B.costCenterName||"N/A"}),l.jsx("td",{className:"px-4 py-3 text-right text-slate-800",children:((K=B.budgetAmount)==null?void 0:K.toLocaleString("pt-BR",{style:"currency",currency:"MZN"}))||"N/A"}),l.jsx("td",{className:"px-4 py-3 text-right text-slate-800",children:B.spentAmount.toLocaleString("pt-BR",{style:"currency",currency:"MZN"})}),l.jsx("td",{className:"px-4 py-3 text-right text-slate-800",children:((M=B.approvalPendingAmount)==null?void 0:M.toLocaleString("pt-BR",{style:"currency",currency:"MZN"}))||"0,00 MZN"}),l.jsx("td",{className:"px-4 py-3 text-right text-slate-800",children:B.remainingBudget.toLocaleString("pt-BR",{style:"currency",currency:"MZN"})}),l.jsxs("td",{className:"px-4 py-3 text-right font-semibold text-slate-900",children:[B.percentageUsed.toFixed(1),"%"]}),l.jsx("td",{className:"px-4 py-3 text-center",children:l.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded uppercase ${z(B.budgetStatus)}`,children:B.budgetStatus})})]},B.costCenterId)})})]})}):l.jsx("div",{className:"space-y-6",children:p.length===0?l.jsxs("div",{className:"text-center py-8 text-slate-500",children:[l.jsx(Ro,{className:"w-12 h-12 mx-auto text-slate-300 mb-3"}),l.jsx("p",{children:"Sem dados de categoria para o perodo selecionado"})]}):l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"Gastos por Categoria"}),l.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:p.map((B,K)=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg border border-slate-200",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium text-slate-900",children:B.categoryName||B.category||"Sem Categoria"}),l.jsxs("p",{className:"text-xs text-slate-600",children:[B.expenseCount," despesa",B.expenseCount!==1?"s":""]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"font-semibold text-slate-900",children:B.totalAmount.toLocaleString("pt-BR",{style:"currency",currency:"MZN"})}),l.jsxs("p",{className:"text-xs text-slate-600",children:[B.percentageOfTotal.toFixed(1),"%"]})]})]},K))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"Resumo de Gastos"}),l.jsx("div",{className:"space-y-3",children:p.reduce((B,K)=>({totalExpenses:B.totalExpenses+K.totalAmount,count:B.count+K.expenseCount}),{totalExpenses:0,count:0}).totalExpenses>0&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:[l.jsx("p",{className:"text-xs text-blue-600 mb-1",children:"Total de Gastos"}),l.jsx("p",{className:"text-xl font-bold text-blue-900",children:p.reduce((B,K)=>B+K.totalAmount,0).toLocaleString("pt-BR",{style:"currency",currency:"MZN"})})]}),l.jsxs("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200",children:[l.jsx("p",{className:"text-xs text-green-600 mb-1",children:"Total de Despesas"}),l.jsx("p",{className:"text-xl font-bold text-green-900",children:p.reduce((B,K)=>B+K.expenseCount,0)})]}),l.jsxs("div",{className:"p-3 bg-purple-50 rounded-lg border border-purple-200",children:[l.jsx("p",{className:"text-xs text-purple-600 mb-1",children:"Gasto Mdio"}),l.jsx("p",{className:"text-xl font-bold text-purple-900",children:(p.reduce((B,K)=>B+K.totalAmount,0)/p.reduce((B,K)=>B+K.expenseCount,1)).toLocaleString("pt-BR",{style:"currency",currency:"MZN"})})]})]})})]})]})})})]})]}):l.jsx("div",{className:"flex items-center justify-center h-screen",children:l.jsx("div",{className:"text-gray-500",children:"Carregando..."})})}const vj=w.createContext({});function xj(e){const t=w.useRef(null);return t.current===null&&(t.current=e()),t.current}const lg=w.createContext(null),bj=w.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class qne extends w.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Vne({children:e,isPresent:t}){const r=w.useId(),n=w.useRef(null),i=w.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=w.useContext(bj);return w.useInsertionEffect(()=>{const{width:c,height:d,top:f,left:h}=i.current;if(t||!n.current||!c||!d)return;n.current.dataset.motionPopId=r;const p=document.createElement("style");return s&&(p.nonce=s),document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${d}px !important;
            top: ${f}px !important;
            left: ${h}px !important;
          }
        `),()=>{document.head.removeChild(p)}},[t]),l.jsx(qne,{isPresent:t,childRef:n,sizeRef:i,children:w.cloneElement(e,{ref:n})})}const Fne=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:s,mode:c})=>{const d=xj(Gne),f=w.useId(),h=w.useCallback(g=>{d.set(g,!0);for(const v of d.values())if(!v)return;n&&n()},[d,n]),p=w.useMemo(()=>({id:f,initial:t,isPresent:r,custom:i,onExitComplete:h,register:g=>(d.set(g,!1),()=>d.delete(g))}),s?[Math.random(),h]:[r,h]);return w.useMemo(()=>{d.forEach((g,v)=>d.set(v,!1))},[r]),w.useEffect(()=>{!r&&!d.size&&n&&n()},[r]),c==="popLayout"&&(e=l.jsx(Vne,{isPresent:r,children:e})),l.jsx(lg.Provider,{value:p,children:e})};function Gne(){return new Map}function hI(e=!0){const t=w.useContext(lg);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=t,s=w.useId();w.useEffect(()=>{e&&i(s)},[e]);const c=w.useCallback(()=>e&&n&&n(s),[s,n,e]);return!r&&n?[!1,c]:[!0]}const qh=e=>e.key||"";function DC(e){const t=[];return w.Children.forEach(e,r=>{w.isValidElement(r)&&t.push(r)}),t}const wj=typeof window<"u",mI=wj?w.useLayoutEffect:w.useEffect,Hne=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:s="sync",propagate:c=!1})=>{const[d,f]=hI(c),h=w.useMemo(()=>DC(e),[e]),p=c&&!d?[]:h.map(qh),g=w.useRef(!0),v=w.useRef(h),x=xj(()=>new Map),[j,_]=w.useState(h),[N,S]=w.useState(h);mI(()=>{g.current=!1,v.current=h;for(let P=0;P<N.length;P++){const D=qh(N[P]);p.includes(D)?x.delete(D):x.get(D)!==!0&&x.set(D,!1)}},[N,p.length,p.join("-")]);const O=[];if(h!==j){let P=[...h];for(let D=0;D<N.length;D++){const T=N[D],R=qh(T);p.includes(R)||(P.splice(D,0,T),O.push(T))}s==="wait"&&O.length&&(P=O),S(DC(P)),_(h);return}const{forceRender:A}=w.useContext(vj);return l.jsx(l.Fragment,{children:N.map(P=>{const D=qh(P),T=c&&!d?!1:h===N||p.includes(D),R=()=>{if(x.has(D))x.set(D,!0);else return;let q=!0;x.forEach(Y=>{Y||(q=!1)}),q&&(A==null||A(),S(v.current),c&&(f==null||f()),n&&n())};return l.jsx(Fne,{isPresent:T,initial:!g.current||r?void 0:!1,custom:T?void 0:t,presenceAffectsLayout:i,mode:s,onExitComplete:T?void 0:R,children:P},D)})})},ra=e=>e;let pI=ra;function jj(e){let t;return()=>(t===void 0&&(t=e()),t)}const mc=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},zi=e=>e*1e3,Ui=e=>e/1e3,Kne={useManualTiming:!1};function Wne(e){let t=new Set,r=new Set,n=!1,i=!1;const s=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(h){s.has(h)&&(f.schedule(h),e()),h(c)}const f={schedule:(h,p=!1,g=!1)=>{const x=g&&n?t:r;return p&&s.add(h),x.has(h)||x.add(h),h},cancel:h=>{r.delete(h),s.delete(h)},process:h=>{if(c=h,n){i=!0;return}n=!0,[t,r]=[r,t],t.forEach(d),t.clear(),n=!1,i&&(i=!1,f.process(h))}};return f}const Vh=["read","resolveKeyframes","update","preRender","render","postRender"],Yne=40;function gI(e,t){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,c=Vh.reduce((S,O)=>(S[O]=Wne(s),S),{}),{read:d,resolveKeyframes:f,update:h,preRender:p,render:g,postRender:v}=c,x=()=>{const S=performance.now();r=!1,i.delta=n?1e3/60:Math.max(Math.min(S-i.timestamp,Yne),1),i.timestamp=S,i.isProcessing=!0,d.process(i),f.process(i),h.process(i),p.process(i),g.process(i),v.process(i),i.isProcessing=!1,r&&t&&(n=!1,e(x))},j=()=>{r=!0,n=!0,i.isProcessing||e(x)};return{schedule:Vh.reduce((S,O)=>{const A=c[O];return S[O]=(P,D=!1,T=!1)=>(r||j(),A.schedule(P,D,T)),S},{}),cancel:S=>{for(let O=0;O<Vh.length;O++)c[Vh[O]].cancel(S)},state:i,steps:c}}const{schedule:Xt,cancel:Hs,state:un,steps:xx}=gI(typeof requestAnimationFrame<"u"?requestAnimationFrame:ra,!0),yI=w.createContext({strict:!1}),kC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},pc={};for(const e in kC)pc[e]={isEnabled:t=>kC[e].some(r=>!!t[r])};function Xne(e){for(const t in e)pc[t]={...pc[t],...e[t]}}const Zne=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function tp(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Zne.has(e)}let vI=e=>!tp(e);function Qne(e){e&&(vI=t=>t.startsWith("on")?!tp(t):e(t))}try{Qne(require("@emotion/is-prop-valid").default)}catch{}function Jne(e,t,r){const n={};for(const i in e)i==="values"&&typeof e.values=="object"||(vI(i)||r===!0&&tp(i)||!t&&!tp(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}function eae(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const cg=w.createContext({});function bd(e){return typeof e=="string"||Array.isArray(e)}function ug(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const _j=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Nj=["initial",..._j];function dg(e){return ug(e.animate)||Nj.some(t=>bd(e[t]))}function xI(e){return!!(dg(e)||e.variants)}function tae(e,t){if(dg(e)){const{initial:r,animate:n}=e;return{initial:r===!1||bd(r)?r:void 0,animate:bd(n)?n:void 0}}return e.inherit!==!1?t:{}}function rae(e){const{initial:t,animate:r}=tae(e,w.useContext(cg));return w.useMemo(()=>({initial:t,animate:r}),[RC(t),RC(r)])}function RC(e){return Array.isArray(e)?e.join(" "):e}const nae=Symbol.for("motionComponentSymbol");function Wl(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function aae(e,t,r){return w.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Wl(r)&&(r.current=n))},[t])}const Sj=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),iae="framerAppearId",bI="data-"+Sj(iae),{schedule:Ej}=gI(queueMicrotask,!1),wI=w.createContext({});function sae(e,t,r,n,i){var s,c;const{visualElement:d}=w.useContext(cg),f=w.useContext(yI),h=w.useContext(lg),p=w.useContext(bj).reducedMotion,g=w.useRef(null);n=n||f.renderer,!g.current&&n&&(g.current=n(e,{visualState:t,parent:d,props:r,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:p}));const v=g.current,x=w.useContext(wI);v&&!v.projection&&i&&(v.type==="html"||v.type==="svg")&&oae(g.current,r,i,x);const j=w.useRef(!1);w.useInsertionEffect(()=>{v&&j.current&&v.update(r,h)});const _=r[bI],N=w.useRef(!!_&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,_))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,_)));return mI(()=>{v&&(j.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),Ej.render(v.render),N.current&&v.animationState&&v.animationState.animateChanges())}),w.useEffect(()=>{v&&(!N.current&&v.animationState&&v.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{var S;(S=window.MotionHandoffMarkAsComplete)===null||S===void 0||S.call(window,_)}),N.current=!1))}),v}function oae(e,t,r,n){const{layoutId:i,layout:s,drag:c,dragConstraints:d,layoutScroll:f,layoutRoot:h}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:jI(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!c||d&&Wl(d),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,layoutScroll:f,layoutRoot:h})}function jI(e){if(e)return e.options.allowProjection!==!1?e.projection:jI(e.parent)}function lae({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:i}){var s,c;e&&Xne(e);function d(h,p){let g;const v={...w.useContext(bj),...h,layoutId:cae(h)},{isStatic:x}=v,j=rae(h),_=n(h,x);if(!x&&wj){uae();const N=dae(v);g=N.MeasureLayout,j.visualElement=sae(i,_,v,t,N.ProjectionNode)}return l.jsxs(cg.Provider,{value:j,children:[g&&j.visualElement?l.jsx(g,{visualElement:j.visualElement,...v}):null,r(i,h,aae(_,j.visualElement,p),_,x,j.visualElement)]})}d.displayName=`motion.${typeof i=="string"?i:`create(${(c=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&c!==void 0?c:""})`}`;const f=w.forwardRef(d);return f[nae]=i,f}function cae({layoutId:e}){const t=w.useContext(vj).id;return t&&e!==void 0?t+"-"+e:e}function uae(e,t){w.useContext(yI).strict}function dae(e){const{drag:t,layout:r}=pc;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const fae=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Aj(e){return typeof e!="string"||e.includes("-")?!1:!!(fae.indexOf(e)>-1||/[A-Z]/u.test(e))}function MC(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function Oj(e,t,r,n){if(typeof t=="function"){const[i,s]=MC(n);t=t(r!==void 0?r:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=MC(n);t=t(r!==void 0?r:e.custom,i,s)}return t}const Hb=e=>Array.isArray(e),hae=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),mae=e=>Hb(e)?e[e.length-1]||0:e,vn=e=>!!(e&&e.getVelocity);function Zh(e){const t=vn(e)?e.get():e;return hae(t)?t.toValue():t}function pae({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:r},n,i,s){const c={latestValues:gae(n,i,s,e),renderState:t()};return r&&(c.onMount=d=>r({props:n,current:d,...c}),c.onUpdate=d=>r(d)),c}const _I=e=>(t,r)=>{const n=w.useContext(cg),i=w.useContext(lg),s=()=>pae(e,t,n,i);return r?s():xj(s)};function gae(e,t,r,n){const i={},s=n(e,{});for(const v in s)i[v]=Zh(s[v]);let{initial:c,animate:d}=e;const f=dg(e),h=xI(e);t&&h&&!f&&e.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let p=r?r.initial===!1:!1;p=p||c===!1;const g=p?d:c;if(g&&typeof g!="boolean"&&!ug(g)){const v=Array.isArray(g)?g:[g];for(let x=0;x<v.length;x++){const j=Oj(e,v[x]);if(j){const{transitionEnd:_,transition:N,...S}=j;for(const O in S){let A=S[O];if(Array.isArray(A)){const P=p?A.length-1:0;A=A[P]}A!==null&&(i[O]=A)}for(const O in _)i[O]=_[O]}}}return i}const Oc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Qo=new Set(Oc),NI=e=>t=>typeof t=="string"&&t.startsWith(e),SI=NI("--"),yae=NI("var(--"),Tj=e=>yae(e)?vae.test(e.split("/*")[0].trim()):!1,vae=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,EI=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Wi=(e,t,r)=>r>t?t:r<e?e:r,Tc={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},wd={...Tc,transform:e=>Wi(0,1,e)},Fh={...Tc,default:1},Xd=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Rs=Xd("deg"),ni=Xd("%"),Qe=Xd("px"),xae=Xd("vh"),bae=Xd("vw"),IC={...ni,parse:e=>ni.parse(e)/100,transform:e=>ni.transform(e*100)},wae={borderWidth:Qe,borderTopWidth:Qe,borderRightWidth:Qe,borderBottomWidth:Qe,borderLeftWidth:Qe,borderRadius:Qe,radius:Qe,borderTopLeftRadius:Qe,borderTopRightRadius:Qe,borderBottomRightRadius:Qe,borderBottomLeftRadius:Qe,width:Qe,maxWidth:Qe,height:Qe,maxHeight:Qe,top:Qe,right:Qe,bottom:Qe,left:Qe,padding:Qe,paddingTop:Qe,paddingRight:Qe,paddingBottom:Qe,paddingLeft:Qe,margin:Qe,marginTop:Qe,marginRight:Qe,marginBottom:Qe,marginLeft:Qe,backgroundPositionX:Qe,backgroundPositionY:Qe},jae={rotate:Rs,rotateX:Rs,rotateY:Rs,rotateZ:Rs,scale:Fh,scaleX:Fh,scaleY:Fh,scaleZ:Fh,skew:Rs,skewX:Rs,skewY:Rs,distance:Qe,translateX:Qe,translateY:Qe,translateZ:Qe,x:Qe,y:Qe,z:Qe,perspective:Qe,transformPerspective:Qe,opacity:wd,originX:IC,originY:IC,originZ:Qe},LC={...Tc,transform:Math.round},Cj={...wae,...jae,zIndex:LC,size:Qe,fillOpacity:wd,strokeOpacity:wd,numOctaves:LC},_ae={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Nae=Oc.length;function Sae(e,t,r){let n="",i=!0;for(let s=0;s<Nae;s++){const c=Oc[s],d=e[c];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(c.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||r){const h=EI(d,Cj[c]);if(!f){i=!1;const p=_ae[c]||c;n+=`${p}(${h}) `}r&&(t[c]=h)}}return n=n.trim(),r?n=r(t,i?"":n):i&&(n="none"),n}function Pj(e,t,r){const{style:n,vars:i,transformOrigin:s}=e;let c=!1,d=!1;for(const f in t){const h=t[f];if(Qo.has(f)){c=!0;continue}else if(SI(f)){i[f]=h;continue}else{const p=EI(h,Cj[f]);f.startsWith("origin")?(d=!0,s[f]=p):n[f]=p}}if(t.transform||(c||r?n.transform=Sae(t,e.transform,r):n.transform&&(n.transform="none")),d){const{originX:f="50%",originY:h="50%",originZ:p=0}=s;n.transformOrigin=`${f} ${h} ${p}`}}const Eae={offset:"stroke-dashoffset",array:"stroke-dasharray"},Aae={offset:"strokeDashoffset",array:"strokeDasharray"};function Oae(e,t,r=1,n=0,i=!0){e.pathLength=1;const s=i?Eae:Aae;e[s.offset]=Qe.transform(-n);const c=Qe.transform(t),d=Qe.transform(r);e[s.array]=`${c} ${d}`}function zC(e,t,r){return typeof e=="string"?e:Qe.transform(t+r*e)}function Tae(e,t,r){const n=zC(t,e.x,e.width),i=zC(r,e.y,e.height);return`${n} ${i}`}function Dj(e,{attrX:t,attrY:r,attrScale:n,originX:i,originY:s,pathLength:c,pathSpacing:d=1,pathOffset:f=0,...h},p,g){if(Pj(e,h,g),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:v,style:x,dimensions:j}=e;v.transform&&(j&&(x.transform=v.transform),delete v.transform),j&&(i!==void 0||s!==void 0||x.transform)&&(x.transformOrigin=Tae(j,i!==void 0?i:.5,s!==void 0?s:.5)),t!==void 0&&(v.x=t),r!==void 0&&(v.y=r),n!==void 0&&(v.scale=n),c!==void 0&&Oae(v,c,d,f,!1)}const kj=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),AI=()=>({...kj(),attrs:{}}),Rj=e=>typeof e=="string"&&e.toLowerCase()==="svg";function OI(e,{style:t,vars:r},n,i){Object.assign(e.style,t,i&&i.getProjectionStyles(n));for(const s in r)e.style.setProperty(s,r[s])}const TI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function CI(e,t,r,n){OI(e,t,void 0,n);for(const i in t.attrs)e.setAttribute(TI.has(i)?i:Sj(i),t.attrs[i])}const rp={};function Cae(e){Object.assign(rp,e)}function PI(e,{layout:t,layoutId:r}){return Qo.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!rp[e]||e==="opacity")}function Mj(e,t,r){var n;const{style:i}=e,s={};for(const c in i)(vn(i[c])||t.style&&vn(t.style[c])||PI(c,e)||((n=r==null?void 0:r.getValue(c))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(s[c]=i[c]);return s}function DI(e,t,r){const n=Mj(e,t,r);for(const i in e)if(vn(e[i])||vn(t[i])){const s=Oc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[s]=e[i]}return n}function Pae(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const UC=["x","y","width","height","cx","cy","r"],Dae={useVisualState:_I({scrapeMotionValuesFromProps:DI,createRenderState:AI,onUpdate:({props:e,prevProps:t,current:r,renderState:n,latestValues:i})=>{if(!r)return;let s=!!e.drag;if(!s){for(const d in i)if(Qo.has(d)){s=!0;break}}if(!s)return;let c=!t;if(t)for(let d=0;d<UC.length;d++){const f=UC[d];e[f]!==t[f]&&(c=!0)}c&&Xt.read(()=>{Pae(r,n),Xt.render(()=>{Dj(n,i,Rj(r.tagName),e.transformTemplate),CI(r,n)})})}})},kae={useVisualState:_I({scrapeMotionValuesFromProps:Mj,createRenderState:kj})};function kI(e,t,r){for(const n in t)!vn(t[n])&&!PI(n,r)&&(e[n]=t[n])}function Rae({transformTemplate:e},t){return w.useMemo(()=>{const r=kj();return Pj(r,t,e),Object.assign({},r.vars,r.style)},[t])}function Mae(e,t){const r=e.style||{},n={};return kI(n,r,e),Object.assign(n,Rae(e,t)),n}function Iae(e,t){const r={},n=Mae(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}function Lae(e,t,r,n){const i=w.useMemo(()=>{const s=AI();return Dj(s,t,Rj(n),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};kI(s,e.style,e),i.style={...s,...i.style}}return i}function zae(e=!1){return(r,n,i,{latestValues:s},c)=>{const f=(Aj(r)?Lae:Iae)(n,s,c,r),h=Jne(n,typeof r=="string",e),p=r!==w.Fragment?{...h,...f,ref:i}:{},{children:g}=n,v=w.useMemo(()=>vn(g)?g.get():g,[g]);return w.createElement(r,{...p,children:v})}}function Uae(e,t){return function(n,{forwardMotionProps:i}={forwardMotionProps:!1}){const c={...Aj(n)?Dae:kae,preloadedFeatures:e,useRender:zae(i),createVisualElement:t,Component:n};return lae(c)}}function RI(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function fg(e,t,r){const n=e.getProps();return Oj(n,t,r!==void 0?r:n.custom,e)}const $ae=jj(()=>window.ScrollTimeline!==void 0);class Bae{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t,r){const n=this.animations.map(i=>{if($ae()&&i.attachTimeline)return i.attachTimeline(t);if(typeof r=="function")return r(i)});return()=>{n.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class qae extends Bae{then(t,r){return Promise.all(this.animations).then(t).catch(r)}}function Ij(e,t){return e?e[t]||e.default||e:void 0}const Kb=2e4;function MI(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<Kb;)t+=r,n=e.next(t);return t>=Kb?1/0:t}function Lj(e){return typeof e=="function"}function $C(e,t){e.timeline=t,e.onfinish=null}const zj=e=>Array.isArray(e)&&typeof e[0]=="number",Vae={linearEasing:void 0};function Fae(e,t){const r=jj(e);return()=>{var n;return(n=Vae[t])!==null&&n!==void 0?n:r()}}const np=Fae(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),II=(e,t,r=10)=>{let n="";const i=Math.max(Math.round(t/r),2);for(let s=0;s<i;s++)n+=e(mc(0,i-1,s))+", ";return`linear(${n.substring(0,n.length-2)})`};function LI(e){return!!(typeof e=="function"&&np()||!e||typeof e=="string"&&(e in Wb||np())||zj(e)||Array.isArray(e)&&e.every(LI))}const Lu=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,Wb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Lu([0,.65,.55,1]),circOut:Lu([.55,0,1,.45]),backIn:Lu([.31,.01,.66,-.59]),backOut:Lu([.33,1.53,.69,.99])};function zI(e,t){if(e)return typeof e=="function"&&np()?II(e,t):zj(e)?Lu(e):Array.isArray(e)?e.map(r=>zI(r,t)||Wb.easeOut):Wb[e]}const Ra={x:!1,y:!1};function UI(){return Ra.x||Ra.y}function Gae(e,t,r){var n;if(e instanceof Element)return[e];if(typeof e=="string"){let i=document;const s=(n=void 0)!==null&&n!==void 0?n:i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}function $I(e,t){const r=Gae(e),n=new AbortController,i={passive:!0,...t,signal:n.signal};return[r,i,()=>n.abort()]}function BC(e){return t=>{t.pointerType==="touch"||UI()||e(t)}}function Hae(e,t,r={}){const[n,i,s]=$I(e,r),c=BC(d=>{const{target:f}=d,h=t(d);if(typeof h!="function"||!f)return;const p=BC(g=>{h(g),f.removeEventListener("pointerleave",p)});f.addEventListener("pointerleave",p,i)});return n.forEach(d=>{d.addEventListener("pointerenter",c,i)}),s}const BI=(e,t)=>t?e===t?!0:BI(e,t.parentElement):!1,Uj=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Kae=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Wae(e){return Kae.has(e.tagName)||e.tabIndex!==-1}const zu=new WeakSet;function qC(e){return t=>{t.key==="Enter"&&e(t)}}function bx(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Yae=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=qC(()=>{if(zu.has(r))return;bx(r,"down");const i=qC(()=>{bx(r,"up")}),s=()=>bx(r,"cancel");r.addEventListener("keyup",i,t),r.addEventListener("blur",s,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function VC(e){return Uj(e)&&!UI()}function Xae(e,t,r={}){const[n,i,s]=$I(e,r),c=d=>{const f=d.currentTarget;if(!VC(d)||zu.has(f))return;zu.add(f);const h=t(d),p=(x,j)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",v),!(!VC(x)||!zu.has(f))&&(zu.delete(f),typeof h=="function"&&h(x,{success:j}))},g=x=>{p(x,r.useGlobalTarget||BI(f,x.target))},v=x=>{p(x,!1)};window.addEventListener("pointerup",g,i),window.addEventListener("pointercancel",v,i)};return n.forEach(d=>{!Wae(d)&&d.getAttribute("tabindex")===null&&(d.tabIndex=0),(r.useGlobalTarget?window:d).addEventListener("pointerdown",c,i),d.addEventListener("focus",h=>Yae(h,i),i)}),s}function Zae(e){return e==="x"||e==="y"?Ra[e]?null:(Ra[e]=!0,()=>{Ra[e]=!1}):Ra.x||Ra.y?null:(Ra.x=Ra.y=!0,()=>{Ra.x=Ra.y=!1})}const qI=new Set(["width","height","top","left","right","bottom",...Oc]);let Qh;function Qae(){Qh=void 0}const ai={now:()=>(Qh===void 0&&ai.set(un.isProcessing||Kne.useManualTiming?un.timestamp:performance.now()),Qh),set:e=>{Qh=e,queueMicrotask(Qae)}};function $j(e,t){e.indexOf(t)===-1&&e.push(t)}function Bj(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class qj{constructor(){this.subscriptions=[]}add(t){return $j(this.subscriptions,t),()=>Bj(this.subscriptions,t)}notify(t,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,r,n);else for(let s=0;s<i;s++){const c=this.subscriptions[s];c&&c(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function VI(e,t){return t?e*(1e3/t):0}const FC=30,Jae=e=>!isNaN(parseFloat(e));class eie{constructor(t,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,i=!0)=>{const s=ai.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=ai.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Jae(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new qj);const n=this.events[t].add(r);return t==="change"?()=>{n(),Xt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=ai.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>FC)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,FC);return VI(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function jd(e,t){return new eie(e,t)}function tie(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,jd(r))}function rie(e,t){const r=fg(e,t);let{transitionEnd:n={},transition:i={},...s}=r||{};s={...s,...n};for(const c in s){const d=mae(s[c]);tie(e,c,d)}}function nie(e){return!!(vn(e)&&e.add)}function Yb(e,t){const r=e.getValue("willChange");if(nie(r))return r.add(t)}function FI(e){return e.props[bI]}const GI=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,aie=1e-7,iie=12;function sie(e,t,r,n,i){let s,c,d=0;do c=t+(r-t)/2,s=GI(c,n,i)-e,s>0?r=c:t=c;while(Math.abs(s)>aie&&++d<iie);return c}function Zd(e,t,r,n){if(e===t&&r===n)return ra;const i=s=>sie(s,0,1,e,r);return s=>s===0||s===1?s:GI(i(s),t,n)}const HI=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,KI=e=>t=>1-e(1-t),WI=Zd(.33,1.53,.69,.99),Vj=KI(WI),YI=HI(Vj),XI=e=>(e*=2)<1?.5*Vj(e):.5*(2-Math.pow(2,-10*(e-1))),Fj=e=>1-Math.sin(Math.acos(e)),ZI=KI(Fj),QI=HI(Fj),JI=e=>/^0[^.\s]+$/u.test(e);function oie(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||JI(e):!0}const Gu=e=>Math.round(e*1e5)/1e5,Gj=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function lie(e){return e==null}const cie=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Hj=(e,t)=>r=>!!(typeof r=="string"&&cie.test(r)&&r.startsWith(e)||t&&!lie(r)&&Object.prototype.hasOwnProperty.call(r,t)),e5=(e,t,r)=>n=>{if(typeof n!="string")return n;const[i,s,c,d]=n.match(Gj);return{[e]:parseFloat(i),[t]:parseFloat(s),[r]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},uie=e=>Wi(0,255,e),wx={...Tc,transform:e=>Math.round(uie(e))},Do={test:Hj("rgb","red"),parse:e5("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+wx.transform(e)+", "+wx.transform(t)+", "+wx.transform(r)+", "+Gu(wd.transform(n))+")"};function die(e){let t="",r="",n="",i="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,r+=r,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const Xb={test:Hj("#"),parse:die,transform:Do.transform},Yl={test:Hj("hsl","hue"),parse:e5("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+ni.transform(Gu(t))+", "+ni.transform(Gu(r))+", "+Gu(wd.transform(n))+")"},gn={test:e=>Do.test(e)||Xb.test(e)||Yl.test(e),parse:e=>Do.test(e)?Do.parse(e):Yl.test(e)?Yl.parse(e):Xb.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Do.transform(e):Yl.transform(e)},fie=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function hie(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Gj))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(fie))===null||r===void 0?void 0:r.length)||0)>0}const t5="number",r5="color",mie="var",pie="var(",GC="${}",gie=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function _d(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},i=[];let s=0;const d=t.replace(gie,f=>(gn.test(f)?(n.color.push(s),i.push(r5),r.push(gn.parse(f))):f.startsWith(pie)?(n.var.push(s),i.push(mie),r.push(f)):(n.number.push(s),i.push(t5),r.push(parseFloat(f))),++s,GC)).split(GC);return{values:r,split:d,indexes:n,types:i}}function n5(e){return _d(e).values}function a5(e){const{split:t,types:r}=_d(e),n=t.length;return i=>{let s="";for(let c=0;c<n;c++)if(s+=t[c],i[c]!==void 0){const d=r[c];d===t5?s+=Gu(i[c]):d===r5?s+=gn.transform(i[c]):s+=i[c]}return s}}const yie=e=>typeof e=="number"?0:e;function vie(e){const t=n5(e);return a5(e)(t.map(yie))}const Ks={test:hie,parse:n5,createTransformer:a5,getAnimatableNone:vie},xie=new Set(["brightness","contrast","saturate","opacity"]);function bie(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(Gj)||[];if(!n)return e;const i=r.replace(n,"");let s=xie.has(t)?1:0;return n!==r&&(s*=100),t+"("+s+i+")"}const wie=/\b([a-z-]*)\(.*?\)/gu,Zb={...Ks,getAnimatableNone:e=>{const t=e.match(wie);return t?t.map(bie).join(" "):e}},jie={...Cj,color:gn,backgroundColor:gn,outlineColor:gn,fill:gn,stroke:gn,borderColor:gn,borderTopColor:gn,borderRightColor:gn,borderBottomColor:gn,borderLeftColor:gn,filter:Zb,WebkitFilter:Zb},Kj=e=>jie[e];function i5(e,t){let r=Kj(e);return r!==Zb&&(r=Ks),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const _ie=new Set(["auto","none","0"]);function Nie(e,t,r){let n=0,i;for(;n<e.length&&!i;){const s=e[n];typeof s=="string"&&!_ie.has(s)&&_d(s).values.length&&(i=e[n]),n++}if(i&&r)for(const s of t)e[s]=i5(r,i)}const HC=e=>e===Tc||e===Qe,KC=(e,t)=>parseFloat(e.split(", ")[t]),WC=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/u);if(i)return KC(i[1],t);{const s=n.match(/^matrix\((.+)\)$/u);return s?KC(s[1],e):0}},Sie=new Set(["x","y","z"]),Eie=Oc.filter(e=>!Sie.has(e));function Aie(e){const t=[];return Eie.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const gc={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:WC(4,13),y:WC(5,14)};gc.translateX=gc.x;gc.translateY=gc.y;const Uo=new Set;let Qb=!1,Jb=!1;function s5(){if(Jb){const e=Array.from(Uo).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const i=Aie(n);i.length&&(r.set(n,i),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([s,c])=>{var d;(d=n.getValue(s))===null||d===void 0||d.set(c)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Jb=!1,Qb=!1,Uo.forEach(e=>e.complete()),Uo.clear()}function o5(){Uo.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Jb=!0)})}function Oie(){o5(),s5()}class Wj{constructor(t,r,n,i,s,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=i,this.element=s,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Uo.add(this),Qb||(Qb=!0,Xt.read(o5),Xt.resolveKeyframes(s5))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:i}=this;for(let s=0;s<t.length;s++)if(t[s]===null)if(s===0){const c=i==null?void 0:i.get(),d=t[t.length-1];if(c!==void 0)t[0]=c;else if(n&&r){const f=n.readValue(r,d);f!=null&&(t[0]=f)}t[0]===void 0&&(t[0]=d),i&&c===void 0&&i.set(t[0])}else t[s]=t[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Uo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Uo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const l5=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),Tie=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Cie(e){const t=Tie.exec(e);if(!t)return[,];const[,r,n,i]=t;return[`--${r??n}`,i]}function c5(e,t,r=1){const[n,i]=Cie(e);if(!n)return;const s=window.getComputedStyle(t).getPropertyValue(n);if(s){const c=s.trim();return l5(c)?parseFloat(c):c}return Tj(i)?c5(i,t,r+1):i}const u5=e=>t=>t.test(e),Pie={test:e=>e==="auto",parse:e=>e},d5=[Tc,Qe,ni,Rs,bae,xae,Pie],YC=e=>d5.find(u5(e));class f5 extends Wj{constructor(t,r,n,i,s){super(t,r,n,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let f=0;f<t.length;f++){let h=t[f];if(typeof h=="string"&&(h=h.trim(),Tj(h))){const p=c5(h,r.current);p!==void 0&&(t[f]=p),f===t.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!qI.has(n)||t.length!==2)return;const[i,s]=t,c=YC(i),d=YC(s);if(c!==d)if(HC(c)&&HC(d))for(let f=0;f<t.length;f++){const h=t[f];typeof h=="string"&&(t[f]=parseFloat(h))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let i=0;i<t.length;i++)oie(t[i])&&n.push(i);n.length&&Nie(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=gc[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&t.getValue(n,i).jump(i,!1)}measureEndState(){var t;const{element:r,name:n,unresolvedKeyframes:i}=this;if(!r||!r.current)return;const s=r.getValue(n);s&&s.jump(this.measuredOrigin,!1);const c=i.length-1,d=i[c];i[c]=gc[n](r.measureViewportBox(),window.getComputedStyle(r.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([f,h])=>{r.getValue(f).set(h)}),this.resolveNoneKeyframes()}}const XC=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ks.test(e)||e==="0")&&!e.startsWith("url("));function Die(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function kie(e,t,r,n){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],c=XC(i,t),d=XC(s,t);return!c||!d?!1:Die(e)||(r==="spring"||Lj(r))&&n}const Rie=e=>e!==null;function hg(e,{repeat:t,repeatType:r="loop"},n){const i=e.filter(Rie),s=t&&r!=="loop"&&t%2===1?0:i.length-1;return!s||n===void 0?i[s]:n}const Mie=40;class h5{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:c="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ai.now(),this.options={autoplay:t,delay:r,type:n,repeat:i,repeatDelay:s,repeatType:c,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Mie?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Oie(),this._resolved}onKeyframesResolved(t,r){this.resolvedAt=ai.now(),this.hasAttemptedResolve=!0;const{name:n,type:i,velocity:s,delay:c,onComplete:d,onUpdate:f,isGenerator:h}=this.options;if(!h&&!kie(t,n,i,s))if(c)this.options.duration=0;else{f&&f(hg(t,this.options,r)),d&&d(),this.resolveFinishedPromise();return}const p=this.initPlayback(t,r);p!==!1&&(this._resolved={keyframes:t,finalKeyframe:r,...p},this.onPostResolved())}onPostResolved(){}then(t,r){return this.currentFinishedPromise.then(t,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const ir=(e,t,r)=>e+(t-e)*r;function jx(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function Iie({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let i=0,s=0,c=0;if(!t)i=s=c=r;else{const d=r<.5?r*(1+t):r+t-r*t,f=2*r-d;i=jx(f,d,e+1/3),s=jx(f,d,e),c=jx(f,d,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(c*255),alpha:n}}function ap(e,t){return r=>r>0?t:e}const _x=(e,t,r)=>{const n=e*e,i=r*(t*t-n)+n;return i<0?0:Math.sqrt(i)},Lie=[Xb,Do,Yl],zie=e=>Lie.find(t=>t.test(e));function ZC(e){const t=zie(e);if(!t)return!1;let r=t.parse(e);return t===Yl&&(r=Iie(r)),r}const QC=(e,t)=>{const r=ZC(e),n=ZC(t);if(!r||!n)return ap(e,t);const i={...r};return s=>(i.red=_x(r.red,n.red,s),i.green=_x(r.green,n.green,s),i.blue=_x(r.blue,n.blue,s),i.alpha=ir(r.alpha,n.alpha,s),Do.transform(i))},Uie=(e,t)=>r=>t(e(r)),Qd=(...e)=>e.reduce(Uie),ew=new Set(["none","hidden"]);function $ie(e,t){return ew.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function Bie(e,t){return r=>ir(e,t,r)}function Yj(e){return typeof e=="number"?Bie:typeof e=="string"?Tj(e)?ap:gn.test(e)?QC:Fie:Array.isArray(e)?m5:typeof e=="object"?gn.test(e)?QC:qie:ap}function m5(e,t){const r=[...e],n=r.length,i=e.map((s,c)=>Yj(s)(s,t[c]));return s=>{for(let c=0;c<n;c++)r[c]=i[c](s);return r}}function qie(e,t){const r={...e,...t},n={};for(const i in r)e[i]!==void 0&&t[i]!==void 0&&(n[i]=Yj(e[i])(e[i],t[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}}function Vie(e,t){var r;const n=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const c=t.types[s],d=e.indexes[c][i[c]],f=(r=e.values[d])!==null&&r!==void 0?r:0;n[s]=f,i[c]++}return n}const Fie=(e,t)=>{const r=Ks.createTransformer(t),n=_d(e),i=_d(t);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?ew.has(e)&&!i.values.length||ew.has(t)&&!n.values.length?$ie(e,t):Qd(m5(Vie(n,i),i.values),r):ap(e,t)};function p5(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?ir(e,t,r):Yj(e)(e,t)}const Gie=5;function g5(e,t,r){const n=Math.max(t-Gie,0);return VI(r-e(n),t-n)}const ur={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Nx=.001;function Hie({duration:e=ur.duration,bounce:t=ur.bounce,velocity:r=ur.velocity,mass:n=ur.mass}){let i,s,c=1-t;c=Wi(ur.minDamping,ur.maxDamping,c),e=Wi(ur.minDuration,ur.maxDuration,Ui(e)),c<1?(i=h=>{const p=h*c,g=p*e,v=p-r,x=tw(h,c),j=Math.exp(-g);return Nx-v/x*j},s=h=>{const g=h*c*e,v=g*r+r,x=Math.pow(c,2)*Math.pow(h,2)*e,j=Math.exp(-g),_=tw(Math.pow(h,2),c);return(-i(h)+Nx>0?-1:1)*((v-x)*j)/_}):(i=h=>{const p=Math.exp(-h*e),g=(h-r)*e+1;return-Nx+p*g},s=h=>{const p=Math.exp(-h*e),g=(r-h)*(e*e);return p*g});const d=5/e,f=Wie(i,s,d);if(e=zi(e),isNaN(f))return{stiffness:ur.stiffness,damping:ur.damping,duration:e};{const h=Math.pow(f,2)*n;return{stiffness:h,damping:c*2*Math.sqrt(n*h),duration:e}}}const Kie=12;function Wie(e,t,r){let n=r;for(let i=1;i<Kie;i++)n=n-e(n)/t(n);return n}function tw(e,t){return e*Math.sqrt(1-t*t)}const Yie=["duration","bounce"],Xie=["stiffness","damping","mass"];function JC(e,t){return t.some(r=>e[r]!==void 0)}function Zie(e){let t={velocity:ur.velocity,stiffness:ur.stiffness,damping:ur.damping,mass:ur.mass,isResolvedFromDuration:!1,...e};if(!JC(e,Xie)&&JC(e,Yie))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,s=2*Wi(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:ur.mass,stiffness:i,damping:s}}else{const r=Hie(e);t={...t,...r,mass:ur.mass},t.isResolvedFromDuration=!0}return t}function y5(e=ur.visualDuration,t=ur.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:i}=r;const s=r.keyframes[0],c=r.keyframes[r.keyframes.length-1],d={done:!1,value:s},{stiffness:f,damping:h,mass:p,duration:g,velocity:v,isResolvedFromDuration:x}=Zie({...r,velocity:-Ui(r.velocity||0)}),j=v||0,_=h/(2*Math.sqrt(f*p)),N=c-s,S=Ui(Math.sqrt(f/p)),O=Math.abs(N)<5;n||(n=O?ur.restSpeed.granular:ur.restSpeed.default),i||(i=O?ur.restDelta.granular:ur.restDelta.default);let A;if(_<1){const D=tw(S,_);A=T=>{const R=Math.exp(-_*S*T);return c-R*((j+_*S*N)/D*Math.sin(D*T)+N*Math.cos(D*T))}}else if(_===1)A=D=>c-Math.exp(-S*D)*(N+(j+S*N)*D);else{const D=S*Math.sqrt(_*_-1);A=T=>{const R=Math.exp(-_*S*T),q=Math.min(D*T,300);return c-R*((j+_*S*N)*Math.sinh(q)+D*N*Math.cosh(q))/D}}const P={calculatedDuration:x&&g||null,next:D=>{const T=A(D);if(x)d.done=D>=g;else{let R=0;_<1&&(R=D===0?zi(j):g5(A,D,T));const q=Math.abs(R)<=n,Y=Math.abs(c-T)<=i;d.done=q&&Y}return d.value=d.done?c:T,d},toString:()=>{const D=Math.min(MI(P),Kb),T=II(R=>P.next(D*R).value,D,30);return D+"ms "+T}};return P}function eP({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:c,min:d,max:f,restDelta:h=.5,restSpeed:p}){const g=e[0],v={done:!1,value:g},x=q=>d!==void 0&&q<d||f!==void 0&&q>f,j=q=>d===void 0?f:f===void 0||Math.abs(d-q)<Math.abs(f-q)?d:f;let _=r*t;const N=g+_,S=c===void 0?N:c(N);S!==N&&(_=S-g);const O=q=>-_*Math.exp(-q/n),A=q=>S+O(q),P=q=>{const Y=O(q),G=A(q);v.done=Math.abs(Y)<=h,v.value=v.done?S:G};let D,T;const R=q=>{x(v.value)&&(D=q,T=y5({keyframes:[v.value,j(v.value)],velocity:g5(A,q,v.value),damping:i,stiffness:s,restDelta:h,restSpeed:p}))};return R(0),{calculatedDuration:null,next:q=>{let Y=!1;return!T&&D===void 0&&(Y=!0,P(q),R(q)),D!==void 0&&q>=D?T.next(q-D):(!Y&&P(q),v)}}}const Qie=Zd(.42,0,1,1),Jie=Zd(0,0,.58,1),v5=Zd(.42,0,.58,1),ese=e=>Array.isArray(e)&&typeof e[0]!="number",tse={linear:ra,easeIn:Qie,easeInOut:v5,easeOut:Jie,circIn:Fj,circInOut:QI,circOut:ZI,backIn:Vj,backInOut:YI,backOut:WI,anticipate:XI},tP=e=>{if(zj(e)){pI(e.length===4);const[t,r,n,i]=e;return Zd(t,r,n,i)}else if(typeof e=="string")return tse[e];return e};function rse(e,t,r){const n=[],i=r||p5,s=e.length-1;for(let c=0;c<s;c++){let d=i(e[c],e[c+1]);if(t){const f=Array.isArray(t)?t[c]||ra:t;d=Qd(f,d)}n.push(d)}return n}function nse(e,t,{clamp:r=!0,ease:n,mixer:i}={}){const s=e.length;if(pI(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=rse(t,n,i),f=d.length,h=p=>{if(c&&p<e[0])return t[0];let g=0;if(f>1)for(;g<e.length-2&&!(p<e[g+1]);g++);const v=mc(e[g],e[g+1],p);return d[g](v)};return r?p=>h(Wi(e[0],e[s-1],p)):h}function ase(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const i=mc(0,t,n);e.push(ir(r,1,i))}}function ise(e){const t=[0];return ase(t,e.length-1),t}function sse(e,t){return e.map(r=>r*t)}function ose(e,t){return e.map(()=>t||v5).splice(0,e.length-1)}function ip({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const i=ese(n)?n.map(tP):tP(n),s={done:!1,value:t[0]},c=sse(r&&r.length===t.length?r:ise(t),e),d=nse(c,t,{ease:Array.isArray(i)?i:ose(t,i)});return{calculatedDuration:e,next:f=>(s.value=d(f),s.done=f>=e,s)}}const lse=e=>{const t=({timestamp:r})=>e(r);return{start:()=>Xt.update(t,!0),stop:()=>Hs(t),now:()=>un.isProcessing?un.timestamp:ai.now()}},cse={decay:eP,inertia:eP,tween:ip,keyframes:ip,spring:y5},use=e=>e/100;class Xj extends h5{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:r,motionValue:n,element:i,keyframes:s}=this.options,c=(i==null?void 0:i.KeyframeResolver)||Wj,d=(f,h)=>this.onKeyframesResolved(f,h);this.resolver=new c(s,d,r,n,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:r="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:s,velocity:c=0}=this.options,d=Lj(r)?r:cse[r]||ip;let f,h;d!==ip&&typeof t[0]!="number"&&(f=Qd(use,p5(t[0],t[1])),t=[0,100]);const p=d({...this.options,keyframes:t});s==="mirror"&&(h=d({...this.options,keyframes:[...t].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=MI(p));const{calculatedDuration:g}=p,v=g+i,x=v*(n+1)-i;return{generator:p,mirroredGenerator:h,mapPercentToKeyframes:f,calculatedDuration:g,resolvedDuration:v,totalDuration:x}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,r=!1){const{resolved:n}=this;if(!n){const{keyframes:q}=this.options;return{done:!0,value:q[q.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:c,mapPercentToKeyframes:d,keyframes:f,calculatedDuration:h,totalDuration:p,resolvedDuration:g}=n;if(this.startTime===null)return s.next(0);const{delay:v,repeat:x,repeatType:j,repeatDelay:_,onUpdate:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-p/this.speed,this.startTime)),r?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const S=this.currentTime-v*(this.speed>=0?1:-1),O=this.speed>=0?S<0:S>p;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=p);let A=this.currentTime,P=s;if(x){const q=Math.min(this.currentTime,p)/g;let Y=Math.floor(q),G=q%1;!G&&q>=1&&(G=1),G===1&&Y--,Y=Math.min(Y,x+1),!!(Y%2)&&(j==="reverse"?(G=1-G,_&&(G-=_/g)):j==="mirror"&&(P=c)),A=Wi(0,1,G)*g}const D=O?{done:!1,value:f[0]}:P.next(A);d&&(D.value=d(D.value));let{done:T}=D;!O&&h!==null&&(T=this.speed>=0?this.currentTime>=p:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return R&&i!==void 0&&(D.value=hg(f,this.options,i)),N&&N(D.value),R&&this.finish(),D}get duration(){const{resolved:t}=this;return t?Ui(t.calculatedDuration):0}get time(){return Ui(this.currentTime)}set time(t){t=zi(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Ui(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=lse,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),r&&r();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const dse=new Set(["opacity","clipPath","filter","transform"]);function fse(e,t,r,{delay:n=0,duration:i=300,repeat:s=0,repeatType:c="loop",ease:d="easeInOut",times:f}={}){const h={[t]:r};f&&(h.offset=f);const p=zI(d,i);return Array.isArray(p)&&(h.easing=p),e.animate(h,{delay:n,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:s+1,direction:c==="reverse"?"alternate":"normal"})}const hse=jj(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),sp=10,mse=2e4;function pse(e){return Lj(e.type)||e.type==="spring"||!LI(e.ease)}function gse(e,t){const r=new Xj({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const i=[];let s=0;for(;!n.done&&s<mse;)n=r.sample(s),i.push(n.value),s+=sp;return{times:void 0,keyframes:i,duration:s-sp,ease:"linear"}}const x5={anticipate:XI,backInOut:YI,circInOut:QI};function yse(e){return e in x5}class rP extends h5{constructor(t){super(t);const{name:r,motionValue:n,element:i,keyframes:s}=this.options;this.resolver=new f5(s,(c,d)=>this.onKeyframesResolved(c,d),r,n,i),this.resolver.scheduleResolve()}initPlayback(t,r){let{duration:n=300,times:i,ease:s,type:c,motionValue:d,name:f,startTime:h}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof s=="string"&&np()&&yse(s)&&(s=x5[s]),pse(this.options)){const{onComplete:g,onUpdate:v,motionValue:x,element:j,..._}=this.options,N=gse(t,_);t=N.keyframes,t.length===1&&(t[1]=t[0]),n=N.duration,i=N.times,s=N.ease,c="keyframes"}const p=fse(d.owner.current,f,t,{...this.options,duration:n,times:i,ease:s});return p.startTime=h??this.calcStartTime(),this.pendingTimeline?($C(p,this.pendingTimeline),this.pendingTimeline=void 0):p.onfinish=()=>{const{onComplete:g}=this.options;d.set(hg(t,this.options,r)),g&&g(),this.cancel(),this.resolveFinishedPromise()},{animation:p,duration:n,times:i,type:c,ease:s,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:r}=t;return Ui(r)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:r}=t;return Ui(r.currentTime||0)}set time(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=zi(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:r}=t;return r.playbackRate}set speed(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:r}=t;return r.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:r}=t;return r.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:r}=this;if(!r)return ra;const{animation:n}=r;$C(n,t)}return ra}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:r,keyframes:n,duration:i,type:s,ease:c,times:d}=t;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:h,onUpdate:p,onComplete:g,element:v,...x}=this.options,j=new Xj({...x,keyframes:n,duration:i,type:s,ease:c,times:d,isGenerator:!0}),_=zi(this.time);h.setWithVelocity(j.sample(_-sp).value,j.sample(_).value,sp)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:r,name:n,repeatDelay:i,repeatType:s,damping:c,type:d}=t;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:h}=r.owner.getProps();return hse()&&n&&dse.has(n)&&!f&&!h&&!i&&s!=="mirror"&&c!==0&&d!=="inertia"}}const vse={type:"spring",stiffness:500,damping:25,restSpeed:10},xse=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),bse={type:"keyframes",duration:.8},wse={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},jse=(e,{keyframes:t})=>t.length>2?bse:Qo.has(e)?e.startsWith("scale")?xse(t[1]):vse:wse;function _se({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:c,repeatDelay:d,from:f,elapsed:h,...p}){return!!Object.keys(p).length}const Zj=(e,t,r,n={},i,s)=>c=>{const d=Ij(n,e)||{},f=d.delay||n.delay||0;let{elapsed:h=0}=n;h=h-zi(f);let p={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-h,onUpdate:v=>{t.set(v),d.onUpdate&&d.onUpdate(v)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:s?void 0:i};_se(d)||(p={...p,...jse(e,p)}),p.duration&&(p.duration=zi(p.duration)),p.repeatDelay&&(p.repeatDelay=zi(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(g=!0)),g&&!s&&t.get()!==void 0){const v=hg(p.keyframes,d);if(v!==void 0)return Xt.update(()=>{p.onUpdate(v),p.onComplete()}),new qae([])}return!s&&rP.supports(p)?new rP(p):new Xj(p)};function Nse({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function b5(e,t,{delay:r=0,transitionOverride:n,type:i}={}){var s;let{transition:c=e.getDefaultTransition(),transitionEnd:d,...f}=t;n&&(c=n);const h=[],p=i&&e.animationState&&e.animationState.getState()[i];for(const g in f){const v=e.getValue(g,(s=e.latestValues[g])!==null&&s!==void 0?s:null),x=f[g];if(x===void 0||p&&Nse(p,g))continue;const j={delay:r,...Ij(c||{},g)};let _=!1;if(window.MotionHandoffAnimation){const S=FI(e);if(S){const O=window.MotionHandoffAnimation(S,g,Xt);O!==null&&(j.startTime=O,_=!0)}}Yb(e,g),v.start(Zj(g,v,x,e.shouldReduceMotion&&qI.has(g)?{type:!1}:j,e,_));const N=v.animation;N&&h.push(N)}return d&&Promise.all(h).then(()=>{Xt.update(()=>{d&&rie(e,d)})}),h}function rw(e,t,r={}){var n;const i=fg(e,t,r.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(s=r.transitionOverride);const c=i?()=>Promise.all(b5(e,i,r)):()=>Promise.resolve(),d=e.variantChildren&&e.variantChildren.size?(h=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:v}=s;return Sse(e,t,p+h,g,v,r)}:()=>Promise.resolve(),{when:f}=s;if(f){const[h,p]=f==="beforeChildren"?[c,d]:[d,c];return h().then(()=>p())}else return Promise.all([c(),d(r.delay)])}function Sse(e,t,r=0,n=0,i=1,s){const c=[],d=(e.variantChildren.size-1)*n,f=i===1?(h=0)=>h*n:(h=0)=>d-h*n;return Array.from(e.variantChildren).sort(Ese).forEach((h,p)=>{h.notify("AnimationStart",t),c.push(rw(h,t,{...s,delay:r+f(p)}).then(()=>h.notify("AnimationComplete",t)))}),Promise.all(c)}function Ese(e,t){return e.sortNodePosition(t)}function Ase(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const i=t.map(s=>rw(e,s,r));n=Promise.all(i)}else if(typeof t=="string")n=rw(e,t,r);else{const i=typeof t=="function"?fg(e,t,r.custom):t;n=Promise.all(b5(e,i,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}const Ose=Nj.length;function w5(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?w5(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<Ose;r++){const n=Nj[r],i=e.props[n];(bd(i)||i===!1)&&(t[n]=i)}return t}const Tse=[..._j].reverse(),Cse=_j.length;function Pse(e){return t=>Promise.all(t.map(({animation:r,options:n})=>Ase(e,r,n)))}function Dse(e){let t=Pse(e),r=nP(),n=!0;const i=f=>(h,p)=>{var g;const v=fg(e,p,f==="exit"?(g=e.presenceContext)===null||g===void 0?void 0:g.custom:void 0);if(v){const{transition:x,transitionEnd:j,..._}=v;h={...h,..._,...j}}return h};function s(f){t=f(e)}function c(f){const{props:h}=e,p=w5(e.parent)||{},g=[],v=new Set;let x={},j=1/0;for(let N=0;N<Cse;N++){const S=Tse[N],O=r[S],A=h[S]!==void 0?h[S]:p[S],P=bd(A),D=S===f?O.isActive:null;D===!1&&(j=N);let T=A===p[S]&&A!==h[S]&&P;if(T&&n&&e.manuallyAnimateOnMount&&(T=!1),O.protectedKeys={...x},!O.isActive&&D===null||!A&&!O.prevProp||ug(A)||typeof A=="boolean")continue;const R=kse(O.prevProp,A);let q=R||S===f&&O.isActive&&!T&&P||N>j&&P,Y=!1;const G=Array.isArray(A)?A:[A];let U=G.reduce(i(S),{});D===!1&&(U={});const{prevResolvedValues:z={}}=O,J={...z,...U},B=H=>{q=!0,v.has(H)&&(Y=!0,v.delete(H)),O.needsAnimating[H]=!0;const re=e.getValue(H);re&&(re.liveStyle=!1)};for(const H in J){const re=U[H],be=z[H];if(x.hasOwnProperty(H))continue;let Se=!1;Hb(re)&&Hb(be)?Se=!RI(re,be):Se=re!==be,Se?re!=null?B(H):v.add(H):re!==void 0&&v.has(H)?B(H):O.protectedKeys[H]=!0}O.prevProp=A,O.prevResolvedValues=U,O.isActive&&(x={...x,...U}),n&&e.blockInitialAnimation&&(q=!1),q&&(!(T&&R)||Y)&&g.push(...G.map(H=>({animation:H,options:{type:S}})))}if(v.size){const N={};v.forEach(S=>{const O=e.getBaseTarget(S),A=e.getValue(S);A&&(A.liveStyle=!0),N[S]=O??null}),g.push({animation:N})}let _=!!g.length;return n&&(h.initial===!1||h.initial===h.animate)&&!e.manuallyAnimateOnMount&&(_=!1),n=!1,_?t(g):Promise.resolve()}function d(f,h){var p;if(r[f].isActive===h)return Promise.resolve();(p=e.variantChildren)===null||p===void 0||p.forEach(v=>{var x;return(x=v.animationState)===null||x===void 0?void 0:x.setActive(f,h)}),r[f].isActive=h;const g=c(f);for(const v in r)r[v].protectedKeys={};return g}return{animateChanges:c,setActive:d,setAnimateFunction:s,getState:()=>r,reset:()=>{r=nP(),n=!0}}}function kse(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!RI(t,e):!1}function vo(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function nP(){return{animate:vo(!0),whileInView:vo(),whileHover:vo(),whileTap:vo(),whileDrag:vo(),whileFocus:vo(),exit:vo()}}class Zs{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Rse extends Zs{constructor(t){super(t),t.animationState||(t.animationState=Dse(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();ug(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let Mse=0;class Ise extends Zs{constructor(){super(...arguments),this.id=Mse++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const i=this.node.animationState.setActive("exit",!t);r&&!t&&i.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Lse={animation:{Feature:Rse},exit:{Feature:Ise}};function Nd(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Jd(e){return{point:{x:e.pageX,y:e.pageY}}}const zse=e=>t=>Uj(t)&&e(t,Jd(t));function Hu(e,t,r,n){return Nd(e,t,zse(r),n)}const aP=(e,t)=>Math.abs(e-t);function Use(e,t){const r=aP(e.x,t.x),n=aP(e.y,t.y);return Math.sqrt(r**2+n**2)}class j5{constructor(t,r,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Ex(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,x=Use(g.offset,{x:0,y:0})>=3;if(!v&&!x)return;const{point:j}=g,{timestamp:_}=un;this.history.push({...j,timestamp:_});const{onStart:N,onMove:S}=this.handlers;v||(N&&N(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,g)},this.handlePointerMove=(g,v)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=Sx(v,this.transformPagePoint),Xt.update(this.updatePoint,!0)},this.handlePointerUp=(g,v)=>{this.end();const{onEnd:x,onSessionEnd:j,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=Ex(g.type==="pointercancel"?this.lastMoveEventInfo:Sx(v,this.transformPagePoint),this.history);this.startEvent&&x&&x(g,N),j&&j(g,N)},!Uj(t))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.contextWindow=i||window;const c=Jd(t),d=Sx(c,this.transformPagePoint),{point:f}=d,{timestamp:h}=un;this.history=[{...f,timestamp:h}];const{onSessionStart:p}=r;p&&p(t,Ex(d,this.history)),this.removeListeners=Qd(Hu(this.contextWindow,"pointermove",this.handlePointerMove),Hu(this.contextWindow,"pointerup",this.handlePointerUp),Hu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Hs(this.updatePoint)}}function Sx(e,t){return t?{point:t(e.point)}:e}function iP(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ex({point:e},t){return{point:e,delta:iP(e,_5(t)),offset:iP(e,$se(t)),velocity:Bse(t,.1)}}function $se(e){return e[0]}function _5(e){return e[e.length-1]}function Bse(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const i=_5(e);for(;r>=0&&(n=e[r],!(i.timestamp-n.timestamp>zi(t)));)r--;if(!n)return{x:0,y:0};const s=Ui(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const c={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}const N5=1e-4,qse=1-N5,Vse=1+N5,S5=.01,Fse=0-S5,Gse=0+S5;function ia(e){return e.max-e.min}function Hse(e,t,r){return Math.abs(e-t)<=r}function sP(e,t,r,n=.5){e.origin=n,e.originPoint=ir(t.min,t.max,e.origin),e.scale=ia(r)/ia(t),e.translate=ir(r.min,r.max,e.origin)-e.originPoint,(e.scale>=qse&&e.scale<=Vse||isNaN(e.scale))&&(e.scale=1),(e.translate>=Fse&&e.translate<=Gse||isNaN(e.translate))&&(e.translate=0)}function Ku(e,t,r,n){sP(e.x,t.x,r.x,n?n.originX:void 0),sP(e.y,t.y,r.y,n?n.originY:void 0)}function oP(e,t,r){e.min=r.min+t.min,e.max=e.min+ia(t)}function Kse(e,t,r){oP(e.x,t.x,r.x),oP(e.y,t.y,r.y)}function lP(e,t,r){e.min=t.min-r.min,e.max=e.min+ia(t)}function Wu(e,t,r){lP(e.x,t.x,r.x),lP(e.y,t.y,r.y)}function Wse(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?ir(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?ir(r,e,n.max):Math.min(e,r)),e}function cP(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function Yse(e,{top:t,left:r,bottom:n,right:i}){return{x:cP(e.x,r,i),y:cP(e.y,t,n)}}function uP(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function Xse(e,t){return{x:uP(e.x,t.x),y:uP(e.y,t.y)}}function Zse(e,t){let r=.5;const n=ia(e),i=ia(t);return i>n?r=mc(t.min,t.max-n,e.min):n>i&&(r=mc(e.min,e.max-i,t.min)),Wi(0,1,r)}function Qse(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const nw=.35;function Jse(e=nw){return e===!1?e=0:e===!0&&(e=nw),{x:dP(e,"left","right"),y:dP(e,"top","bottom")}}function dP(e,t,r){return{min:fP(e,t),max:fP(e,r)}}function fP(e,t){return typeof e=="number"?e:e[t]||0}const hP=()=>({translate:0,scale:1,origin:0,originPoint:0}),Xl=()=>({x:hP(),y:hP()}),mP=()=>({min:0,max:0}),xr=()=>({x:mP(),y:mP()});function ba(e){return[e("x"),e("y")]}function E5({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function eoe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function toe(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Ax(e){return e===void 0||e===1}function aw({scale:e,scaleX:t,scaleY:r}){return!Ax(e)||!Ax(t)||!Ax(r)}function No(e){return aw(e)||A5(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function A5(e){return pP(e.x)||pP(e.y)}function pP(e){return e&&e!=="0%"}function op(e,t,r){const n=e-r,i=t*n;return r+i}function gP(e,t,r,n,i){return i!==void 0&&(e=op(e,i,n)),op(e,r,n)+t}function iw(e,t=0,r=1,n,i){e.min=gP(e.min,t,r,n,i),e.max=gP(e.max,t,r,n,i)}function O5(e,{x:t,y:r}){iw(e.x,t.translate,t.scale,t.originPoint),iw(e.y,r.translate,r.scale,r.originPoint)}const yP=.999999999999,vP=1.0000000000001;function roe(e,t,r,n=!1){const i=r.length;if(!i)return;t.x=t.y=1;let s,c;for(let d=0;d<i;d++){s=r[d],c=s.projectionDelta;const{visualElement:f}=s.options;f&&f.props.style&&f.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Ql(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,O5(e,c)),n&&No(s.latestValues)&&Ql(e,s.latestValues))}t.x<vP&&t.x>yP&&(t.x=1),t.y<vP&&t.y>yP&&(t.y=1)}function Zl(e,t){e.min=e.min+t,e.max=e.max+t}function xP(e,t,r,n,i=.5){const s=ir(e.min,e.max,i);iw(e,t,r,s,n)}function Ql(e,t){xP(e.x,t.x,t.scaleX,t.scale,t.originX),xP(e.y,t.y,t.scaleY,t.scale,t.originY)}function T5(e,t){return E5(toe(e.getBoundingClientRect(),t))}function noe(e,t,r){const n=T5(e,r),{scroll:i}=t;return i&&(Zl(n.x,i.offset.x),Zl(n.y,i.offset.y)),n}const C5=({current:e})=>e?e.ownerDocument.defaultView:null,aoe=new WeakMap;class ioe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=xr(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=p=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Jd(p).point)},s=(p,g)=>{const{drag:v,dragPropagation:x,onDragStart:j}=this.getProps();if(v&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Zae(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ba(N=>{let S=this.getAxisMotionValue(N).get()||0;if(ni.test(S)){const{projection:O}=this.visualElement;if(O&&O.layout){const A=O.layout.layoutBox[N];A&&(S=ia(A)*(parseFloat(S)/100))}}this.originPoint[N]=S}),j&&Xt.postRender(()=>j(p,g)),Yb(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},c=(p,g)=>{const{dragPropagation:v,dragDirectionLock:x,onDirectionLock:j,onDrag:_}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:N}=g;if(x&&this.currentDirection===null){this.currentDirection=soe(N),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",g.point,N),this.updateAxis("y",g.point,N),this.visualElement.render(),_&&_(p,g)},d=(p,g)=>this.stop(p,g),f=()=>ba(p=>{var g;return this.getAnimationState(p)==="paused"&&((g=this.getAxisMotionValue(p).animation)===null||g===void 0?void 0:g.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new j5(t,{onSessionStart:i,onStart:s,onMove:c,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:C5(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Xt.postRender(()=>s(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:i}=this.getProps();if(!n||!Gh(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let c=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(c=Wse(c,this.constraints[t],this.elastic[t])),s.set(c)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,s=this.constraints;r&&Wl(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&i?this.constraints=Yse(i.layoutBox,r):this.constraints=!1,this.elastic=Jse(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ba(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=Qse(i.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Wl(t))return!1;const n=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=noe(n,i.root,this.visualElement.getTransformPagePoint());let c=Xse(i.layout.layoutBox,s);if(r){const d=r(eoe(c));this.hasMutatedConstraints=!!d,d&&(c=E5(d))}return c}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},h=ba(p=>{if(!Gh(p,r,this.currentDirection))return;let g=f&&f[p]||{};c&&(g={min:0,max:0});const v=i?200:1e6,x=i?40:1e7,j={type:"inertia",velocity:n?t[p]:0,bounceStiffness:v,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...s,...g};return this.startAxisValueAnimation(p,j)});return Promise.all(h).then(d)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return Yb(this.visualElement,t),n.start(Zj(t,n,0,r,this.visualElement,!1))}stopAnimation(){ba(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ba(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){ba(r=>{const{drag:n}=this.getProps();if(!Gh(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(r);if(i&&i.layout){const{min:c,max:d}=i.layout.layoutBox[r];s.set(t[r]-ir(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Wl(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ba(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const f=d.get();i[c]=Zse({min:f,max:f},this.constraints[c])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),ba(c=>{if(!Gh(c,t,null))return;const d=this.getAxisMotionValue(c),{min:f,max:h}=this.constraints[c];d.set(ir(f,h,i[c]))})}addListeners(){if(!this.visualElement.current)return;aoe.set(this.visualElement,this);const t=this.visualElement.current,r=Hu(t,"pointerdown",f=>{const{drag:h,dragListener:p=!0}=this.getProps();h&&p&&this.start(f)}),n=()=>{const{dragConstraints:f}=this.getProps();Wl(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Xt.read(n);const c=Nd(window,"resize",()=>this.scalePositionWithinConstraints()),d=i.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:h})=>{this.isDragging&&h&&(ba(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=f[p].translate,g.set(g.get()+f[p].translate))}),this.visualElement.render())}));return()=>{c(),r(),s(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:c=nw,dragMomentum:d=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:c,dragMomentum:d}}}function Gh(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function soe(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class ooe extends Zs{constructor(t){super(t),this.removeGroupControls=ra,this.removeListeners=ra,this.controls=new ioe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ra}unmount(){this.removeGroupControls(),this.removeListeners()}}const bP=e=>(t,r)=>{e&&Xt.postRender(()=>e(t,r))};class loe extends Zs{constructor(){super(...arguments),this.removePointerDownListener=ra}onPointerDown(t){this.session=new j5(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:C5(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:bP(t),onStart:bP(r),onMove:n,onEnd:(s,c)=>{delete this.session,i&&Xt.postRender(()=>i(s,c))}}}mount(){this.removePointerDownListener=Hu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Jh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function wP(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ku={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Qe.test(e))e=parseFloat(e);else return e;const r=wP(e,t.target.x),n=wP(e,t.target.y);return`${r}% ${n}%`}},coe={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,i=Ks.parse(e);if(i.length>5)return n;const s=Ks.createTransformer(e),c=typeof i[0]!="number"?1:0,d=r.x.scale*t.x,f=r.y.scale*t.y;i[0+c]/=d,i[1+c]/=f;const h=ir(d,f,.5);return typeof i[2+c]=="number"&&(i[2+c]/=h),typeof i[3+c]=="number"&&(i[3+c]/=h),s(i)}};class uoe extends w.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=t;Cae(doe),s&&(r.group&&r.group.add(s),n&&n.register&&i&&n.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Jh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:i,isPresent:s}=this.props,c=n.projection;return c&&(c.isPresent=s,i||t.layoutDependency!==r||r===void 0?c.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?c.promote():c.relegate()||Xt.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Ej.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function P5(e){const[t,r]=hI(),n=w.useContext(vj);return l.jsx(uoe,{...e,layoutGroup:n,switchLayoutGroup:w.useContext(wI),isPresent:t,safeToRemove:r})}const doe={borderRadius:{...ku,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ku,borderTopRightRadius:ku,borderBottomLeftRadius:ku,borderBottomRightRadius:ku,boxShadow:coe};function foe(e,t,r){const n=vn(e)?e:jd(e);return n.start(Zj("",n,t,r)),n.animation}function hoe(e){return e instanceof SVGElement&&e.tagName!=="svg"}const moe=(e,t)=>e.depth-t.depth;class poe{constructor(){this.children=[],this.isDirty=!1}add(t){$j(this.children,t),this.isDirty=!0}remove(t){Bj(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(moe),this.isDirty=!1,this.children.forEach(t)}}function goe(e,t){const r=ai.now(),n=({timestamp:i})=>{const s=i-r;s>=t&&(Hs(n),e(s-t))};return Xt.read(n,!0),()=>Hs(n)}const D5=["TopLeft","TopRight","BottomLeft","BottomRight"],yoe=D5.length,jP=e=>typeof e=="string"?parseFloat(e):e,_P=e=>typeof e=="number"||Qe.test(e);function voe(e,t,r,n,i,s){i?(e.opacity=ir(0,r.opacity!==void 0?r.opacity:1,xoe(n)),e.opacityExit=ir(t.opacity!==void 0?t.opacity:1,0,boe(n))):s&&(e.opacity=ir(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let c=0;c<yoe;c++){const d=`border${D5[c]}Radius`;let f=NP(t,d),h=NP(r,d);if(f===void 0&&h===void 0)continue;f||(f=0),h||(h=0),f===0||h===0||_P(f)===_P(h)?(e[d]=Math.max(ir(jP(f),jP(h),n),0),(ni.test(h)||ni.test(f))&&(e[d]+="%")):e[d]=h}(t.rotate||r.rotate)&&(e.rotate=ir(t.rotate||0,r.rotate||0,n))}function NP(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const xoe=k5(0,.5,ZI),boe=k5(.5,.95,ra);function k5(e,t,r){return n=>n<e?0:n>t?1:r(mc(e,t,n))}function SP(e,t){e.min=t.min,e.max=t.max}function ya(e,t){SP(e.x,t.x),SP(e.y,t.y)}function EP(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function AP(e,t,r,n,i){return e-=t,e=op(e,1/r,n),i!==void 0&&(e=op(e,1/i,n)),e}function woe(e,t=0,r=1,n=.5,i,s=e,c=e){if(ni.test(t)&&(t=parseFloat(t),t=ir(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=ir(s.min,s.max,n);e===s&&(d-=t),e.min=AP(e.min,t,r,d,i),e.max=AP(e.max,t,r,d,i)}function OP(e,t,[r,n,i],s,c){woe(e,t[r],t[n],t[i],t.scale,s,c)}const joe=["x","scaleX","originX"],_oe=["y","scaleY","originY"];function TP(e,t,r,n){OP(e.x,t,joe,r?r.x:void 0,n?n.x:void 0),OP(e.y,t,_oe,r?r.y:void 0,n?n.y:void 0)}function CP(e){return e.translate===0&&e.scale===1}function R5(e){return CP(e.x)&&CP(e.y)}function PP(e,t){return e.min===t.min&&e.max===t.max}function Noe(e,t){return PP(e.x,t.x)&&PP(e.y,t.y)}function DP(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function M5(e,t){return DP(e.x,t.x)&&DP(e.y,t.y)}function kP(e){return ia(e.x)/ia(e.y)}function RP(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Soe{constructor(){this.members=[]}add(t){$j(this.members,t),t.scheduleRender()}remove(t){if(Bj(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(i=>t===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Eoe(e,t,r){let n="";const i=e.x.translate/t.x,s=e.y.translate/t.y,c=(r==null?void 0:r.z)||0;if((i||s||c)&&(n=`translate3d(${i}px, ${s}px, ${c}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:h,rotate:p,rotateX:g,rotateY:v,skewX:x,skewY:j}=r;h&&(n=`perspective(${h}px) ${n}`),p&&(n+=`rotate(${p}deg) `),g&&(n+=`rotateX(${g}deg) `),v&&(n+=`rotateY(${v}deg) `),x&&(n+=`skewX(${x}deg) `),j&&(n+=`skewY(${j}deg) `)}const d=e.x.scale*t.x,f=e.y.scale*t.y;return(d!==1||f!==1)&&(n+=`scale(${d}, ${f})`),n||"none"}const So={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Uu=typeof window<"u"&&window.MotionDebug!==void 0,Ox=["","X","Y","Z"],Aoe={visibility:"hidden"},MP=1e3;let Ooe=0;function Tx(e,t,r,n){const{latestValues:i}=t;i[e]&&(r[e]=i[e],t.setStaticValue(e,0),n&&(n[e]=0))}function I5(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=FI(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Xt,!(i||s))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&I5(n)}function L5({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(c={},d=t==null?void 0:t()){this.id=Ooe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Uu&&(So.totalNodes=So.resolvedTargetDeltas=So.recalculatedProjection=0),this.nodes.forEach(Poe),this.nodes.forEach(Ioe),this.nodes.forEach(Loe),this.nodes.forEach(Doe),Uu&&window.MotionDebug.record(So)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new poe)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new qj),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const f=this.eventHandlers.get(c);f&&f.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=hoe(c),this.instance=c;const{layoutId:f,layout:h,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(h||f)&&(this.isLayoutDirty=!0),e){let g;const v=()=>this.root.updateBlockedByResize=!1;e(c,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=goe(v,250),Jh.hasAnimatedSinceResize&&(Jh.hasAnimatedSinceResize=!1,this.nodes.forEach(LP))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||h)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeTargetChanged:x,layout:j})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||p.getDefaultTransition()||qoe,{onLayoutAnimationStart:N,onLayoutAnimationComplete:S}=p.getProps(),O=!this.targetLayout||!M5(this.targetLayout,j)||x,A=!v&&x;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||A||v&&(O||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,A);const P={...Ij(_,"layout"),onPlay:N,onComplete:S};(p.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P)}else v||LP(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=j})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Hs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(zoe),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&I5(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(IP);return}this.isUpdating||this.nodes.forEach(Roe),this.isUpdating=!1,this.nodes.forEach(Moe),this.nodes.forEach(Toe),this.nodes.forEach(Coe),this.clearAllSnapshots();const d=ai.now();un.delta=Wi(0,1e3/60,d-un.timestamp),un.timestamp=d,un.isProcessing=!0,xx.update.process(un),xx.preRender.process(un),xx.render.process(un),un.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ej.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(koe),this.sharedNodes.forEach(Uoe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Xt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Xt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=xr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d){const f=n(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!i)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!R5(this.projectionDelta),f=this.getTransformTemplate(),h=f?f(this.latestValues,""):void 0,p=h!==this.prevTransformTemplateValue;c&&(d||No(this.latestValues)||p)&&(i(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return c&&(f=this.removeTransform(f)),Voe(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:d}=this.options;if(!d)return xr();const f=d.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(Foe))){const{scroll:p}=this.root;p&&(Zl(f.x,p.offset.x),Zl(f.y,p.offset.y))}return f}removeElementScroll(c){var d;const f=xr();if(ya(f,c),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return f;for(let h=0;h<this.path.length;h++){const p=this.path[h],{scroll:g,options:v}=p;p!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&ya(f,c),Zl(f.x,g.offset.x),Zl(f.y,g.offset.y))}return f}applyTransform(c,d=!1){const f=xr();ya(f,c);for(let h=0;h<this.path.length;h++){const p=this.path[h];!d&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Ql(f,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),No(p.latestValues)&&Ql(f,p.latestValues)}return No(this.latestValues)&&Ql(f,this.latestValues),f}removeTransform(c){const d=xr();ya(d,c);for(let f=0;f<this.path.length;f++){const h=this.path[f];if(!h.instance||!No(h.latestValues))continue;aw(h.latestValues)&&h.updateSnapshot();const p=xr(),g=h.measurePageBox();ya(p,g),TP(d,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,p)}return No(this.latestValues)&&TP(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==un.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var d;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==f;if(!(c||h&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=un.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xr(),this.relativeTargetOrigin=xr(),Wu(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),ya(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=xr(),this.targetWithTransforms=xr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Kse(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ya(this.target,this.layout.layoutBox),O5(this.target,this.targetDelta)):ya(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xr(),this.relativeTargetOrigin=xr(),Wu(this.relativeTargetOrigin,this.target,x.target),ya(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Uu&&So.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||aw(this.parent.latestValues)||A5(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const d=this.getLead(),f=!!this.resumingFrom||this!==d;let h=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(h=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===un.timestamp&&(h=!1),h)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;ya(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,x=this.treeScale.y;roe(this.layoutCorrected,this.treeScale,this.path,f),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=xr());const{target:j}=d;if(!j){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(EP(this.prevProjectionDelta.x,this.projectionDelta.x),EP(this.prevProjectionDelta.y,this.projectionDelta.y)),Ku(this.projectionDelta,this.layoutCorrected,j,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==x||!RP(this.projectionDelta.x,this.prevProjectionDelta.x)||!RP(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",j)),Uu&&So.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Xl(),this.projectionDelta=Xl(),this.projectionDeltaWithTransform=Xl()}setAnimationOrigin(c,d=!1){const f=this.snapshot,h=f?f.latestValues:{},p={...this.latestValues},g=Xl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const v=xr(),x=f?f.source:void 0,j=this.layout?this.layout.source:void 0,_=x!==j,N=this.getStack(),S=!N||N.members.length<=1,O=!!(_&&!S&&this.options.crossfade===!0&&!this.path.some(Boe));this.animationProgress=0;let A;this.mixTargetDelta=P=>{const D=P/1e3;zP(g.x,c.x,D),zP(g.y,c.y,D),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Wu(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),$oe(this.relativeTarget,this.relativeTargetOrigin,v,D),A&&Noe(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=xr()),ya(A,this.relativeTarget)),_&&(this.animationValues=p,voe(p,h,this.latestValues,D,O,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Hs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Xt.update(()=>{Jh.hasAnimatedSinceResize=!0,this.currentAnimation=foe(0,MP,{...c,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(MP),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:f,layout:h,latestValues:p}=c;if(!(!d||!f||!h)){if(this!==c&&this.layout&&h&&z5(this.options.animationType,this.layout.layoutBox,h.layoutBox)){f=this.target||xr();const g=ia(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+g;const v=ia(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+v}ya(d,f),Ql(d,p),Ku(this.projectionDeltaWithTransform,this.layoutCorrected,d,p)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new Soe),this.sharedNodes.get(c).add(d);const h=d.options.initialPromotionConfig;d.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:d}=this.options;return d?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:d}=this.options;return d?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:f}={}){const h=this.getStack();h&&h.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const h={};f.z&&Tx("z",c,h,this.animationValues);for(let p=0;p<Ox.length;p++)Tx(`rotate${Ox[p]}`,c,h,this.animationValues),Tx(`skew${Ox[p]}`,c,h,this.animationValues);c.render();for(const p in h)c.setStaticValue(p,h[p]),this.animationValues&&(this.animationValues[p]=h[p]);c.scheduleRender()}getProjectionStyles(c){var d,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Aoe;const h={visibility:""},p=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=Zh(c==null?void 0:c.pointerEvents)||"",h.transform=p?p(this.latestValues,""):"none",h;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=Zh(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!No(this.latestValues)&&(_.transform=p?p({},""):"none",this.hasProjected=!1),_}const v=g.animationValues||g.latestValues;this.applyTransformsToTarget(),h.transform=Eoe(this.projectionDeltaWithTransform,this.treeScale,v),p&&(h.transform=p(v,h.transform));const{x,y:j}=this.projectionDelta;h.transformOrigin=`${x.origin*100}% ${j.origin*100}% 0`,g.animationValues?h.opacity=g===this?(f=(d=v.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:h.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const _ in rp){if(v[_]===void 0)continue;const{correct:N,applyTo:S}=rp[_],O=h.transform==="none"?v[_]:N(v[_],g);if(S){const A=S.length;for(let P=0;P<A;P++)h[S[P]]=O}else h[_]=O}return this.options.layoutId&&(h.pointerEvents=g===this?Zh(c==null?void 0:c.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(IP),this.root.sharedNodes.clear()}}}function Toe(e){e.updateLayout()}function Coe(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:s}=e.options,c=r.source!==e.layout.source;s==="size"?ba(g=>{const v=c?r.measuredBox[g]:r.layoutBox[g],x=ia(v);v.min=n[g].min,v.max=v.min+x}):z5(s,r.layoutBox,n)&&ba(g=>{const v=c?r.measuredBox[g]:r.layoutBox[g],x=ia(n[g]);v.max=v.min+x,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[g].max=e.relativeTarget[g].min+x)});const d=Xl();Ku(d,n,r.layoutBox);const f=Xl();c?Ku(f,e.applyTransform(i,!0),r.measuredBox):Ku(f,n,r.layoutBox);const h=!R5(d);let p=!1;if(!e.resumeFrom){const g=e.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:x}=g;if(v&&x){const j=xr();Wu(j,r.layoutBox,v.layoutBox);const _=xr();Wu(_,n,x.layoutBox),M5(j,_)||(p=!0),g.options.layoutRoot&&(e.relativeTarget=_,e.relativeTargetOrigin=j,e.relativeParent=g)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:f,layoutDelta:d,hasLayoutChanged:h,hasRelativeTargetChanged:p})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function Poe(e){Uu&&So.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Doe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function koe(e){e.clearSnapshot()}function IP(e){e.clearMeasurements()}function Roe(e){e.isLayoutDirty=!1}function Moe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function LP(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Ioe(e){e.resolveTargetDelta()}function Loe(e){e.calcProjection()}function zoe(e){e.resetSkewAndRotation()}function Uoe(e){e.removeLeadSnapshot()}function zP(e,t,r){e.translate=ir(t.translate,0,r),e.scale=ir(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function UP(e,t,r,n){e.min=ir(t.min,r.min,n),e.max=ir(t.max,r.max,n)}function $oe(e,t,r,n){UP(e.x,t.x,r.x,n),UP(e.y,t.y,r.y,n)}function Boe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const qoe={duration:.45,ease:[.4,0,.1,1]},$P=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),BP=$P("applewebkit/")&&!$P("chrome/")?Math.round:ra;function qP(e){e.min=BP(e.min),e.max=BP(e.max)}function Voe(e){qP(e.x),qP(e.y)}function z5(e,t,r){return e==="position"||e==="preserve-aspect"&&!Hse(kP(t),kP(r),.2)}function Foe(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const Goe=L5({attachResizeListener:(e,t)=>Nd(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Cx={current:void 0},U5=L5({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Cx.current){const e=new Goe({});e.mount(window),e.setOptions({layoutScroll:!0}),Cx.current=e}return Cx.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Hoe={pan:{Feature:loe},drag:{Feature:ooe,ProjectionNode:U5,MeasureLayout:P5}};function VP(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,s=n[i];s&&Xt.postRender(()=>s(t,Jd(t)))}class Koe extends Zs{mount(){const{current:t}=this.node;t&&(this.unmount=Hae(t,r=>(VP(this.node,r,"Start"),n=>VP(this.node,n,"End"))))}unmount(){}}class Woe extends Zs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Qd(Nd(this.node.current,"focus",()=>this.onFocus()),Nd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function FP(e,t,r){const{props:n}=e;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),s=n[i];s&&Xt.postRender(()=>s(t,Jd(t)))}class Yoe extends Zs{mount(){const{current:t}=this.node;t&&(this.unmount=Xae(t,r=>(FP(this.node,r,"Start"),(n,{success:i})=>FP(this.node,n,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const sw=new WeakMap,Px=new WeakMap,Xoe=e=>{const t=sw.get(e.target);t&&t(e)},Zoe=e=>{e.forEach(Xoe)};function Qoe({root:e,...t}){const r=e||document;Px.has(r)||Px.set(r,{});const n=Px.get(r),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(Zoe,{root:e,...t})),n[i]}function Joe(e,t,r){const n=Qoe(t);return sw.set(e,r),n.observe(e),()=>{sw.delete(e),n.unobserve(e)}}const ele={some:0,all:1};class tle extends Zs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:s}=t,c={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:ele[i]},d=f=>{const{isIntersecting:h}=f;if(this.isInView===h||(this.isInView=h,s&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),v=h?p:g;v&&v(f)};return Joe(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(rle(t,r))&&this.startObserver()}unmount(){}}function rle({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const nle={inView:{Feature:tle},tap:{Feature:Yoe},focus:{Feature:Woe},hover:{Feature:Koe}},ale={layout:{ProjectionNode:U5,MeasureLayout:P5}},ow={current:null},$5={current:!1};function ile(){if($5.current=!0,!!wj)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>ow.current=e.matches;e.addListener(t),t()}else ow.current=!1}const sle=[...d5,gn,Ks],ole=e=>sle.find(u5(e)),GP=new WeakMap;function lle(e,t,r){for(const n in t){const i=t[n],s=r[n];if(vn(i))e.addValue(n,i);else if(vn(s))e.addValue(n,jd(i,{owner:e}));else if(s!==i)if(e.hasValue(n)){const c=e.getValue(n);c.liveStyle===!0?c.jump(i):c.hasAnimated||c.set(i)}else{const c=e.getStaticValue(n);e.addValue(n,jd(c!==void 0?c:i,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const HP=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class cle{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:s,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Wj,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=ai.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Xt.render(this.render,!1,!0))};const{latestValues:f,renderState:h,onUpdate:p}=c;this.onUpdate=p,this.latestValues=f,this.baseTarget={...f},this.initialValues=r.initial?{...f}:{},this.renderState=h,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=d,this.blockInitialAnimation=!!s,this.isControllingVariants=dg(r),this.isVariantNode=xI(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(r,{},this);for(const x in v){const j=v[x];f[x]!==void 0&&vn(j)&&j.set(f[x],!1)}}mount(t){this.current=t,GP.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),$5.current||ile(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ow.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){GP.delete(this.current),this.projection&&this.projection.unmount(),Hs(this.notifyUpdate),Hs(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Qo.has(t),i=r.on("change",d=>{this.latestValues[t]=d,this.props.onUpdate&&Xt.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),s=r.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{i(),s(),c&&c(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in pc){const r=pc[t];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[t]&&i&&n(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):xr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<HP.length;n++){const i=HP[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,c=t[s];c&&(this.propEventSubscriptions[i]=this.on(i,c))}this.prevMotionValues=lle(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=jd(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){var n;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(l5(i)||JI(i))?i=parseFloat(i):!ole(i)&&Ks.test(r)&&(i=i5(t,r)),this.setBaseTarget(t,vn(i)?i.get():i)),vn(i)?i.get():i}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const c=Oj(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);c&&(i=c[t])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!vn(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new qj),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class B5 extends cle{constructor(){super(...arguments),this.KeyframeResolver=f5}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;vn(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function ule(e){return window.getComputedStyle(e)}class dle extends B5{constructor(){super(...arguments),this.type="html",this.renderInstance=OI}readValueFromInstance(t,r){if(Qo.has(r)){const n=Kj(r);return n&&n.default||0}else{const n=ule(t),i=(SI(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return T5(t,r)}build(t,r,n){Pj(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return Mj(t,r,n)}}class fle extends B5{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=xr}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Qo.has(r)){const n=Kj(r);return n&&n.default||0}return r=TI.has(r)?r:Sj(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return DI(t,r,n)}build(t,r,n){Dj(t,r,this.isSVGTag,n.transformTemplate)}renderInstance(t,r,n,i){CI(t,r,n,i)}mount(t){this.isSVGTag=Rj(t.tagName),super.mount(t)}}const hle=(e,t)=>Aj(e)?new fle(t):new dle(t,{allowProjection:e!==w.Fragment}),mle=Uae({...Lse,...nle,...Hoe,...ale},hle),xo=eae(mle),ple=({onAuthSuccess:e})=>{const[t,r]=w.useState(!0),[n,i]=w.useState("auth"),[s,c]=w.useState(!1),[d,f]=w.useState(null),[h,p]=w.useState(null),[g,v]=w.useState(""),[x,j]=w.useState(""),[_,N]=w.useState(""),[S,O]=w.useState(""),[A,P]=w.useState("WORKER"),[D,T]=w.useState(""),[R,q]=w.useState(""),Y=async J=>{J.preventDefault(),c(!0),f(null);try{const{data:B,error:K}=await te.auth.signInWithPassword({email:g,password:x});if(K)throw K;if(B.user){console.log(" Login bem-sucedido para:",B.user.email);const{data:M,error:H}=await te.from("users").select("location_id").eq("id",B.user.id).single();H&&H.code!=="PGRST116"&&console.error("Erro ao buscar perfil:",H),M!=null&&M.location_id?(console.log(" Usurio j tem location_id, indo para dashboard"),e()):(console.log(" Usurio sem location_id, comeando onboarding"),i("profile"))}}catch(B){console.error(" Erro no login:",B),f(B.message||"Erro ao entrar")}finally{c(!1)}},G=async J=>{if(J.preventDefault(),f(null),!(g!=null&&g.trim())){f("Por favor, preencha um email vlido");return}if(!x||x.length<6){f("A senha precisa ter ao menos 6 caracteres");return}console.log(" Validado email/senha  avanando para coleta de perfil"),i("profile")},U=async J=>{if(J.preventDefault(),!(_!=null&&_.trim())){f("Por favor, preencha seu nome");return}if(!(S!=null&&S.trim())){f("Por favor, preencha seu cargo");return}if(!A){f("Por favor, selecione seu cargo/funo");return}f(null),console.log(" Perfil validado, indo para prximo passo"),i("company")},z=async J=>{J.preventDefault(),c(!0),f(null);try{if(!(D!=null&&D.trim()))throw new Error("Por favor, preencha o nome da empresa");if(!(R!=null&&R.trim()))throw new Error("Por favor, preencha a localizao/endereo");if(!(_!=null&&_.trim()))throw new Error("Por favor, preencha seu nome");if(!(S!=null&&S.trim()))throw new Error("Por favor, preencha seu cargo");console.log(" Enviando pedido de criao de conta para servidor...",{name:_,jobTitle:S,companyName:D,companyAddress:R});const B="https://kwnbyiqzrphkembkwyvd.supabase.co",K={email:g,password:x,name:_,jobTitle:S,role:A,companyName:D,companyAddress:R},M=await fetch(`${B}/functions/v1/create-account`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(K)});if(!M.ok){const H=await M.json().catch(()=>({}));throw console.error(" Erro do servidor ao criar conta:",H),new Error((H==null?void 0:H.message)||`Erro ao criar conta: ${M.status}`)}p("Conta criada. Verifique seu e-mail para confirmar o cadastro."),i("confirm")}catch(B){console.error(" Erro no onboarding:",B),f(B.message||"Erro desconhecido ao finalizar onboarding")}finally{c(!1)}};return l.jsxs("div",{className:"min-h-screen animated-bg flex items-center justify-center p-4 overflow-hidden relative font-sans",children:[l.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-emerald-500/10 blur-[120px] rounded-full"}),l.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-blue-500/10 blur-[120px] rounded-full"}),l.jsxs("div",{className:"w-full max-w-xl relative z-10",children:[l.jsxs(xo.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-10",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 glass rounded-3xl mb-6 shadow-xl",children:l.jsx("span",{className:"text-4xl text-slate-900",children:""})}),l.jsx("h1",{className:"text-5xl font-black text-slate-950 tracking-tight mb-2",children:"OFICE"}),l.jsx("p",{className:"text-slate-700 font-bold text-lg",children:"Gesto Operacional de Prxima Gerao"})]}),l.jsxs(Hne,{mode:"wait",children:[n==="auth"&&l.jsxs(xo.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"glass rounded-[2rem] shadow-2xl p-10 border border-slate-200",children:[l.jsxs("div",{className:"flex gap-4 mb-8 bg-slate-200/50 p-1.5 rounded-2xl",children:[l.jsx("button",{onClick:()=>r(!0),className:`flex-1 py-3 px-6 rounded-xl font-bold transition-all duration-300 ${t?"bg-white text-emerald-700 shadow-md transform scale-[1.02]":"text-slate-600 hover:text-slate-900"}`,children:"Entrar"}),l.jsx("button",{onClick:()=>r(!1),className:`flex-1 py-3 px-6 rounded-xl font-bold transition-all duration-300 ${t?"text-slate-600 hover:text-slate-900":"bg-white text-emerald-700 shadow-md transform scale-[1.02]"}`,children:"Novo Registro"})]}),d&&l.jsx(xo.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-red-100 border border-red-200 text-red-900 rounded-2xl text-sm font-bold",children:d}),l.jsxs("form",{onSubmit:t?Y:G,className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-bold text-slate-900 ml-2",children:"Email Profissional"}),l.jsx("div",{className:"relative",children:l.jsx("input",{id:"auth-email",name:"email",type:"email",value:g,onChange:J=>v(J.target.value),className:"w-full px-6 py-4 bg-white/50 border border-slate-300 rounded-2xl text-slate-950 placeholder-slate-400 focus:outline-none focus:ring-4 focus:ring-emerald-500/20 transition-all font-medium",placeholder:"exemplo@empresa.com",required:!0})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-bold text-slate-900 ml-2",children:"Sua Senha"}),l.jsx("input",{id:"auth-password",name:"password",type:"password",value:x,onChange:J=>j(J.target.value),className:"w-full px-6 py-4 bg-white/50 border border-slate-300 rounded-2xl text-slate-950 placeholder-slate-400 focus:outline-none focus:ring-4 focus:ring-emerald-500/20 transition-all font-medium",placeholder:"",required:!0,minLength:6})]}),l.jsxs("button",{type:"submit",disabled:s,className:"w-full bg-emerald-600 text-black py-5 rounded-2xl font-black text-lg hover:bg-emerald-700 hover:text-white active:scale-[0.98] transition-all shadow-xl shadow-emerald-900/10 flex items-center justify-center gap-3",children:[s?l.jsx(dA,{size:24,className:"animate-spin text-black"}):t?"Acessar Painel":"Iniciar Jornada",!s&&l.jsx(rc,{size:20,className:"text-black"})]})]})]},"auth"),n==="profile"&&l.jsxs(xo.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"glass rounded-[2rem] shadow-2xl p-10 border border-slate-200",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-slate-100 rounded-full mb-4",children:l.jsx(Vu,{size:32,className:"text-emerald-700"})}),l.jsx("h2",{className:"text-3xl font-black text-slate-950",children:"Sobre Voc"}),l.jsx("p",{className:"text-slate-600 font-bold",children:"Vamos personalizar sua experincia"})]}),l.jsxs("form",{onSubmit:U,className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-bold text-slate-900 ml-2",children:"Como devemos te chamar?"}),l.jsx("input",{id:"profile-name",name:"name",type:"text",value:_,onChange:J=>N(J.target.value),className:"w-full px-6 py-4 bg-white/50 border border-slate-300 rounded-2xl text-slate-950 placeholder-slate-400 focus:outline-none focus:ring-4 focus:ring-emerald-500/20 transition-all font-medium",placeholder:"Seu Nome Completo",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-bold text-slate-900 ml-2",children:"Qual seu cargo/funo?"}),l.jsxs("select",{id:"profile-role",name:"role",value:A,onChange:J=>P(J.target.value),className:"w-full px-6 py-4 bg-white/50 border border-slate-300 rounded-2xl text-slate-950 focus:outline-none focus:ring-4 focus:ring-emerald-500/20 transition-all font-medium",required:!0,children:[l.jsx("option",{value:"WORKER",children:"Colaborador (Worker)"}),l.jsx("option",{value:"GENERAL_MANAGER",children:"Gerente Geral (Manager)"}),l.jsx("option",{value:"ADMIN",children:"Administrador (Admin)"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-bold text-slate-900 ml-2",children:"Descrio do seu cargo (opcional)"}),l.jsx("input",{id:"profile-jobtitle",name:"jobTitle",type:"text",value:S,onChange:J=>O(J.target.value),className:"w-full px-6 py-4 bg-white/50 border border-slate-300 rounded-2xl text-slate-950 placeholder-slate-400 focus:outline-none focus:ring-4 focus:ring-emerald-500/20 transition-all font-medium",placeholder:"Ex: Gestor de Operaes, Tcnico, etc."})]}),l.jsxs("button",{type:"submit",className:"w-full bg-emerald-600 text-black py-5 rounded-2xl font-black text-lg hover:bg-emerald-700 active:scale-[0.98] transition-all shadow-xl flex items-center justify-center gap-3",children:["Prximo Passo",l.jsx(rc,{size:20,className:"text-black"})]})]})]},"profile"),n==="company"&&l.jsxs(xo.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"glass rounded-[2rem] shadow-2xl p-10 border border-slate-200",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-slate-100 rounded-full mb-4",children:l.jsx(nm,{size:32,className:"text-emerald-700"})}),l.jsx("h2",{className:"text-3xl font-black text-slate-950",children:"Sede da Empresa"}),l.jsx("p",{className:"text-slate-600 font-bold",children:"Onde as decises acontecem"})]}),l.jsxs("form",{onSubmit:z,className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-bold text-slate-900 ml-2",children:"Nome da Unidade/Empresa"}),l.jsxs("div",{className:"relative",children:[l.jsx(nm,{size:18,className:"absolute left-6 top-5 text-slate-400"}),l.jsx("input",{id:"company-name",name:"companyName",type:"text",value:D,onChange:J=>T(J.target.value),className:"w-full pl-14 pr-6 py-4 bg-white/50 border border-slate-300 rounded-2xl text-slate-950 placeholder-slate-400 focus:outline-none focus:ring-4 focus:ring-emerald-500/20 transition-all font-medium",placeholder:"Nome oficial da sede",required:!0})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-bold text-slate-900 ml-2",children:"Localizao/Endereo"}),l.jsxs("div",{className:"relative",children:[l.jsx($i,{size:18,className:"absolute left-6 top-5 text-slate-400"}),l.jsx("input",{id:"company-address",name:"address",type:"text",value:R,onChange:J=>q(J.target.value),className:"w-full pl-14 pr-6 py-4 bg-white/50 border border-slate-300 rounded-2xl text-slate-950 placeholder-slate-400 focus:outline-none focus:ring-4 focus:ring-emerald-500/30 transition-all font-medium",placeholder:"Cidade, Estado ou Morada Completa",required:!0})]})]}),l.jsxs("button",{type:"submit",disabled:s,className:"w-full bg-emerald-500 text-black py-5 rounded-2xl font-black text-lg hover:bg-emerald-600 active:scale-[0.98] transition-all shadow-xl shadow-emerald-900/10 flex items-center justify-center gap-3",children:[s?l.jsx(dA,{size:24,className:"animate-spin text-black"}):"Concluir Registro",!s&&l.jsx(x$,{size:20,className:"text-black"})]})]})]},"company"),n==="confirm"&&l.jsxs(xo.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},className:"glass rounded-[2rem] shadow-2xl p-10 border border-slate-200 text-center",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-emerald-100 rounded-full mb-4 mx-auto",children:l.jsx(d8,{size:28,className:"text-emerald-700"})}),l.jsx("h2",{className:"text-2xl font-black text-slate-950 mb-2",children:"Quase l!"}),l.jsx("p",{className:"text-slate-600 mb-6",children:h||"Verifique seu e-mail e confirme seu cadastro para acessar a plataforma."}),l.jsx("button",{onClick:()=>{i("auth"),r(!0)},className:"w-full bg-emerald-600 text-black py-4 rounded-2xl font-black text-lg hover:bg-emerald-700 active:scale-[0.98] transition-all shadow-xl",children:"Voltar para Login"})]},"confirm")]}),l.jsx(xo.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"mt-12 text-center text-slate-500 text-sm font-black tracking-wide",children:"OFICE v2.0  Sitema Inteligente de Gesto Florestal"})]})]})};function gle(){const[e,t]=w.useState("dashboard"),[r,n]=w.useState(null),[i,s]=w.useState(!0);w.useEffect(()=>{te.auth.getSession().then(({data:{session:f}})=>{n(f),s(!1)});const{data:{subscription:d}}=te.auth.onAuthStateChange((f,h)=>{n(h)});return()=>d.unsubscribe()},[]);const c=()=>{switch(e){case"dashboard":return l.jsx(CC,{onNavigate:t});case"chat":return l.jsx(_ne,{});case"requisitions":return l.jsx(lne,{});case"inventory":return l.jsx(cne,{});case"performance":return l.jsx(une,{});case"hr":return l.jsx(dne,{});case"settings":return l.jsx(hne,{});case"patrimony":return l.jsx(mne,{});case"pos":return l.jsx(vne,{});case"permissions":return l.jsx(xne,{});case"payroll":return l.jsx(bne,{});case"fichas":return l.jsx(wne,{});case"contas-receber":return l.jsx(Cne,{});case"expense-approvals":return l.jsx($ne,{});case"expense-reports":return l.jsx(Bne,{});default:return l.jsx(CC,{onNavigate:t})}};return i?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-white to-blue-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-emerald-600 rounded-2xl mb-4 animate-pulse",children:l.jsx("span",{className:"text-3xl",children:""})}),l.jsx("p",{className:"text-gray-600",children:"Carregando..."})]})}):r?l.jsx($U,{children:l.jsx(I$,{activeTab:e,onTabChange:t,children:c()})}):l.jsx(ple,{onAuthSuccess:()=>{te.auth.getSession().then(({data:{session:d}})=>{n(d)})}})}const q5=document.getElementById("root");if(!q5)throw new Error("Could not find root element to mount to");const yle=nL.createRoot(q5);yle.render(l.jsx(Ba.StrictMode,{children:l.jsx(gle,{})}));export{te as s};
