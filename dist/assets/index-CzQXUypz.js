var r4=Object.defineProperty;var n4=(e,t,r)=>t in e?r4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var k0=(e,t,r)=>n4(e,typeof t!="symbol"?t+"":t,r);function a4(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();function Ea(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function i4(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var P0={exports:{}},Tc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ON;function s4(){if(ON)return Tc;ON=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var d in s)d!=="key"&&(o[d]=s[d])}else o=s;return s=o.ref,{$$typeof:e,type:n,key:u,ref:s!==void 0?s:null,props:o}}return Tc.Fragment=t,Tc.jsx=r,Tc.jsxs=r,Tc}var CN;function l4(){return CN||(CN=1,P0.exports=s4()),P0.exports}var l=l4(),M0={exports:{}},We={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TN;function o4(){if(TN)return We;TN=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),x=Symbol.iterator;function b(z){return z===null||typeof z!="object"?null:(z=x&&z[x]||z["@@iterator"],typeof z=="function"?z:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,_={};function A(z,K,ge){this.props=z,this.context=K,this.refs=_,this.updater=ge||j}A.prototype.isReactComponent={},A.prototype.setState=function(z,K){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,K,"setState")},A.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function P(){}P.prototype=A.prototype;function O(z,K,ge){this.props=z,this.context=K,this.refs=_,this.updater=ge||j}var C=O.prototype=new P;C.constructor=O,N(C,A.prototype),C.isPureReactComponent=!0;var D=Array.isArray;function R(){}var L={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function G(z,K,ge){var B=ge.ref;return{$$typeof:e,type:z,key:K,ref:B!==void 0?B:null,props:ge}}function he(z,K){return G(z.type,K,z.props)}function ne(z){return typeof z=="object"&&z!==null&&z.$$typeof===e}function k(z){var K={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ge){return K[ge]})}var se=/\/+/g;function U(z,K){return typeof z=="object"&&z!==null&&z.key!=null?k(""+z.key):K.toString(36)}function V(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(R,R):(z.status="pending",z.then(function(K){z.status==="pending"&&(z.status="fulfilled",z.value=K)},function(K){z.status==="pending"&&(z.status="rejected",z.reason=K)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function I(z,K,ge,B,je){var _e=typeof z;(_e==="undefined"||_e==="boolean")&&(z=null);var me=!1;if(z===null)me=!0;else switch(_e){case"bigint":case"string":case"number":me=!0;break;case"object":switch(z.$$typeof){case e:case t:me=!0;break;case p:return me=z._init,I(me(z._payload),K,ge,B,je)}}if(me)return je=je(z),me=B===""?"."+U(z,0):B,D(je)?(ge="",me!=null&&(ge=me.replace(se,"$&/")+"/"),I(je,K,ge,"",function(De){return De})):je!=null&&(ne(je)&&(je=he(je,ge+(je.key==null||z&&z.key===je.key?"":(""+je.key).replace(se,"$&/")+"/")+me)),K.push(je)),1;me=0;var Re=B===""?".":B+":";if(D(z))for(var X=0;X<z.length;X++)B=z[X],_e=Re+U(B,X),me+=I(B,K,ge,_e,je);else if(X=b(z),typeof X=="function")for(z=X.call(z),X=0;!(B=z.next()).done;)B=B.value,_e=Re+U(B,X++),me+=I(B,K,ge,_e,je);else if(_e==="object"){if(typeof z.then=="function")return I(V(z),K,ge,B,je);throw K=String(z),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return me}function W(z,K,ge){if(z==null)return z;var B=[],je=0;return I(z,B,"","",function(_e){return K.call(ge,_e,je++)}),B}function ue(z){if(z._status===-1){var K=z._result;K=K(),K.then(function(ge){(z._status===0||z._status===-1)&&(z._status=1,z._result=ge)},function(ge){(z._status===0||z._status===-1)&&(z._status=2,z._result=ge)}),z._status===-1&&(z._status=0,z._result=K)}if(z._status===1)return z._result.default;throw z._result}var be=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},Ee={map:W,forEach:function(z,K,ge){W(z,function(){K.apply(this,arguments)},ge)},count:function(z){var K=0;return W(z,function(){K++}),K},toArray:function(z){return W(z,function(K){return K})||[]},only:function(z){if(!ne(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return We.Activity=g,We.Children=Ee,We.Component=A,We.Fragment=r,We.Profiler=s,We.PureComponent=O,We.StrictMode=n,We.Suspense=h,We.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,We.__COMPILER_RUNTIME={__proto__:null,c:function(z){return L.H.useMemoCache(z)}},We.cache=function(z){return function(){return z.apply(null,arguments)}},We.cacheSignal=function(){return null},We.cloneElement=function(z,K,ge){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var B=N({},z.props),je=z.key;if(K!=null)for(_e in K.key!==void 0&&(je=""+K.key),K)!H.call(K,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&K.ref===void 0||(B[_e]=K[_e]);var _e=arguments.length-2;if(_e===1)B.children=ge;else if(1<_e){for(var me=Array(_e),Re=0;Re<_e;Re++)me[Re]=arguments[Re+2];B.children=me}return G(z.type,je,B)},We.createContext=function(z){return z={$$typeof:u,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:o,_context:z},z},We.createElement=function(z,K,ge){var B,je={},_e=null;if(K!=null)for(B in K.key!==void 0&&(_e=""+K.key),K)H.call(K,B)&&B!=="key"&&B!=="__self"&&B!=="__source"&&(je[B]=K[B]);var me=arguments.length-2;if(me===1)je.children=ge;else if(1<me){for(var Re=Array(me),X=0;X<me;X++)Re[X]=arguments[X+2];je.children=Re}if(z&&z.defaultProps)for(B in me=z.defaultProps,me)je[B]===void 0&&(je[B]=me[B]);return G(z,_e,je)},We.createRef=function(){return{current:null}},We.forwardRef=function(z){return{$$typeof:d,render:z}},We.isValidElement=ne,We.lazy=function(z){return{$$typeof:p,_payload:{_status:-1,_result:z},_init:ue}},We.memo=function(z,K){return{$$typeof:m,type:z,compare:K===void 0?null:K}},We.startTransition=function(z){var K=L.T,ge={};L.T=ge;try{var B=z(),je=L.S;je!==null&&je(ge,B),typeof B=="object"&&B!==null&&typeof B.then=="function"&&B.then(R,be)}catch(_e){be(_e)}finally{K!==null&&ge.types!==null&&(K.types=ge.types),L.T=K}},We.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},We.use=function(z){return L.H.use(z)},We.useActionState=function(z,K,ge){return L.H.useActionState(z,K,ge)},We.useCallback=function(z,K){return L.H.useCallback(z,K)},We.useContext=function(z){return L.H.useContext(z)},We.useDebugValue=function(){},We.useDeferredValue=function(z,K){return L.H.useDeferredValue(z,K)},We.useEffect=function(z,K){return L.H.useEffect(z,K)},We.useEffectEvent=function(z){return L.H.useEffectEvent(z)},We.useId=function(){return L.H.useId()},We.useImperativeHandle=function(z,K,ge){return L.H.useImperativeHandle(z,K,ge)},We.useInsertionEffect=function(z,K){return L.H.useInsertionEffect(z,K)},We.useLayoutEffect=function(z,K){return L.H.useLayoutEffect(z,K)},We.useMemo=function(z,K){return L.H.useMemo(z,K)},We.useOptimistic=function(z,K){return L.H.useOptimistic(z,K)},We.useReducer=function(z,K,ge){return L.H.useReducer(z,K,ge)},We.useRef=function(z){return L.H.useRef(z)},We.useState=function(z){return L.H.useState(z)},We.useSyncExternalStore=function(z,K,ge){return L.H.useSyncExternalStore(z,K,ge)},We.useTransition=function(){return L.H.useTransition()},We.version="19.2.0",We}var DN;function Oo(){return DN||(DN=1,M0.exports=o4()),M0.exports}var w=Oo();const Xs=Ea(w),c4=a4({__proto__:null,default:Xs},[w]);var R0={exports:{}},Dc={},I0={exports:{}},z0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kN;function u4(){return kN||(kN=1,(function(e){function t(I,W){var ue=I.length;I.push(W);e:for(;0<ue;){var be=ue-1>>>1,Ee=I[be];if(0<s(Ee,W))I[be]=W,I[ue]=Ee,ue=be;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var W=I[0],ue=I.pop();if(ue!==W){I[0]=ue;e:for(var be=0,Ee=I.length,z=Ee>>>1;be<z;){var K=2*(be+1)-1,ge=I[K],B=K+1,je=I[B];if(0>s(ge,ue))B<Ee&&0>s(je,ge)?(I[be]=je,I[B]=ue,be=B):(I[be]=ge,I[K]=ue,be=K);else if(B<Ee&&0>s(je,ue))I[be]=je,I[B]=ue,be=B;else break e}}return W}function s(I,W){var ue=I.sortIndex-W.sortIndex;return ue!==0?ue:I.id-W.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var u=Date,d=u.now();e.unstable_now=function(){return u.now()-d}}var h=[],m=[],p=1,g=null,x=3,b=!1,j=!1,N=!1,_=!1,A=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function C(I){for(var W=r(m);W!==null;){if(W.callback===null)n(m);else if(W.startTime<=I)n(m),W.sortIndex=W.expirationTime,t(h,W);else break;W=r(m)}}function D(I){if(N=!1,C(I),!j)if(r(h)!==null)j=!0,R||(R=!0,k());else{var W=r(m);W!==null&&V(D,W.startTime-I)}}var R=!1,L=-1,H=5,G=-1;function he(){return _?!0:!(e.unstable_now()-G<H)}function ne(){if(_=!1,R){var I=e.unstable_now();G=I;var W=!0;try{e:{j=!1,N&&(N=!1,P(L),L=-1),b=!0;var ue=x;try{t:{for(C(I),g=r(h);g!==null&&!(g.expirationTime>I&&he());){var be=g.callback;if(typeof be=="function"){g.callback=null,x=g.priorityLevel;var Ee=be(g.expirationTime<=I);if(I=e.unstable_now(),typeof Ee=="function"){g.callback=Ee,C(I),W=!0;break t}g===r(h)&&n(h),C(I)}else n(h);g=r(h)}if(g!==null)W=!0;else{var z=r(m);z!==null&&V(D,z.startTime-I),W=!1}}break e}finally{g=null,x=ue,b=!1}W=void 0}}finally{W?k():R=!1}}}var k;if(typeof O=="function")k=function(){O(ne)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,U=se.port2;se.port1.onmessage=ne,k=function(){U.postMessage(null)}}else k=function(){A(ne,0)};function V(I,W){L=A(function(){I(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(I){switch(x){case 1:case 2:case 3:var W=3;break;default:W=x}var ue=x;x=W;try{return I()}finally{x=ue}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function(I,W){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var ue=x;x=I;try{return W()}finally{x=ue}},e.unstable_scheduleCallback=function(I,W,ue){var be=e.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?be+ue:be):ue=be,I){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=ue+Ee,I={id:p++,callback:W,priorityLevel:I,startTime:ue,expirationTime:Ee,sortIndex:-1},ue>be?(I.sortIndex=ue,t(m,I),r(h)===null&&I===r(m)&&(N?(P(L),L=-1):N=!0,V(D,ue-be))):(I.sortIndex=Ee,t(h,I),j||b||(j=!0,R||(R=!0,k()))),I},e.unstable_shouldYield=he,e.unstable_wrapCallback=function(I){var W=x;return function(){var ue=x;x=W;try{return I.apply(this,arguments)}finally{x=ue}}}})(z0)),z0}var PN;function d4(){return PN||(PN=1,I0.exports=u4()),I0.exports}var L0={exports:{}},Jr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MN;function f4(){if(MN)return Jr;MN=1;var e=Oo();function t(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)m+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(h,m,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:g==null?null:""+g,children:h,containerInfo:m,implementation:p}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Jr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Jr.createPortal=function(h,m){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return o(h,m,null,p)},Jr.flushSync=function(h){var m=u.T,p=n.p;try{if(u.T=null,n.p=2,h)return h()}finally{u.T=m,n.p=p,n.d.f()}},Jr.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,n.d.C(h,m))},Jr.prefetchDNS=function(h){typeof h=="string"&&n.d.D(h)},Jr.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var p=m.as,g=d(p,m.crossOrigin),x=typeof m.integrity=="string"?m.integrity:void 0,b=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;p==="style"?n.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:g,integrity:x,fetchPriority:b}):p==="script"&&n.d.X(h,{crossOrigin:g,integrity:x,fetchPriority:b,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Jr.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var p=d(m.as,m.crossOrigin);n.d.M(h,{crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&n.d.M(h)},Jr.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var p=m.as,g=d(p,m.crossOrigin);n.d.L(h,p,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Jr.preloadModule=function(h,m){if(typeof h=="string")if(m){var p=d(m.as,m.crossOrigin);n.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else n.d.m(h)},Jr.requestFormReset=function(h){n.d.r(h)},Jr.unstable_batchedUpdates=function(h,m){return h(m)},Jr.useFormState=function(h,m,p){return u.H.useFormState(h,m,p)},Jr.useFormStatus=function(){return u.H.useHostTransitionStatus()},Jr.version="19.2.0",Jr}var RN;function DA(){if(RN)return L0.exports;RN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),L0.exports=f4(),L0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IN;function h4(){if(IN)return Dc;IN=1;var e=d4(),t=Oo(),r=DA();function n(a){var i="https://react.dev/errors/"+a;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)i+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var i=a,c=a;if(a.alternate)for(;i.return;)i=i.return;else{a=i;do i=a,(i.flags&4098)!==0&&(c=i.return),a=i.return;while(a)}return i.tag===3?c:null}function u(a){if(a.tag===13){var i=a.memoizedState;if(i===null&&(a=a.alternate,a!==null&&(i=a.memoizedState)),i!==null)return i.dehydrated}return null}function d(a){if(a.tag===31){var i=a.memoizedState;if(i===null&&(a=a.alternate,a!==null&&(i=a.memoizedState)),i!==null)return i.dehydrated}return null}function h(a){if(o(a)!==a)throw Error(n(188))}function m(a){var i=a.alternate;if(!i){if(i=o(a),i===null)throw Error(n(188));return i!==a?null:a}for(var c=a,f=i;;){var y=c.return;if(y===null)break;var v=y.alternate;if(v===null){if(f=y.return,f!==null){c=f;continue}break}if(y.child===v.child){for(v=y.child;v;){if(v===c)return h(y),a;if(v===f)return h(y),i;v=v.sibling}throw Error(n(188))}if(c.return!==f.return)c=y,f=v;else{for(var S=!1,T=y.child;T;){if(T===c){S=!0,c=y,f=v;break}if(T===f){S=!0,f=y,c=v;break}T=T.sibling}if(!S){for(T=v.child;T;){if(T===c){S=!0,c=v,f=y;break}if(T===f){S=!0,f=v,c=y;break}T=T.sibling}if(!S)throw Error(n(189))}}if(c.alternate!==f)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?a:i}function p(a){var i=a.tag;if(i===5||i===26||i===27||i===6)return a;for(a=a.child;a!==null;){if(i=p(a),i!==null)return i;a=a.sibling}return null}var g=Object.assign,x=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),O=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),G=Symbol.for("react.activity"),he=Symbol.for("react.memo_cache_sentinel"),ne=Symbol.iterator;function k(a){return a===null||typeof a!="object"?null:(a=ne&&a[ne]||a["@@iterator"],typeof a=="function"?a:null)}var se=Symbol.for("react.client.reference");function U(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===se?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case N:return"Fragment";case A:return"Profiler";case _:return"StrictMode";case D:return"Suspense";case R:return"SuspenseList";case G:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case j:return"Portal";case O:return a.displayName||"Context";case P:return(a._context.displayName||"Context")+".Consumer";case C:var i=a.render;return a=a.displayName,a||(a=i.displayName||i.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case L:return i=a.displayName||null,i!==null?i:U(a.type)||"Memo";case H:i=a._payload,a=a._init;try{return U(a(i))}catch{}}return null}var V=Array.isArray,I=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},be=[],Ee=-1;function z(a){return{current:a}}function K(a){0>Ee||(a.current=be[Ee],be[Ee]=null,Ee--)}function ge(a,i){Ee++,be[Ee]=a.current,a.current=i}var B=z(null),je=z(null),_e=z(null),me=z(null);function Re(a,i){switch(ge(_e,i),ge(je,a),ge(B,null),i.nodeType){case 9:case 11:a=(a=i.documentElement)&&(a=a.namespaceURI)?Zj(a):0;break;default:if(a=i.tagName,i=i.namespaceURI)i=Zj(i),a=Qj(i,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}K(B),ge(B,a)}function X(){K(B),K(je),K(_e)}function De(a){a.memoizedState!==null&&ge(me,a);var i=B.current,c=Qj(i,a.type);i!==c&&(ge(je,a),ge(B,c))}function Oe(a){je.current===a&&(K(B),K(je)),me.current===a&&(K(me),Ec._currentValue=ue)}var te,rt;function He(a){if(te===void 0)try{throw Error()}catch(c){var i=c.stack.trim().match(/\n( *(at )?)/);te=i&&i[1]||"",rt=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+te+a+rt}var Et=!1;function vt(a,i){if(!a||Et)return"";Et=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(i){var ve=function(){throw Error()};if(Object.defineProperty(ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ve,[])}catch(ce){var ae=ce}Reflect.construct(a,[],ve)}else{try{ve.call()}catch(ce){ae=ce}a.call(ve.prototype)}}else{try{throw Error()}catch(ce){ae=ce}(ve=a())&&typeof ve.catch=="function"&&ve.catch(function(){})}}catch(ce){if(ce&&ae&&typeof ce.stack=="string")return[ce.stack,ae.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=f.DetermineComponentFrameRoot(),S=v[0],T=v[1];if(S&&T){var $=S.split(`
`),J=T.split(`
`);for(y=f=0;f<$.length&&!$[f].includes("DetermineComponentFrameRoot");)f++;for(;y<J.length&&!J[y].includes("DetermineComponentFrameRoot");)y++;if(f===$.length||y===J.length)for(f=$.length-1,y=J.length-1;1<=f&&0<=y&&$[f]!==J[y];)y--;for(;1<=f&&0<=y;f--,y--)if($[f]!==J[y]){if(f!==1||y!==1)do if(f--,y--,0>y||$[f]!==J[y]){var fe=`
`+$[f].replace(" at new "," at ");return a.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",a.displayName)),fe}while(1<=f&&0<=y);break}}}finally{Et=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?He(c):""}function ie(a,i){switch(a.tag){case 26:case 27:case 5:return He(a.type);case 16:return He("Lazy");case 13:return a.child!==i&&i!==null?He("Suspense Fallback"):He("Suspense");case 19:return He("SuspenseList");case 0:case 15:return vt(a.type,!1);case 11:return vt(a.type.render,!1);case 1:return vt(a.type,!0);case 31:return He("Activity");default:return""}}function $t(a){try{var i="",c=null;do i+=ie(a,c),c=a,a=a.return;while(a);return i}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var Le=Object.prototype.hasOwnProperty,Xt=e.unstable_scheduleCallback,Ze=e.unstable_cancelCallback,Cn=e.unstable_shouldYield,Yr=e.unstable_requestPaint,Jt=e.unstable_now,hn=e.unstable_getCurrentPriorityLevel,mn=e.unstable_ImmediatePriority,Wr=e.unstable_UserBlockingPriority,Ca=e.unstable_NormalPriority,Tn=e.unstable_LowPriority,Ta=e.unstable_IdlePriority,an=e.log,Ae=e.unstable_setDisableYieldValue,ut=null,At=null;function Or(a){if(typeof an=="function"&&Ae(a),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(ut,a)}catch{}}var nr=Math.clz32?Math.clz32:oe,vl=Math.log,Ci=Math.LN2;function oe(a){return a>>>=0,a===0?32:31-(vl(a)/Ci|0)|0}var Ti=256,Di=262144,fa=4194304;function Hn(a){var i=a&42;if(i!==0)return i;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function ki(a,i,c){var f=a.pendingLanes;if(f===0)return 0;var y=0,v=a.suspendedLanes,S=a.pingedLanes;a=a.warmLanes;var T=f&134217727;return T!==0?(f=T&~v,f!==0?y=Hn(f):(S&=T,S!==0?y=Hn(S):c||(c=T&~a,c!==0&&(y=Hn(c))))):(T=f&~v,T!==0?y=Hn(T):S!==0?y=Hn(S):c||(c=f&~a,c!==0&&(y=Hn(c)))),y===0?0:i!==0&&i!==y&&(i&v)===0&&(v=y&-y,c=i&-i,v>=c||v===32&&(c&4194048)!==0)?i:y}function Xr(a,i){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&i)===0}function le(a,i){switch(a){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ue(){var a=fa;return fa<<=1,(fa&62914560)===0&&(fa=4194304),a}function dt(a){for(var i=[],c=0;31>c;c++)i.push(a);return i}function ct(a,i){a.pendingLanes|=i,i!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Cr(a,i,c,f,y,v){var S=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var T=a.entanglements,$=a.expirationTimes,J=a.hiddenUpdates;for(c=S&~c;0<c;){var fe=31-nr(c),ve=1<<fe;T[fe]=0,$[fe]=-1;var ae=J[fe];if(ae!==null)for(J[fe]=null,fe=0;fe<ae.length;fe++){var ce=ae[fe];ce!==null&&(ce.lane&=-536870913)}c&=~ve}f!==0&&sn(a,f,0),v!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=v&~(S&~i))}function sn(a,i,c){a.pendingLanes|=i,a.suspendedLanes&=~i;var f=31-nr(i);a.entangledLanes|=i,a.entanglements[f]=a.entanglements[f]|1073741824|c&261930}function xt(a,i){var c=a.entangledLanes|=i;for(a=a.entanglements;c;){var f=31-nr(c),y=1<<f;y&i|a[f]&i&&(a[f]|=i),c&=~y}}function Ut(a,i){var c=i&-i;return c=(c&42)!==0?1:Zr(c),(c&(a.suspendedLanes|i))!==0?0:c}function Zr(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Fa(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function wt(){var a=W.p;return a!==0?a:(a=window.event,a===void 0?32:wN(a.type))}function pn(a,i){var c=W.p;try{return W.p=a,i()}finally{W.p=c}}var Da=Math.random().toString(36).slice(2),cr="__reactFiber$"+Da,Qr="__reactProps$"+Da,Pi="__reactContainer$"+Da,qo="__reactEvents$"+Da,Om="__reactListeners$"+Da,Cm="__reactHandles$"+Da,$u="__reactResources$"+Da,_s="__reactMarker$"+Da;function $o(a){delete a[cr],delete a[Qr],delete a[qo],delete a[Om],delete a[Cm]}function Mi(a){var i=a[cr];if(i)return i;for(var c=a.parentNode;c;){if(i=c[Pi]||c[cr]){if(c=i.alternate,i.child!==null||c!==null&&c.child!==null)for(a=iN(a);a!==null;){if(c=a[cr])return c;a=iN(a)}return i}a=c,c=a.parentNode}return null}function Ri(a){if(a=a[cr]||a[Pi]){var i=a.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return a}return null}function Ss(a){var i=a.tag;if(i===5||i===26||i===27||i===6)return a.stateNode;throw Error(n(33))}function Ii(a){var i=a[$u];return i||(i=a[$u]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ur(a){a[_s]=!0}var Uu=new Set,Bu={};function Ha(a,i){zi(a,i),zi(a+"Capture",i)}function zi(a,i){for(Bu[a]=i,a=0;a<i.length;a++)Uu.add(i[a])}var Tm=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gu={},Fu={};function Hu(a){return Le.call(Fu,a)?!0:Le.call(Gu,a)?!1:Tm.test(a)?Fu[a]=!0:(Gu[a]=!0,!1)}function xl(a,i,c){if(Hu(i))if(c===null)a.removeAttribute(i);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(i);return;case"boolean":var f=i.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){a.removeAttribute(i);return}}a.setAttribute(i,""+c)}}function bl(a,i,c){if(c===null)a.removeAttribute(i);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(i);return}a.setAttribute(i,""+c)}}function ha(a,i,c,f){if(f===null)a.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(i,c,""+f)}}function gn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Vu(a){var i=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Dm(a,i,c){var f=Object.getOwnPropertyDescriptor(a.constructor.prototype,i);if(!a.hasOwnProperty(i)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var y=f.get,v=f.set;return Object.defineProperty(a,i,{configurable:!0,get:function(){return y.call(this)},set:function(S){c=""+S,v.call(this,S)}}),Object.defineProperty(a,i,{enumerable:f.enumerable}),{getValue:function(){return c},setValue:function(S){c=""+S},stopTracking:function(){a._valueTracker=null,delete a[i]}}}}function Uo(a){if(!a._valueTracker){var i=Vu(a)?"checked":"value";a._valueTracker=Dm(a,i,""+a[i])}}function Ku(a){if(!a)return!1;var i=a._valueTracker;if(!i)return!0;var c=i.getValue(),f="";return a&&(f=Vu(a)?a.checked?"true":"false":a.value),a=f,a!==c?(i.setValue(a),!0):!1}function wl(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var km=/[\n"\\]/g;function yn(a){return a.replace(km,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Bo(a,i,c,f,y,v,S,T){a.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?a.type=S:a.removeAttribute("type"),i!=null?S==="number"?(i===0&&a.value===""||a.value!=i)&&(a.value=""+gn(i)):a.value!==""+gn(i)&&(a.value=""+gn(i)):S!=="submit"&&S!=="reset"||a.removeAttribute("value"),i!=null?Go(a,S,gn(i)):c!=null?Go(a,S,gn(c)):f!=null&&a.removeAttribute("value"),y==null&&v!=null&&(a.defaultChecked=!!v),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?a.name=""+gn(T):a.removeAttribute("name")}function Yu(a,i,c,f,y,v,S,T){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(a.type=v),i!=null||c!=null){if(!(v!=="submit"&&v!=="reset"||i!=null)){Uo(a);return}c=c!=null?""+gn(c):"",i=i!=null?""+gn(i):c,T||i===a.value||(a.value=i),a.defaultValue=i}f=f??y,f=typeof f!="function"&&typeof f!="symbol"&&!!f,a.checked=T?a.checked:!!f,a.defaultChecked=!!f,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(a.name=S),Uo(a)}function Go(a,i,c){i==="number"&&wl(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function Li(a,i,c,f){if(a=a.options,i){i={};for(var y=0;y<c.length;y++)i["$"+c[y]]=!0;for(c=0;c<a.length;c++)y=i.hasOwnProperty("$"+a[c].value),a[c].selected!==y&&(a[c].selected=y),y&&f&&(a[c].defaultSelected=!0)}else{for(c=""+gn(c),i=null,y=0;y<a.length;y++){if(a[y].value===c){a[y].selected=!0,f&&(a[y].defaultSelected=!0);return}i!==null||a[y].disabled||(i=a[y])}i!==null&&(i.selected=!0)}}function Wu(a,i,c){if(i!=null&&(i=""+gn(i),i!==a.value&&(a.value=i),c==null)){a.defaultValue!==i&&(a.defaultValue=i);return}a.defaultValue=c!=null?""+gn(c):""}function Xu(a,i,c,f){if(i==null){if(f!=null){if(c!=null)throw Error(n(92));if(V(f)){if(1<f.length)throw Error(n(93));f=f[0]}c=f}c==null&&(c=""),i=c}c=gn(i),a.defaultValue=c,f=a.textContent,f===c&&f!==""&&f!==null&&(a.value=f),Uo(a)}function qi(a,i){if(i){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=i;return}}a.textContent=i}var Pm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zu(a,i,c){var f=i.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?f?a.setProperty(i,""):i==="float"?a.cssFloat="":a[i]="":f?a.setProperty(i,c):typeof c!="number"||c===0||Pm.has(i)?i==="float"?a.cssFloat=c:a[i]=(""+c).trim():a[i]=c+"px"}function Qu(a,i,c){if(i!=null&&typeof i!="object")throw Error(n(62));if(a=a.style,c!=null){for(var f in c)!c.hasOwnProperty(f)||i!=null&&i.hasOwnProperty(f)||(f.indexOf("--")===0?a.setProperty(f,""):f==="float"?a.cssFloat="":a[f]="");for(var y in i)f=i[y],i.hasOwnProperty(y)&&c[y]!==f&&Zu(a,y,f)}else for(var v in i)i.hasOwnProperty(v)&&Zu(a,v,i[v])}function Fo(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jl(a){return Rm.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function ma(){}var Ho=null;function Vo(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var E=null,M=null;function q(a){var i=Ri(a);if(i&&(a=i.stateNode)){var c=a[Qr]||null;e:switch(a=i.stateNode,i.type){case"input":if(Bo(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),i=c.name,c.type==="radio"&&i!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+yn(""+i)+'"][type="radio"]'),i=0;i<c.length;i++){var f=c[i];if(f!==a&&f.form===a.form){var y=f[Qr]||null;if(!y)throw Error(n(90));Bo(f,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(i=0;i<c.length;i++)f=c[i],f.form===a.form&&Ku(f)}break e;case"textarea":Wu(a,c.value,c.defaultValue);break e;case"select":i=c.value,i!=null&&Li(a,!!c.multiple,i,!1)}}}var Z=!1;function pe(a,i,c){if(Z)return a(i,c);Z=!0;try{var f=a(i);return f}finally{if(Z=!1,(E!==null||M!==null)&&(Rd(),E&&(i=E,a=M,M=E=null,q(i),a)))for(i=0;i<a.length;i++)q(a[i])}}function xe(a,i){var c=a.stateNode;if(c===null)return null;var f=c[Qr]||null;if(f===null)return null;c=f[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(a=a.type,f=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!f;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(n(231,i,typeof c));return c}var Ce=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$e=!1;if(Ce)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){$e=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch{$e=!1}var de=null,ke=null,Be=null;function It(){if(Be)return Be;var a,i=ke,c=i.length,f,y="value"in de?de.value:de.textContent,v=y.length;for(a=0;a<c&&i[a]===y[a];a++);var S=c-a;for(f=1;f<=S&&i[c-f]===y[v-f];f++);return Be=y.slice(a,1<f?1-f:void 0)}function Je(a){var i=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&i===13&&(a=13)):a=i,a===10&&(a=13),32<=a||a===13?a:0}function we(){return!0}function Se(){return!1}function Me(a){function i(c,f,y,v,S){this._reactName=c,this._targetInst=y,this.type=f,this.nativeEvent=v,this.target=S,this.currentTarget=null;for(var T in a)a.hasOwnProperty(T)&&(c=a[T],this[T]=c?c(v):v[T]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?we:Se,this.isPropagationStopped=Se,this}return g(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=we)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=we)},persist:function(){},isPersistent:we}),i}var Ie={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ot=Me(Ie),bt=g({},Ie,{view:0,detail:0}),Vn=Me(bt),dr,ln,Tr,Ju=g({},bt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zm,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Tr&&(Tr&&a.type==="mousemove"?(dr=a.screenX-Tr.screenX,ln=a.screenY-Tr.screenY):ln=dr=0,Tr=a),dr)},movementY:function(a){return"movementY"in a?a.movementY:ln}}),e1=Me(Ju),tP=g({},Ju,{dataTransfer:0}),rP=Me(tP),nP=g({},bt,{relatedTarget:0}),Im=Me(nP),aP=g({},Ie,{animationName:0,elapsedTime:0,pseudoElement:0}),iP=Me(aP),sP=g({},Ie,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),lP=Me(sP),oP=g({},Ie,{data:0}),t1=Me(oP),cP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fP(a){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(a):(a=dP[a])?!!i[a]:!1}function zm(){return fP}var hP=g({},bt,{key:function(a){if(a.key){var i=cP[a.key]||a.key;if(i!=="Unidentified")return i}return a.type==="keypress"?(a=Je(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?uP[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zm,charCode:function(a){return a.type==="keypress"?Je(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Je(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),mP=Me(hP),pP=g({},Ju,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),r1=Me(pP),gP=g({},bt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zm}),yP=Me(gP),vP=g({},Ie,{propertyName:0,elapsedTime:0,pseudoElement:0}),xP=Me(vP),bP=g({},Ju,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),wP=Me(bP),jP=g({},Ie,{newState:0,oldState:0}),NP=Me(jP),_P=[9,13,27,32],Lm=Ce&&"CompositionEvent"in window,Ko=null;Ce&&"documentMode"in document&&(Ko=document.documentMode);var SP=Ce&&"TextEvent"in window&&!Ko,n1=Ce&&(!Lm||Ko&&8<Ko&&11>=Ko),a1=" ",i1=!1;function s1(a,i){switch(a){case"keyup":return _P.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function l1(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Nl=!1;function EP(a,i){switch(a){case"compositionend":return l1(i);case"keypress":return i.which!==32?null:(i1=!0,a1);case"textInput":return a=i.data,a===a1&&i1?null:a;default:return null}}function AP(a,i){if(Nl)return a==="compositionend"||!Lm&&s1(a,i)?(a=It(),Be=ke=de=null,Nl=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return n1&&i.locale!=="ko"?null:i.data;default:return null}}var OP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function o1(a){var i=a&&a.nodeName&&a.nodeName.toLowerCase();return i==="input"?!!OP[a.type]:i==="textarea"}function c1(a,i,c,f){E?M?M.push(f):M=[f]:E=f,i=Bd(i,"onChange"),0<i.length&&(c=new Ot("onChange","change",null,c,f),a.push({event:c,listeners:i}))}var Yo=null,Wo=null;function CP(a){Hj(a,0)}function ed(a){var i=Ss(a);if(Ku(i))return a}function u1(a,i){if(a==="change")return i}var d1=!1;if(Ce){var qm;if(Ce){var $m="oninput"in document;if(!$m){var f1=document.createElement("div");f1.setAttribute("oninput","return;"),$m=typeof f1.oninput=="function"}qm=$m}else qm=!1;d1=qm&&(!document.documentMode||9<document.documentMode)}function h1(){Yo&&(Yo.detachEvent("onpropertychange",m1),Wo=Yo=null)}function m1(a){if(a.propertyName==="value"&&ed(Wo)){var i=[];c1(i,Wo,a,Vo(a)),pe(CP,i)}}function TP(a,i,c){a==="focusin"?(h1(),Yo=i,Wo=c,Yo.attachEvent("onpropertychange",m1)):a==="focusout"&&h1()}function DP(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return ed(Wo)}function kP(a,i){if(a==="click")return ed(i)}function PP(a,i){if(a==="input"||a==="change")return ed(i)}function MP(a,i){return a===i&&(a!==0||1/a===1/i)||a!==a&&i!==i}var Dn=typeof Object.is=="function"?Object.is:MP;function Xo(a,i){if(Dn(a,i))return!0;if(typeof a!="object"||a===null||typeof i!="object"||i===null)return!1;var c=Object.keys(a),f=Object.keys(i);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var y=c[f];if(!Le.call(i,y)||!Dn(a[y],i[y]))return!1}return!0}function p1(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function g1(a,i){var c=p1(a);a=0;for(var f;c;){if(c.nodeType===3){if(f=a+c.textContent.length,a<=i&&f>=i)return{node:c,offset:i-a};a=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=p1(c)}}function y1(a,i){return a&&i?a===i?!0:a&&a.nodeType===3?!1:i&&i.nodeType===3?y1(a,i.parentNode):"contains"in a?a.contains(i):a.compareDocumentPosition?!!(a.compareDocumentPosition(i)&16):!1:!1}function v1(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var i=wl(a.document);i instanceof a.HTMLIFrameElement;){try{var c=typeof i.contentWindow.location.href=="string"}catch{c=!1}if(c)a=i.contentWindow;else break;i=wl(a.document)}return i}function Um(a){var i=a&&a.nodeName&&a.nodeName.toLowerCase();return i&&(i==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||i==="textarea"||a.contentEditable==="true")}var RP=Ce&&"documentMode"in document&&11>=document.documentMode,_l=null,Bm=null,Zo=null,Gm=!1;function x1(a,i,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Gm||_l==null||_l!==wl(f)||(f=_l,"selectionStart"in f&&Um(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Zo&&Xo(Zo,f)||(Zo=f,f=Bd(Bm,"onSelect"),0<f.length&&(i=new Ot("onSelect","select",null,i,c),a.push({event:i,listeners:f}),i.target=_l)))}function Es(a,i){var c={};return c[a.toLowerCase()]=i.toLowerCase(),c["Webkit"+a]="webkit"+i,c["Moz"+a]="moz"+i,c}var Sl={animationend:Es("Animation","AnimationEnd"),animationiteration:Es("Animation","AnimationIteration"),animationstart:Es("Animation","AnimationStart"),transitionrun:Es("Transition","TransitionRun"),transitionstart:Es("Transition","TransitionStart"),transitioncancel:Es("Transition","TransitionCancel"),transitionend:Es("Transition","TransitionEnd")},Fm={},b1={};Ce&&(b1=document.createElement("div").style,"AnimationEvent"in window||(delete Sl.animationend.animation,delete Sl.animationiteration.animation,delete Sl.animationstart.animation),"TransitionEvent"in window||delete Sl.transitionend.transition);function As(a){if(Fm[a])return Fm[a];if(!Sl[a])return a;var i=Sl[a],c;for(c in i)if(i.hasOwnProperty(c)&&c in b1)return Fm[a]=i[c];return a}var w1=As("animationend"),j1=As("animationiteration"),N1=As("animationstart"),IP=As("transitionrun"),zP=As("transitionstart"),LP=As("transitioncancel"),_1=As("transitionend"),S1=new Map,Hm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hm.push("scrollEnd");function pa(a,i){S1.set(a,i),Ha(i,[a])}var td=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Kn=[],El=0,Vm=0;function rd(){for(var a=El,i=Vm=El=0;i<a;){var c=Kn[i];Kn[i++]=null;var f=Kn[i];Kn[i++]=null;var y=Kn[i];Kn[i++]=null;var v=Kn[i];if(Kn[i++]=null,f!==null&&y!==null){var S=f.pending;S===null?y.next=y:(y.next=S.next,S.next=y),f.pending=y}v!==0&&E1(c,y,v)}}function nd(a,i,c,f){Kn[El++]=a,Kn[El++]=i,Kn[El++]=c,Kn[El++]=f,Vm|=f,a.lanes|=f,a=a.alternate,a!==null&&(a.lanes|=f)}function Km(a,i,c,f){return nd(a,i,c,f),ad(a)}function Os(a,i){return nd(a,null,null,i),ad(a)}function E1(a,i,c){a.lanes|=c;var f=a.alternate;f!==null&&(f.lanes|=c);for(var y=!1,v=a.return;v!==null;)v.childLanes|=c,f=v.alternate,f!==null&&(f.childLanes|=c),v.tag===22&&(a=v.stateNode,a===null||a._visibility&1||(y=!0)),a=v,v=v.return;return a.tag===3?(v=a.stateNode,y&&i!==null&&(y=31-nr(c),a=v.hiddenUpdates,f=a[y],f===null?a[y]=[i]:f.push(i),i.lane=c|536870912),v):null}function ad(a){if(50<xc)throw xc=0,r0=null,Error(n(185));for(var i=a.return;i!==null;)a=i,i=a.return;return a.tag===3?a.stateNode:null}var Al={};function qP(a,i,c,f){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(a,i,c,f){return new qP(a,i,c,f)}function Ym(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Va(a,i){var c=a.alternate;return c===null?(c=kn(a.tag,i,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=i,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,i=a.dependencies,c.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function A1(a,i){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=i,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,i=c.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),a}function id(a,i,c,f,y,v){var S=0;if(f=a,typeof a=="function")Ym(a)&&(S=1);else if(typeof a=="string")S=FM(a,c,B.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case G:return a=kn(31,c,i,y),a.elementType=G,a.lanes=v,a;case N:return Cs(c.children,y,v,i);case _:S=8,y|=24;break;case A:return a=kn(12,c,i,y|2),a.elementType=A,a.lanes=v,a;case D:return a=kn(13,c,i,y),a.elementType=D,a.lanes=v,a;case R:return a=kn(19,c,i,y),a.elementType=R,a.lanes=v,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case O:S=10;break e;case P:S=9;break e;case C:S=11;break e;case L:S=14;break e;case H:S=16,f=null;break e}S=29,c=Error(n(130,a===null?"null":typeof a,"")),f=null}return i=kn(S,c,i,y),i.elementType=a,i.type=f,i.lanes=v,i}function Cs(a,i,c,f){return a=kn(7,a,f,i),a.lanes=c,a}function Wm(a,i,c){return a=kn(6,a,null,i),a.lanes=c,a}function O1(a){var i=kn(18,null,null,0);return i.stateNode=a,i}function Xm(a,i,c){return i=kn(4,a.children!==null?a.children:[],a.key,i),i.lanes=c,i.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},i}var C1=new WeakMap;function Yn(a,i){if(typeof a=="object"&&a!==null){var c=C1.get(a);return c!==void 0?c:(i={value:a,source:i,stack:$t(i)},C1.set(a,i),i)}return{value:a,source:i,stack:$t(i)}}var Ol=[],Cl=0,sd=null,Qo=0,Wn=[],Xn=0,$i=null,ka=1,Pa="";function Ka(a,i){Ol[Cl++]=Qo,Ol[Cl++]=sd,sd=a,Qo=i}function T1(a,i,c){Wn[Xn++]=ka,Wn[Xn++]=Pa,Wn[Xn++]=$i,$i=a;var f=ka;a=Pa;var y=32-nr(f)-1;f&=~(1<<y),c+=1;var v=32-nr(i)+y;if(30<v){var S=y-y%5;v=(f&(1<<S)-1).toString(32),f>>=S,y-=S,ka=1<<32-nr(i)+y|c<<y|f,Pa=v+a}else ka=1<<v|c<<y|f,Pa=a}function Zm(a){a.return!==null&&(Ka(a,1),T1(a,1,0))}function Qm(a){for(;a===sd;)sd=Ol[--Cl],Ol[Cl]=null,Qo=Ol[--Cl],Ol[Cl]=null;for(;a===$i;)$i=Wn[--Xn],Wn[Xn]=null,Pa=Wn[--Xn],Wn[Xn]=null,ka=Wn[--Xn],Wn[Xn]=null}function D1(a,i){Wn[Xn++]=ka,Wn[Xn++]=Pa,Wn[Xn++]=$i,ka=i.id,Pa=i.overflow,$i=a}var Ur=null,Bt=null,lt=!1,Ui=null,Zn=!1,Jm=Error(n(519));function Bi(a){var i=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Jo(Yn(i,a)),Jm}function k1(a){var i=a.stateNode,c=a.type,f=a.memoizedProps;switch(i[cr]=a,i[Qr]=f,c){case"dialog":at("cancel",i),at("close",i);break;case"iframe":case"object":case"embed":at("load",i);break;case"video":case"audio":for(c=0;c<wc.length;c++)at(wc[c],i);break;case"source":at("error",i);break;case"img":case"image":case"link":at("error",i),at("load",i);break;case"details":at("toggle",i);break;case"input":at("invalid",i),Yu(i,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":at("invalid",i);break;case"textarea":at("invalid",i),Xu(i,f.value,f.defaultValue,f.children)}c=f.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||i.textContent===""+c||f.suppressHydrationWarning===!0||Wj(i.textContent,c)?(f.popover!=null&&(at("beforetoggle",i),at("toggle",i)),f.onScroll!=null&&at("scroll",i),f.onScrollEnd!=null&&at("scrollend",i),f.onClick!=null&&(i.onclick=ma),i=!0):i=!1,i||Bi(a,!0)}function P1(a){for(Ur=a.return;Ur;)switch(Ur.tag){case 5:case 31:case 13:Zn=!1;return;case 27:case 3:Zn=!0;return;default:Ur=Ur.return}}function Tl(a){if(a!==Ur)return!1;if(!lt)return P1(a),lt=!0,!1;var i=a.tag,c;if((c=i!==3&&i!==27)&&((c=i===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||y0(a.type,a.memoizedProps)),c=!c),c&&Bt&&Bi(a),P1(a),i===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));Bt=aN(a)}else if(i===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));Bt=aN(a)}else i===27?(i=Bt,rs(a.type)?(a=j0,j0=null,Bt=a):Bt=i):Bt=Ur?Jn(a.stateNode.nextSibling):null;return!0}function Ts(){Bt=Ur=null,lt=!1}function ep(){var a=Ui;return a!==null&&(wn===null?wn=a:wn.push.apply(wn,a),Ui=null),a}function Jo(a){Ui===null?Ui=[a]:Ui.push(a)}var tp=z(null),Ds=null,Ya=null;function Gi(a,i,c){ge(tp,i._currentValue),i._currentValue=c}function Wa(a){a._currentValue=tp.current,K(tp)}function rp(a,i,c){for(;a!==null;){var f=a.alternate;if((a.childLanes&i)!==i?(a.childLanes|=i,f!==null&&(f.childLanes|=i)):f!==null&&(f.childLanes&i)!==i&&(f.childLanes|=i),a===c)break;a=a.return}}function np(a,i,c,f){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var v=y.dependencies;if(v!==null){var S=y.child;v=v.firstContext;e:for(;v!==null;){var T=v;v=y;for(var $=0;$<i.length;$++)if(T.context===i[$]){v.lanes|=c,T=v.alternate,T!==null&&(T.lanes|=c),rp(v.return,c,a),f||(S=null);break e}v=T.next}}else if(y.tag===18){if(S=y.return,S===null)throw Error(n(341));S.lanes|=c,v=S.alternate,v!==null&&(v.lanes|=c),rp(S,c,a),S=null}else S=y.child;if(S!==null)S.return=y;else for(S=y;S!==null;){if(S===a){S=null;break}if(y=S.sibling,y!==null){y.return=S.return,S=y;break}S=S.return}y=S}}function Dl(a,i,c,f){a=null;for(var y=i,v=!1;y!==null;){if(!v){if((y.flags&524288)!==0)v=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var S=y.alternate;if(S===null)throw Error(n(387));if(S=S.memoizedProps,S!==null){var T=y.type;Dn(y.pendingProps.value,S.value)||(a!==null?a.push(T):a=[T])}}else if(y===me.current){if(S=y.alternate,S===null)throw Error(n(387));S.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(Ec):a=[Ec])}y=y.return}a!==null&&np(i,a,c,f),i.flags|=262144}function ld(a){for(a=a.firstContext;a!==null;){if(!Dn(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function ks(a){Ds=a,Ya=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Br(a){return M1(Ds,a)}function od(a,i){return Ds===null&&ks(a),M1(a,i)}function M1(a,i){var c=i._currentValue;if(i={context:i,memoizedValue:c,next:null},Ya===null){if(a===null)throw Error(n(308));Ya=i,a.dependencies={lanes:0,firstContext:i},a.flags|=524288}else Ya=Ya.next=i;return c}var $P=typeof AbortController<"u"?AbortController:function(){var a=[],i=this.signal={aborted:!1,addEventListener:function(c,f){a.push(f)}};this.abort=function(){i.aborted=!0,a.forEach(function(c){return c()})}},UP=e.unstable_scheduleCallback,BP=e.unstable_NormalPriority,fr={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ap(){return{controller:new $P,data:new Map,refCount:0}}function ec(a){a.refCount--,a.refCount===0&&UP(BP,function(){a.controller.abort()})}var tc=null,ip=0,kl=0,Pl=null;function GP(a,i){if(tc===null){var c=tc=[];ip=0,kl=o0(),Pl={status:"pending",value:void 0,then:function(f){c.push(f)}}}return ip++,i.then(R1,R1),i}function R1(){if(--ip===0&&tc!==null){Pl!==null&&(Pl.status="fulfilled");var a=tc;tc=null,kl=0,Pl=null;for(var i=0;i<a.length;i++)(0,a[i])()}}function FP(a,i){var c=[],f={status:"pending",value:null,reason:null,then:function(y){c.push(y)}};return a.then(function(){f.status="fulfilled",f.value=i;for(var y=0;y<c.length;y++)(0,c[y])(i)},function(y){for(f.status="rejected",f.reason=y,y=0;y<c.length;y++)(0,c[y])(void 0)}),f}var I1=I.S;I.S=function(a,i){xj=Jt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&GP(a,i),I1!==null&&I1(a,i)};var Ps=z(null);function sp(){var a=Ps.current;return a!==null?a:Mt.pooledCache}function cd(a,i){i===null?ge(Ps,Ps.current):ge(Ps,i.pool)}function z1(){var a=sp();return a===null?null:{parent:fr._currentValue,pool:a}}var Ml=Error(n(460)),lp=Error(n(474)),ud=Error(n(542)),dd={then:function(){}};function L1(a){return a=a.status,a==="fulfilled"||a==="rejected"}function q1(a,i,c){switch(c=a[c],c===void 0?a.push(i):c!==i&&(i.then(ma,ma),i=c),i.status){case"fulfilled":return i.value;case"rejected":throw a=i.reason,U1(a),a;default:if(typeof i.status=="string")i.then(ma,ma);else{if(a=Mt,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=i,a.status="pending",a.then(function(f){if(i.status==="pending"){var y=i;y.status="fulfilled",y.value=f}},function(f){if(i.status==="pending"){var y=i;y.status="rejected",y.reason=f}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw a=i.reason,U1(a),a}throw Rs=i,Ml}}function Ms(a){try{var i=a._init;return i(a._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Rs=c,Ml):c}}var Rs=null;function $1(){if(Rs===null)throw Error(n(459));var a=Rs;return Rs=null,a}function U1(a){if(a===Ml||a===ud)throw Error(n(483))}var Rl=null,rc=0;function fd(a){var i=rc;return rc+=1,Rl===null&&(Rl=[]),q1(Rl,a,i)}function nc(a,i){i=i.props.ref,a.ref=i!==void 0?i:null}function hd(a,i){throw i.$$typeof===x?Error(n(525)):(a=Object.prototype.toString.call(i),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":a)))}function B1(a){function i(Y,F){if(a){var Q=Y.deletions;Q===null?(Y.deletions=[F],Y.flags|=16):Q.push(F)}}function c(Y,F){if(!a)return null;for(;F!==null;)i(Y,F),F=F.sibling;return null}function f(Y){for(var F=new Map;Y!==null;)Y.key!==null?F.set(Y.key,Y):F.set(Y.index,Y),Y=Y.sibling;return F}function y(Y,F){return Y=Va(Y,F),Y.index=0,Y.sibling=null,Y}function v(Y,F,Q){return Y.index=Q,a?(Q=Y.alternate,Q!==null?(Q=Q.index,Q<F?(Y.flags|=67108866,F):Q):(Y.flags|=67108866,F)):(Y.flags|=1048576,F)}function S(Y){return a&&Y.alternate===null&&(Y.flags|=67108866),Y}function T(Y,F,Q,ye){return F===null||F.tag!==6?(F=Wm(Q,Y.mode,ye),F.return=Y,F):(F=y(F,Q),F.return=Y,F)}function $(Y,F,Q,ye){var Ke=Q.type;return Ke===N?fe(Y,F,Q.props.children,ye,Q.key):F!==null&&(F.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===H&&Ms(Ke)===F.type)?(F=y(F,Q.props),nc(F,Q),F.return=Y,F):(F=id(Q.type,Q.key,Q.props,null,Y.mode,ye),nc(F,Q),F.return=Y,F)}function J(Y,F,Q,ye){return F===null||F.tag!==4||F.stateNode.containerInfo!==Q.containerInfo||F.stateNode.implementation!==Q.implementation?(F=Xm(Q,Y.mode,ye),F.return=Y,F):(F=y(F,Q.children||[]),F.return=Y,F)}function fe(Y,F,Q,ye,Ke){return F===null||F.tag!==7?(F=Cs(Q,Y.mode,ye,Ke),F.return=Y,F):(F=y(F,Q),F.return=Y,F)}function ve(Y,F,Q){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=Wm(""+F,Y.mode,Q),F.return=Y,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case b:return Q=id(F.type,F.key,F.props,null,Y.mode,Q),nc(Q,F),Q.return=Y,Q;case j:return F=Xm(F,Y.mode,Q),F.return=Y,F;case H:return F=Ms(F),ve(Y,F,Q)}if(V(F)||k(F))return F=Cs(F,Y.mode,Q,null),F.return=Y,F;if(typeof F.then=="function")return ve(Y,fd(F),Q);if(F.$$typeof===O)return ve(Y,od(Y,F),Q);hd(Y,F)}return null}function ae(Y,F,Q,ye){var Ke=F!==null?F.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Ke!==null?null:T(Y,F,""+Q,ye);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:return Q.key===Ke?$(Y,F,Q,ye):null;case j:return Q.key===Ke?J(Y,F,Q,ye):null;case H:return Q=Ms(Q),ae(Y,F,Q,ye)}if(V(Q)||k(Q))return Ke!==null?null:fe(Y,F,Q,ye,null);if(typeof Q.then=="function")return ae(Y,F,fd(Q),ye);if(Q.$$typeof===O)return ae(Y,F,od(Y,Q),ye);hd(Y,Q)}return null}function ce(Y,F,Q,ye,Ke){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return Y=Y.get(Q)||null,T(F,Y,""+ye,Ke);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case b:return Y=Y.get(ye.key===null?Q:ye.key)||null,$(F,Y,ye,Ke);case j:return Y=Y.get(ye.key===null?Q:ye.key)||null,J(F,Y,ye,Ke);case H:return ye=Ms(ye),ce(Y,F,Q,ye,Ke)}if(V(ye)||k(ye))return Y=Y.get(Q)||null,fe(F,Y,ye,Ke,null);if(typeof ye.then=="function")return ce(Y,F,Q,fd(ye),Ke);if(ye.$$typeof===O)return ce(Y,F,Q,od(F,ye),Ke);hd(F,ye)}return null}function qe(Y,F,Q,ye){for(var Ke=null,ft=null,Ge=F,Qe=F=0,st=null;Ge!==null&&Qe<Q.length;Qe++){Ge.index>Qe?(st=Ge,Ge=null):st=Ge.sibling;var ht=ae(Y,Ge,Q[Qe],ye);if(ht===null){Ge===null&&(Ge=st);break}a&&Ge&&ht.alternate===null&&i(Y,Ge),F=v(ht,F,Qe),ft===null?Ke=ht:ft.sibling=ht,ft=ht,Ge=st}if(Qe===Q.length)return c(Y,Ge),lt&&Ka(Y,Qe),Ke;if(Ge===null){for(;Qe<Q.length;Qe++)Ge=ve(Y,Q[Qe],ye),Ge!==null&&(F=v(Ge,F,Qe),ft===null?Ke=Ge:ft.sibling=Ge,ft=Ge);return lt&&Ka(Y,Qe),Ke}for(Ge=f(Ge);Qe<Q.length;Qe++)st=ce(Ge,Y,Qe,Q[Qe],ye),st!==null&&(a&&st.alternate!==null&&Ge.delete(st.key===null?Qe:st.key),F=v(st,F,Qe),ft===null?Ke=st:ft.sibling=st,ft=st);return a&&Ge.forEach(function(ls){return i(Y,ls)}),lt&&Ka(Y,Qe),Ke}function Ye(Y,F,Q,ye){if(Q==null)throw Error(n(151));for(var Ke=null,ft=null,Ge=F,Qe=F=0,st=null,ht=Q.next();Ge!==null&&!ht.done;Qe++,ht=Q.next()){Ge.index>Qe?(st=Ge,Ge=null):st=Ge.sibling;var ls=ae(Y,Ge,ht.value,ye);if(ls===null){Ge===null&&(Ge=st);break}a&&Ge&&ls.alternate===null&&i(Y,Ge),F=v(ls,F,Qe),ft===null?Ke=ls:ft.sibling=ls,ft=ls,Ge=st}if(ht.done)return c(Y,Ge),lt&&Ka(Y,Qe),Ke;if(Ge===null){for(;!ht.done;Qe++,ht=Q.next())ht=ve(Y,ht.value,ye),ht!==null&&(F=v(ht,F,Qe),ft===null?Ke=ht:ft.sibling=ht,ft=ht);return lt&&Ka(Y,Qe),Ke}for(Ge=f(Ge);!ht.done;Qe++,ht=Q.next())ht=ce(Ge,Y,Qe,ht.value,ye),ht!==null&&(a&&ht.alternate!==null&&Ge.delete(ht.key===null?Qe:ht.key),F=v(ht,F,Qe),ft===null?Ke=ht:ft.sibling=ht,ft=ht);return a&&Ge.forEach(function(t4){return i(Y,t4)}),lt&&Ka(Y,Qe),Ke}function Dt(Y,F,Q,ye){if(typeof Q=="object"&&Q!==null&&Q.type===N&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:e:{for(var Ke=Q.key;F!==null;){if(F.key===Ke){if(Ke=Q.type,Ke===N){if(F.tag===7){c(Y,F.sibling),ye=y(F,Q.props.children),ye.return=Y,Y=ye;break e}}else if(F.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===H&&Ms(Ke)===F.type){c(Y,F.sibling),ye=y(F,Q.props),nc(ye,Q),ye.return=Y,Y=ye;break e}c(Y,F);break}else i(Y,F);F=F.sibling}Q.type===N?(ye=Cs(Q.props.children,Y.mode,ye,Q.key),ye.return=Y,Y=ye):(ye=id(Q.type,Q.key,Q.props,null,Y.mode,ye),nc(ye,Q),ye.return=Y,Y=ye)}return S(Y);case j:e:{for(Ke=Q.key;F!==null;){if(F.key===Ke)if(F.tag===4&&F.stateNode.containerInfo===Q.containerInfo&&F.stateNode.implementation===Q.implementation){c(Y,F.sibling),ye=y(F,Q.children||[]),ye.return=Y,Y=ye;break e}else{c(Y,F);break}else i(Y,F);F=F.sibling}ye=Xm(Q,Y.mode,ye),ye.return=Y,Y=ye}return S(Y);case H:return Q=Ms(Q),Dt(Y,F,Q,ye)}if(V(Q))return qe(Y,F,Q,ye);if(k(Q)){if(Ke=k(Q),typeof Ke!="function")throw Error(n(150));return Q=Ke.call(Q),Ye(Y,F,Q,ye)}if(typeof Q.then=="function")return Dt(Y,F,fd(Q),ye);if(Q.$$typeof===O)return Dt(Y,F,od(Y,Q),ye);hd(Y,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,F!==null&&F.tag===6?(c(Y,F.sibling),ye=y(F,Q),ye.return=Y,Y=ye):(c(Y,F),ye=Wm(Q,Y.mode,ye),ye.return=Y,Y=ye),S(Y)):c(Y,F)}return function(Y,F,Q,ye){try{rc=0;var Ke=Dt(Y,F,Q,ye);return Rl=null,Ke}catch(Ge){if(Ge===Ml||Ge===ud)throw Ge;var ft=kn(29,Ge,null,Y.mode);return ft.lanes=ye,ft.return=Y,ft}finally{}}}var Is=B1(!0),G1=B1(!1),Fi=!1;function op(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cp(a,i){a=a.updateQueue,i.updateQueue===a&&(i.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Hi(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Vi(a,i,c){var f=a.updateQueue;if(f===null)return null;if(f=f.shared,(gt&2)!==0){var y=f.pending;return y===null?i.next=i:(i.next=y.next,y.next=i),f.pending=i,i=ad(a),E1(a,null,c),i}return nd(a,f,i,c),ad(a)}function ac(a,i,c){if(i=i.updateQueue,i!==null&&(i=i.shared,(c&4194048)!==0)){var f=i.lanes;f&=a.pendingLanes,c|=f,i.lanes=c,xt(a,c)}}function up(a,i){var c=a.updateQueue,f=a.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var y=null,v=null;if(c=c.firstBaseUpdate,c!==null){do{var S={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};v===null?y=v=S:v=v.next=S,c=c.next}while(c!==null);v===null?y=v=i:v=v.next=i}else y=v=i;c={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:v,shared:f.shared,callbacks:f.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=i:a.next=i,c.lastBaseUpdate=i}var dp=!1;function ic(){if(dp){var a=Pl;if(a!==null)throw a}}function sc(a,i,c,f){dp=!1;var y=a.updateQueue;Fi=!1;var v=y.firstBaseUpdate,S=y.lastBaseUpdate,T=y.shared.pending;if(T!==null){y.shared.pending=null;var $=T,J=$.next;$.next=null,S===null?v=J:S.next=J,S=$;var fe=a.alternate;fe!==null&&(fe=fe.updateQueue,T=fe.lastBaseUpdate,T!==S&&(T===null?fe.firstBaseUpdate=J:T.next=J,fe.lastBaseUpdate=$))}if(v!==null){var ve=y.baseState;S=0,fe=J=$=null,T=v;do{var ae=T.lane&-536870913,ce=ae!==T.lane;if(ce?(it&ae)===ae:(f&ae)===ae){ae!==0&&ae===kl&&(dp=!0),fe!==null&&(fe=fe.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var qe=a,Ye=T;ae=i;var Dt=c;switch(Ye.tag){case 1:if(qe=Ye.payload,typeof qe=="function"){ve=qe.call(Dt,ve,ae);break e}ve=qe;break e;case 3:qe.flags=qe.flags&-65537|128;case 0:if(qe=Ye.payload,ae=typeof qe=="function"?qe.call(Dt,ve,ae):qe,ae==null)break e;ve=g({},ve,ae);break e;case 2:Fi=!0}}ae=T.callback,ae!==null&&(a.flags|=64,ce&&(a.flags|=8192),ce=y.callbacks,ce===null?y.callbacks=[ae]:ce.push(ae))}else ce={lane:ae,tag:T.tag,payload:T.payload,callback:T.callback,next:null},fe===null?(J=fe=ce,$=ve):fe=fe.next=ce,S|=ae;if(T=T.next,T===null){if(T=y.shared.pending,T===null)break;ce=T,T=ce.next,ce.next=null,y.lastBaseUpdate=ce,y.shared.pending=null}}while(!0);fe===null&&($=ve),y.baseState=$,y.firstBaseUpdate=J,y.lastBaseUpdate=fe,v===null&&(y.shared.lanes=0),Zi|=S,a.lanes=S,a.memoizedState=ve}}function F1(a,i){if(typeof a!="function")throw Error(n(191,a));a.call(i)}function H1(a,i){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)F1(c[a],i)}var Il=z(null),md=z(0);function V1(a,i){a=ai,ge(md,a),ge(Il,i),ai=a|i.baseLanes}function fp(){ge(md,ai),ge(Il,Il.current)}function hp(){ai=md.current,K(Il),K(md)}var Pn=z(null),Qn=null;function Ki(a){var i=a.alternate;ge(ar,ar.current&1),ge(Pn,a),Qn===null&&(i===null||Il.current!==null||i.memoizedState!==null)&&(Qn=a)}function mp(a){ge(ar,ar.current),ge(Pn,a),Qn===null&&(Qn=a)}function K1(a){a.tag===22?(ge(ar,ar.current),ge(Pn,a),Qn===null&&(Qn=a)):Yi()}function Yi(){ge(ar,ar.current),ge(Pn,Pn.current)}function Mn(a){K(Pn),Qn===a&&(Qn=null),K(ar)}var ar=z(0);function pd(a){for(var i=a;i!==null;){if(i.tag===13){var c=i.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||b0(c)||w0(c)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break;for(;i.sibling===null;){if(i.return===null||i.return===a)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Xa=0,Xe=null,Ct=null,hr=null,gd=!1,zl=!1,zs=!1,yd=0,lc=0,Ll=null,HP=0;function er(){throw Error(n(321))}function pp(a,i){if(i===null)return!1;for(var c=0;c<i.length&&c<a.length;c++)if(!Dn(a[c],i[c]))return!1;return!0}function gp(a,i,c,f,y,v){return Xa=v,Xe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,I.H=a===null||a.memoizedState===null?Tw:Dp,zs=!1,v=c(f,y),zs=!1,zl&&(v=W1(i,c,f,y)),Y1(a),v}function Y1(a){I.H=uc;var i=Ct!==null&&Ct.next!==null;if(Xa=0,hr=Ct=Xe=null,gd=!1,lc=0,Ll=null,i)throw Error(n(300));a===null||mr||(a=a.dependencies,a!==null&&ld(a)&&(mr=!0))}function W1(a,i,c,f){Xe=a;var y=0;do{if(zl&&(Ll=null),lc=0,zl=!1,25<=y)throw Error(n(301));if(y+=1,hr=Ct=null,a.updateQueue!=null){var v=a.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}I.H=Dw,v=i(c,f)}while(zl);return v}function VP(){var a=I.H,i=a.useState()[0];return i=typeof i.then=="function"?oc(i):i,a=a.useState()[0],(Ct!==null?Ct.memoizedState:null)!==a&&(Xe.flags|=1024),i}function yp(){var a=yd!==0;return yd=0,a}function vp(a,i,c){i.updateQueue=a.updateQueue,i.flags&=-2053,a.lanes&=~c}function xp(a){if(gd){for(a=a.memoizedState;a!==null;){var i=a.queue;i!==null&&(i.pending=null),a=a.next}gd=!1}Xa=0,hr=Ct=Xe=null,zl=!1,lc=yd=0,Ll=null}function on(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hr===null?Xe.memoizedState=hr=a:hr=hr.next=a,hr}function ir(){if(Ct===null){var a=Xe.alternate;a=a!==null?a.memoizedState:null}else a=Ct.next;var i=hr===null?Xe.memoizedState:hr.next;if(i!==null)hr=i,Ct=a;else{if(a===null)throw Xe.alternate===null?Error(n(467)):Error(n(310));Ct=a,a={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},hr===null?Xe.memoizedState=hr=a:hr=hr.next=a}return hr}function vd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function oc(a){var i=lc;return lc+=1,Ll===null&&(Ll=[]),a=q1(Ll,a,i),i=Xe,(hr===null?i.memoizedState:hr.next)===null&&(i=i.alternate,I.H=i===null||i.memoizedState===null?Tw:Dp),a}function xd(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return oc(a);if(a.$$typeof===O)return Br(a)}throw Error(n(438,String(a)))}function bp(a){var i=null,c=Xe.updateQueue;if(c!==null&&(i=c.memoCache),i==null){var f=Xe.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(i={data:f.data.map(function(y){return y.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),c===null&&(c=vd(),Xe.updateQueue=c),c.memoCache=i,c=i.data[i.index],c===void 0)for(c=i.data[i.index]=Array(a),f=0;f<a;f++)c[f]=he;return i.index++,c}function Za(a,i){return typeof i=="function"?i(a):i}function bd(a){var i=ir();return wp(i,Ct,a)}function wp(a,i,c){var f=a.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=c;var y=a.baseQueue,v=f.pending;if(v!==null){if(y!==null){var S=y.next;y.next=v.next,v.next=S}i.baseQueue=y=v,f.pending=null}if(v=a.baseState,y===null)a.memoizedState=v;else{i=y.next;var T=S=null,$=null,J=i,fe=!1;do{var ve=J.lane&-536870913;if(ve!==J.lane?(it&ve)===ve:(Xa&ve)===ve){var ae=J.revertLane;if(ae===0)$!==null&&($=$.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),ve===kl&&(fe=!0);else if((Xa&ae)===ae){J=J.next,ae===kl&&(fe=!0);continue}else ve={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},$===null?(T=$=ve,S=v):$=$.next=ve,Xe.lanes|=ae,Zi|=ae;ve=J.action,zs&&c(v,ve),v=J.hasEagerState?J.eagerState:c(v,ve)}else ae={lane:ve,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},$===null?(T=$=ae,S=v):$=$.next=ae,Xe.lanes|=ve,Zi|=ve;J=J.next}while(J!==null&&J!==i);if($===null?S=v:$.next=T,!Dn(v,a.memoizedState)&&(mr=!0,fe&&(c=Pl,c!==null)))throw c;a.memoizedState=v,a.baseState=S,a.baseQueue=$,f.lastRenderedState=v}return y===null&&(f.lanes=0),[a.memoizedState,f.dispatch]}function jp(a){var i=ir(),c=i.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=a;var f=c.dispatch,y=c.pending,v=i.memoizedState;if(y!==null){c.pending=null;var S=y=y.next;do v=a(v,S.action),S=S.next;while(S!==y);Dn(v,i.memoizedState)||(mr=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),c.lastRenderedState=v}return[v,f]}function X1(a,i,c){var f=Xe,y=ir(),v=lt;if(v){if(c===void 0)throw Error(n(407));c=c()}else c=i();var S=!Dn((Ct||y).memoizedState,c);if(S&&(y.memoizedState=c,mr=!0),y=y.queue,Sp(J1.bind(null,f,y,a),[a]),y.getSnapshot!==i||S||hr!==null&&hr.memoizedState.tag&1){if(f.flags|=2048,ql(9,{destroy:void 0},Q1.bind(null,f,y,c,i),null),Mt===null)throw Error(n(349));v||(Xa&127)!==0||Z1(f,i,c)}return c}function Z1(a,i,c){a.flags|=16384,a={getSnapshot:i,value:c},i=Xe.updateQueue,i===null?(i=vd(),Xe.updateQueue=i,i.stores=[a]):(c=i.stores,c===null?i.stores=[a]:c.push(a))}function Q1(a,i,c,f){i.value=c,i.getSnapshot=f,ew(i)&&tw(a)}function J1(a,i,c){return c(function(){ew(i)&&tw(a)})}function ew(a){var i=a.getSnapshot;a=a.value;try{var c=i();return!Dn(a,c)}catch{return!0}}function tw(a){var i=Os(a,2);i!==null&&jn(i,a,2)}function Np(a){var i=on();if(typeof a=="function"){var c=a;if(a=c(),zs){Or(!0);try{c()}finally{Or(!1)}}}return i.memoizedState=i.baseState=a,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Za,lastRenderedState:a},i}function rw(a,i,c,f){return a.baseState=c,wp(a,Ct,typeof f=="function"?f:Za)}function KP(a,i,c,f,y){if(Nd(a))throw Error(n(485));if(a=i.action,a!==null){var v={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){v.listeners.push(S)}};I.T!==null?c(!0):v.isTransition=!1,f(v),c=i.pending,c===null?(v.next=i.pending=v,nw(i,v)):(v.next=c.next,i.pending=c.next=v)}}function nw(a,i){var c=i.action,f=i.payload,y=a.state;if(i.isTransition){var v=I.T,S={};I.T=S;try{var T=c(y,f),$=I.S;$!==null&&$(S,T),aw(a,i,T)}catch(J){_p(a,i,J)}finally{v!==null&&S.types!==null&&(v.types=S.types),I.T=v}}else try{v=c(y,f),aw(a,i,v)}catch(J){_p(a,i,J)}}function aw(a,i,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(f){iw(a,i,f)},function(f){return _p(a,i,f)}):iw(a,i,c)}function iw(a,i,c){i.status="fulfilled",i.value=c,sw(i),a.state=c,i=a.pending,i!==null&&(c=i.next,c===i?a.pending=null:(c=c.next,i.next=c,nw(a,c)))}function _p(a,i,c){var f=a.pending;if(a.pending=null,f!==null){f=f.next;do i.status="rejected",i.reason=c,sw(i),i=i.next;while(i!==f)}a.action=null}function sw(a){a=a.listeners;for(var i=0;i<a.length;i++)(0,a[i])()}function lw(a,i){return i}function ow(a,i){if(lt){var c=Mt.formState;if(c!==null){e:{var f=Xe;if(lt){if(Bt){t:{for(var y=Bt,v=Zn;y.nodeType!==8;){if(!v){y=null;break t}if(y=Jn(y.nextSibling),y===null){y=null;break t}}v=y.data,y=v==="F!"||v==="F"?y:null}if(y){Bt=Jn(y.nextSibling),f=y.data==="F!";break e}}Bi(f)}f=!1}f&&(i=c[0])}}return c=on(),c.memoizedState=c.baseState=i,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lw,lastRenderedState:i},c.queue=f,c=Aw.bind(null,Xe,f),f.dispatch=c,f=Np(!1),v=Tp.bind(null,Xe,!1,f.queue),f=on(),y={state:i,dispatch:null,action:a,pending:null},f.queue=y,c=KP.bind(null,Xe,y,v,c),y.dispatch=c,f.memoizedState=a,[i,c,!1]}function cw(a){var i=ir();return uw(i,Ct,a)}function uw(a,i,c){if(i=wp(a,i,lw)[0],a=bd(Za)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var f=oc(i)}catch(S){throw S===Ml?ud:S}else f=i;i=ir();var y=i.queue,v=y.dispatch;return c!==i.memoizedState&&(Xe.flags|=2048,ql(9,{destroy:void 0},YP.bind(null,y,c),null)),[f,v,a]}function YP(a,i){a.action=i}function dw(a){var i=ir(),c=Ct;if(c!==null)return uw(i,c,a);ir(),i=i.memoizedState,c=ir();var f=c.queue.dispatch;return c.memoizedState=a,[i,f,!1]}function ql(a,i,c,f){return a={tag:a,create:c,deps:f,inst:i,next:null},i=Xe.updateQueue,i===null&&(i=vd(),Xe.updateQueue=i),c=i.lastEffect,c===null?i.lastEffect=a.next=a:(f=c.next,c.next=a,a.next=f,i.lastEffect=a),a}function fw(){return ir().memoizedState}function wd(a,i,c,f){var y=on();Xe.flags|=a,y.memoizedState=ql(1|i,{destroy:void 0},c,f===void 0?null:f)}function jd(a,i,c,f){var y=ir();f=f===void 0?null:f;var v=y.memoizedState.inst;Ct!==null&&f!==null&&pp(f,Ct.memoizedState.deps)?y.memoizedState=ql(i,v,c,f):(Xe.flags|=a,y.memoizedState=ql(1|i,v,c,f))}function hw(a,i){wd(8390656,8,a,i)}function Sp(a,i){jd(2048,8,a,i)}function WP(a){Xe.flags|=4;var i=Xe.updateQueue;if(i===null)i=vd(),Xe.updateQueue=i,i.events=[a];else{var c=i.events;c===null?i.events=[a]:c.push(a)}}function mw(a){var i=ir().memoizedState;return WP({ref:i,nextImpl:a}),function(){if((gt&2)!==0)throw Error(n(440));return i.impl.apply(void 0,arguments)}}function pw(a,i){return jd(4,2,a,i)}function gw(a,i){return jd(4,4,a,i)}function yw(a,i){if(typeof i=="function"){a=a();var c=i(a);return function(){typeof c=="function"?c():i(null)}}if(i!=null)return a=a(),i.current=a,function(){i.current=null}}function vw(a,i,c){c=c!=null?c.concat([a]):null,jd(4,4,yw.bind(null,i,a),c)}function Ep(){}function xw(a,i){var c=ir();i=i===void 0?null:i;var f=c.memoizedState;return i!==null&&pp(i,f[1])?f[0]:(c.memoizedState=[a,i],a)}function bw(a,i){var c=ir();i=i===void 0?null:i;var f=c.memoizedState;if(i!==null&&pp(i,f[1]))return f[0];if(f=a(),zs){Or(!0);try{a()}finally{Or(!1)}}return c.memoizedState=[f,i],f}function Ap(a,i,c){return c===void 0||(Xa&1073741824)!==0&&(it&261930)===0?a.memoizedState=i:(a.memoizedState=c,a=wj(),Xe.lanes|=a,Zi|=a,c)}function ww(a,i,c,f){return Dn(c,i)?c:Il.current!==null?(a=Ap(a,c,f),Dn(a,i)||(mr=!0),a):(Xa&42)===0||(Xa&1073741824)!==0&&(it&261930)===0?(mr=!0,a.memoizedState=c):(a=wj(),Xe.lanes|=a,Zi|=a,i)}function jw(a,i,c,f,y){var v=W.p;W.p=v!==0&&8>v?v:8;var S=I.T,T={};I.T=T,Tp(a,!1,i,c);try{var $=y(),J=I.S;if(J!==null&&J(T,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var fe=FP($,f);cc(a,i,fe,zn(a))}else cc(a,i,f,zn(a))}catch(ve){cc(a,i,{then:function(){},status:"rejected",reason:ve},zn())}finally{W.p=v,S!==null&&T.types!==null&&(S.types=T.types),I.T=S}}function XP(){}function Op(a,i,c,f){if(a.tag!==5)throw Error(n(476));var y=Nw(a).queue;jw(a,y,i,ue,c===null?XP:function(){return _w(a),c(f)})}function Nw(a){var i=a.memoizedState;if(i!==null)return i;i={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Za,lastRenderedState:ue},next:null};var c={};return i.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Za,lastRenderedState:c},next:null},a.memoizedState=i,a=a.alternate,a!==null&&(a.memoizedState=i),i}function _w(a){var i=Nw(a);i.next===null&&(i=a.alternate.memoizedState),cc(a,i.next.queue,{},zn())}function Cp(){return Br(Ec)}function Sw(){return ir().memoizedState}function Ew(){return ir().memoizedState}function ZP(a){for(var i=a.return;i!==null;){switch(i.tag){case 24:case 3:var c=zn();a=Hi(c);var f=Vi(i,a,c);f!==null&&(jn(f,i,c),ac(f,i,c)),i={cache:ap()},a.payload=i;return}i=i.return}}function QP(a,i,c){var f=zn();c={lane:f,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Nd(a)?Ow(i,c):(c=Km(a,i,c,f),c!==null&&(jn(c,a,f),Cw(c,i,f)))}function Aw(a,i,c){var f=zn();cc(a,i,c,f)}function cc(a,i,c,f){var y={lane:f,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Nd(a))Ow(i,y);else{var v=a.alternate;if(a.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var S=i.lastRenderedState,T=v(S,c);if(y.hasEagerState=!0,y.eagerState=T,Dn(T,S))return nd(a,i,y,0),Mt===null&&rd(),!1}catch{}finally{}if(c=Km(a,i,y,f),c!==null)return jn(c,a,f),Cw(c,i,f),!0}return!1}function Tp(a,i,c,f){if(f={lane:2,revertLane:o0(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Nd(a)){if(i)throw Error(n(479))}else i=Km(a,c,f,2),i!==null&&jn(i,a,2)}function Nd(a){var i=a.alternate;return a===Xe||i!==null&&i===Xe}function Ow(a,i){zl=gd=!0;var c=a.pending;c===null?i.next=i:(i.next=c.next,c.next=i),a.pending=i}function Cw(a,i,c){if((c&4194048)!==0){var f=i.lanes;f&=a.pendingLanes,c|=f,i.lanes=c,xt(a,c)}}var uc={readContext:Br,use:xd,useCallback:er,useContext:er,useEffect:er,useImperativeHandle:er,useLayoutEffect:er,useInsertionEffect:er,useMemo:er,useReducer:er,useRef:er,useState:er,useDebugValue:er,useDeferredValue:er,useTransition:er,useSyncExternalStore:er,useId:er,useHostTransitionStatus:er,useFormState:er,useActionState:er,useOptimistic:er,useMemoCache:er,useCacheRefresh:er};uc.useEffectEvent=er;var Tw={readContext:Br,use:xd,useCallback:function(a,i){return on().memoizedState=[a,i===void 0?null:i],a},useContext:Br,useEffect:hw,useImperativeHandle:function(a,i,c){c=c!=null?c.concat([a]):null,wd(4194308,4,yw.bind(null,i,a),c)},useLayoutEffect:function(a,i){return wd(4194308,4,a,i)},useInsertionEffect:function(a,i){wd(4,2,a,i)},useMemo:function(a,i){var c=on();i=i===void 0?null:i;var f=a();if(zs){Or(!0);try{a()}finally{Or(!1)}}return c.memoizedState=[f,i],f},useReducer:function(a,i,c){var f=on();if(c!==void 0){var y=c(i);if(zs){Or(!0);try{c(i)}finally{Or(!1)}}}else y=i;return f.memoizedState=f.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},f.queue=a,a=a.dispatch=QP.bind(null,Xe,a),[f.memoizedState,a]},useRef:function(a){var i=on();return a={current:a},i.memoizedState=a},useState:function(a){a=Np(a);var i=a.queue,c=Aw.bind(null,Xe,i);return i.dispatch=c,[a.memoizedState,c]},useDebugValue:Ep,useDeferredValue:function(a,i){var c=on();return Ap(c,a,i)},useTransition:function(){var a=Np(!1);return a=jw.bind(null,Xe,a.queue,!0,!1),on().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,i,c){var f=Xe,y=on();if(lt){if(c===void 0)throw Error(n(407));c=c()}else{if(c=i(),Mt===null)throw Error(n(349));(it&127)!==0||Z1(f,i,c)}y.memoizedState=c;var v={value:c,getSnapshot:i};return y.queue=v,hw(J1.bind(null,f,v,a),[a]),f.flags|=2048,ql(9,{destroy:void 0},Q1.bind(null,f,v,c,i),null),c},useId:function(){var a=on(),i=Mt.identifierPrefix;if(lt){var c=Pa,f=ka;c=(f&~(1<<32-nr(f)-1)).toString(32)+c,i="_"+i+"R_"+c,c=yd++,0<c&&(i+="H"+c.toString(32)),i+="_"}else c=HP++,i="_"+i+"r_"+c.toString(32)+"_";return a.memoizedState=i},useHostTransitionStatus:Cp,useFormState:ow,useActionState:ow,useOptimistic:function(a){var i=on();i.memoizedState=i.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=c,i=Tp.bind(null,Xe,!0,c),c.dispatch=i,[a,i]},useMemoCache:bp,useCacheRefresh:function(){return on().memoizedState=ZP.bind(null,Xe)},useEffectEvent:function(a){var i=on(),c={impl:a};return i.memoizedState=c,function(){if((gt&2)!==0)throw Error(n(440));return c.impl.apply(void 0,arguments)}}},Dp={readContext:Br,use:xd,useCallback:xw,useContext:Br,useEffect:Sp,useImperativeHandle:vw,useInsertionEffect:pw,useLayoutEffect:gw,useMemo:bw,useReducer:bd,useRef:fw,useState:function(){return bd(Za)},useDebugValue:Ep,useDeferredValue:function(a,i){var c=ir();return ww(c,Ct.memoizedState,a,i)},useTransition:function(){var a=bd(Za)[0],i=ir().memoizedState;return[typeof a=="boolean"?a:oc(a),i]},useSyncExternalStore:X1,useId:Sw,useHostTransitionStatus:Cp,useFormState:cw,useActionState:cw,useOptimistic:function(a,i){var c=ir();return rw(c,Ct,a,i)},useMemoCache:bp,useCacheRefresh:Ew};Dp.useEffectEvent=mw;var Dw={readContext:Br,use:xd,useCallback:xw,useContext:Br,useEffect:Sp,useImperativeHandle:vw,useInsertionEffect:pw,useLayoutEffect:gw,useMemo:bw,useReducer:jp,useRef:fw,useState:function(){return jp(Za)},useDebugValue:Ep,useDeferredValue:function(a,i){var c=ir();return Ct===null?Ap(c,a,i):ww(c,Ct.memoizedState,a,i)},useTransition:function(){var a=jp(Za)[0],i=ir().memoizedState;return[typeof a=="boolean"?a:oc(a),i]},useSyncExternalStore:X1,useId:Sw,useHostTransitionStatus:Cp,useFormState:dw,useActionState:dw,useOptimistic:function(a,i){var c=ir();return Ct!==null?rw(c,Ct,a,i):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:bp,useCacheRefresh:Ew};Dw.useEffectEvent=mw;function kp(a,i,c,f){i=a.memoizedState,c=c(f,i),c=c==null?i:g({},i,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var Pp={enqueueSetState:function(a,i,c){a=a._reactInternals;var f=zn(),y=Hi(f);y.payload=i,c!=null&&(y.callback=c),i=Vi(a,y,f),i!==null&&(jn(i,a,f),ac(i,a,f))},enqueueReplaceState:function(a,i,c){a=a._reactInternals;var f=zn(),y=Hi(f);y.tag=1,y.payload=i,c!=null&&(y.callback=c),i=Vi(a,y,f),i!==null&&(jn(i,a,f),ac(i,a,f))},enqueueForceUpdate:function(a,i){a=a._reactInternals;var c=zn(),f=Hi(c);f.tag=2,i!=null&&(f.callback=i),i=Vi(a,f,c),i!==null&&(jn(i,a,c),ac(i,a,c))}};function kw(a,i,c,f,y,v,S){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(f,v,S):i.prototype&&i.prototype.isPureReactComponent?!Xo(c,f)||!Xo(y,v):!0}function Pw(a,i,c,f){a=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(c,f),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(c,f),i.state!==a&&Pp.enqueueReplaceState(i,i.state,null)}function Ls(a,i){var c=i;if("ref"in i){c={};for(var f in i)f!=="ref"&&(c[f]=i[f])}if(a=a.defaultProps){c===i&&(c=g({},c));for(var y in a)c[y]===void 0&&(c[y]=a[y])}return c}function Mw(a){td(a)}function Rw(a){console.error(a)}function Iw(a){td(a)}function _d(a,i){try{var c=a.onUncaughtError;c(i.value,{componentStack:i.stack})}catch(f){setTimeout(function(){throw f})}}function zw(a,i,c){try{var f=a.onCaughtError;f(c.value,{componentStack:c.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Mp(a,i,c){return c=Hi(c),c.tag=3,c.payload={element:null},c.callback=function(){_d(a,i)},c}function Lw(a){return a=Hi(a),a.tag=3,a}function qw(a,i,c,f){var y=c.type.getDerivedStateFromError;if(typeof y=="function"){var v=f.value;a.payload=function(){return y(v)},a.callback=function(){zw(i,c,f)}}var S=c.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(a.callback=function(){zw(i,c,f),typeof y!="function"&&(Qi===null?Qi=new Set([this]):Qi.add(this));var T=f.stack;this.componentDidCatch(f.value,{componentStack:T!==null?T:""})})}function JP(a,i,c,f,y){if(c.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(i=c.alternate,i!==null&&Dl(i,c,y,!0),c=Pn.current,c!==null){switch(c.tag){case 31:case 13:return Qn===null?Id():c.alternate===null&&tr===0&&(tr=3),c.flags&=-257,c.flags|=65536,c.lanes=y,f===dd?c.flags|=16384:(i=c.updateQueue,i===null?c.updateQueue=new Set([f]):i.add(f),i0(a,f,y)),!1;case 22:return c.flags|=65536,f===dd?c.flags|=16384:(i=c.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([f])},c.updateQueue=i):(c=i.retryQueue,c===null?i.retryQueue=new Set([f]):c.add(f)),i0(a,f,y)),!1}throw Error(n(435,c.tag))}return i0(a,f,y),Id(),!1}if(lt)return i=Pn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=y,f!==Jm&&(a=Error(n(422),{cause:f}),Jo(Yn(a,c)))):(f!==Jm&&(i=Error(n(423),{cause:f}),Jo(Yn(i,c))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,f=Yn(f,c),y=Mp(a.stateNode,f,y),up(a,y),tr!==4&&(tr=2)),!1;var v=Error(n(520),{cause:f});if(v=Yn(v,c),vc===null?vc=[v]:vc.push(v),tr!==4&&(tr=2),i===null)return!0;f=Yn(f,c),c=i;do{switch(c.tag){case 3:return c.flags|=65536,a=y&-y,c.lanes|=a,a=Mp(c.stateNode,f,a),up(c,a),!1;case 1:if(i=c.type,v=c.stateNode,(c.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Qi===null||!Qi.has(v))))return c.flags|=65536,y&=-y,c.lanes|=y,y=Lw(y),qw(y,a,c,f),up(c,y),!1}c=c.return}while(c!==null);return!1}var Rp=Error(n(461)),mr=!1;function Gr(a,i,c,f){i.child=a===null?G1(i,null,c,f):Is(i,a.child,c,f)}function $w(a,i,c,f,y){c=c.render;var v=i.ref;if("ref"in f){var S={};for(var T in f)T!=="ref"&&(S[T]=f[T])}else S=f;return ks(i),f=gp(a,i,c,S,v,y),T=yp(),a!==null&&!mr?(vp(a,i,y),Qa(a,i,y)):(lt&&T&&Zm(i),i.flags|=1,Gr(a,i,f,y),i.child)}function Uw(a,i,c,f,y){if(a===null){var v=c.type;return typeof v=="function"&&!Ym(v)&&v.defaultProps===void 0&&c.compare===null?(i.tag=15,i.type=v,Bw(a,i,v,f,y)):(a=id(c.type,null,f,i,i.mode,y),a.ref=i.ref,a.return=i,i.child=a)}if(v=a.child,!Gp(a,y)){var S=v.memoizedProps;if(c=c.compare,c=c!==null?c:Xo,c(S,f)&&a.ref===i.ref)return Qa(a,i,y)}return i.flags|=1,a=Va(v,f),a.ref=i.ref,a.return=i,i.child=a}function Bw(a,i,c,f,y){if(a!==null){var v=a.memoizedProps;if(Xo(v,f)&&a.ref===i.ref)if(mr=!1,i.pendingProps=f=v,Gp(a,y))(a.flags&131072)!==0&&(mr=!0);else return i.lanes=a.lanes,Qa(a,i,y)}return Ip(a,i,c,f,y)}function Gw(a,i,c,f){var y=f.children,v=a!==null?a.memoizedState:null;if(a===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((i.flags&128)!==0){if(v=v!==null?v.baseLanes|c:c,a!==null){for(f=i.child=a.child,y=0;f!==null;)y=y|f.lanes|f.childLanes,f=f.sibling;f=y&~v}else f=0,i.child=null;return Fw(a,i,v,c,f)}if((c&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},a!==null&&cd(i,v!==null?v.cachePool:null),v!==null?V1(i,v):fp(),K1(i);else return f=i.lanes=536870912,Fw(a,i,v!==null?v.baseLanes|c:c,c,f)}else v!==null?(cd(i,v.cachePool),V1(i,v),Yi(),i.memoizedState=null):(a!==null&&cd(i,null),fp(),Yi());return Gr(a,i,y,c),i.child}function dc(a,i){return a!==null&&a.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Fw(a,i,c,f,y){var v=sp();return v=v===null?null:{parent:fr._currentValue,pool:v},i.memoizedState={baseLanes:c,cachePool:v},a!==null&&cd(i,null),fp(),K1(i),a!==null&&Dl(a,i,f,!0),i.childLanes=y,null}function Sd(a,i){return i=Ad({mode:i.mode,children:i.children},a.mode),i.ref=a.ref,a.child=i,i.return=a,i}function Hw(a,i,c){return Is(i,a.child,null,c),a=Sd(i,i.pendingProps),a.flags|=2,Mn(i),i.memoizedState=null,a}function eM(a,i,c){var f=i.pendingProps,y=(i.flags&128)!==0;if(i.flags&=-129,a===null){if(lt){if(f.mode==="hidden")return a=Sd(i,f),i.lanes=536870912,dc(null,a);if(mp(i),(a=Bt)?(a=nN(a,Zn),a=a!==null&&a.data==="&"?a:null,a!==null&&(i.memoizedState={dehydrated:a,treeContext:$i!==null?{id:ka,overflow:Pa}:null,retryLane:536870912,hydrationErrors:null},c=O1(a),c.return=i,i.child=c,Ur=i,Bt=null)):a=null,a===null)throw Bi(i);return i.lanes=536870912,null}return Sd(i,f)}var v=a.memoizedState;if(v!==null){var S=v.dehydrated;if(mp(i),y)if(i.flags&256)i.flags&=-257,i=Hw(a,i,c);else if(i.memoizedState!==null)i.child=a.child,i.flags|=128,i=null;else throw Error(n(558));else if(mr||Dl(a,i,c,!1),y=(c&a.childLanes)!==0,mr||y){if(f=Mt,f!==null&&(S=Ut(f,c),S!==0&&S!==v.retryLane))throw v.retryLane=S,Os(a,S),jn(f,a,S),Rp;Id(),i=Hw(a,i,c)}else a=v.treeContext,Bt=Jn(S.nextSibling),Ur=i,lt=!0,Ui=null,Zn=!1,a!==null&&D1(i,a),i=Sd(i,f),i.flags|=4096;return i}return a=Va(a.child,{mode:f.mode,children:f.children}),a.ref=i.ref,i.child=a,a.return=i,a}function Ed(a,i){var c=i.ref;if(c===null)a!==null&&a.ref!==null&&(i.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(n(284));(a===null||a.ref!==c)&&(i.flags|=4194816)}}function Ip(a,i,c,f,y){return ks(i),c=gp(a,i,c,f,void 0,y),f=yp(),a!==null&&!mr?(vp(a,i,y),Qa(a,i,y)):(lt&&f&&Zm(i),i.flags|=1,Gr(a,i,c,y),i.child)}function Vw(a,i,c,f,y,v){return ks(i),i.updateQueue=null,c=W1(i,f,c,y),Y1(a),f=yp(),a!==null&&!mr?(vp(a,i,v),Qa(a,i,v)):(lt&&f&&Zm(i),i.flags|=1,Gr(a,i,c,v),i.child)}function Kw(a,i,c,f,y){if(ks(i),i.stateNode===null){var v=Al,S=c.contextType;typeof S=="object"&&S!==null&&(v=Br(S)),v=new c(f,v),i.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Pp,i.stateNode=v,v._reactInternals=i,v=i.stateNode,v.props=f,v.state=i.memoizedState,v.refs={},op(i),S=c.contextType,v.context=typeof S=="object"&&S!==null?Br(S):Al,v.state=i.memoizedState,S=c.getDerivedStateFromProps,typeof S=="function"&&(kp(i,c,S,f),v.state=i.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(S=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),S!==v.state&&Pp.enqueueReplaceState(v,v.state,null),sc(i,f,v,y),ic(),v.state=i.memoizedState),typeof v.componentDidMount=="function"&&(i.flags|=4194308),f=!0}else if(a===null){v=i.stateNode;var T=i.memoizedProps,$=Ls(c,T);v.props=$;var J=v.context,fe=c.contextType;S=Al,typeof fe=="object"&&fe!==null&&(S=Br(fe));var ve=c.getDerivedStateFromProps;fe=typeof ve=="function"||typeof v.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,fe||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(T||J!==S)&&Pw(i,v,f,S),Fi=!1;var ae=i.memoizedState;v.state=ae,sc(i,f,v,y),ic(),J=i.memoizedState,T||ae!==J||Fi?(typeof ve=="function"&&(kp(i,c,ve,f),J=i.memoizedState),($=Fi||kw(i,c,$,f,ae,J,S))?(fe||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=f,i.memoizedState=J),v.props=f,v.state=J,v.context=S,f=$):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),f=!1)}else{v=i.stateNode,cp(a,i),S=i.memoizedProps,fe=Ls(c,S),v.props=fe,ve=i.pendingProps,ae=v.context,J=c.contextType,$=Al,typeof J=="object"&&J!==null&&($=Br(J)),T=c.getDerivedStateFromProps,(J=typeof T=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==ve||ae!==$)&&Pw(i,v,f,$),Fi=!1,ae=i.memoizedState,v.state=ae,sc(i,f,v,y),ic();var ce=i.memoizedState;S!==ve||ae!==ce||Fi||a!==null&&a.dependencies!==null&&ld(a.dependencies)?(typeof T=="function"&&(kp(i,c,T,f),ce=i.memoizedState),(fe=Fi||kw(i,c,fe,f,ae,ce,$)||a!==null&&a.dependencies!==null&&ld(a.dependencies))?(J||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(f,ce,$),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(f,ce,$)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||S===a.memoizedProps&&ae===a.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===a.memoizedProps&&ae===a.memoizedState||(i.flags|=1024),i.memoizedProps=f,i.memoizedState=ce),v.props=f,v.state=ce,v.context=$,f=fe):(typeof v.componentDidUpdate!="function"||S===a.memoizedProps&&ae===a.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===a.memoizedProps&&ae===a.memoizedState||(i.flags|=1024),f=!1)}return v=f,Ed(a,i),f=(i.flags&128)!==0,v||f?(v=i.stateNode,c=f&&typeof c.getDerivedStateFromError!="function"?null:v.render(),i.flags|=1,a!==null&&f?(i.child=Is(i,a.child,null,y),i.child=Is(i,null,c,y)):Gr(a,i,c,y),i.memoizedState=v.state,a=i.child):a=Qa(a,i,y),a}function Yw(a,i,c,f){return Ts(),i.flags|=256,Gr(a,i,c,f),i.child}var zp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lp(a){return{baseLanes:a,cachePool:z1()}}function qp(a,i,c){return a=a!==null?a.childLanes&~c:0,i&&(a|=In),a}function Ww(a,i,c){var f=i.pendingProps,y=!1,v=(i.flags&128)!==0,S;if((S=v)||(S=a!==null&&a.memoizedState===null?!1:(ar.current&2)!==0),S&&(y=!0,i.flags&=-129),S=(i.flags&32)!==0,i.flags&=-33,a===null){if(lt){if(y?Ki(i):Yi(),(a=Bt)?(a=nN(a,Zn),a=a!==null&&a.data!=="&"?a:null,a!==null&&(i.memoizedState={dehydrated:a,treeContext:$i!==null?{id:ka,overflow:Pa}:null,retryLane:536870912,hydrationErrors:null},c=O1(a),c.return=i,i.child=c,Ur=i,Bt=null)):a=null,a===null)throw Bi(i);return w0(a)?i.lanes=32:i.lanes=536870912,null}var T=f.children;return f=f.fallback,y?(Yi(),y=i.mode,T=Ad({mode:"hidden",children:T},y),f=Cs(f,y,c,null),T.return=i,f.return=i,T.sibling=f,i.child=T,f=i.child,f.memoizedState=Lp(c),f.childLanes=qp(a,S,c),i.memoizedState=zp,dc(null,f)):(Ki(i),$p(i,T))}var $=a.memoizedState;if($!==null&&(T=$.dehydrated,T!==null)){if(v)i.flags&256?(Ki(i),i.flags&=-257,i=Up(a,i,c)):i.memoizedState!==null?(Yi(),i.child=a.child,i.flags|=128,i=null):(Yi(),T=f.fallback,y=i.mode,f=Ad({mode:"visible",children:f.children},y),T=Cs(T,y,c,null),T.flags|=2,f.return=i,T.return=i,f.sibling=T,i.child=f,Is(i,a.child,null,c),f=i.child,f.memoizedState=Lp(c),f.childLanes=qp(a,S,c),i.memoizedState=zp,i=dc(null,f));else if(Ki(i),w0(T)){if(S=T.nextSibling&&T.nextSibling.dataset,S)var J=S.dgst;S=J,f=Error(n(419)),f.stack="",f.digest=S,Jo({value:f,source:null,stack:null}),i=Up(a,i,c)}else if(mr||Dl(a,i,c,!1),S=(c&a.childLanes)!==0,mr||S){if(S=Mt,S!==null&&(f=Ut(S,c),f!==0&&f!==$.retryLane))throw $.retryLane=f,Os(a,f),jn(S,a,f),Rp;b0(T)||Id(),i=Up(a,i,c)}else b0(T)?(i.flags|=192,i.child=a.child,i=null):(a=$.treeContext,Bt=Jn(T.nextSibling),Ur=i,lt=!0,Ui=null,Zn=!1,a!==null&&D1(i,a),i=$p(i,f.children),i.flags|=4096);return i}return y?(Yi(),T=f.fallback,y=i.mode,$=a.child,J=$.sibling,f=Va($,{mode:"hidden",children:f.children}),f.subtreeFlags=$.subtreeFlags&65011712,J!==null?T=Va(J,T):(T=Cs(T,y,c,null),T.flags|=2),T.return=i,f.return=i,f.sibling=T,i.child=f,dc(null,f),f=i.child,T=a.child.memoizedState,T===null?T=Lp(c):(y=T.cachePool,y!==null?($=fr._currentValue,y=y.parent!==$?{parent:$,pool:$}:y):y=z1(),T={baseLanes:T.baseLanes|c,cachePool:y}),f.memoizedState=T,f.childLanes=qp(a,S,c),i.memoizedState=zp,dc(a.child,f)):(Ki(i),c=a.child,a=c.sibling,c=Va(c,{mode:"visible",children:f.children}),c.return=i,c.sibling=null,a!==null&&(S=i.deletions,S===null?(i.deletions=[a],i.flags|=16):S.push(a)),i.child=c,i.memoizedState=null,c)}function $p(a,i){return i=Ad({mode:"visible",children:i},a.mode),i.return=a,a.child=i}function Ad(a,i){return a=kn(22,a,null,i),a.lanes=0,a}function Up(a,i,c){return Is(i,a.child,null,c),a=$p(i,i.pendingProps.children),a.flags|=2,i.memoizedState=null,a}function Xw(a,i,c){a.lanes|=i;var f=a.alternate;f!==null&&(f.lanes|=i),rp(a.return,i,c)}function Bp(a,i,c,f,y,v){var S=a.memoizedState;S===null?a.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:y,treeForkCount:v}:(S.isBackwards=i,S.rendering=null,S.renderingStartTime=0,S.last=f,S.tail=c,S.tailMode=y,S.treeForkCount=v)}function Zw(a,i,c){var f=i.pendingProps,y=f.revealOrder,v=f.tail;f=f.children;var S=ar.current,T=(S&2)!==0;if(T?(S=S&1|2,i.flags|=128):S&=1,ge(ar,S),Gr(a,i,f,c),f=lt?Qo:0,!T&&a!==null&&(a.flags&128)!==0)e:for(a=i.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Xw(a,c,i);else if(a.tag===19)Xw(a,c,i);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(y){case"forwards":for(c=i.child,y=null;c!==null;)a=c.alternate,a!==null&&pd(a)===null&&(y=c),c=c.sibling;c=y,c===null?(y=i.child,i.child=null):(y=c.sibling,c.sibling=null),Bp(i,!1,y,c,v,f);break;case"backwards":case"unstable_legacy-backwards":for(c=null,y=i.child,i.child=null;y!==null;){if(a=y.alternate,a!==null&&pd(a)===null){i.child=y;break}a=y.sibling,y.sibling=c,c=y,y=a}Bp(i,!0,c,null,v,f);break;case"together":Bp(i,!1,null,null,void 0,f);break;default:i.memoizedState=null}return i.child}function Qa(a,i,c){if(a!==null&&(i.dependencies=a.dependencies),Zi|=i.lanes,(c&i.childLanes)===0)if(a!==null){if(Dl(a,i,c,!1),(c&i.childLanes)===0)return null}else return null;if(a!==null&&i.child!==a.child)throw Error(n(153));if(i.child!==null){for(a=i.child,c=Va(a,a.pendingProps),i.child=c,c.return=i;a.sibling!==null;)a=a.sibling,c=c.sibling=Va(a,a.pendingProps),c.return=i;c.sibling=null}return i.child}function Gp(a,i){return(a.lanes&i)!==0?!0:(a=a.dependencies,!!(a!==null&&ld(a)))}function tM(a,i,c){switch(i.tag){case 3:Re(i,i.stateNode.containerInfo),Gi(i,fr,a.memoizedState.cache),Ts();break;case 27:case 5:De(i);break;case 4:Re(i,i.stateNode.containerInfo);break;case 10:Gi(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,mp(i),null;break;case 13:var f=i.memoizedState;if(f!==null)return f.dehydrated!==null?(Ki(i),i.flags|=128,null):(c&i.child.childLanes)!==0?Ww(a,i,c):(Ki(i),a=Qa(a,i,c),a!==null?a.sibling:null);Ki(i);break;case 19:var y=(a.flags&128)!==0;if(f=(c&i.childLanes)!==0,f||(Dl(a,i,c,!1),f=(c&i.childLanes)!==0),y){if(f)return Zw(a,i,c);i.flags|=128}if(y=i.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ge(ar,ar.current),f)break;return null;case 22:return i.lanes=0,Gw(a,i,c,i.pendingProps);case 24:Gi(i,fr,a.memoizedState.cache)}return Qa(a,i,c)}function Qw(a,i,c){if(a!==null)if(a.memoizedProps!==i.pendingProps)mr=!0;else{if(!Gp(a,c)&&(i.flags&128)===0)return mr=!1,tM(a,i,c);mr=(a.flags&131072)!==0}else mr=!1,lt&&(i.flags&1048576)!==0&&T1(i,Qo,i.index);switch(i.lanes=0,i.tag){case 16:e:{var f=i.pendingProps;if(a=Ms(i.elementType),i.type=a,typeof a=="function")Ym(a)?(f=Ls(a,f),i.tag=1,i=Kw(null,i,a,f,c)):(i.tag=0,i=Ip(null,i,a,f,c));else{if(a!=null){var y=a.$$typeof;if(y===C){i.tag=11,i=$w(null,i,a,f,c);break e}else if(y===L){i.tag=14,i=Uw(null,i,a,f,c);break e}}throw i=U(a)||a,Error(n(306,i,""))}}return i;case 0:return Ip(a,i,i.type,i.pendingProps,c);case 1:return f=i.type,y=Ls(f,i.pendingProps),Kw(a,i,f,y,c);case 3:e:{if(Re(i,i.stateNode.containerInfo),a===null)throw Error(n(387));f=i.pendingProps;var v=i.memoizedState;y=v.element,cp(a,i),sc(i,f,null,c);var S=i.memoizedState;if(f=S.cache,Gi(i,fr,f),f!==v.cache&&np(i,[fr],c,!0),ic(),f=S.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:S.cache},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){i=Yw(a,i,f,c);break e}else if(f!==y){y=Yn(Error(n(424)),i),Jo(y),i=Yw(a,i,f,c);break e}else{switch(a=i.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Bt=Jn(a.firstChild),Ur=i,lt=!0,Ui=null,Zn=!0,c=G1(i,null,f,c),i.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Ts(),f===y){i=Qa(a,i,c);break e}Gr(a,i,f,c)}i=i.child}return i;case 26:return Ed(a,i),a===null?(c=cN(i.type,null,i.pendingProps,null))?i.memoizedState=c:lt||(c=i.type,a=i.pendingProps,f=Gd(_e.current).createElement(c),f[cr]=i,f[Qr]=a,Fr(f,c,a),ur(f),i.stateNode=f):i.memoizedState=cN(i.type,a.memoizedProps,i.pendingProps,a.memoizedState),null;case 27:return De(i),a===null&&lt&&(f=i.stateNode=sN(i.type,i.pendingProps,_e.current),Ur=i,Zn=!0,y=Bt,rs(i.type)?(j0=y,Bt=Jn(f.firstChild)):Bt=y),Gr(a,i,i.pendingProps.children,c),Ed(a,i),a===null&&(i.flags|=4194304),i.child;case 5:return a===null&&lt&&((y=f=Bt)&&(f=DM(f,i.type,i.pendingProps,Zn),f!==null?(i.stateNode=f,Ur=i,Bt=Jn(f.firstChild),Zn=!1,y=!0):y=!1),y||Bi(i)),De(i),y=i.type,v=i.pendingProps,S=a!==null?a.memoizedProps:null,f=v.children,y0(y,v)?f=null:S!==null&&y0(y,S)&&(i.flags|=32),i.memoizedState!==null&&(y=gp(a,i,VP,null,null,c),Ec._currentValue=y),Ed(a,i),Gr(a,i,f,c),i.child;case 6:return a===null&&lt&&((a=c=Bt)&&(c=kM(c,i.pendingProps,Zn),c!==null?(i.stateNode=c,Ur=i,Bt=null,a=!0):a=!1),a||Bi(i)),null;case 13:return Ww(a,i,c);case 4:return Re(i,i.stateNode.containerInfo),f=i.pendingProps,a===null?i.child=Is(i,null,f,c):Gr(a,i,f,c),i.child;case 11:return $w(a,i,i.type,i.pendingProps,c);case 7:return Gr(a,i,i.pendingProps,c),i.child;case 8:return Gr(a,i,i.pendingProps.children,c),i.child;case 12:return Gr(a,i,i.pendingProps.children,c),i.child;case 10:return f=i.pendingProps,Gi(i,i.type,f.value),Gr(a,i,f.children,c),i.child;case 9:return y=i.type._context,f=i.pendingProps.children,ks(i),y=Br(y),f=f(y),i.flags|=1,Gr(a,i,f,c),i.child;case 14:return Uw(a,i,i.type,i.pendingProps,c);case 15:return Bw(a,i,i.type,i.pendingProps,c);case 19:return Zw(a,i,c);case 31:return eM(a,i,c);case 22:return Gw(a,i,c,i.pendingProps);case 24:return ks(i),f=Br(fr),a===null?(y=sp(),y===null&&(y=Mt,v=ap(),y.pooledCache=v,v.refCount++,v!==null&&(y.pooledCacheLanes|=c),y=v),i.memoizedState={parent:f,cache:y},op(i),Gi(i,fr,y)):((a.lanes&c)!==0&&(cp(a,i),sc(i,null,null,c),ic()),y=a.memoizedState,v=i.memoizedState,y.parent!==f?(y={parent:f,cache:f},i.memoizedState=y,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=y),Gi(i,fr,f)):(f=v.cache,Gi(i,fr,f),f!==y.cache&&np(i,[fr],c,!0))),Gr(a,i,i.pendingProps.children,c),i.child;case 29:throw i.pendingProps}throw Error(n(156,i.tag))}function Ja(a){a.flags|=4}function Fp(a,i,c,f,y){if((i=(a.mode&32)!==0)&&(i=!1),i){if(a.flags|=16777216,(y&335544128)===y)if(a.stateNode.complete)a.flags|=8192;else if(Sj())a.flags|=8192;else throw Rs=dd,lp}else a.flags&=-16777217}function Jw(a,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!mN(i))if(Sj())a.flags|=8192;else throw Rs=dd,lp}function Od(a,i){i!==null&&(a.flags|=4),a.flags&16384&&(i=a.tag!==22?Ue():536870912,a.lanes|=i,Gl|=i)}function fc(a,i){if(!lt)switch(a.tailMode){case"hidden":i=a.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?i||a.tail===null?a.tail=null:a.tail.sibling=null:f.sibling=null}}function Gt(a){var i=a.alternate!==null&&a.alternate.child===a.child,c=0,f=0;if(i)for(var y=a.child;y!==null;)c|=y.lanes|y.childLanes,f|=y.subtreeFlags&65011712,f|=y.flags&65011712,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)c|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=f,a.childLanes=c,i}function rM(a,i,c){var f=i.pendingProps;switch(Qm(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(i),null;case 1:return Gt(i),null;case 3:return c=i.stateNode,f=null,a!==null&&(f=a.memoizedState.cache),i.memoizedState.cache!==f&&(i.flags|=2048),Wa(fr),X(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(Tl(i)?Ja(i):a===null||a.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ep())),Gt(i),null;case 26:var y=i.type,v=i.memoizedState;return a===null?(Ja(i),v!==null?(Gt(i),Jw(i,v)):(Gt(i),Fp(i,y,null,f,c))):v?v!==a.memoizedState?(Ja(i),Gt(i),Jw(i,v)):(Gt(i),i.flags&=-16777217):(a=a.memoizedProps,a!==f&&Ja(i),Gt(i),Fp(i,y,a,f,c)),null;case 27:if(Oe(i),c=_e.current,y=i.type,a!==null&&i.stateNode!=null)a.memoizedProps!==f&&Ja(i);else{if(!f){if(i.stateNode===null)throw Error(n(166));return Gt(i),null}a=B.current,Tl(i)?k1(i):(a=sN(y,f,c),i.stateNode=a,Ja(i))}return Gt(i),null;case 5:if(Oe(i),y=i.type,a!==null&&i.stateNode!=null)a.memoizedProps!==f&&Ja(i);else{if(!f){if(i.stateNode===null)throw Error(n(166));return Gt(i),null}if(v=B.current,Tl(i))k1(i);else{var S=Gd(_e.current);switch(v){case 1:v=S.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:v=S.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":v=S.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":v=S.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":v=S.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof f.is=="string"?S.createElement("select",{is:f.is}):S.createElement("select"),f.multiple?v.multiple=!0:f.size&&(v.size=f.size);break;default:v=typeof f.is=="string"?S.createElement(y,{is:f.is}):S.createElement(y)}}v[cr]=i,v[Qr]=f;e:for(S=i.child;S!==null;){if(S.tag===5||S.tag===6)v.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===i)break e;for(;S.sibling===null;){if(S.return===null||S.return===i)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}i.stateNode=v;e:switch(Fr(v,y,f),y){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&Ja(i)}}return Gt(i),Fp(i,i.type,a===null?null:a.memoizedProps,i.pendingProps,c),null;case 6:if(a&&i.stateNode!=null)a.memoizedProps!==f&&Ja(i);else{if(typeof f!="string"&&i.stateNode===null)throw Error(n(166));if(a=_e.current,Tl(i)){if(a=i.stateNode,c=i.memoizedProps,f=null,y=Ur,y!==null)switch(y.tag){case 27:case 5:f=y.memoizedProps}a[cr]=i,a=!!(a.nodeValue===c||f!==null&&f.suppressHydrationWarning===!0||Wj(a.nodeValue,c)),a||Bi(i,!0)}else a=Gd(a).createTextNode(f),a[cr]=i,i.stateNode=a}return Gt(i),null;case 31:if(c=i.memoizedState,a===null||a.memoizedState!==null){if(f=Tl(i),c!==null){if(a===null){if(!f)throw Error(n(318));if(a=i.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(557));a[cr]=i}else Ts(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Gt(i),a=!1}else c=ep(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=c),a=!0;if(!a)return i.flags&256?(Mn(i),i):(Mn(i),null);if((i.flags&128)!==0)throw Error(n(558))}return Gt(i),null;case 13:if(f=i.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=Tl(i),f!==null&&f.dehydrated!==null){if(a===null){if(!y)throw Error(n(318));if(y=i.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[cr]=i}else Ts(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Gt(i),y=!1}else y=ep(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=y),y=!0;if(!y)return i.flags&256?(Mn(i),i):(Mn(i),null)}return Mn(i),(i.flags&128)!==0?(i.lanes=c,i):(c=f!==null,a=a!==null&&a.memoizedState!==null,c&&(f=i.child,y=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(y=f.alternate.memoizedState.cachePool.pool),v=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(v=f.memoizedState.cachePool.pool),v!==y&&(f.flags|=2048)),c!==a&&c&&(i.child.flags|=8192),Od(i,i.updateQueue),Gt(i),null);case 4:return X(),a===null&&f0(i.stateNode.containerInfo),Gt(i),null;case 10:return Wa(i.type),Gt(i),null;case 19:if(K(ar),f=i.memoizedState,f===null)return Gt(i),null;if(y=(i.flags&128)!==0,v=f.rendering,v===null)if(y)fc(f,!1);else{if(tr!==0||a!==null&&(a.flags&128)!==0)for(a=i.child;a!==null;){if(v=pd(a),v!==null){for(i.flags|=128,fc(f,!1),a=v.updateQueue,i.updateQueue=a,Od(i,a),i.subtreeFlags=0,a=c,c=i.child;c!==null;)A1(c,a),c=c.sibling;return ge(ar,ar.current&1|2),lt&&Ka(i,f.treeForkCount),i.child}a=a.sibling}f.tail!==null&&Jt()>Pd&&(i.flags|=128,y=!0,fc(f,!1),i.lanes=4194304)}else{if(!y)if(a=pd(v),a!==null){if(i.flags|=128,y=!0,a=a.updateQueue,i.updateQueue=a,Od(i,a),fc(f,!0),f.tail===null&&f.tailMode==="hidden"&&!v.alternate&&!lt)return Gt(i),null}else 2*Jt()-f.renderingStartTime>Pd&&c!==536870912&&(i.flags|=128,y=!0,fc(f,!1),i.lanes=4194304);f.isBackwards?(v.sibling=i.child,i.child=v):(a=f.last,a!==null?a.sibling=v:i.child=v,f.last=v)}return f.tail!==null?(a=f.tail,f.rendering=a,f.tail=a.sibling,f.renderingStartTime=Jt(),a.sibling=null,c=ar.current,ge(ar,y?c&1|2:c&1),lt&&Ka(i,f.treeForkCount),a):(Gt(i),null);case 22:case 23:return Mn(i),hp(),f=i.memoizedState!==null,a!==null?a.memoizedState!==null!==f&&(i.flags|=8192):f&&(i.flags|=8192),f?(c&536870912)!==0&&(i.flags&128)===0&&(Gt(i),i.subtreeFlags&6&&(i.flags|=8192)):Gt(i),c=i.updateQueue,c!==null&&Od(i,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),f=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),f!==c&&(i.flags|=2048),a!==null&&K(Ps),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),Wa(fr),Gt(i),null;case 25:return null;case 30:return null}throw Error(n(156,i.tag))}function nM(a,i){switch(Qm(i),i.tag){case 1:return a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 3:return Wa(fr),X(),a=i.flags,(a&65536)!==0&&(a&128)===0?(i.flags=a&-65537|128,i):null;case 26:case 27:case 5:return Oe(i),null;case 31:if(i.memoizedState!==null){if(Mn(i),i.alternate===null)throw Error(n(340));Ts()}return a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 13:if(Mn(i),a=i.memoizedState,a!==null&&a.dehydrated!==null){if(i.alternate===null)throw Error(n(340));Ts()}return a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 19:return K(ar),null;case 4:return X(),null;case 10:return Wa(i.type),null;case 22:case 23:return Mn(i),hp(),a!==null&&K(Ps),a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 24:return Wa(fr),null;case 25:return null;default:return null}}function ej(a,i){switch(Qm(i),i.tag){case 3:Wa(fr),X();break;case 26:case 27:case 5:Oe(i);break;case 4:X();break;case 31:i.memoizedState!==null&&Mn(i);break;case 13:Mn(i);break;case 19:K(ar);break;case 10:Wa(i.type);break;case 22:case 23:Mn(i),hp(),a!==null&&K(Ps);break;case 24:Wa(fr)}}function hc(a,i){try{var c=i.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var y=f.next;c=y;do{if((c.tag&a)===a){f=void 0;var v=c.create,S=c.inst;f=v(),S.destroy=f}c=c.next}while(c!==y)}}catch(T){Nt(i,i.return,T)}}function Wi(a,i,c){try{var f=i.updateQueue,y=f!==null?f.lastEffect:null;if(y!==null){var v=y.next;f=v;do{if((f.tag&a)===a){var S=f.inst,T=S.destroy;if(T!==void 0){S.destroy=void 0,y=i;var $=c,J=T;try{J()}catch(fe){Nt(y,$,fe)}}}f=f.next}while(f!==v)}}catch(fe){Nt(i,i.return,fe)}}function tj(a){var i=a.updateQueue;if(i!==null){var c=a.stateNode;try{H1(i,c)}catch(f){Nt(a,a.return,f)}}}function rj(a,i,c){c.props=Ls(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(f){Nt(a,i,f)}}function mc(a,i){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var f=a.stateNode;break;case 30:f=a.stateNode;break;default:f=a.stateNode}typeof c=="function"?a.refCleanup=c(f):c.current=f}}catch(y){Nt(a,i,y)}}function Ma(a,i){var c=a.ref,f=a.refCleanup;if(c!==null)if(typeof f=="function")try{f()}catch(y){Nt(a,i,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(y){Nt(a,i,y)}else c.current=null}function nj(a){var i=a.type,c=a.memoizedProps,f=a.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":c.autoFocus&&f.focus();break e;case"img":c.src?f.src=c.src:c.srcSet&&(f.srcset=c.srcSet)}}catch(y){Nt(a,a.return,y)}}function Hp(a,i,c){try{var f=a.stateNode;SM(f,a.type,c,i),f[Qr]=i}catch(y){Nt(a,a.return,y)}}function aj(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&rs(a.type)||a.tag===4}function Vp(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||aj(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&rs(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Kp(a,i,c){var f=a.tag;if(f===5||f===6)a=a.stateNode,i?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,i):(i=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,i.appendChild(a),c=c._reactRootContainer,c!=null||i.onclick!==null||(i.onclick=ma));else if(f!==4&&(f===27&&rs(a.type)&&(c=a.stateNode,i=null),a=a.child,a!==null))for(Kp(a,i,c),a=a.sibling;a!==null;)Kp(a,i,c),a=a.sibling}function Cd(a,i,c){var f=a.tag;if(f===5||f===6)a=a.stateNode,i?c.insertBefore(a,i):c.appendChild(a);else if(f!==4&&(f===27&&rs(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(Cd(a,i,c),a=a.sibling;a!==null;)Cd(a,i,c),a=a.sibling}function ij(a){var i=a.stateNode,c=a.memoizedProps;try{for(var f=a.type,y=i.attributes;y.length;)i.removeAttributeNode(y[0]);Fr(i,f,c),i[cr]=a,i[Qr]=c}catch(v){Nt(a,a.return,v)}}var ei=!1,pr=!1,Yp=!1,sj=typeof WeakSet=="function"?WeakSet:Set,Dr=null;function aM(a,i){if(a=a.containerInfo,p0=Xd,a=v1(a),Um(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var y=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{c.nodeType,v.nodeType}catch{c=null;break e}var S=0,T=-1,$=-1,J=0,fe=0,ve=a,ae=null;t:for(;;){for(var ce;ve!==c||y!==0&&ve.nodeType!==3||(T=S+y),ve!==v||f!==0&&ve.nodeType!==3||($=S+f),ve.nodeType===3&&(S+=ve.nodeValue.length),(ce=ve.firstChild)!==null;)ae=ve,ve=ce;for(;;){if(ve===a)break t;if(ae===c&&++J===y&&(T=S),ae===v&&++fe===f&&($=S),(ce=ve.nextSibling)!==null)break;ve=ae,ae=ve.parentNode}ve=ce}c=T===-1||$===-1?null:{start:T,end:$}}else c=null}c=c||{start:0,end:0}}else c=null;for(g0={focusedElem:a,selectionRange:c},Xd=!1,Dr=i;Dr!==null;)if(i=Dr,a=i.child,(i.subtreeFlags&1028)!==0&&a!==null)a.return=i,Dr=a;else for(;Dr!==null;){switch(i=Dr,v=i.alternate,a=i.flags,i.tag){case 0:if((a&4)!==0&&(a=i.updateQueue,a=a!==null?a.events:null,a!==null))for(c=0;c<a.length;c++)y=a[c],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&v!==null){a=void 0,c=i,y=v.memoizedProps,v=v.memoizedState,f=c.stateNode;try{var qe=Ls(c.type,y);a=f.getSnapshotBeforeUpdate(qe,v),f.__reactInternalSnapshotBeforeUpdate=a}catch(Ye){Nt(c,c.return,Ye)}}break;case 3:if((a&1024)!==0){if(a=i.stateNode.containerInfo,c=a.nodeType,c===9)x0(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":x0(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=i.sibling,a!==null){a.return=i.return,Dr=a;break}Dr=i.return}}function lj(a,i,c){var f=c.flags;switch(c.tag){case 0:case 11:case 15:ri(a,c),f&4&&hc(5,c);break;case 1:if(ri(a,c),f&4)if(a=c.stateNode,i===null)try{a.componentDidMount()}catch(S){Nt(c,c.return,S)}else{var y=Ls(c.type,i.memoizedProps);i=i.memoizedState;try{a.componentDidUpdate(y,i,a.__reactInternalSnapshotBeforeUpdate)}catch(S){Nt(c,c.return,S)}}f&64&&tj(c),f&512&&mc(c,c.return);break;case 3:if(ri(a,c),f&64&&(a=c.updateQueue,a!==null)){if(i=null,c.child!==null)switch(c.child.tag){case 27:case 5:i=c.child.stateNode;break;case 1:i=c.child.stateNode}try{H1(a,i)}catch(S){Nt(c,c.return,S)}}break;case 27:i===null&&f&4&&ij(c);case 26:case 5:ri(a,c),i===null&&f&4&&nj(c),f&512&&mc(c,c.return);break;case 12:ri(a,c);break;case 31:ri(a,c),f&4&&uj(a,c);break;case 13:ri(a,c),f&4&&dj(a,c),f&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=hM.bind(null,c),PM(a,c))));break;case 22:if(f=c.memoizedState!==null||ei,!f){i=i!==null&&i.memoizedState!==null||pr,y=ei;var v=pr;ei=f,(pr=i)&&!v?ni(a,c,(c.subtreeFlags&8772)!==0):ri(a,c),ei=y,pr=v}break;case 30:break;default:ri(a,c)}}function oj(a){var i=a.alternate;i!==null&&(a.alternate=null,oj(i)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(i=a.stateNode,i!==null&&$o(i)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Ht=null,vn=!1;function ti(a,i,c){for(c=c.child;c!==null;)cj(a,i,c),c=c.sibling}function cj(a,i,c){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(ut,c)}catch{}switch(c.tag){case 26:pr||Ma(c,i),ti(a,i,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:pr||Ma(c,i);var f=Ht,y=vn;rs(c.type)&&(Ht=c.stateNode,vn=!1),ti(a,i,c),Nc(c.stateNode),Ht=f,vn=y;break;case 5:pr||Ma(c,i);case 6:if(f=Ht,y=vn,Ht=null,ti(a,i,c),Ht=f,vn=y,Ht!==null)if(vn)try{(Ht.nodeType===9?Ht.body:Ht.nodeName==="HTML"?Ht.ownerDocument.body:Ht).removeChild(c.stateNode)}catch(v){Nt(c,i,v)}else try{Ht.removeChild(c.stateNode)}catch(v){Nt(c,i,v)}break;case 18:Ht!==null&&(vn?(a=Ht,tN(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),Zl(a)):tN(Ht,c.stateNode));break;case 4:f=Ht,y=vn,Ht=c.stateNode.containerInfo,vn=!0,ti(a,i,c),Ht=f,vn=y;break;case 0:case 11:case 14:case 15:Wi(2,c,i),pr||Wi(4,c,i),ti(a,i,c);break;case 1:pr||(Ma(c,i),f=c.stateNode,typeof f.componentWillUnmount=="function"&&rj(c,i,f)),ti(a,i,c);break;case 21:ti(a,i,c);break;case 22:pr=(f=pr)||c.memoizedState!==null,ti(a,i,c),pr=f;break;default:ti(a,i,c)}}function uj(a,i){if(i.memoizedState===null&&(a=i.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Zl(a)}catch(c){Nt(i,i.return,c)}}}function dj(a,i){if(i.memoizedState===null&&(a=i.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Zl(a)}catch(c){Nt(i,i.return,c)}}function iM(a){switch(a.tag){case 31:case 13:case 19:var i=a.stateNode;return i===null&&(i=a.stateNode=new sj),i;case 22:return a=a.stateNode,i=a._retryCache,i===null&&(i=a._retryCache=new sj),i;default:throw Error(n(435,a.tag))}}function Td(a,i){var c=iM(a);i.forEach(function(f){if(!c.has(f)){c.add(f);var y=mM.bind(null,a,f);f.then(y,y)}})}function xn(a,i){var c=i.deletions;if(c!==null)for(var f=0;f<c.length;f++){var y=c[f],v=a,S=i,T=S;e:for(;T!==null;){switch(T.tag){case 27:if(rs(T.type)){Ht=T.stateNode,vn=!1;break e}break;case 5:Ht=T.stateNode,vn=!1;break e;case 3:case 4:Ht=T.stateNode.containerInfo,vn=!0;break e}T=T.return}if(Ht===null)throw Error(n(160));cj(v,S,y),Ht=null,vn=!1,v=y.alternate,v!==null&&(v.return=null),y.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)fj(i,a),i=i.sibling}var ga=null;function fj(a,i){var c=a.alternate,f=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:xn(i,a),bn(a),f&4&&(Wi(3,a,a.return),hc(3,a),Wi(5,a,a.return));break;case 1:xn(i,a),bn(a),f&512&&(pr||c===null||Ma(c,c.return)),f&64&&ei&&(a=a.updateQueue,a!==null&&(f=a.callbacks,f!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?f:c.concat(f))));break;case 26:var y=ga;if(xn(i,a),bn(a),f&512&&(pr||c===null||Ma(c,c.return)),f&4){var v=c!==null?c.memoizedState:null;if(f=a.memoizedState,c===null)if(f===null)if(a.stateNode===null){e:{f=a.type,c=a.memoizedProps,y=y.ownerDocument||y;t:switch(f){case"title":v=y.getElementsByTagName("title")[0],(!v||v[_s]||v[cr]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=y.createElement(f),y.head.insertBefore(v,y.querySelector("head > title"))),Fr(v,f,c),v[cr]=a,ur(v),f=v;break e;case"link":var S=fN("link","href",y).get(f+(c.href||""));if(S){for(var T=0;T<S.length;T++)if(v=S[T],v.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&v.getAttribute("rel")===(c.rel==null?null:c.rel)&&v.getAttribute("title")===(c.title==null?null:c.title)&&v.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){S.splice(T,1);break t}}v=y.createElement(f),Fr(v,f,c),y.head.appendChild(v);break;case"meta":if(S=fN("meta","content",y).get(f+(c.content||""))){for(T=0;T<S.length;T++)if(v=S[T],v.getAttribute("content")===(c.content==null?null:""+c.content)&&v.getAttribute("name")===(c.name==null?null:c.name)&&v.getAttribute("property")===(c.property==null?null:c.property)&&v.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&v.getAttribute("charset")===(c.charSet==null?null:c.charSet)){S.splice(T,1);break t}}v=y.createElement(f),Fr(v,f,c),y.head.appendChild(v);break;default:throw Error(n(468,f))}v[cr]=a,ur(v),f=v}a.stateNode=f}else hN(y,a.type,a.stateNode);else a.stateNode=dN(y,f,a.memoizedProps);else v!==f?(v===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):v.count--,f===null?hN(y,a.type,a.stateNode):dN(y,f,a.memoizedProps)):f===null&&a.stateNode!==null&&Hp(a,a.memoizedProps,c.memoizedProps)}break;case 27:xn(i,a),bn(a),f&512&&(pr||c===null||Ma(c,c.return)),c!==null&&f&4&&Hp(a,a.memoizedProps,c.memoizedProps);break;case 5:if(xn(i,a),bn(a),f&512&&(pr||c===null||Ma(c,c.return)),a.flags&32){y=a.stateNode;try{qi(y,"")}catch(qe){Nt(a,a.return,qe)}}f&4&&a.stateNode!=null&&(y=a.memoizedProps,Hp(a,y,c!==null?c.memoizedProps:y)),f&1024&&(Yp=!0);break;case 6:if(xn(i,a),bn(a),f&4){if(a.stateNode===null)throw Error(n(162));f=a.memoizedProps,c=a.stateNode;try{c.nodeValue=f}catch(qe){Nt(a,a.return,qe)}}break;case 3:if(Vd=null,y=ga,ga=Fd(i.containerInfo),xn(i,a),ga=y,bn(a),f&4&&c!==null&&c.memoizedState.isDehydrated)try{Zl(i.containerInfo)}catch(qe){Nt(a,a.return,qe)}Yp&&(Yp=!1,hj(a));break;case 4:f=ga,ga=Fd(a.stateNode.containerInfo),xn(i,a),bn(a),ga=f;break;case 12:xn(i,a),bn(a);break;case 31:xn(i,a),bn(a),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,Td(a,f)));break;case 13:xn(i,a),bn(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(kd=Jt()),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,Td(a,f)));break;case 22:y=a.memoizedState!==null;var $=c!==null&&c.memoizedState!==null,J=ei,fe=pr;if(ei=J||y,pr=fe||$,xn(i,a),pr=fe,ei=J,bn(a),f&8192)e:for(i=a.stateNode,i._visibility=y?i._visibility&-2:i._visibility|1,y&&(c===null||$||ei||pr||qs(a)),c=null,i=a;;){if(i.tag===5||i.tag===26){if(c===null){$=c=i;try{if(v=$.stateNode,y)S=v.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{T=$.stateNode;var ve=$.memoizedProps.style,ae=ve!=null&&ve.hasOwnProperty("display")?ve.display:null;T.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(qe){Nt($,$.return,qe)}}}else if(i.tag===6){if(c===null){$=i;try{$.stateNode.nodeValue=y?"":$.memoizedProps}catch(qe){Nt($,$.return,qe)}}}else if(i.tag===18){if(c===null){$=i;try{var ce=$.stateNode;y?rN(ce,!0):rN($.stateNode,!1)}catch(qe){Nt($,$.return,qe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===a)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;c===i&&(c=null),i=i.return}c===i&&(c=null),i.sibling.return=i.return,i=i.sibling}f&4&&(f=a.updateQueue,f!==null&&(c=f.retryQueue,c!==null&&(f.retryQueue=null,Td(a,c))));break;case 19:xn(i,a),bn(a),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,Td(a,f)));break;case 30:break;case 21:break;default:xn(i,a),bn(a)}}function bn(a){var i=a.flags;if(i&2){try{for(var c,f=a.return;f!==null;){if(aj(f)){c=f;break}f=f.return}if(c==null)throw Error(n(160));switch(c.tag){case 27:var y=c.stateNode,v=Vp(a);Cd(a,v,y);break;case 5:var S=c.stateNode;c.flags&32&&(qi(S,""),c.flags&=-33);var T=Vp(a);Cd(a,T,S);break;case 3:case 4:var $=c.stateNode.containerInfo,J=Vp(a);Kp(a,J,$);break;default:throw Error(n(161))}}catch(fe){Nt(a,a.return,fe)}a.flags&=-3}i&4096&&(a.flags&=-4097)}function hj(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var i=a;hj(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),a=a.sibling}}function ri(a,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)lj(a,i.alternate,i),i=i.sibling}function qs(a){for(a=a.child;a!==null;){var i=a;switch(i.tag){case 0:case 11:case 14:case 15:Wi(4,i,i.return),qs(i);break;case 1:Ma(i,i.return);var c=i.stateNode;typeof c.componentWillUnmount=="function"&&rj(i,i.return,c),qs(i);break;case 27:Nc(i.stateNode);case 26:case 5:Ma(i,i.return),qs(i);break;case 22:i.memoizedState===null&&qs(i);break;case 30:qs(i);break;default:qs(i)}a=a.sibling}}function ni(a,i,c){for(c=c&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var f=i.alternate,y=a,v=i,S=v.flags;switch(v.tag){case 0:case 11:case 15:ni(y,v,c),hc(4,v);break;case 1:if(ni(y,v,c),f=v,y=f.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(J){Nt(f,f.return,J)}if(f=v,y=f.updateQueue,y!==null){var T=f.stateNode;try{var $=y.shared.hiddenCallbacks;if($!==null)for(y.shared.hiddenCallbacks=null,y=0;y<$.length;y++)F1($[y],T)}catch(J){Nt(f,f.return,J)}}c&&S&64&&tj(v),mc(v,v.return);break;case 27:ij(v);case 26:case 5:ni(y,v,c),c&&f===null&&S&4&&nj(v),mc(v,v.return);break;case 12:ni(y,v,c);break;case 31:ni(y,v,c),c&&S&4&&uj(y,v);break;case 13:ni(y,v,c),c&&S&4&&dj(y,v);break;case 22:v.memoizedState===null&&ni(y,v,c),mc(v,v.return);break;case 30:break;default:ni(y,v,c)}i=i.sibling}}function Wp(a,i){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&ec(c))}function Xp(a,i){a=null,i.alternate!==null&&(a=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==a&&(i.refCount++,a!=null&&ec(a))}function ya(a,i,c,f){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)mj(a,i,c,f),i=i.sibling}function mj(a,i,c,f){var y=i.flags;switch(i.tag){case 0:case 11:case 15:ya(a,i,c,f),y&2048&&hc(9,i);break;case 1:ya(a,i,c,f);break;case 3:ya(a,i,c,f),y&2048&&(a=null,i.alternate!==null&&(a=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==a&&(i.refCount++,a!=null&&ec(a)));break;case 12:if(y&2048){ya(a,i,c,f),a=i.stateNode;try{var v=i.memoizedProps,S=v.id,T=v.onPostCommit;typeof T=="function"&&T(S,i.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch($){Nt(i,i.return,$)}}else ya(a,i,c,f);break;case 31:ya(a,i,c,f);break;case 13:ya(a,i,c,f);break;case 23:break;case 22:v=i.stateNode,S=i.alternate,i.memoizedState!==null?v._visibility&2?ya(a,i,c,f):pc(a,i):v._visibility&2?ya(a,i,c,f):(v._visibility|=2,$l(a,i,c,f,(i.subtreeFlags&10256)!==0||!1)),y&2048&&Wp(S,i);break;case 24:ya(a,i,c,f),y&2048&&Xp(i.alternate,i);break;default:ya(a,i,c,f)}}function $l(a,i,c,f,y){for(y=y&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var v=a,S=i,T=c,$=f,J=S.flags;switch(S.tag){case 0:case 11:case 15:$l(v,S,T,$,y),hc(8,S);break;case 23:break;case 22:var fe=S.stateNode;S.memoizedState!==null?fe._visibility&2?$l(v,S,T,$,y):pc(v,S):(fe._visibility|=2,$l(v,S,T,$,y)),y&&J&2048&&Wp(S.alternate,S);break;case 24:$l(v,S,T,$,y),y&&J&2048&&Xp(S.alternate,S);break;default:$l(v,S,T,$,y)}i=i.sibling}}function pc(a,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var c=a,f=i,y=f.flags;switch(f.tag){case 22:pc(c,f),y&2048&&Wp(f.alternate,f);break;case 24:pc(c,f),y&2048&&Xp(f.alternate,f);break;default:pc(c,f)}i=i.sibling}}var gc=8192;function Ul(a,i,c){if(a.subtreeFlags&gc)for(a=a.child;a!==null;)pj(a,i,c),a=a.sibling}function pj(a,i,c){switch(a.tag){case 26:Ul(a,i,c),a.flags&gc&&a.memoizedState!==null&&HM(c,ga,a.memoizedState,a.memoizedProps);break;case 5:Ul(a,i,c);break;case 3:case 4:var f=ga;ga=Fd(a.stateNode.containerInfo),Ul(a,i,c),ga=f;break;case 22:a.memoizedState===null&&(f=a.alternate,f!==null&&f.memoizedState!==null?(f=gc,gc=16777216,Ul(a,i,c),gc=f):Ul(a,i,c));break;default:Ul(a,i,c)}}function gj(a){var i=a.alternate;if(i!==null&&(a=i.child,a!==null)){i.child=null;do i=a.sibling,a.sibling=null,a=i;while(a!==null)}}function yc(a){var i=a.deletions;if((a.flags&16)!==0){if(i!==null)for(var c=0;c<i.length;c++){var f=i[c];Dr=f,vj(f,a)}gj(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)yj(a),a=a.sibling}function yj(a){switch(a.tag){case 0:case 11:case 15:yc(a),a.flags&2048&&Wi(9,a,a.return);break;case 3:yc(a);break;case 12:yc(a);break;case 22:var i=a.stateNode;a.memoizedState!==null&&i._visibility&2&&(a.return===null||a.return.tag!==13)?(i._visibility&=-3,Dd(a)):yc(a);break;default:yc(a)}}function Dd(a){var i=a.deletions;if((a.flags&16)!==0){if(i!==null)for(var c=0;c<i.length;c++){var f=i[c];Dr=f,vj(f,a)}gj(a)}for(a=a.child;a!==null;){switch(i=a,i.tag){case 0:case 11:case 15:Wi(8,i,i.return),Dd(i);break;case 22:c=i.stateNode,c._visibility&2&&(c._visibility&=-3,Dd(i));break;default:Dd(i)}a=a.sibling}}function vj(a,i){for(;Dr!==null;){var c=Dr;switch(c.tag){case 0:case 11:case 15:Wi(8,c,i);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var f=c.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:ec(c.memoizedState.cache)}if(f=c.child,f!==null)f.return=c,Dr=f;else e:for(c=a;Dr!==null;){f=Dr;var y=f.sibling,v=f.return;if(oj(f),f===c){Dr=null;break e}if(y!==null){y.return=v,Dr=y;break e}Dr=v}}}var sM={getCacheForType:function(a){var i=Br(fr),c=i.data.get(a);return c===void 0&&(c=a(),i.data.set(a,c)),c},cacheSignal:function(){return Br(fr).controller.signal}},lM=typeof WeakMap=="function"?WeakMap:Map,gt=0,Mt=null,nt=null,it=0,jt=0,Rn=null,Xi=!1,Bl=!1,Zp=!1,ai=0,tr=0,Zi=0,$s=0,Qp=0,In=0,Gl=0,vc=null,wn=null,Jp=!1,kd=0,xj=0,Pd=1/0,Md=null,Qi=null,xr=0,Ji=null,Fl=null,ii=0,e0=0,t0=null,bj=null,xc=0,r0=null;function zn(){return(gt&2)!==0&&it!==0?it&-it:I.T!==null?o0():wt()}function wj(){if(In===0)if((it&536870912)===0||lt){var a=Di;Di<<=1,(Di&3932160)===0&&(Di=262144),In=a}else In=536870912;return a=Pn.current,a!==null&&(a.flags|=32),In}function jn(a,i,c){(a===Mt&&(jt===2||jt===9)||a.cancelPendingCommit!==null)&&(Hl(a,0),es(a,it,In,!1)),ct(a,c),((gt&2)===0||a!==Mt)&&(a===Mt&&((gt&2)===0&&($s|=c),tr===4&&es(a,it,In,!1)),Ra(a))}function jj(a,i,c){if((gt&6)!==0)throw Error(n(327));var f=!c&&(i&127)===0&&(i&a.expiredLanes)===0||Xr(a,i),y=f?uM(a,i):a0(a,i,!0),v=f;do{if(y===0){Bl&&!f&&es(a,i,0,!1);break}else{if(c=a.current.alternate,v&&!oM(c)){y=a0(a,i,!1),v=!1;continue}if(y===2){if(v=i,a.errorRecoveryDisabledLanes&v)var S=0;else S=a.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){i=S;e:{var T=a;y=vc;var $=T.current.memoizedState.isDehydrated;if($&&(Hl(T,S).flags|=256),S=a0(T,S,!1),S!==2){if(Zp&&!$){T.errorRecoveryDisabledLanes|=v,$s|=v,y=4;break e}v=wn,wn=y,v!==null&&(wn===null?wn=v:wn.push.apply(wn,v))}y=S}if(v=!1,y!==2)continue}}if(y===1){Hl(a,0),es(a,i,0,!0);break}e:{switch(f=a,v=y,v){case 0:case 1:throw Error(n(345));case 4:if((i&4194048)!==i)break;case 6:es(f,i,In,!Xi);break e;case 2:wn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((i&62914560)===i&&(y=kd+300-Jt(),10<y)){if(es(f,i,In,!Xi),ki(f,0,!0)!==0)break e;ii=i,f.timeoutHandle=Jj(Nj.bind(null,f,c,wn,Md,Jp,i,In,$s,Gl,Xi,v,"Throttled",-0,0),y);break e}Nj(f,c,wn,Md,Jp,i,In,$s,Gl,Xi,v,null,-0,0)}}break}while(!0);Ra(a)}function Nj(a,i,c,f,y,v,S,T,$,J,fe,ve,ae,ce){if(a.timeoutHandle=-1,ve=i.subtreeFlags,ve&8192||(ve&16785408)===16785408){ve={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ma},pj(i,v,ve);var qe=(v&62914560)===v?kd-Jt():(v&4194048)===v?xj-Jt():0;if(qe=VM(ve,qe),qe!==null){ii=v,a.cancelPendingCommit=qe(Dj.bind(null,a,i,v,c,f,y,S,T,$,fe,ve,null,ae,ce)),es(a,v,S,!J);return}}Dj(a,i,v,c,f,y,S,T,$)}function oM(a){for(var i=a;;){var c=i.tag;if((c===0||c===11||c===15)&&i.flags&16384&&(c=i.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var f=0;f<c.length;f++){var y=c[f],v=y.getSnapshot;y=y.value;try{if(!Dn(v(),y))return!1}catch{return!1}}if(c=i.child,i.subtreeFlags&16384&&c!==null)c.return=i,i=c;else{if(i===a)break;for(;i.sibling===null;){if(i.return===null||i.return===a)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function es(a,i,c,f){i&=~Qp,i&=~$s,a.suspendedLanes|=i,a.pingedLanes&=~i,f&&(a.warmLanes|=i),f=a.expirationTimes;for(var y=i;0<y;){var v=31-nr(y),S=1<<v;f[v]=-1,y&=~S}c!==0&&sn(a,c,i)}function Rd(){return(gt&6)===0?(bc(0),!1):!0}function n0(){if(nt!==null){if(jt===0)var a=nt.return;else a=nt,Ya=Ds=null,xp(a),Rl=null,rc=0,a=nt;for(;a!==null;)ej(a.alternate,a),a=a.return;nt=null}}function Hl(a,i){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,OM(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),ii=0,n0(),Mt=a,nt=c=Va(a.current,null),it=i,jt=0,Rn=null,Xi=!1,Bl=Xr(a,i),Zp=!1,Gl=In=Qp=$s=Zi=tr=0,wn=vc=null,Jp=!1,(i&8)!==0&&(i|=i&32);var f=a.entangledLanes;if(f!==0)for(a=a.entanglements,f&=i;0<f;){var y=31-nr(f),v=1<<y;i|=a[y],f&=~v}return ai=i,rd(),c}function _j(a,i){Xe=null,I.H=uc,i===Ml||i===ud?(i=$1(),jt=3):i===lp?(i=$1(),jt=4):jt=i===Rp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Rn=i,nt===null&&(tr=1,_d(a,Yn(i,a.current)))}function Sj(){var a=Pn.current;return a===null?!0:(it&4194048)===it?Qn===null:(it&62914560)===it||(it&536870912)!==0?a===Qn:!1}function Ej(){var a=I.H;return I.H=uc,a===null?uc:a}function Aj(){var a=I.A;return I.A=sM,a}function Id(){tr=4,Xi||(it&4194048)!==it&&Pn.current!==null||(Bl=!0),(Zi&134217727)===0&&($s&134217727)===0||Mt===null||es(Mt,it,In,!1)}function a0(a,i,c){var f=gt;gt|=2;var y=Ej(),v=Aj();(Mt!==a||it!==i)&&(Md=null,Hl(a,i)),i=!1;var S=tr;e:do try{if(jt!==0&&nt!==null){var T=nt,$=Rn;switch(jt){case 8:n0(),S=6;break e;case 3:case 2:case 9:case 6:Pn.current===null&&(i=!0);var J=jt;if(jt=0,Rn=null,Vl(a,T,$,J),c&&Bl){S=0;break e}break;default:J=jt,jt=0,Rn=null,Vl(a,T,$,J)}}cM(),S=tr;break}catch(fe){_j(a,fe)}while(!0);return i&&a.shellSuspendCounter++,Ya=Ds=null,gt=f,I.H=y,I.A=v,nt===null&&(Mt=null,it=0,rd()),S}function cM(){for(;nt!==null;)Oj(nt)}function uM(a,i){var c=gt;gt|=2;var f=Ej(),y=Aj();Mt!==a||it!==i?(Md=null,Pd=Jt()+500,Hl(a,i)):Bl=Xr(a,i);e:do try{if(jt!==0&&nt!==null){i=nt;var v=Rn;t:switch(jt){case 1:jt=0,Rn=null,Vl(a,i,v,1);break;case 2:case 9:if(L1(v)){jt=0,Rn=null,Cj(i);break}i=function(){jt!==2&&jt!==9||Mt!==a||(jt=7),Ra(a)},v.then(i,i);break e;case 3:jt=7;break e;case 4:jt=5;break e;case 7:L1(v)?(jt=0,Rn=null,Cj(i)):(jt=0,Rn=null,Vl(a,i,v,7));break;case 5:var S=null;switch(nt.tag){case 26:S=nt.memoizedState;case 5:case 27:var T=nt;if(S?mN(S):T.stateNode.complete){jt=0,Rn=null;var $=T.sibling;if($!==null)nt=$;else{var J=T.return;J!==null?(nt=J,zd(J)):nt=null}break t}}jt=0,Rn=null,Vl(a,i,v,5);break;case 6:jt=0,Rn=null,Vl(a,i,v,6);break;case 8:n0(),tr=6;break e;default:throw Error(n(462))}}dM();break}catch(fe){_j(a,fe)}while(!0);return Ya=Ds=null,I.H=f,I.A=y,gt=c,nt!==null?0:(Mt=null,it=0,rd(),tr)}function dM(){for(;nt!==null&&!Cn();)Oj(nt)}function Oj(a){var i=Qw(a.alternate,a,ai);a.memoizedProps=a.pendingProps,i===null?zd(a):nt=i}function Cj(a){var i=a,c=i.alternate;switch(i.tag){case 15:case 0:i=Vw(c,i,i.pendingProps,i.type,void 0,it);break;case 11:i=Vw(c,i,i.pendingProps,i.type.render,i.ref,it);break;case 5:xp(i);default:ej(c,i),i=nt=A1(i,ai),i=Qw(c,i,ai)}a.memoizedProps=a.pendingProps,i===null?zd(a):nt=i}function Vl(a,i,c,f){Ya=Ds=null,xp(i),Rl=null,rc=0;var y=i.return;try{if(JP(a,y,i,c,it)){tr=1,_d(a,Yn(c,a.current)),nt=null;return}}catch(v){if(y!==null)throw nt=y,v;tr=1,_d(a,Yn(c,a.current)),nt=null;return}i.flags&32768?(lt||f===1?a=!0:Bl||(it&536870912)!==0?a=!1:(Xi=a=!0,(f===2||f===9||f===3||f===6)&&(f=Pn.current,f!==null&&f.tag===13&&(f.flags|=16384))),Tj(i,a)):zd(i)}function zd(a){var i=a;do{if((i.flags&32768)!==0){Tj(i,Xi);return}a=i.return;var c=rM(i.alternate,i,ai);if(c!==null){nt=c;return}if(i=i.sibling,i!==null){nt=i;return}nt=i=a}while(i!==null);tr===0&&(tr=5)}function Tj(a,i){do{var c=nM(a.alternate,a);if(c!==null){c.flags&=32767,nt=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!i&&(a=a.sibling,a!==null)){nt=a;return}nt=a=c}while(a!==null);tr=6,nt=null}function Dj(a,i,c,f,y,v,S,T,$){a.cancelPendingCommit=null;do Ld();while(xr!==0);if((gt&6)!==0)throw Error(n(327));if(i!==null){if(i===a.current)throw Error(n(177));if(v=i.lanes|i.childLanes,v|=Vm,Cr(a,c,v,S,T,$),a===Mt&&(nt=Mt=null,it=0),Fl=i,Ji=a,ii=c,e0=v,t0=y,bj=f,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,pM(Ca,function(){return Ij(),null})):(a.callbackNode=null,a.callbackPriority=0),f=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||f){f=I.T,I.T=null,y=W.p,W.p=2,S=gt,gt|=4;try{aM(a,i,c)}finally{gt=S,W.p=y,I.T=f}}xr=1,kj(),Pj(),Mj()}}function kj(){if(xr===1){xr=0;var a=Ji,i=Fl,c=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||c){c=I.T,I.T=null;var f=W.p;W.p=2;var y=gt;gt|=4;try{fj(i,a);var v=g0,S=v1(a.containerInfo),T=v.focusedElem,$=v.selectionRange;if(S!==T&&T&&T.ownerDocument&&y1(T.ownerDocument.documentElement,T)){if($!==null&&Um(T)){var J=$.start,fe=$.end;if(fe===void 0&&(fe=J),"selectionStart"in T)T.selectionStart=J,T.selectionEnd=Math.min(fe,T.value.length);else{var ve=T.ownerDocument||document,ae=ve&&ve.defaultView||window;if(ae.getSelection){var ce=ae.getSelection(),qe=T.textContent.length,Ye=Math.min($.start,qe),Dt=$.end===void 0?Ye:Math.min($.end,qe);!ce.extend&&Ye>Dt&&(S=Dt,Dt=Ye,Ye=S);var Y=g1(T,Ye),F=g1(T,Dt);if(Y&&F&&(ce.rangeCount!==1||ce.anchorNode!==Y.node||ce.anchorOffset!==Y.offset||ce.focusNode!==F.node||ce.focusOffset!==F.offset)){var Q=ve.createRange();Q.setStart(Y.node,Y.offset),ce.removeAllRanges(),Ye>Dt?(ce.addRange(Q),ce.extend(F.node,F.offset)):(Q.setEnd(F.node,F.offset),ce.addRange(Q))}}}}for(ve=[],ce=T;ce=ce.parentNode;)ce.nodeType===1&&ve.push({element:ce,left:ce.scrollLeft,top:ce.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ve.length;T++){var ye=ve[T];ye.element.scrollLeft=ye.left,ye.element.scrollTop=ye.top}}Xd=!!p0,g0=p0=null}finally{gt=y,W.p=f,I.T=c}}a.current=i,xr=2}}function Pj(){if(xr===2){xr=0;var a=Ji,i=Fl,c=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||c){c=I.T,I.T=null;var f=W.p;W.p=2;var y=gt;gt|=4;try{lj(a,i.alternate,i)}finally{gt=y,W.p=f,I.T=c}}xr=3}}function Mj(){if(xr===4||xr===3){xr=0,Yr();var a=Ji,i=Fl,c=ii,f=bj;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?xr=5:(xr=0,Fl=Ji=null,Rj(a,a.pendingLanes));var y=a.pendingLanes;if(y===0&&(Qi=null),Fa(c),i=i.stateNode,At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(ut,i,void 0,(i.current.flags&128)===128)}catch{}if(f!==null){i=I.T,y=W.p,W.p=2,I.T=null;try{for(var v=a.onRecoverableError,S=0;S<f.length;S++){var T=f[S];v(T.value,{componentStack:T.stack})}}finally{I.T=i,W.p=y}}(ii&3)!==0&&Ld(),Ra(a),y=a.pendingLanes,(c&261930)!==0&&(y&42)!==0?a===r0?xc++:(xc=0,r0=a):xc=0,bc(0)}}function Rj(a,i){(a.pooledCacheLanes&=i)===0&&(i=a.pooledCache,i!=null&&(a.pooledCache=null,ec(i)))}function Ld(){return kj(),Pj(),Mj(),Ij()}function Ij(){if(xr!==5)return!1;var a=Ji,i=e0;e0=0;var c=Fa(ii),f=I.T,y=W.p;try{W.p=32>c?32:c,I.T=null,c=t0,t0=null;var v=Ji,S=ii;if(xr=0,Fl=Ji=null,ii=0,(gt&6)!==0)throw Error(n(331));var T=gt;if(gt|=4,yj(v.current),mj(v,v.current,S,c),gt=T,bc(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(ut,v)}catch{}return!0}finally{W.p=y,I.T=f,Rj(a,i)}}function zj(a,i,c){i=Yn(c,i),i=Mp(a.stateNode,i,2),a=Vi(a,i,2),a!==null&&(ct(a,2),Ra(a))}function Nt(a,i,c){if(a.tag===3)zj(a,a,c);else for(;i!==null;){if(i.tag===3){zj(i,a,c);break}else if(i.tag===1){var f=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Qi===null||!Qi.has(f))){a=Yn(c,a),c=Lw(2),f=Vi(i,c,2),f!==null&&(qw(c,f,i,a),ct(f,2),Ra(f));break}}i=i.return}}function i0(a,i,c){var f=a.pingCache;if(f===null){f=a.pingCache=new lM;var y=new Set;f.set(i,y)}else y=f.get(i),y===void 0&&(y=new Set,f.set(i,y));y.has(c)||(Zp=!0,y.add(c),a=fM.bind(null,a,i,c),i.then(a,a))}function fM(a,i,c){var f=a.pingCache;f!==null&&f.delete(i),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,Mt===a&&(it&c)===c&&(tr===4||tr===3&&(it&62914560)===it&&300>Jt()-kd?(gt&2)===0&&Hl(a,0):Qp|=c,Gl===it&&(Gl=0)),Ra(a)}function Lj(a,i){i===0&&(i=Ue()),a=Os(a,i),a!==null&&(ct(a,i),Ra(a))}function hM(a){var i=a.memoizedState,c=0;i!==null&&(c=i.retryLane),Lj(a,c)}function mM(a,i){var c=0;switch(a.tag){case 31:case 13:var f=a.stateNode,y=a.memoizedState;y!==null&&(c=y.retryLane);break;case 19:f=a.stateNode;break;case 22:f=a.stateNode._retryCache;break;default:throw Error(n(314))}f!==null&&f.delete(i),Lj(a,c)}function pM(a,i){return Xt(a,i)}var qd=null,Kl=null,s0=!1,$d=!1,l0=!1,ts=0;function Ra(a){a!==Kl&&a.next===null&&(Kl===null?qd=Kl=a:Kl=Kl.next=a),$d=!0,s0||(s0=!0,yM())}function bc(a,i){if(!l0&&$d){l0=!0;do for(var c=!1,f=qd;f!==null;){if(a!==0){var y=f.pendingLanes;if(y===0)var v=0;else{var S=f.suspendedLanes,T=f.pingedLanes;v=(1<<31-nr(42|a)+1)-1,v&=y&~(S&~T),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(c=!0,Bj(f,v))}else v=it,v=ki(f,f===Mt?v:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(v&3)===0||Xr(f,v)||(c=!0,Bj(f,v));f=f.next}while(c);l0=!1}}function gM(){qj()}function qj(){$d=s0=!1;var a=0;ts!==0&&AM()&&(a=ts);for(var i=Jt(),c=null,f=qd;f!==null;){var y=f.next,v=$j(f,i);v===0?(f.next=null,c===null?qd=y:c.next=y,y===null&&(Kl=c)):(c=f,(a!==0||(v&3)!==0)&&($d=!0)),f=y}xr!==0&&xr!==5||bc(a),ts!==0&&(ts=0)}function $j(a,i){for(var c=a.suspendedLanes,f=a.pingedLanes,y=a.expirationTimes,v=a.pendingLanes&-62914561;0<v;){var S=31-nr(v),T=1<<S,$=y[S];$===-1?((T&c)===0||(T&f)!==0)&&(y[S]=le(T,i)):$<=i&&(a.expiredLanes|=T),v&=~T}if(i=Mt,c=it,c=ki(a,a===i?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f=a.callbackNode,c===0||a===i&&(jt===2||jt===9)||a.cancelPendingCommit!==null)return f!==null&&f!==null&&Ze(f),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||Xr(a,c)){if(i=c&-c,i===a.callbackPriority)return i;switch(f!==null&&Ze(f),Fa(c)){case 2:case 8:c=Wr;break;case 32:c=Ca;break;case 268435456:c=Ta;break;default:c=Ca}return f=Uj.bind(null,a),c=Xt(c,f),a.callbackPriority=i,a.callbackNode=c,i}return f!==null&&f!==null&&Ze(f),a.callbackPriority=2,a.callbackNode=null,2}function Uj(a,i){if(xr!==0&&xr!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(Ld()&&a.callbackNode!==c)return null;var f=it;return f=ki(a,a===Mt?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f===0?null:(jj(a,f,i),$j(a,Jt()),a.callbackNode!=null&&a.callbackNode===c?Uj.bind(null,a):null)}function Bj(a,i){if(Ld())return null;jj(a,i,!0)}function yM(){CM(function(){(gt&6)!==0?Xt(mn,gM):qj()})}function o0(){if(ts===0){var a=kl;a===0&&(a=Ti,Ti<<=1,(Ti&261888)===0&&(Ti=256)),ts=a}return ts}function Gj(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:jl(""+a)}function Fj(a,i){var c=i.ownerDocument.createElement("input");return c.name=i.name,c.value=i.value,a.id&&c.setAttribute("form",a.id),i.parentNode.insertBefore(c,i),a=new FormData(a),c.parentNode.removeChild(c),a}function vM(a,i,c,f,y){if(i==="submit"&&c&&c.stateNode===y){var v=Gj((y[Qr]||null).action),S=f.submitter;S&&(i=(i=S[Qr]||null)?Gj(i.formAction):S.getAttribute("formAction"),i!==null&&(v=i,S=null));var T=new Ot("action","action",null,f,y);a.push({event:T,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(ts!==0){var $=S?Fj(y,S):new FormData(y);Op(c,{pending:!0,data:$,method:y.method,action:v},null,$)}}else typeof v=="function"&&(T.preventDefault(),$=S?Fj(y,S):new FormData(y),Op(c,{pending:!0,data:$,method:y.method,action:v},v,$))},currentTarget:y}]})}}for(var c0=0;c0<Hm.length;c0++){var u0=Hm[c0],xM=u0.toLowerCase(),bM=u0[0].toUpperCase()+u0.slice(1);pa(xM,"on"+bM)}pa(w1,"onAnimationEnd"),pa(j1,"onAnimationIteration"),pa(N1,"onAnimationStart"),pa("dblclick","onDoubleClick"),pa("focusin","onFocus"),pa("focusout","onBlur"),pa(IP,"onTransitionRun"),pa(zP,"onTransitionStart"),pa(LP,"onTransitionCancel"),pa(_1,"onTransitionEnd"),zi("onMouseEnter",["mouseout","mouseover"]),zi("onMouseLeave",["mouseout","mouseover"]),zi("onPointerEnter",["pointerout","pointerover"]),zi("onPointerLeave",["pointerout","pointerover"]),Ha("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ha("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ha("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ha("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ha("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ha("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wc));function Hj(a,i){i=(i&4)!==0;for(var c=0;c<a.length;c++){var f=a[c],y=f.event;f=f.listeners;e:{var v=void 0;if(i)for(var S=f.length-1;0<=S;S--){var T=f[S],$=T.instance,J=T.currentTarget;if(T=T.listener,$!==v&&y.isPropagationStopped())break e;v=T,y.currentTarget=J;try{v(y)}catch(fe){td(fe)}y.currentTarget=null,v=$}else for(S=0;S<f.length;S++){if(T=f[S],$=T.instance,J=T.currentTarget,T=T.listener,$!==v&&y.isPropagationStopped())break e;v=T,y.currentTarget=J;try{v(y)}catch(fe){td(fe)}y.currentTarget=null,v=$}}}}function at(a,i){var c=i[qo];c===void 0&&(c=i[qo]=new Set);var f=a+"__bubble";c.has(f)||(Vj(i,a,2,!1),c.add(f))}function d0(a,i,c){var f=0;i&&(f|=4),Vj(c,a,f,i)}var Ud="_reactListening"+Math.random().toString(36).slice(2);function f0(a){if(!a[Ud]){a[Ud]=!0,Uu.forEach(function(c){c!=="selectionchange"&&(wM.has(c)||d0(c,!1,a),d0(c,!0,a))});var i=a.nodeType===9?a:a.ownerDocument;i===null||i[Ud]||(i[Ud]=!0,d0("selectionchange",!1,i))}}function Vj(a,i,c,f){switch(wN(i)){case 2:var y=WM;break;case 8:y=XM;break;default:y=A0}c=y.bind(null,i,c,a),y=void 0,!$e||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(y=!0),f?y!==void 0?a.addEventListener(i,c,{capture:!0,passive:y}):a.addEventListener(i,c,!0):y!==void 0?a.addEventListener(i,c,{passive:y}):a.addEventListener(i,c,!1)}function h0(a,i,c,f,y){var v=f;if((i&1)===0&&(i&2)===0&&f!==null)e:for(;;){if(f===null)return;var S=f.tag;if(S===3||S===4){var T=f.stateNode.containerInfo;if(T===y)break;if(S===4)for(S=f.return;S!==null;){var $=S.tag;if(($===3||$===4)&&S.stateNode.containerInfo===y)return;S=S.return}for(;T!==null;){if(S=Mi(T),S===null)return;if($=S.tag,$===5||$===6||$===26||$===27){f=v=S;continue e}T=T.parentNode}}f=f.return}pe(function(){var J=v,fe=Vo(c),ve=[];e:{var ae=S1.get(a);if(ae!==void 0){var ce=Ot,qe=a;switch(a){case"keypress":if(Je(c)===0)break e;case"keydown":case"keyup":ce=mP;break;case"focusin":qe="focus",ce=Im;break;case"focusout":qe="blur",ce=Im;break;case"beforeblur":case"afterblur":ce=Im;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=e1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=rP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=yP;break;case w1:case j1:case N1:ce=iP;break;case _1:ce=xP;break;case"scroll":case"scrollend":ce=Vn;break;case"wheel":ce=wP;break;case"copy":case"cut":case"paste":ce=lP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=r1;break;case"toggle":case"beforetoggle":ce=NP}var Ye=(i&4)!==0,Dt=!Ye&&(a==="scroll"||a==="scrollend"),Y=Ye?ae!==null?ae+"Capture":null:ae;Ye=[];for(var F=J,Q;F!==null;){var ye=F;if(Q=ye.stateNode,ye=ye.tag,ye!==5&&ye!==26&&ye!==27||Q===null||Y===null||(ye=xe(F,Y),ye!=null&&Ye.push(jc(F,ye,Q))),Dt)break;F=F.return}0<Ye.length&&(ae=new ce(ae,qe,null,c,fe),ve.push({event:ae,listeners:Ye}))}}if((i&7)===0){e:{if(ae=a==="mouseover"||a==="pointerover",ce=a==="mouseout"||a==="pointerout",ae&&c!==Ho&&(qe=c.relatedTarget||c.fromElement)&&(Mi(qe)||qe[Pi]))break e;if((ce||ae)&&(ae=fe.window===fe?fe:(ae=fe.ownerDocument)?ae.defaultView||ae.parentWindow:window,ce?(qe=c.relatedTarget||c.toElement,ce=J,qe=qe?Mi(qe):null,qe!==null&&(Dt=o(qe),Ye=qe.tag,qe!==Dt||Ye!==5&&Ye!==27&&Ye!==6)&&(qe=null)):(ce=null,qe=J),ce!==qe)){if(Ye=e1,ye="onMouseLeave",Y="onMouseEnter",F="mouse",(a==="pointerout"||a==="pointerover")&&(Ye=r1,ye="onPointerLeave",Y="onPointerEnter",F="pointer"),Dt=ce==null?ae:Ss(ce),Q=qe==null?ae:Ss(qe),ae=new Ye(ye,F+"leave",ce,c,fe),ae.target=Dt,ae.relatedTarget=Q,ye=null,Mi(fe)===J&&(Ye=new Ye(Y,F+"enter",qe,c,fe),Ye.target=Q,Ye.relatedTarget=Dt,ye=Ye),Dt=ye,ce&&qe)t:{for(Ye=jM,Y=ce,F=qe,Q=0,ye=Y;ye;ye=Ye(ye))Q++;ye=0;for(var Ke=F;Ke;Ke=Ye(Ke))ye++;for(;0<Q-ye;)Y=Ye(Y),Q--;for(;0<ye-Q;)F=Ye(F),ye--;for(;Q--;){if(Y===F||F!==null&&Y===F.alternate){Ye=Y;break t}Y=Ye(Y),F=Ye(F)}Ye=null}else Ye=null;ce!==null&&Kj(ve,ae,ce,Ye,!1),qe!==null&&Dt!==null&&Kj(ve,Dt,qe,Ye,!0)}}e:{if(ae=J?Ss(J):window,ce=ae.nodeName&&ae.nodeName.toLowerCase(),ce==="select"||ce==="input"&&ae.type==="file")var ft=u1;else if(o1(ae))if(d1)ft=PP;else{ft=DP;var Ge=TP}else ce=ae.nodeName,!ce||ce.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?J&&Fo(J.elementType)&&(ft=u1):ft=kP;if(ft&&(ft=ft(a,J))){c1(ve,ft,c,fe);break e}Ge&&Ge(a,ae,J),a==="focusout"&&J&&ae.type==="number"&&J.memoizedProps.value!=null&&Go(ae,"number",ae.value)}switch(Ge=J?Ss(J):window,a){case"focusin":(o1(Ge)||Ge.contentEditable==="true")&&(_l=Ge,Bm=J,Zo=null);break;case"focusout":Zo=Bm=_l=null;break;case"mousedown":Gm=!0;break;case"contextmenu":case"mouseup":case"dragend":Gm=!1,x1(ve,c,fe);break;case"selectionchange":if(RP)break;case"keydown":case"keyup":x1(ve,c,fe)}var Qe;if(Lm)e:{switch(a){case"compositionstart":var st="onCompositionStart";break e;case"compositionend":st="onCompositionEnd";break e;case"compositionupdate":st="onCompositionUpdate";break e}st=void 0}else Nl?s1(a,c)&&(st="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(st="onCompositionStart");st&&(n1&&c.locale!=="ko"&&(Nl||st!=="onCompositionStart"?st==="onCompositionEnd"&&Nl&&(Qe=It()):(de=fe,ke="value"in de?de.value:de.textContent,Nl=!0)),Ge=Bd(J,st),0<Ge.length&&(st=new t1(st,a,null,c,fe),ve.push({event:st,listeners:Ge}),Qe?st.data=Qe:(Qe=l1(c),Qe!==null&&(st.data=Qe)))),(Qe=SP?EP(a,c):AP(a,c))&&(st=Bd(J,"onBeforeInput"),0<st.length&&(Ge=new t1("onBeforeInput","beforeinput",null,c,fe),ve.push({event:Ge,listeners:st}),Ge.data=Qe)),vM(ve,a,J,c,fe)}Hj(ve,i)})}function jc(a,i,c){return{instance:a,listener:i,currentTarget:c}}function Bd(a,i){for(var c=i+"Capture",f=[];a!==null;){var y=a,v=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||v===null||(y=xe(a,c),y!=null&&f.unshift(jc(a,y,v)),y=xe(a,i),y!=null&&f.push(jc(a,y,v))),a.tag===3)return f;a=a.return}return[]}function jM(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function Kj(a,i,c,f,y){for(var v=i._reactName,S=[];c!==null&&c!==f;){var T=c,$=T.alternate,J=T.stateNode;if(T=T.tag,$!==null&&$===f)break;T!==5&&T!==26&&T!==27||J===null||($=J,y?(J=xe(c,v),J!=null&&S.unshift(jc(c,J,$))):y||(J=xe(c,v),J!=null&&S.push(jc(c,J,$)))),c=c.return}S.length!==0&&a.push({event:i,listeners:S})}var NM=/\r\n?/g,_M=/\u0000|\uFFFD/g;function Yj(a){return(typeof a=="string"?a:""+a).replace(NM,`
`).replace(_M,"")}function Wj(a,i){return i=Yj(i),Yj(a)===i}function Tt(a,i,c,f,y,v){switch(c){case"children":typeof f=="string"?i==="body"||i==="textarea"&&f===""||qi(a,f):(typeof f=="number"||typeof f=="bigint")&&i!=="body"&&qi(a,""+f);break;case"className":bl(a,"class",f);break;case"tabIndex":bl(a,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":bl(a,c,f);break;case"style":Qu(a,f,v);break;case"data":if(i!=="object"){bl(a,"data",f);break}case"src":case"href":if(f===""&&(i!=="a"||c!=="href")){a.removeAttribute(c);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(c);break}f=jl(""+f),a.setAttribute(c,f);break;case"action":case"formAction":if(typeof f=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(c==="formAction"?(i!=="input"&&Tt(a,i,"name",y.name,y,null),Tt(a,i,"formEncType",y.formEncType,y,null),Tt(a,i,"formMethod",y.formMethod,y,null),Tt(a,i,"formTarget",y.formTarget,y,null)):(Tt(a,i,"encType",y.encType,y,null),Tt(a,i,"method",y.method,y,null),Tt(a,i,"target",y.target,y,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(c);break}f=jl(""+f),a.setAttribute(c,f);break;case"onClick":f!=null&&(a.onclick=ma);break;case"onScroll":f!=null&&at("scroll",a);break;case"onScrollEnd":f!=null&&at("scrollend",a);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(n(61));if(c=f.__html,c!=null){if(y.children!=null)throw Error(n(60));a.innerHTML=c}}break;case"multiple":a.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":a.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){a.removeAttribute("xlink:href");break}c=jl(""+f),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(c,""+f):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":f===!0?a.setAttribute(c,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(c,f):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?a.setAttribute(c,f):a.removeAttribute(c);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?a.removeAttribute(c):a.setAttribute(c,f);break;case"popover":at("beforetoggle",a),at("toggle",a),xl(a,"popover",f);break;case"xlinkActuate":ha(a,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":ha(a,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":ha(a,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":ha(a,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":ha(a,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":ha(a,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":ha(a,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":ha(a,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":ha(a,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":xl(a,"is",f);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Mm.get(c)||c,xl(a,c,f))}}function m0(a,i,c,f,y,v){switch(c){case"style":Qu(a,f,v);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(n(61));if(c=f.__html,c!=null){if(y.children!=null)throw Error(n(60));a.innerHTML=c}}break;case"children":typeof f=="string"?qi(a,f):(typeof f=="number"||typeof f=="bigint")&&qi(a,""+f);break;case"onScroll":f!=null&&at("scroll",a);break;case"onScrollEnd":f!=null&&at("scrollend",a);break;case"onClick":f!=null&&(a.onclick=ma);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bu.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(y=c.endsWith("Capture"),i=c.slice(2,y?c.length-7:void 0),v=a[Qr]||null,v=v!=null?v[c]:null,typeof v=="function"&&a.removeEventListener(i,v,y),typeof f=="function")){typeof v!="function"&&v!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(i,f,y);break e}c in a?a[c]=f:f===!0?a.setAttribute(c,""):xl(a,c,f)}}}function Fr(a,i,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":at("error",a),at("load",a);var f=!1,y=!1,v;for(v in c)if(c.hasOwnProperty(v)){var S=c[v];if(S!=null)switch(v){case"src":f=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,i));default:Tt(a,i,v,S,c,null)}}y&&Tt(a,i,"srcSet",c.srcSet,c,null),f&&Tt(a,i,"src",c.src,c,null);return;case"input":at("invalid",a);var T=v=S=y=null,$=null,J=null;for(f in c)if(c.hasOwnProperty(f)){var fe=c[f];if(fe!=null)switch(f){case"name":y=fe;break;case"type":S=fe;break;case"checked":$=fe;break;case"defaultChecked":J=fe;break;case"value":v=fe;break;case"defaultValue":T=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(n(137,i));break;default:Tt(a,i,f,fe,c,null)}}Yu(a,v,T,$,J,S,y,!1);return;case"select":at("invalid",a),f=S=v=null;for(y in c)if(c.hasOwnProperty(y)&&(T=c[y],T!=null))switch(y){case"value":v=T;break;case"defaultValue":S=T;break;case"multiple":f=T;default:Tt(a,i,y,T,c,null)}i=v,c=S,a.multiple=!!f,i!=null?Li(a,!!f,i,!1):c!=null&&Li(a,!!f,c,!0);return;case"textarea":at("invalid",a),v=y=f=null;for(S in c)if(c.hasOwnProperty(S)&&(T=c[S],T!=null))switch(S){case"value":f=T;break;case"defaultValue":y=T;break;case"children":v=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(n(91));break;default:Tt(a,i,S,T,c,null)}Xu(a,f,y,v);return;case"option":for($ in c)if(c.hasOwnProperty($)&&(f=c[$],f!=null))switch($){case"selected":a.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Tt(a,i,$,f,c,null)}return;case"dialog":at("beforetoggle",a),at("toggle",a),at("cancel",a),at("close",a);break;case"iframe":case"object":at("load",a);break;case"video":case"audio":for(f=0;f<wc.length;f++)at(wc[f],a);break;case"image":at("error",a),at("load",a);break;case"details":at("toggle",a);break;case"embed":case"source":case"link":at("error",a),at("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in c)if(c.hasOwnProperty(J)&&(f=c[J],f!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,i));default:Tt(a,i,J,f,c,null)}return;default:if(Fo(i)){for(fe in c)c.hasOwnProperty(fe)&&(f=c[fe],f!==void 0&&m0(a,i,fe,f,c,void 0));return}}for(T in c)c.hasOwnProperty(T)&&(f=c[T],f!=null&&Tt(a,i,T,f,c,null))}function SM(a,i,c,f){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,v=null,S=null,T=null,$=null,J=null,fe=null;for(ce in c){var ve=c[ce];if(c.hasOwnProperty(ce)&&ve!=null)switch(ce){case"checked":break;case"value":break;case"defaultValue":$=ve;default:f.hasOwnProperty(ce)||Tt(a,i,ce,null,f,ve)}}for(var ae in f){var ce=f[ae];if(ve=c[ae],f.hasOwnProperty(ae)&&(ce!=null||ve!=null))switch(ae){case"type":v=ce;break;case"name":y=ce;break;case"checked":J=ce;break;case"defaultChecked":fe=ce;break;case"value":S=ce;break;case"defaultValue":T=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(n(137,i));break;default:ce!==ve&&Tt(a,i,ae,ce,f,ve)}}Bo(a,S,T,$,J,fe,v,y);return;case"select":ce=S=T=ae=null;for(v in c)if($=c[v],c.hasOwnProperty(v)&&$!=null)switch(v){case"value":break;case"multiple":ce=$;default:f.hasOwnProperty(v)||Tt(a,i,v,null,f,$)}for(y in f)if(v=f[y],$=c[y],f.hasOwnProperty(y)&&(v!=null||$!=null))switch(y){case"value":ae=v;break;case"defaultValue":T=v;break;case"multiple":S=v;default:v!==$&&Tt(a,i,y,v,f,$)}i=T,c=S,f=ce,ae!=null?Li(a,!!c,ae,!1):!!f!=!!c&&(i!=null?Li(a,!!c,i,!0):Li(a,!!c,c?[]:"",!1));return;case"textarea":ce=ae=null;for(T in c)if(y=c[T],c.hasOwnProperty(T)&&y!=null&&!f.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Tt(a,i,T,null,f,y)}for(S in f)if(y=f[S],v=c[S],f.hasOwnProperty(S)&&(y!=null||v!=null))switch(S){case"value":ae=y;break;case"defaultValue":ce=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(n(91));break;default:y!==v&&Tt(a,i,S,y,f,v)}Wu(a,ae,ce);return;case"option":for(var qe in c)if(ae=c[qe],c.hasOwnProperty(qe)&&ae!=null&&!f.hasOwnProperty(qe))switch(qe){case"selected":a.selected=!1;break;default:Tt(a,i,qe,null,f,ae)}for($ in f)if(ae=f[$],ce=c[$],f.hasOwnProperty($)&&ae!==ce&&(ae!=null||ce!=null))switch($){case"selected":a.selected=ae&&typeof ae!="function"&&typeof ae!="symbol";break;default:Tt(a,i,$,ae,f,ce)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ye in c)ae=c[Ye],c.hasOwnProperty(Ye)&&ae!=null&&!f.hasOwnProperty(Ye)&&Tt(a,i,Ye,null,f,ae);for(J in f)if(ae=f[J],ce=c[J],f.hasOwnProperty(J)&&ae!==ce&&(ae!=null||ce!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(n(137,i));break;default:Tt(a,i,J,ae,f,ce)}return;default:if(Fo(i)){for(var Dt in c)ae=c[Dt],c.hasOwnProperty(Dt)&&ae!==void 0&&!f.hasOwnProperty(Dt)&&m0(a,i,Dt,void 0,f,ae);for(fe in f)ae=f[fe],ce=c[fe],!f.hasOwnProperty(fe)||ae===ce||ae===void 0&&ce===void 0||m0(a,i,fe,ae,f,ce);return}}for(var Y in c)ae=c[Y],c.hasOwnProperty(Y)&&ae!=null&&!f.hasOwnProperty(Y)&&Tt(a,i,Y,null,f,ae);for(ve in f)ae=f[ve],ce=c[ve],!f.hasOwnProperty(ve)||ae===ce||ae==null&&ce==null||Tt(a,i,ve,ae,f,ce)}function Xj(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function EM(){if(typeof performance.getEntriesByType=="function"){for(var a=0,i=0,c=performance.getEntriesByType("resource"),f=0;f<c.length;f++){var y=c[f],v=y.transferSize,S=y.initiatorType,T=y.duration;if(v&&T&&Xj(S)){for(S=0,T=y.responseEnd,f+=1;f<c.length;f++){var $=c[f],J=$.startTime;if(J>T)break;var fe=$.transferSize,ve=$.initiatorType;fe&&Xj(ve)&&($=$.responseEnd,S+=fe*($<T?1:(T-J)/($-J)))}if(--f,i+=8*(v+S)/(y.duration/1e3),a++,10<a)break}}if(0<a)return i/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var p0=null,g0=null;function Gd(a){return a.nodeType===9?a:a.ownerDocument}function Zj(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qj(a,i){if(a===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&i==="foreignObject"?0:a}function y0(a,i){return a==="textarea"||a==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var v0=null;function AM(){var a=window.event;return a&&a.type==="popstate"?a===v0?!1:(v0=a,!0):(v0=null,!1)}var Jj=typeof setTimeout=="function"?setTimeout:void 0,OM=typeof clearTimeout=="function"?clearTimeout:void 0,eN=typeof Promise=="function"?Promise:void 0,CM=typeof queueMicrotask=="function"?queueMicrotask:typeof eN<"u"?function(a){return eN.resolve(null).then(a).catch(TM)}:Jj;function TM(a){setTimeout(function(){throw a})}function rs(a){return a==="head"}function tN(a,i){var c=i,f=0;do{var y=c.nextSibling;if(a.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"||c==="/&"){if(f===0){a.removeChild(y),Zl(i);return}f--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")f++;else if(c==="html")Nc(a.ownerDocument.documentElement);else if(c==="head"){c=a.ownerDocument.head,Nc(c);for(var v=c.firstChild;v;){var S=v.nextSibling,T=v.nodeName;v[_s]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&v.rel.toLowerCase()==="stylesheet"||c.removeChild(v),v=S}}else c==="body"&&Nc(a.ownerDocument.body);c=y}while(c);Zl(i)}function rN(a,i){var c=a;a=0;do{var f=c.nextSibling;if(c.nodeType===1?i?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(i?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),f&&f.nodeType===8)if(c=f.data,c==="/$"){if(a===0)break;a--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||a++;c=f}while(c)}function x0(a){var i=a.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var c=i;switch(i=i.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":x0(c),$o(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function DM(a,i,c,f){for(;a.nodeType===1;){var y=c;if(a.nodeName.toLowerCase()!==i.toLowerCase()){if(!f&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(f){if(!a[_s])switch(i){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(v=a.getAttribute("rel"),v==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(v!==y.rel||a.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(v=a.getAttribute("src"),(v!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&v&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(i==="input"&&a.type==="hidden"){var v=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===v)return a}else return a;if(a=Jn(a.nextSibling),a===null)break}return null}function kM(a,i,c){if(i==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=Jn(a.nextSibling),a===null))return null;return a}function nN(a,i){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!i||(a=Jn(a.nextSibling),a===null))return null;return a}function b0(a){return a.data==="$?"||a.data==="$~"}function w0(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function PM(a,i){var c=a.ownerDocument;if(a.data==="$~")a._reactRetry=i;else if(a.data!=="$?"||c.readyState!=="loading")i();else{var f=function(){i(),c.removeEventListener("DOMContentLoaded",f)};c.addEventListener("DOMContentLoaded",f),a._reactRetry=f}}function Jn(a){for(;a!=null;a=a.nextSibling){var i=a.nodeType;if(i===1||i===3)break;if(i===8){if(i=a.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return a}var j0=null;function aN(a){a=a.nextSibling;for(var i=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"||c==="/&"){if(i===0)return Jn(a.nextSibling);i--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||i++}a=a.nextSibling}return null}function iN(a){a=a.previousSibling;for(var i=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(i===0)return a;i--}else c!=="/$"&&c!=="/&"||i++}a=a.previousSibling}return null}function sN(a,i,c){switch(i=Gd(c),a){case"html":if(a=i.documentElement,!a)throw Error(n(452));return a;case"head":if(a=i.head,!a)throw Error(n(453));return a;case"body":if(a=i.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}function Nc(a){for(var i=a.attributes;i.length;)a.removeAttributeNode(i[0]);$o(a)}var ea=new Map,lN=new Set;function Fd(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var si=W.d;W.d={f:MM,r:RM,D:IM,C:zM,L:LM,m:qM,X:UM,S:$M,M:BM};function MM(){var a=si.f(),i=Rd();return a||i}function RM(a){var i=Ri(a);i!==null&&i.tag===5&&i.type==="form"?_w(i):si.r(a)}var Yl=typeof document>"u"?null:document;function oN(a,i,c){var f=Yl;if(f&&typeof i=="string"&&i){var y=yn(i);y='link[rel="'+a+'"][href="'+y+'"]',typeof c=="string"&&(y+='[crossorigin="'+c+'"]'),lN.has(y)||(lN.add(y),a={rel:a,crossOrigin:c,href:i},f.querySelector(y)===null&&(i=f.createElement("link"),Fr(i,"link",a),ur(i),f.head.appendChild(i)))}}function IM(a){si.D(a),oN("dns-prefetch",a,null)}function zM(a,i){si.C(a,i),oN("preconnect",a,i)}function LM(a,i,c){si.L(a,i,c);var f=Yl;if(f&&a&&i){var y='link[rel="preload"][as="'+yn(i)+'"]';i==="image"&&c&&c.imageSrcSet?(y+='[imagesrcset="'+yn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(y+='[imagesizes="'+yn(c.imageSizes)+'"]')):y+='[href="'+yn(a)+'"]';var v=y;switch(i){case"style":v=Wl(a);break;case"script":v=Xl(a)}ea.has(v)||(a=g({rel:"preload",href:i==="image"&&c&&c.imageSrcSet?void 0:a,as:i},c),ea.set(v,a),f.querySelector(y)!==null||i==="style"&&f.querySelector(_c(v))||i==="script"&&f.querySelector(Sc(v))||(i=f.createElement("link"),Fr(i,"link",a),ur(i),f.head.appendChild(i)))}}function qM(a,i){si.m(a,i);var c=Yl;if(c&&a){var f=i&&typeof i.as=="string"?i.as:"script",y='link[rel="modulepreload"][as="'+yn(f)+'"][href="'+yn(a)+'"]',v=y;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Xl(a)}if(!ea.has(v)&&(a=g({rel:"modulepreload",href:a},i),ea.set(v,a),c.querySelector(y)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Sc(v)))return}f=c.createElement("link"),Fr(f,"link",a),ur(f),c.head.appendChild(f)}}}function $M(a,i,c){si.S(a,i,c);var f=Yl;if(f&&a){var y=Ii(f).hoistableStyles,v=Wl(a);i=i||"default";var S=y.get(v);if(!S){var T={loading:0,preload:null};if(S=f.querySelector(_c(v)))T.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":i},c),(c=ea.get(v))&&N0(a,c);var $=S=f.createElement("link");ur($),Fr($,"link",a),$._p=new Promise(function(J,fe){$.onload=J,$.onerror=fe}),$.addEventListener("load",function(){T.loading|=1}),$.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Hd(S,i,f)}S={type:"stylesheet",instance:S,count:1,state:T},y.set(v,S)}}}function UM(a,i){si.X(a,i);var c=Yl;if(c&&a){var f=Ii(c).hoistableScripts,y=Xl(a),v=f.get(y);v||(v=c.querySelector(Sc(y)),v||(a=g({src:a,async:!0},i),(i=ea.get(y))&&_0(a,i),v=c.createElement("script"),ur(v),Fr(v,"link",a),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},f.set(y,v))}}function BM(a,i){si.M(a,i);var c=Yl;if(c&&a){var f=Ii(c).hoistableScripts,y=Xl(a),v=f.get(y);v||(v=c.querySelector(Sc(y)),v||(a=g({src:a,async:!0,type:"module"},i),(i=ea.get(y))&&_0(a,i),v=c.createElement("script"),ur(v),Fr(v,"link",a),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},f.set(y,v))}}function cN(a,i,c,f){var y=(y=_e.current)?Fd(y):null;if(!y)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(i=Wl(c.href),c=Ii(y).hoistableStyles,f=c.get(i),f||(f={type:"style",instance:null,count:0,state:null},c.set(i,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=Wl(c.href);var v=Ii(y).hoistableStyles,S=v.get(a);if(S||(y=y.ownerDocument||y,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(a,S),(v=y.querySelector(_c(a)))&&!v._p&&(S.instance=v,S.state.loading=5),ea.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},ea.set(a,c),v||GM(y,a,c,S.state))),i&&f===null)throw Error(n(528,""));return S}if(i&&f!==null)throw Error(n(529,""));return null;case"script":return i=c.async,c=c.src,typeof c=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Xl(c),c=Ii(y).hoistableScripts,f=c.get(i),f||(f={type:"script",instance:null,count:0,state:null},c.set(i,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function Wl(a){return'href="'+yn(a)+'"'}function _c(a){return'link[rel="stylesheet"]['+a+"]"}function uN(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function GM(a,i,c,f){a.querySelector('link[rel="preload"][as="style"]['+i+"]")?f.loading=1:(i=a.createElement("link"),f.preload=i,i.addEventListener("load",function(){return f.loading|=1}),i.addEventListener("error",function(){return f.loading|=2}),Fr(i,"link",c),ur(i),a.head.appendChild(i))}function Xl(a){return'[src="'+yn(a)+'"]'}function Sc(a){return"script[async]"+a}function dN(a,i,c){if(i.count++,i.instance===null)switch(i.type){case"style":var f=a.querySelector('style[data-href~="'+yn(c.href)+'"]');if(f)return i.instance=f,ur(f),f;var y=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return f=(a.ownerDocument||a).createElement("style"),ur(f),Fr(f,"style",y),Hd(f,c.precedence,a),i.instance=f;case"stylesheet":y=Wl(c.href);var v=a.querySelector(_c(y));if(v)return i.state.loading|=4,i.instance=v,ur(v),v;f=uN(c),(y=ea.get(y))&&N0(f,y),v=(a.ownerDocument||a).createElement("link"),ur(v);var S=v;return S._p=new Promise(function(T,$){S.onload=T,S.onerror=$}),Fr(v,"link",f),i.state.loading|=4,Hd(v,c.precedence,a),i.instance=v;case"script":return v=Xl(c.src),(y=a.querySelector(Sc(v)))?(i.instance=y,ur(y),y):(f=c,(y=ea.get(v))&&(f=g({},c),_0(f,y)),a=a.ownerDocument||a,y=a.createElement("script"),ur(y),Fr(y,"link",f),a.head.appendChild(y),i.instance=y);case"void":return null;default:throw Error(n(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(f=i.instance,i.state.loading|=4,Hd(f,c.precedence,a));return i.instance}function Hd(a,i,c){for(var f=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=f.length?f[f.length-1]:null,v=y,S=0;S<f.length;S++){var T=f[S];if(T.dataset.precedence===i)v=T;else if(v!==y)break}v?v.parentNode.insertBefore(a,v.nextSibling):(i=c.nodeType===9?c.head:c,i.insertBefore(a,i.firstChild))}function N0(a,i){a.crossOrigin==null&&(a.crossOrigin=i.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=i.referrerPolicy),a.title==null&&(a.title=i.title)}function _0(a,i){a.crossOrigin==null&&(a.crossOrigin=i.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=i.referrerPolicy),a.integrity==null&&(a.integrity=i.integrity)}var Vd=null;function fN(a,i,c){if(Vd===null){var f=new Map,y=Vd=new Map;y.set(c,f)}else y=Vd,f=y.get(c),f||(f=new Map,y.set(c,f));if(f.has(a))return f;for(f.set(a,null),c=c.getElementsByTagName(a),y=0;y<c.length;y++){var v=c[y];if(!(v[_s]||v[cr]||a==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var S=v.getAttribute(i)||"";S=a+S;var T=f.get(S);T?T.push(v):f.set(S,[v])}}return f}function hN(a,i,c){a=a.ownerDocument||a,a.head.insertBefore(c,i==="title"?a.querySelector("head > title"):null)}function FM(a,i,c){if(c===1||i.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return a=i.disabled,typeof i.precedence=="string"&&a==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function mN(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function HM(a,i,c,f){if(c.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var y=Wl(f.href),v=i.querySelector(_c(y));if(v){i=v._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(a.count++,a=Kd.bind(a),i.then(a,a)),c.state.loading|=4,c.instance=v,ur(v);return}v=i.ownerDocument||i,f=uN(f),(y=ea.get(y))&&N0(f,y),v=v.createElement("link"),ur(v);var S=v;S._p=new Promise(function(T,$){S.onload=T,S.onerror=$}),Fr(v,"link",f),c.instance=v}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(c,i),(i=c.state.preload)&&(c.state.loading&3)===0&&(a.count++,c=Kd.bind(a),i.addEventListener("load",c),i.addEventListener("error",c))}}var S0=0;function VM(a,i){return a.stylesheets&&a.count===0&&Wd(a,a.stylesheets),0<a.count||0<a.imgCount?function(c){var f=setTimeout(function(){if(a.stylesheets&&Wd(a,a.stylesheets),a.unsuspend){var v=a.unsuspend;a.unsuspend=null,v()}},6e4+i);0<a.imgBytes&&S0===0&&(S0=62500*EM());var y=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Wd(a,a.stylesheets),a.unsuspend)){var v=a.unsuspend;a.unsuspend=null,v()}},(a.imgBytes>S0?50:800)+i);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(f),clearTimeout(y)}}:null}function Kd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Wd(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Yd=null;function Wd(a,i){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Yd=new Map,i.forEach(KM,a),Yd=null,Kd.call(a))}function KM(a,i){if(!(i.state.loading&4)){var c=Yd.get(a);if(c)var f=c.get(null);else{c=new Map,Yd.set(a,c);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<y.length;v++){var S=y[v];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(c.set(S.dataset.precedence,S),f=S)}f&&c.set(null,f)}y=i.instance,S=y.getAttribute("data-precedence"),v=c.get(S)||f,v===f&&c.set(null,y),c.set(S,y),this.count++,f=Kd.bind(this),y.addEventListener("load",f),y.addEventListener("error",f),v?v.parentNode.insertBefore(y,v.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),i.state.loading|=4}}var Ec={$$typeof:O,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function YM(a,i,c,f,y,v,S,T,$){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=dt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dt(0),this.hiddenUpdates=dt(null),this.identifierPrefix=f,this.onUncaughtError=y,this.onCaughtError=v,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function pN(a,i,c,f,y,v,S,T,$,J,fe,ve){return a=new YM(a,i,c,S,$,J,fe,ve,T),i=1,v===!0&&(i|=24),v=kn(3,null,null,i),a.current=v,v.stateNode=a,i=ap(),i.refCount++,a.pooledCache=i,i.refCount++,v.memoizedState={element:f,isDehydrated:c,cache:i},op(v),a}function gN(a){return a?(a=Al,a):Al}function yN(a,i,c,f,y,v){y=gN(y),f.context===null?f.context=y:f.pendingContext=y,f=Hi(i),f.payload={element:c},v=v===void 0?null:v,v!==null&&(f.callback=v),c=Vi(a,f,i),c!==null&&(jn(c,a,i),ac(c,a,i))}function vN(a,i){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<i?c:i}}function E0(a,i){vN(a,i),(a=a.alternate)&&vN(a,i)}function xN(a){if(a.tag===13||a.tag===31){var i=Os(a,67108864);i!==null&&jn(i,a,67108864),E0(a,67108864)}}function bN(a){if(a.tag===13||a.tag===31){var i=zn();i=Zr(i);var c=Os(a,i);c!==null&&jn(c,a,i),E0(a,i)}}var Xd=!0;function WM(a,i,c,f){var y=I.T;I.T=null;var v=W.p;try{W.p=2,A0(a,i,c,f)}finally{W.p=v,I.T=y}}function XM(a,i,c,f){var y=I.T;I.T=null;var v=W.p;try{W.p=8,A0(a,i,c,f)}finally{W.p=v,I.T=y}}function A0(a,i,c,f){if(Xd){var y=O0(f);if(y===null)h0(a,i,f,Zd,c),jN(a,f);else if(QM(y,a,i,c,f))f.stopPropagation();else if(jN(a,f),i&4&&-1<ZM.indexOf(a)){for(;y!==null;){var v=Ri(y);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var S=Hn(v.pendingLanes);if(S!==0){var T=v;for(T.pendingLanes|=2,T.entangledLanes|=2;S;){var $=1<<31-nr(S);T.entanglements[1]|=$,S&=~$}Ra(v),(gt&6)===0&&(Pd=Jt()+500,bc(0))}}break;case 31:case 13:T=Os(v,2),T!==null&&jn(T,v,2),Rd(),E0(v,2)}if(v=O0(f),v===null&&h0(a,i,f,Zd,c),v===y)break;y=v}y!==null&&f.stopPropagation()}else h0(a,i,f,null,c)}}function O0(a){return a=Vo(a),C0(a)}var Zd=null;function C0(a){if(Zd=null,a=Mi(a),a!==null){var i=o(a);if(i===null)a=null;else{var c=i.tag;if(c===13){if(a=u(i),a!==null)return a;a=null}else if(c===31){if(a=d(i),a!==null)return a;a=null}else if(c===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;a=null}else i!==a&&(a=null)}}return Zd=a,null}function wN(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hn()){case mn:return 2;case Wr:return 8;case Ca:case Tn:return 32;case Ta:return 268435456;default:return 32}default:return 32}}var T0=!1,ns=null,as=null,is=null,Ac=new Map,Oc=new Map,ss=[],ZM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jN(a,i){switch(a){case"focusin":case"focusout":ns=null;break;case"dragenter":case"dragleave":as=null;break;case"mouseover":case"mouseout":is=null;break;case"pointerover":case"pointerout":Ac.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oc.delete(i.pointerId)}}function Cc(a,i,c,f,y,v){return a===null||a.nativeEvent!==v?(a={blockedOn:i,domEventName:c,eventSystemFlags:f,nativeEvent:v,targetContainers:[y]},i!==null&&(i=Ri(i),i!==null&&xN(i)),a):(a.eventSystemFlags|=f,i=a.targetContainers,y!==null&&i.indexOf(y)===-1&&i.push(y),a)}function QM(a,i,c,f,y){switch(i){case"focusin":return ns=Cc(ns,a,i,c,f,y),!0;case"dragenter":return as=Cc(as,a,i,c,f,y),!0;case"mouseover":return is=Cc(is,a,i,c,f,y),!0;case"pointerover":var v=y.pointerId;return Ac.set(v,Cc(Ac.get(v)||null,a,i,c,f,y)),!0;case"gotpointercapture":return v=y.pointerId,Oc.set(v,Cc(Oc.get(v)||null,a,i,c,f,y)),!0}return!1}function NN(a){var i=Mi(a.target);if(i!==null){var c=o(i);if(c!==null){if(i=c.tag,i===13){if(i=u(c),i!==null){a.blockedOn=i,pn(a.priority,function(){bN(c)});return}}else if(i===31){if(i=d(c),i!==null){a.blockedOn=i,pn(a.priority,function(){bN(c)});return}}else if(i===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Qd(a){if(a.blockedOn!==null)return!1;for(var i=a.targetContainers;0<i.length;){var c=O0(a.nativeEvent);if(c===null){c=a.nativeEvent;var f=new c.constructor(c.type,c);Ho=f,c.target.dispatchEvent(f),Ho=null}else return i=Ri(c),i!==null&&xN(i),a.blockedOn=c,!1;i.shift()}return!0}function _N(a,i,c){Qd(a)&&c.delete(i)}function JM(){T0=!1,ns!==null&&Qd(ns)&&(ns=null),as!==null&&Qd(as)&&(as=null),is!==null&&Qd(is)&&(is=null),Ac.forEach(_N),Oc.forEach(_N)}function Jd(a,i){a.blockedOn===i&&(a.blockedOn=null,T0||(T0=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,JM)))}var ef=null;function SN(a){ef!==a&&(ef=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){ef===a&&(ef=null);for(var i=0;i<a.length;i+=3){var c=a[i],f=a[i+1],y=a[i+2];if(typeof f!="function"){if(C0(f||c)===null)continue;break}var v=Ri(c);v!==null&&(a.splice(i,3),i-=3,Op(v,{pending:!0,data:y,method:c.method,action:f},f,y))}}))}function Zl(a){function i($){return Jd($,a)}ns!==null&&Jd(ns,a),as!==null&&Jd(as,a),is!==null&&Jd(is,a),Ac.forEach(i),Oc.forEach(i);for(var c=0;c<ss.length;c++){var f=ss[c];f.blockedOn===a&&(f.blockedOn=null)}for(;0<ss.length&&(c=ss[0],c.blockedOn===null);)NN(c),c.blockedOn===null&&ss.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(f=0;f<c.length;f+=3){var y=c[f],v=c[f+1],S=y[Qr]||null;if(typeof v=="function")S||SN(c);else if(S){var T=null;if(v&&v.hasAttribute("formAction")){if(y=v,S=v[Qr]||null)T=S.formAction;else if(C0(y)!==null)continue}else T=S.action;typeof T=="function"?c[f+1]=T:(c.splice(f,3),f-=3),SN(c)}}}function EN(){function a(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(S){return y=S})},focusReset:"manual",scroll:"manual"})}function i(){y!==null&&(y(),y=null),f||setTimeout(c,20)}function c(){if(!f&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,y=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(c,100),function(){f=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),y!==null&&(y(),y=null)}}}function D0(a){this._internalRoot=a}tf.prototype.render=D0.prototype.render=function(a){var i=this._internalRoot;if(i===null)throw Error(n(409));var c=i.current,f=zn();yN(c,f,a,i,null,null)},tf.prototype.unmount=D0.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var i=a.containerInfo;yN(a.current,2,null,a,null,null),Rd(),i[Pi]=null}};function tf(a){this._internalRoot=a}tf.prototype.unstable_scheduleHydration=function(a){if(a){var i=wt();a={blockedOn:null,target:a,priority:i};for(var c=0;c<ss.length&&i!==0&&i<ss[c].priority;c++);ss.splice(c,0,a),c===0&&NN(a)}};var AN=t.version;if(AN!=="19.2.0")throw Error(n(527,AN,"19.2.0"));W.findDOMNode=function(a){var i=a._reactInternals;if(i===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=m(i),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var e4={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rf.isDisabled&&rf.supportsFiber)try{ut=rf.inject(e4),At=rf}catch{}}return Dc.createRoot=function(a,i){if(!s(a))throw Error(n(299));var c=!1,f="",y=Mw,v=Rw,S=Iw;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onUncaughtError!==void 0&&(y=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(S=i.onRecoverableError)),i=pN(a,1,!1,null,null,c,f,null,y,v,S,EN),a[Pi]=i.current,f0(a),new D0(i)},Dc.hydrateRoot=function(a,i,c){if(!s(a))throw Error(n(299));var f=!1,y="",v=Mw,S=Rw,T=Iw,$=null;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(v=c.onUncaughtError),c.onCaughtError!==void 0&&(S=c.onCaughtError),c.onRecoverableError!==void 0&&(T=c.onRecoverableError),c.formState!==void 0&&($=c.formState)),i=pN(a,1,!0,i,c??null,f,y,$,v,S,T,EN),i.context=gN(null),c=i.current,f=zn(),f=Zr(f),y=Hi(f),y.callback=null,Vi(c,y,f),c=f,i.current.lanes=c,ct(i,c),Ra(i),a[Pi]=i.current,f0(a),new tf(i)},Dc.version="19.2.0",Dc}var zN;function m4(){if(zN)return R0.exports;zN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),R0.exports=h4(),R0.exports}var p4=m4();const g4=Ea(p4);var Te=(e=>(e.ADMIN="ADMIN",e.GENERAL_MANAGER="GENERAL_MANAGER",e.MANAGER="MANAGER",e.WORKER="WORKER",e))(Te||{}),et=(e=>(e.PENDING="PENDING",e.APPROVED="APPROVED",e.REJECTED="REJECTED",e.IN_TRANSIT="IN_TRANSIT",e.DELIVERED="DELIVERED",e.CONFIRMED="CONFIRMED",e))(et||{}),br=(e=>(e.CENTRAL="CENTRAL",e.BRANCH="BRANCH",e.FIELD="FIELD",e))(br||{}),yt=(e=>(e.FULL_DAY="D",e.HALF_DAY="D/2",e.ABSENT="F",e))(yt||{}),Pt=(e=>(e.CONSUMABLE="CONSUMABLE",e.ASSET="ASSET",e))(Pt||{}),Zt=(e=>(e.NEW="NEW",e.GOOD="GOOD",e.FAIR="FAIR",e.POOR="POOR",e.DAMAGED="DAMAGED",e))(Zt||{}),xa=(e=>(e.SALE="SALE",e.EXPENSE="EXPENSE",e))(xa||{}),_n=(e=>(e.CASH="CASH",e.CARD="CARD",e.MOBILE_MONEY="MOBILE_MONEY",e.BANK_TRANSFER="BANK_TRANSFER",e.CHEQUE="CHEQUE",e))(_n||{});const y4="modulepreload",v4=function(e){return"/"+e},LN={},go=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){let u=function(m){return Promise.all(m.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),h=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));s=u(r.map(m=>{if(m=v4(m),m in LN)return;LN[m]=!0;const p=m.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${g}`))return;const x=document.createElement("link");if(x.rel=p?"stylesheet":y4,p||(x.as="script"),x.crossOrigin="",x.href=m,h&&x.setAttribute("nonce",h),document.head.appendChild(x),p)return new Promise((b,j)=>{x.addEventListener("load",b),x.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${m}`)))})}))}function o(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return s.then(u=>{for(const d of u||[])d.status==="rejected"&&o(d.reason);return t().catch(o)})},x4=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>go(async()=>{const{default:n}=await Promise.resolve().then(()=>Co);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Bv extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class b4 extends Bv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class w4 extends Bv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class j4 extends Bv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ty;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ty||(Ty={}));var N4=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function d(p){try{m(n.next(p))}catch(g){u(g)}}function h(p){try{m(n.throw(p))}catch(g){u(g)}}function m(p){p.done?o(p.value):s(p.value).then(d,h)}m((n=n.apply(e,t||[])).next())})};class _4{constructor(t,{headers:r={},customFetch:n,region:s=Ty.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=x4(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return N4(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:u}=r;let d={},{region:h}=r;h||(h=this.region),h&&h!=="any"&&(d["x-region"]=h);let m;u&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",m=u):typeof u=="string"?(d["Content-Type"]="text/plain",m=u):typeof FormData<"u"&&u instanceof FormData?m=u:(d["Content-Type"]="application/json",m=JSON.stringify(u)));const p=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),s),body:m}).catch(j=>{throw new b4(j)}),g=p.headers.get("x-relay-error");if(g&&g==="true")throw new w4(p);if(!p.ok)throw new j4(p);let x=((n=p.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),b;return x==="application/json"?b=yield p.json():x==="application/octet-stream"?b=yield p.blob():x==="text/event-stream"?b=p:x==="multipart/form-data"?b=yield p.formData():b=yield p.text(),{data:b,error:null}}catch(s){return{data:null,error:s}}})}}var kr={},Ql={},Jl={},eo={},to={},ro={},S4=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},yo=S4();const E4=yo.fetch,kA=yo.fetch.bind(yo),PA=yo.Headers,A4=yo.Request,O4=yo.Response,Co=Object.freeze(Object.defineProperty({__proto__:null,Headers:PA,Request:A4,Response:O4,default:kA,fetch:E4},Symbol.toStringTag,{value:"Module"})),C4=i4(Co);var nf={},qN;function MA(){if(qN)return nf;qN=1,Object.defineProperty(nf,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return nf.default=e,nf}var $N;function RA(){if($N)return ro;$N=1;var e=ro&&ro.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(ro,"__esModule",{value:!0});const t=e(C4),r=e(MA());class n{constructor(o){this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=o.headers,this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=o.shouldThrowOnError,this.signal=o.signal,this.isMaybeSingle=o.isMaybeSingle,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,u){return this.headers=Object.assign({},this.headers),this.headers[o]=u,this}then(o,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const d=this.fetch;let h=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var p,g,x;let b=null,j=null,N=null,_=m.status,A=m.statusText;if(m.ok){if(this.method!=="HEAD"){const D=await m.text();D===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?j=D:j=JSON.parse(D))}const O=(p=this.headers.Prefer)===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),C=(g=m.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");O&&C&&C.length>1&&(N=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(j)&&(j.length>1?(b={code:"PGRST116",details:`Results contain ${j.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},j=null,N=null,_=406,A="Not Acceptable"):j.length===1?j=j[0]:j=null)}else{const O=await m.text();try{b=JSON.parse(O),Array.isArray(b)&&m.status===404&&(j=[],b=null,_=200,A="OK")}catch{m.status===404&&O===""?(_=204,A="No Content"):b={message:O}}if(b&&this.isMaybeSingle&&(!((x=b==null?void 0:b.details)===null||x===void 0)&&x.includes("0 rows"))&&(b=null,_=200,A="OK"),b&&this.shouldThrowOnError)throw new r.default(b)}return{error:b,data:j,count:N,status:_,statusText:A}});return this.shouldThrowOnError||(h=h.catch(m=>{var p,g,x;return{error:{message:`${(p=m==null?void 0:m.name)!==null&&p!==void 0?p:"FetchError"}: ${m==null?void 0:m.message}`,details:`${(g=m==null?void 0:m.stack)!==null&&g!==void 0?g:""}`,hint:"",code:`${(x=m==null?void 0:m.code)!==null&&x!==void 0?x:""}`},data:null,count:null,status:0,statusText:""}})),h.then(o,u)}}return ro.default=n,ro}var UN;function IA(){if(UN)return to;UN=1;var e=to&&to.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(to,"__esModule",{value:!0});const t=e(RA());class r extends t.default{select(s){let o=!1;const u=(s??"*").split("").map(d=>/\s/.test(d)&&!o?"":(d==='"'&&(o=!o),d)).join("");return this.url.searchParams.set("select",u),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(s,{ascending:o=!0,nullsFirst:u,foreignTable:d,referencedTable:h=d}={}){const m=h?`${h}.order`:"order",p=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${p?`${p},`:""}${s}.${o?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:o,referencedTable:u=o}={}){const d=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${s}`),this}range(s,o,{foreignTable:u,referencedTable:d=u}={}){const h=typeof d>"u"?"offset":`${d}.offset`,m=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(h,`${s}`),this.url.searchParams.set(m,`${o-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:s=!1,verbose:o=!1,settings:u=!1,buffers:d=!1,wal:h=!1,format:m="text"}={}){var p;const g=[s?"analyze":null,o?"verbose":null,u?"settings":null,d?"buffers":null,h?"wal":null].filter(Boolean).join("|"),x=(p=this.headers.Accept)!==null&&p!==void 0?p:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${m}; for="${x}"; options=${g};`,m==="json"?this:this}rollback(){var s;return((s=this.headers.Prefer)!==null&&s!==void 0?s:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return to.default=r,to}var BN;function Gv(){if(BN)return eo;BN=1;var e=eo&&eo.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(eo,"__esModule",{value:!0});const t=e(IA());class r extends t.default{eq(s,o){return this.url.searchParams.append(s,`eq.${o}`),this}neq(s,o){return this.url.searchParams.append(s,`neq.${o}`),this}gt(s,o){return this.url.searchParams.append(s,`gt.${o}`),this}gte(s,o){return this.url.searchParams.append(s,`gte.${o}`),this}lt(s,o){return this.url.searchParams.append(s,`lt.${o}`),this}lte(s,o){return this.url.searchParams.append(s,`lte.${o}`),this}like(s,o){return this.url.searchParams.append(s,`like.${o}`),this}likeAllOf(s,o){return this.url.searchParams.append(s,`like(all).{${o.join(",")}}`),this}likeAnyOf(s,o){return this.url.searchParams.append(s,`like(any).{${o.join(",")}}`),this}ilike(s,o){return this.url.searchParams.append(s,`ilike.${o}`),this}ilikeAllOf(s,o){return this.url.searchParams.append(s,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(s,o){return this.url.searchParams.append(s,`ilike(any).{${o.join(",")}}`),this}is(s,o){return this.url.searchParams.append(s,`is.${o}`),this}in(s,o){const u=Array.from(new Set(o)).map(d=>typeof d=="string"&&new RegExp("[,()]").test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(s,`in.(${u})`),this}contains(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cs.{${o.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(o)}`),this}containedBy(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cd.{${o.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(o)}`),this}rangeGt(s,o){return this.url.searchParams.append(s,`sr.${o}`),this}rangeGte(s,o){return this.url.searchParams.append(s,`nxl.${o}`),this}rangeLt(s,o){return this.url.searchParams.append(s,`sl.${o}`),this}rangeLte(s,o){return this.url.searchParams.append(s,`nxr.${o}`),this}rangeAdjacent(s,o){return this.url.searchParams.append(s,`adj.${o}`),this}overlaps(s,o){return typeof o=="string"?this.url.searchParams.append(s,`ov.${o}`):this.url.searchParams.append(s,`ov.{${o.join(",")}}`),this}textSearch(s,o,{config:u,type:d}={}){let h="";d==="plain"?h="pl":d==="phrase"?h="ph":d==="websearch"&&(h="w");const m=u===void 0?"":`(${u})`;return this.url.searchParams.append(s,`${h}fts${m}.${o}`),this}match(s){return Object.entries(s).forEach(([o,u])=>{this.url.searchParams.append(o,`eq.${u}`)}),this}not(s,o,u){return this.url.searchParams.append(s,`not.${o}.${u}`),this}or(s,{foreignTable:o,referencedTable:u=o}={}){const d=u?`${u}.or`:"or";return this.url.searchParams.append(d,`(${s})`),this}filter(s,o,u){return this.url.searchParams.append(s,`${o}.${u}`),this}}return eo.default=r,eo}var GN;function zA(){if(GN)return Jl;GN=1;var e=Jl&&Jl.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Jl,"__esModule",{value:!0});const t=e(Gv());class r{constructor(s,{headers:o={},schema:u,fetch:d}){this.url=s,this.headers=o,this.schema=u,this.fetch=d}select(s,{head:o=!1,count:u}={}){const d=o?"HEAD":"GET";let h=!1;const m=(s??"*").split("").map(p=>/\s/.test(p)&&!h?"":(p==='"'&&(h=!h),p)).join("");return this.url.searchParams.set("select",m),u&&(this.headers.Prefer=`count=${u}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(s,{count:o,defaultToNull:u=!0}={}){const d="POST",h=[];if(this.headers.Prefer&&h.push(this.headers.Prefer),o&&h.push(`count=${o}`),u||h.push("missing=default"),this.headers.Prefer=h.join(","),Array.isArray(s)){const m=s.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(m.length>0){const p=[...new Set(m)].map(g=>`"${g}"`);this.url.searchParams.set("columns",p.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}upsert(s,{onConflict:o,ignoreDuplicates:u=!1,count:d,defaultToNull:h=!0}={}){const m="POST",p=[`resolution=${u?"ignore":"merge"}-duplicates`];if(o!==void 0&&this.url.searchParams.set("on_conflict",o),this.headers.Prefer&&p.push(this.headers.Prefer),d&&p.push(`count=${d}`),h||p.push("missing=default"),this.headers.Prefer=p.join(","),Array.isArray(s)){const g=s.reduce((x,b)=>x.concat(Object.keys(b)),[]);if(g.length>0){const x=[...new Set(g)].map(b=>`"${b}"`);this.url.searchParams.set("columns",x.join(","))}}return new t.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}update(s,{count:o}={}){const u="PATCH",d=[];return this.headers.Prefer&&d.push(this.headers.Prefer),o&&d.push(`count=${o}`),this.headers.Prefer=d.join(","),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}delete({count:s}={}){const o="DELETE",u=[];return s&&u.push(`count=${s}`),this.headers.Prefer&&u.unshift(this.headers.Prefer),this.headers.Prefer=u.join(","),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Jl.default=r,Jl}var kc={},Pc={},FN;function T4(){return FN||(FN=1,Object.defineProperty(Pc,"__esModule",{value:!0}),Pc.version=void 0,Pc.version="0.0.0-automated"),Pc}var HN;function D4(){if(HN)return kc;HN=1,Object.defineProperty(kc,"__esModule",{value:!0}),kc.DEFAULT_HEADERS=void 0;const e=T4();return kc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},kc}var VN;function k4(){if(VN)return Ql;VN=1;var e=Ql&&Ql.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Ql,"__esModule",{value:!0});const t=e(zA()),r=e(Gv()),n=D4();class s{constructor(u,{headers:d={},schema:h,fetch:m}={}){this.url=u,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),d),this.schemaName=h,this.fetch=m}from(u){const d=new URL(`${this.url}/${u}`);return new t.default(d,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new s(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,d={},{head:h=!1,get:m=!1,count:p}={}){let g;const x=new URL(`${this.url}/rpc/${u}`);let b;h||m?(g=h?"HEAD":"GET",Object.entries(d).filter(([N,_])=>_!==void 0).map(([N,_])=>[N,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([N,_])=>{x.searchParams.append(N,_)})):(g="POST",b=d);const j=Object.assign({},this.headers);return p&&(j.Prefer=`count=${p}`),new r.default({method:g,url:x,headers:j,schema:this.schemaName,body:b,fetch:this.fetch,allowEmpty:!1})}}return Ql.default=s,Ql}var KN;function P4(){if(KN)return kr;KN=1;var e=kr&&kr.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(kr,"__esModule",{value:!0}),kr.PostgrestError=kr.PostgrestBuilder=kr.PostgrestTransformBuilder=kr.PostgrestFilterBuilder=kr.PostgrestQueryBuilder=kr.PostgrestClient=void 0;const t=e(k4());kr.PostgrestClient=t.default;const r=e(zA());kr.PostgrestQueryBuilder=r.default;const n=e(Gv());kr.PostgrestFilterBuilder=n.default;const s=e(IA());kr.PostgrestTransformBuilder=s.default;const o=e(RA());kr.PostgrestBuilder=o.default;const u=e(MA());return kr.PostgrestError=u.default,kr.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:o.default,PostgrestError:u.default},kr}var M4=P4();const R4=Ea(M4),{PostgrestClient:I4,PostgrestQueryBuilder:NZ,PostgrestFilterBuilder:_Z,PostgrestTransformBuilder:SZ,PostgrestBuilder:EZ,PostgrestError:AZ}=R4,z4="2.11.2",L4={"X-Client-Info":`realtime-js/${z4}`},q4="1.0.0",LA=1e4,$4=1e3;var ho;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ho||(ho={}));var Ln;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ln||(Ln={}));var va;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(va||(va={}));var Dy;(function(e){e.websocket="websocket"})(Dy||(Dy={}));var Vs;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Vs||(Vs={}));class U4{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),o=r.getUint8(2);let u=this.HEADER_LENGTH+2;const d=n.decode(t.slice(u,u+s));u=u+s;const h=n.decode(t.slice(u,u+o));u=u+o;const m=JSON.parse(n.decode(t.slice(u,t.byteLength)));return{ref:null,topic:d,event:h,payload:m}}}class qA{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var zt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(zt||(zt={}));const YN=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((o,u)=>(o[u]=B4(u,e,t,s),o),{})},B4=(e,t,r,n)=>{const s=t.find(d=>d.name===e),o=s==null?void 0:s.type,u=r[e];return o&&!n.includes(o)?$A(o,u):ky(u)},$A=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return V4(t,r)}switch(e){case zt.bool:return G4(t);case zt.float4:case zt.float8:case zt.int2:case zt.int4:case zt.int8:case zt.numeric:case zt.oid:return F4(t);case zt.json:case zt.jsonb:return H4(t);case zt.timestamp:return K4(t);case zt.abstime:case zt.date:case zt.daterange:case zt.int4range:case zt.int8range:case zt.money:case zt.reltime:case zt.text:case zt.time:case zt.timestamptz:case zt.timetz:case zt.tsrange:case zt.tstzrange:return ky(t);default:return ky(t)}},ky=e=>e,G4=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},F4=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},H4=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},V4=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let o;const u=e.slice(1,r);try{o=JSON.parse("["+u+"]")}catch{o=u?u.split(","):[]}return o.map(d=>$A(t,d))}return e},K4=e=>typeof e=="string"?e.replace(" ","T"):e,UA=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class q0{constructor(t,r,n={},s=LA){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var WN;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(WN||(WN={}));class Vc{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:u,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Vc.syncState(this.state,s,o,u),this.pendingDiffs.forEach(h=>{this.state=Vc.syncDiff(this.state,h,o,u)}),this.pendingDiffs=[],d()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:u,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Vc.syncDiff(this.state,s,o,u),d())}),this.onJoin((s,o,u)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:u})}),this.onLeave((s,o,u)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const o=this.cloneDeep(t),u=this.transformState(r),d={},h={};return this.map(o,(m,p)=>{u[m]||(h[m]=p)}),this.map(u,(m,p)=>{const g=o[m];if(g){const x=p.map(_=>_.presence_ref),b=g.map(_=>_.presence_ref),j=p.filter(_=>b.indexOf(_.presence_ref)<0),N=g.filter(_=>x.indexOf(_.presence_ref)<0);j.length>0&&(d[m]=j),N.length>0&&(h[m]=N)}else d[m]=p}),this.syncDiff(o,{joins:d,leaves:h},n,s)}static syncDiff(t,r,n,s){const{joins:o,leaves:u}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(d,h)=>{var m;const p=(m=t[d])!==null&&m!==void 0?m:[];if(t[d]=this.cloneDeep(h),p.length>0){const g=t[d].map(b=>b.presence_ref),x=p.filter(b=>g.indexOf(b.presence_ref)<0);t[d].unshift(...x)}n(d,p,h)}),this.map(u,(d,h)=>{let m=t[d];if(!m)return;const p=h.map(g=>g.presence_ref);m=m.filter(g=>p.indexOf(g.presence_ref)<0),t[d]=m,s(d,m,h),m.length===0&&delete t[d]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var XN;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(XN||(XN={}));var ZN;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ZN||(ZN={}));var li;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(li||(li={}));class Fv{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ln.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new q0(this,va.join,this.params,this.timeout),this.rejoinTimer=new qA(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ln.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ln.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ln.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ln.errored,this.rejoinTimer.scheduleTimeout())}),this._on(va.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new Vc(this),this.broadcastEndpointURL=UA(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:u,private:d}}=this.params;this._onError(p=>t==null?void 0:t(li.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(li.CLOSED));const h={},m={broadcast:o,presence:u,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&s!==void 0?s:[],private:d};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:m},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var g;if(this.socket.setAuth(),p===void 0){t==null||t(li.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,b=(g=x==null?void 0:x.length)!==null&&g!==void 0?g:0,j=[];for(let N=0;N<b;N++){const _=x[N],{filter:{event:A,schema:P,table:O,filter:C}}=_,D=p&&p[N];if(D&&D.event===A&&D.schema===P&&D.table===O&&D.filter===C)j.push(Object.assign(Object.assign({},_),{id:D.id}));else{this.unsubscribe(),t==null||t(li.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(li.SUBSCRIBED);return}}).receive("error",p=>{t==null||t(li.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(li.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:u}=t,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:u,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=m.body)===null||s===void 0?void 0:s.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var u,d,h;const m=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((h=(d=(u=this.params)===null||u===void 0?void 0:u.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.ack)&&o("ok"),m.receive("ok",()=>o("ok")),m.receive("error",()=>o("error")),m.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ln.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(va.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new q0(this,va.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),u=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),u}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new q0(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,o;const u=t.toLocaleLowerCase(),{close:d,error:h,leave:m,join:p}=va;if(n&&[d,h,m,p].indexOf(u)>=0&&n!==this._joinRef())return;let x=this._onMessage(u,r,n);if(r&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(b=>{var j,N,_;return((j=b.filter)===null||j===void 0?void 0:j.event)==="*"||((_=(N=b.filter)===null||N===void 0?void 0:N.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===u}).map(b=>b.callback(x,n)):(o=this.bindings[u])===null||o===void 0||o.filter(b=>{var j,N,_,A,P,O;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in b){const C=b.id,D=(j=b.filter)===null||j===void 0?void 0:j.event;return C&&((N=r.ids)===null||N===void 0?void 0:N.includes(C))&&(D==="*"||(D==null?void 0:D.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const C=(P=(A=b==null?void 0:b.filter)===null||A===void 0?void 0:A.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return C==="*"||C===((O=r==null?void 0:r.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===u}).map(b=>{if(typeof x=="object"&&"ids"in x){const j=x.data,{schema:N,table:_,commit_timestamp:A,type:P,errors:O}=j;x=Object.assign(Object.assign({},{schema:N,table:_,commit_timestamp:A,eventType:P,new:{},old:{},errors:O}),this._getPayloadRecords(j))}b.callback(x,n)})}_isClosed(){return this.state===Ln.closed}_isJoined(){return this.state===Ln.joined}_isJoining(){return this.state===Ln.joining}_isLeaving(){return this.state===Ln.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&Fv.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(va.close,{},t)}_onError(t){this._on(va.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ln.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=YN(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=YN(t.columns,t.old_record)),r}}const Y4=()=>{},W4=typeof WebSocket<"u",X4=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Z4{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=L4,this.params={},this.timeout=LA,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Y4,this.conn=null,this.sendBuffer=[],this.serializer=new U4,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let u;return o?u=o:typeof fetch>"u"?u=(...d)=>go(async()=>{const{default:h}=await Promise.resolve().then(()=>Co);return{default:h}},void 0).then(({default:h})=>h(...d)):u=fetch,(...d)=>u(...d)},this.endPoint=`${t}/${Dy.websocket}`,this.httpEndpoint=UA(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(o,u)=>u(JSON.stringify(o)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new qA(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(W4){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Q4(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),go(async()=>{const{default:t}=await import("./browser-CvAi7O24.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:q4}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ho.connecting:return Vs.Connecting;case ho.open:return Vs.Open;case ho.closing:return Vs.Closing;default:return Vs.Closed}}isConnected(){return this.connectionState()===Vs.Open}channel(t,r={config:{}}){const n=new Fv(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:s,ref:o}=t,u=()=>{this.encode(t,d=>{var h;(h=this.conn)===null||h===void 0||h.send(d)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(va.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close($4,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:o,ref:u}=r;u&&u===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${n} ${s} ${u&&"("+u+")"||""}`,o),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(s,o,u)),this.stateChangeCallbacks.message.forEach(d=>d(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(va.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([X4],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Q4{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ho.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class Hv extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Rr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class J4 extends Hv{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Py extends Hv{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var eR=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function d(p){try{m(n.next(p))}catch(g){u(g)}}function h(p){try{m(n.throw(p))}catch(g){u(g)}}function m(p){p.done?o(p.value):s(p.value).then(d,h)}m((n=n.apply(e,t||[])).next())})};const BA=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>go(async()=>{const{default:n}=await Promise.resolve().then(()=>Co);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},tR=()=>eR(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield go(()=>Promise.resolve().then(()=>Co),void 0)).Response:Response}),My=e=>{if(Array.isArray(e))return e.map(r=>My(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=My(n)}),t};var fl=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function d(p){try{m(n.next(p))}catch(g){u(g)}}function h(p){try{m(n.throw(p))}catch(g){u(g)}}function m(p){p.done?o(p.value):s(p.value).then(d,h)}m((n=n.apply(e,t||[])).next())})};const $0=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),rR=(e,t,r)=>fl(void 0,void 0,void 0,function*(){const n=yield tR();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new J4($0(s),e.status||500))}).catch(s=>{t(new Py($0(s),s))}):t(new Py($0(e),e))}),nR=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function pu(e,t,r,n,s,o){return fl(this,void 0,void 0,function*(){return new Promise((u,d)=>{e(r,nR(t,n,s,o)).then(h=>{if(!h.ok)throw h;return n!=null&&n.noResolveJson?h:h.json()}).then(h=>u(h)).catch(h=>rR(h,d,n))})})}function kf(e,t,r,n){return fl(this,void 0,void 0,function*(){return pu(e,"GET",t,r,n)})}function us(e,t,r,n,s){return fl(this,void 0,void 0,function*(){return pu(e,"POST",t,n,s,r)})}function aR(e,t,r,n,s){return fl(this,void 0,void 0,function*(){return pu(e,"PUT",t,n,s,r)})}function iR(e,t,r,n){return fl(this,void 0,void 0,function*(){return pu(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function GA(e,t,r,n,s){return fl(this,void 0,void 0,function*(){return pu(e,"DELETE",t,n,s,r)})}var Nn=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function d(p){try{m(n.next(p))}catch(g){u(g)}}function h(p){try{m(n.throw(p))}catch(g){u(g)}}function m(p){p.done?o(p.value):s(p.value).then(d,h)}m((n=n.apply(e,t||[])).next())})};const sR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},QN={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class lR{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=BA(s)}uploadOrUpdate(t,r,n,s){return Nn(this,void 0,void 0,function*(){try{let o;const u=Object.assign(Object.assign({},QN),s);let d=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(u.upsert)});const h=u.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",u.cacheControl),h&&o.append("metadata",this.encodeMetadata(h)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",u.cacheControl),h&&o.append("metadata",this.encodeMetadata(h))):(o=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType,h&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),s!=null&&s.headers&&(d=Object.assign(Object.assign({},d),s.headers));const m=this._removeEmptyFolders(r),p=this._getFinalPath(m),g=yield this.fetch(`${this.url}/object/${p}`,Object.assign({method:t,body:o,headers:d},u!=null&&u.duplex?{duplex:u.duplex}:{})),x=yield g.json();return g.ok?{data:{path:m,id:x.Id,fullPath:x.Key},error:null}:{data:null,error:x}}catch(o){if(Rr(o))return{data:null,error:o};throw o}})}upload(t,r,n){return Nn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Nn(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),u=this._getFinalPath(o),d=new URL(this.url+`/object/upload/sign/${u}`);d.searchParams.set("token",r);try{let h;const m=Object.assign({upsert:QN.upsert},s),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&n instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),h.append("",n)):typeof FormData<"u"&&n instanceof FormData?(h=n,h.append("cacheControl",m.cacheControl)):(h=n,p["cache-control"]=`max-age=${m.cacheControl}`,p["content-type"]=m.contentType);const g=yield this.fetch(d.toString(),{method:"PUT",body:h,headers:p}),x=yield g.json();return g.ok?{data:{path:o,fullPath:x.Key},error:null}:{data:null,error:x}}catch(h){if(Rr(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(t,r){return Nn(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const o=yield us(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),u=new URL(this.url+o.url),d=u.searchParams.get("token");if(!d)throw new Hv("No token returned by API");return{data:{signedUrl:u.toString(),path:t,token:d},error:null}}catch(n){if(Rr(n))return{data:null,error:n};throw n}})}update(t,r,n){return Nn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Nn(this,void 0,void 0,function*(){try{return{data:yield us(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Rr(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Nn(this,void 0,void 0,function*(){try{return{data:{path:(yield us(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Rr(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Nn(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield us(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const u=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${u}`)},{data:o,error:null}}catch(s){if(Rr(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Nn(this,void 0,void 0,function*(){try{const s=yield us(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${o}`):null})),error:null}}catch(s){if(Rr(s))return{data:null,error:s};throw s}})}download(t,r){return Nn(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),u=o?`?${o}`:"";try{const d=this._getFinalPath(t);return{data:yield(yield kf(this.fetch,`${this.url}/${s}/${d}${u}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(d){if(Rr(d))return{data:null,error:d};throw d}})}info(t){return Nn(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield kf(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:My(n),error:null}}catch(n){if(Rr(n))return{data:null,error:n};throw n}})}exists(t){return Nn(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield iR(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Rr(n)&&n instanceof Py){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&s.push(o);const d=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});h!==""&&s.push(h);let m=s.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${n}${m}`)}}}remove(t){return Nn(this,void 0,void 0,function*(){try{return{data:yield GA(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Rr(r))return{data:null,error:r};throw r}})}list(t,r,n){return Nn(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},sR),r),{prefix:t||""});return{data:yield us(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Rr(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const oR="2.7.1",cR={"X-Client-Info":`storage-js/${oR}`};var no=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function d(p){try{m(n.next(p))}catch(g){u(g)}}function h(p){try{m(n.throw(p))}catch(g){u(g)}}function m(p){p.done?o(p.value):s(p.value).then(d,h)}m((n=n.apply(e,t||[])).next())})};class uR{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},cR),r),this.fetch=BA(n)}listBuckets(){return no(this,void 0,void 0,function*(){try{return{data:yield kf(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Rr(t))return{data:null,error:t};throw t}})}getBucket(t){return no(this,void 0,void 0,function*(){try{return{data:yield kf(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Rr(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return no(this,void 0,void 0,function*(){try{return{data:yield us(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Rr(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return no(this,void 0,void 0,function*(){try{return{data:yield aR(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Rr(n))return{data:null,error:n};throw n}})}emptyBucket(t){return no(this,void 0,void 0,function*(){try{return{data:yield us(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Rr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return no(this,void 0,void 0,function*(){try{return{data:yield GA(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Rr(r))return{data:null,error:r};throw r}})}}class dR extends uR{constructor(t,r={},n){super(t,r,n)}from(t){return new lR(this.url,this.headers,t,this.fetch)}}const fR="2.48.1";let Gc="";typeof Deno<"u"?Gc="deno":typeof document<"u"?Gc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Gc="react-native":Gc="node";const hR={"X-Client-Info":`supabase-js-${Gc}/${fR}`},mR={headers:hR},pR={schema:"public"},gR={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},yR={};var vR=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function d(p){try{m(n.next(p))}catch(g){u(g)}}function h(p){try{m(n.throw(p))}catch(g){u(g)}}function m(p){p.done?o(p.value):s(p.value).then(d,h)}m((n=n.apply(e,t||[])).next())})};const xR=e=>{let t;return e?t=e:typeof fetch>"u"?t=kA:t=fetch,(...r)=>t(...r)},bR=()=>typeof Headers>"u"?PA:Headers,wR=(e,t,r)=>{const n=xR(r),s=bR();return(o,u)=>vR(void 0,void 0,void 0,function*(){var d;const h=(d=yield t())!==null&&d!==void 0?d:e;let m=new s(u==null?void 0:u.headers);return m.has("apikey")||m.set("apikey",e),m.has("Authorization")||m.set("Authorization",`Bearer ${h}`),n(o,Object.assign(Object.assign({},u),{headers:m}))})};var jR=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function d(p){try{m(n.next(p))}catch(g){u(g)}}function h(p){try{m(n.throw(p))}catch(g){u(g)}}function m(p){p.done?o(p.value):s(p.value).then(d,h)}m((n=n.apply(e,t||[])).next())})};function NR(e){return e.replace(/\/$/,"")}function _R(e,t){const{db:r,auth:n,realtime:s,global:o}=e,{db:u,auth:d,realtime:h,global:m}=t,p={db:Object.assign(Object.assign({},u),r),auth:Object.assign(Object.assign({},d),n),realtime:Object.assign(Object.assign({},h),s),global:Object.assign(Object.assign({},m),o),accessToken:()=>jR(this,void 0,void 0,function*(){return""})};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}const FA="2.67.3",SR="http://localhost:9999",ER="supabase.auth.token",AR={"X-Client-Info":`gotrue-js/${FA}`},JN=10,Ry="X-Supabase-Api-Version",HA={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function OR(e){return Math.round(Date.now()/1e3)+e}function CR(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ia=()=>typeof window<"u"&&typeof document<"u",Us={tested:!1,writable:!1},Kc=()=>{if(!Ia())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Us.tested)return Us.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Us.tested=!0,Us.writable=!0}catch{Us.tested=!0,Us.writable=!1}return Us.writable};function TR(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const VA=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>go(async()=>{const{default:n}=await Promise.resolve().then(()=>Co);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},DR=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",KA=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},af=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},sf=async(e,t)=>{await e.removeItem(t)};function kR(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",n,s,o,u,d,h,m,p=0;for(e=e.replace("-","+").replace("_","/");p<e.length;)u=t.indexOf(e.charAt(p++)),d=t.indexOf(e.charAt(p++)),h=t.indexOf(e.charAt(p++)),m=t.indexOf(e.charAt(p++)),n=u<<2|d>>4,s=(d&15)<<4|h>>2,o=(h&3)<<6|m,r=r+String.fromCharCode(n),h!=64&&s!=0&&(r=r+String.fromCharCode(s)),m!=64&&o!=0&&(r=r+String.fromCharCode(o));return r}class Ch{constructor(){this.promise=new Ch.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Ch.promiseConstructor=Promise;function e_(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=e.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=r[1];return JSON.parse(kR(n))}async function PR(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function MR(e,t){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const u=await e(o);if(!t(o,null,u)){n(u);return}}catch(u){if(!t(o,u)){s(u);return}}})()})}function RR(e){return("0"+e.toString(16)).substr(-2)}function IR(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,RR).join("")}async function zR(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}function LR(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function qR(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await zR(e);return LR(r)}async function ao(e,t,r=!1){const n=IR();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await KA(e,`${t}-code-verifier`,s);const o=await qR(n);return[o,n===o?"plain":"s256"]}const $R=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function UR(e){const t=e.headers.get(Ry);if(!t||!t.match($R))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class Vv extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function tt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class BR extends Vv{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function GR(e){return tt(e)&&e.name==="AuthApiError"}class YA extends Vv{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class hl extends Vv{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class os extends hl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function FR(e){return tt(e)&&e.name==="AuthSessionMissingError"}class U0 extends hl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class lf extends hl{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class of extends hl{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function HR(e){return tt(e)&&e.name==="AuthImplicitGrantRedirectError"}class t_ extends hl{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Iy extends hl{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function B0(e){return tt(e)&&e.name==="AuthRetryableFetchError"}class r_ extends hl{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}var VR=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Bs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),KR=[502,503,504];async function n_(e){var t;if(!DR(e))throw new Iy(Bs(e),0);if(KR.includes(e.status))throw new Iy(Bs(e),e.status);let r;try{r=await e.json()}catch(o){throw new YA(Bs(o),o)}let n;const s=UR(e);if(s&&s.getTime()>=HA["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new r_(Bs(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new os}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,u)=>o&&typeof u=="string",!0))throw new r_(Bs(r),e.status,r.weak_password.reasons);throw new BR(Bs(r),e.status||500,n)}const YR=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ot(e,t,r,n){var s;const o=Object.assign({},n==null?void 0:n.headers);o[Ry]||(o[Ry]=HA["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const u=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(u.redirect_to=n.redirectTo);const d=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",h=await WR(e,t,r+d,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(h):{data:Object.assign({},h),error:null}}async function WR(e,t,r,n,s,o){const u=YR(t,n,s,o);let d;try{d=await e(r,Object.assign({},u))}catch(h){throw console.error(h),new Iy(Bs(h),0)}if(d.ok||await n_(d),n!=null&&n.noResolveJson)return d;try{return await d.json()}catch(h){await n_(h)}}function cs(e){var t;let r=null;JR(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=OR(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function a_(e){const t=cs(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function hs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function XR(e){return{data:e,error:null}}function ZR(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=e,u=VR(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},h=Object.assign({},u);return{data:{properties:d,user:h},error:null}}function QR(e){return e}function JR(e){return e.access_token&&e.refresh_token&&e.expires_in}var e3=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class t3{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=VA(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await ot(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(tt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ot(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:hs})}catch(n){if(tt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=e3(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await ot(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:ZR,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(tt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ot(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:hs})}catch(r){if(tt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,o,u,d,h;try{const m={nextPage:null,lastPage:0,total:0},p=await ot(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:QR});if(p.error)throw p.error;const g=await p.json(),x=(u=p.headers.get("x-total-count"))!==null&&u!==void 0?u:0,b=(h=(d=p.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return b.length>0&&(b.forEach(j=>{const N=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(j.split(";")[1].split("=")[1]);m[`${_}Page`]=N}),m.total=parseInt(x)),{data:Object.assign(Object.assign({},g),m),error:null}}catch(m){if(tt(m))return{data:{users:[]},error:m};throw m}}async getUserById(t){try{return await ot(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:hs})}catch(r){if(tt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await ot(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:hs})}catch(n){if(tt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await ot(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:hs})}catch(n){if(tt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await ot(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(tt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await ot(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(tt(r))return{data:null,error:r};throw r}}}const r3={getItem:e=>Kc()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Kc()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Kc()&&globalThis.localStorage.removeItem(e)}};function i_(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function n3(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const io={debug:!!(globalThis&&Kc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class WA extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class a3 extends WA{}async function i3(e,t,r){io.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),io.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){io.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{io.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw io.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new a3(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(io.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}n3();const s3={url:SR,storageKey:ER,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:AR,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Mc=30*1e3,s_=3;async function l_(e,t,r){return await r()}class Wc{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Wc.nextInstanceID,Wc.nextInstanceID+=1,this.instanceID>0&&Ia()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},s3),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new t3({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=VA(s.fetch),this.lock=s.lock||l_,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ia()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=i3:this.lock=l_,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Kc()?this.storage=r3:(this.memoryStorage={},this.storage=i_(this.memoryStorage)):(this.memoryStorage={},this.storage=i_(this.memoryStorage)),Ia()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${FA}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=TR(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ia()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),HR(o)){const h=(t=o.details)===null||t===void 0?void 0:t.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:u,redirectType:d}=s;return this._debug("#_initialize()","detected session in URL",u,"redirect type",d),await this._saveSession(u),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return tt(r)?{error:r}:{error:new YA("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const o=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:cs}),{data:u,error:d}=o;if(d||!u)return{data:{user:null,session:null},error:d};const h=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(o){if(tt(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var r,n,s;try{let o;if("email"in t){const{email:p,password:g,options:x}=t;let b=null,j=null;this.flowType==="pkce"&&([b,j]=await ao(this.storage,this.storageKey)),o=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x==null?void 0:x.emailRedirectTo,body:{email:p,password:g,data:(r=x==null?void 0:x.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:b,code_challenge_method:j},xform:cs})}else if("phone"in t){const{phone:p,password:g,options:x}=t;o=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:g,data:(n=x==null?void 0:x.data)!==null&&n!==void 0?n:{},channel:(s=x==null?void 0:x.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:cs})}else throw new lf("You must provide either an email or phone number and a password");const{data:u,error:d}=o;if(d||!u)return{data:{user:null,session:null},error:d};const h=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(o){if(tt(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let r;if("email"in t){const{email:o,password:u,options:d}=t;r=await ot(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:a_})}else if("phone"in t){const{phone:o,password:u,options:d}=t;r=await ot(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:a_})}else throw new lf("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new U0}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(tt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await af(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:o,error:u}=await ot(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:cs});if(await sf(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new U0}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:u})}catch(o){if(tt(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:o,nonce:u}=t,d=await ot(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:u,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:cs}),{data:h,error:m}=d;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new U0}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:m})}catch(r){if(tt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,o,u;try{if("email"in t){const{email:d,options:h}=t;let m=null,p=null;this.flowType==="pkce"&&([m,p]=await ao(this.storage,this.storageKey));const{error:g}=await ot(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},create_user:(n=h==null?void 0:h.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:p},redirectTo:h==null?void 0:h.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in t){const{phone:d,options:h}=t,{data:m,error:p}=await ot(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(s=h==null?void 0:h.data)!==null&&s!==void 0?s:{},create_user:(o=h==null?void 0:h.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},channel:(u=h==null?void 0:h.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:p}}throw new lf("You must provide either an email or phone number.")}catch(d){if(tt(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(t){var r,n;try{let s,o;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:u,error:d}=await ot(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:cs});if(d)throw d;if(!u)throw new Error("An error occurred on token verification.");const h=u.session,m=u.user;return h!=null&&h.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(s){if(tt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let o=null,u=null;return this.flowType==="pkce"&&([o,u]=await ao(this.storage,this.storageKey)),await ot(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:u}),headers:this.headers,xform:XR})}catch(o){if(tt(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new os;const{error:s}=await ot(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(tt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:o}=t,{error:u}=await ot(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in t){const{phone:n,type:s,options:o}=t,{data:u,error:d}=await ot(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new lf("You must provide either an email or phone number and a type")}catch(r){if(tt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await af(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let u=this.suppressGetSessionWarning;t=new Proxy(t,{get:(h,m,p)=>(!u&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(h,m,p))})}return{data:{session:t},error:null}}const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ot(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:hs}):await this._useSession(async r=>{var n,s,o;const{data:u,error:d}=r;if(d)throw d;return!(!((n=u.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new os}:await ot(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=u.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:hs})})}catch(r){if(tt(r))return FR(r)&&(await this._removeSession(),await sf(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new os;const u=s.session;let d=null,h=null;this.flowType==="pkce"&&t.email!=null&&([d,h]=await ao(this.storage,this.storageKey));const{data:m,error:p}=await ot(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:d,code_challenge_method:h}),jwt:u.access_token,xform:hs});if(p)throw p;return u.user=m.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(n){if(tt(n))return{data:{user:null},error:n};throw n}}_decodeJWT(t){return e_(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new os;const r=Date.now()/1e3;let n=r,s=!0,o=null;const u=e_(t.access_token);if(u.exp&&(n=u.exp,s=n<=r),s){const{session:d,error:h}=await this._callRefreshToken(t.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!d)return{data:{user:null,session:null},error:null};o=d}else{const{data:d,error:h}=await this._getUser(t.access_token);if(h)throw h;o={access_token:t.access_token,refresh_token:t.refresh_token,user:d.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(tt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:u,error:d}=r;if(d)throw d;t=(n=u.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new os;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(tt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Ia())throw new of("No browser detected.");if(t.error||t.error_description||t.error_code)throw new of(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new t_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new of("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new t_("No code detected.");const{data:P,error:O}=await this._exchangeCodeForSession(t.code);if(O)throw O;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:u,expires_in:d,expires_at:h,token_type:m}=t;if(!o||!d||!u||!m)throw new of("No session defined in URL");const p=Math.round(Date.now()/1e3),g=parseInt(d);let x=p+g;h&&(x=parseInt(h));const b=x-p;b*1e3<=Mc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${g}s`);const j=x-g;p-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,x,p):p-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,x,p);const{data:N,error:_}=await this._getUser(o);if(_)throw _;const A={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:g,expires_at:x,refresh_token:u,token_type:m,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:A,redirectType:t.type},error:null}}catch(n){if(tt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await af(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{error:o};const u=(n=s.session)===null||n===void 0?void 0:n.access_token;if(u){const{error:d}=await this.admin.signOut(u,t);if(d&&!(GR(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return t!=="others"&&(await this._removeSession(),await sf(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=CR(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:u}=r;if(u)throw u;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await ao(this.storage,this.storageKey,!0));try{return await ot(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(tt(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(tt(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var u,d,h,m,p;const{data:g,error:x}=o;if(x)throw x;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(u=t.options)===null||u===void 0?void 0:u.redirectTo,scopes:(d=t.options)===null||d===void 0?void 0:d.scopes,queryParams:(h=t.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await ot(this.fetch,"GET",b,{headers:this.headers,jwt:(p=(m=g.session)===null||m===void 0?void 0:m.access_token)!==null&&p!==void 0?p:void 0})});if(s)throw s;return Ia()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(tt(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:u}=r;if(u)throw u;return await ot(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(tt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await MR(async s=>(s>0&&await PR(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ot(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:cs})),(s,o)=>{const u=200*Math.pow(2,s);return o&&B0(o)&&Date.now()+u-n<Mc})}catch(n){if(this._debug(r,"error",n),tt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ia()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await af(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),o=((t=n.expires_at)!==null&&t!==void 0?t:1/0)<s+JN;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${JN}s`),o){if(this.autoRefreshToken&&n.refresh_token){const{error:u}=await this._callRefreshToken(n.refresh_token);u&&(console.error(u),B0(u)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new os;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ch;const{data:o,error:u}=await this._refreshAccessToken(t);if(u)throw u;if(!o.session)throw new os;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const d={session:o.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(o){if(this._debug(s,"error",o),tt(o)){const u={session:null,error:o};return B0(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(u),u}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const o=[],u=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(t,r)}catch(h){o.push(h)}});if(await Promise.all(u),o.length>0){for(let d=0;d<o.length;d+=1)console.error(o[d]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await KA(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await sf(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ia()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Mc);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Mc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Mc}ms, refresh threshold is ${s_} ticks`),s<=s_&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof WA)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ia()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,u]=await ao(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(u)}`});s.push(d.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await ot(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(tt(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:u}=r;if(u)return{data:null,error:u};const d=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:h,error:m}=await ot(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return m?{data:null,error:m}:(t.factorType==="totp"&&(!((s=h==null?void 0:h.totp)===null||s===void 0)&&s.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(r){if(tt(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{data:null,error:o};const{data:u,error:d}=await ot(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:d})})}catch(r){if(tt(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await ot(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(tt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(u=>u.factor_type==="totp"&&u.status==="verified"),o=n.filter(u=>u.factor_type==="phone"&&u.status==="verified");return{data:{all:n,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const u=this._decodeJWT(s.access_token);let d=null;u.aal&&(d=u.aal);let h=d;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(g=>g.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(h="aal2");const p=u.amr||[];return{data:{currentLevel:d,nextLevel:h,currentAuthenticationMethods:p},error:null}}))}}Wc.nextInstanceID=0;const l3=Wc;class o3 extends l3{constructor(t){super(t)}}var c3=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function d(p){try{m(n.next(p))}catch(g){u(g)}}function h(p){try{m(n.throw(p))}catch(g){u(g)}}function m(p){p.done?o(p.value):s(p.value).then(d,h)}m((n=n.apply(e,t||[])).next())})};class u3{constructor(t,r,n){var s,o,u;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const d=NR(t);this.realtimeUrl=`${d}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${d}/auth/v1`,this.storageUrl=`${d}/storage/v1`,this.functionsUrl=`${d}/functions/v1`;const h=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,m={db:pR,realtime:yR,auth:Object.assign(Object.assign({},gR),{storageKey:h}),global:mR},p=_R(n??{},m);this.storageKey=(s=p.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=p.global.headers)!==null&&o!==void 0?o:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(g,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=p.auth)!==null&&u!==void 0?u:{},this.headers,p.global.fetch),this.fetch=wR(r,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new I4(`${d}/rest/v1`,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),p.accessToken||this._listenForAuthEvents()}get functions(){return new _4(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new dR(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return c3(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:o,flowType:u,lock:d,debug:h},m,p){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new o3({url:this.authUrl,headers:Object.assign(Object.assign({},g),m),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:u,lock:d,debug:h,fetch:p,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Z4(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const d3=(e,t,r)=>new u3(e,t,r),f3="https://kwnbyiqzrphkembkwyvd.supabase.co",h3="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt3bmJ5aXF6cnBoa2VtYmt3eXZkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQwNjcyNDYsImV4cCI6MjA3OTY0MzI0Nn0.EZOCsrZoudDfjQrWS0OmNgj-MPCO2X1_8mhiiWevS_g",ee=d3(f3,h3);function m3(e,t){const r=e.channel("public-all-changes"),n=["inventory","requisitions","transactions","invoices","items","users","requisition_sheets","requisition_sheet_items","fichas_individuais","chat_messages","chat_groups","chat_file_attachments","chat_group_members"];for(const o of n)r.on("postgres_changes",{event:"*",schema:"public",table:o},u=>{try{t(u)}catch(d){console.error("Realtime handler error:",d)}});return r.subscribe(),async()=>{try{r.unsubscribe&&await r.unsubscribe()}catch{}try{e.removeChannel&&await e.removeChannel(r)}catch{}}}function p3(e,t,r){const n=e.channel(`chat-group-${t}`);return n.on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages",filter:`group_id=eq.${t}`},s=>r(s)).on("postgres_changes",{event:"UPDATE",schema:"public",table:"chat_messages",filter:`group_id=eq.${t}`},s=>r(s)).subscribe(),async()=>{try{await n.unsubscribe()}catch(s){console.error("Error unsubscribing from chat messages:",s)}}}function g3(e,t,r){const n=e.channel(`typing-${t}`);return n.on("broadcast",{event:"typing"},s=>{r(s.payload)}).subscribe(),async()=>{try{await n.unsubscribe()}catch(s){console.error("Error unsubscribing from typing indicators:",s)}}}async function G0(e,t,r,n){await e.channel(`typing-${t}`).send({type:"broadcast",event:"typing",payload:{userId:r,isTyping:n}})}async function y3(e){try{const{data:{session:t}}=await ee.auth.getSession(),r="https://kwnbyiqzrphkembkwyvd.supabase.co",n=await fetch(`${r}/functions/v1/create-user`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${(t==null?void 0:t.access_token)||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt3bmJ5aXF6cnBoa2VtYmt3eXZkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQwNjcyNDYsImV4cCI6MjA3OTY0MzI0Nn0.EZOCsrZoudDfjQrWS0OmNgj-MPCO2X1_8mhiiWevS_g"}`},body:JSON.stringify({email:e.email,password:e.password,userData:{name:e.name,role:e.role,locationId:e.locationId,jobTitle:e.jobTitle,defaultDailyGoal:e.defaultDailyGoal,dailyRate:e.dailyRate,halfDayRate:e.halfDayRate,absencePenalty:e.absencePenalty,bonusPerUnit:e.bonusPerUnit}})}),s=await n.text();let o={};try{o=s?JSON.parse(s):{}}catch{return{success:!1,error:"Invalid JSON response from Edge Function",raw:s}}return n.ok?{success:!0,data:o}:{success:!1,error:o.error||o.message||`Status ${n.status}`,status:n.status}}catch(t){return{success:!1,error:(t==null?void 0:t.message)||String(t)}}}const v3=[{id:"loc-central",name:"Almoxarifado Central (Maputo HQ)",type:br.CENTRAL,parentId:null},{id:"loc-nampula",name:"Filial Nampula",type:br.BRANCH,parentId:"loc-central"},{id:"loc-beira",name:"Filial Beira",type:br.BRANCH,parentId:"loc-central"},{id:"loc-tete",name:"Filial Tete (Moatize)",type:br.BRANCH,parentId:"loc-central"},{id:"loc-zambezia",name:"Filial Zambzia (Gur)",type:br.BRANCH,parentId:"loc-central"},{id:"loc-manica",name:"Filial Manica (Chimoio)",type:br.BRANCH,parentId:"loc-central"},{id:"loc-field-alpha",name:"Equipe Alpha (Nampula)",type:br.FIELD,parentId:"loc-nampula"},{id:"loc-field-bravo",name:"Equipe Bravo (Beira)",type:br.FIELD,parentId:"loc-beira"},{id:"loc-field-charlie",name:"Equipe Carvo (Tete)",type:br.FIELD,parentId:"loc-tete"},{id:"loc-field-delta",name:"Equipe Ch (Zambzia)",type:br.FIELD,parentId:"loc-zambezia"},{id:"loc-field-echo",name:"Equipe Madeira (Manica)",type:br.FIELD,parentId:"loc-manica"}],F0=236.5,H0=118,V0=95,K0=10;Te.ADMIN,Te.GENERAL_MANAGER,Te.MANAGER,Te.MANAGER,Te.MANAGER,Te.MANAGER,Te.MANAGER,Te.WORKER,Te.WORKER,Te.WORKER,Te.WORKER,Te.WORKER,Te.WORKER;Pt.ASSET,Pt.CONSUMABLE,Pt.CONSUMABLE,Pt.ASSET,Pt.CONSUMABLE,Pt.ASSET;et.PENDING,Zt.NEW,new Date(Date.now()-864e5).toISOString(),new Date(Date.now()-864e5).toISOString(),new Date(Date.now()-864e5).toISOString(),et.APPROVED,Zt.NEW,new Date(Date.now()-1728e5).toISOString(),new Date(Date.now()-864e5).toISOString(),new Date(Date.now()-1728e5).toISOString(),new Date(Date.now()-864e5).toISOString();const Y0=new Date(Date.now()-864e5).toISOString().split("T")[0];yt.FULL_DAY,yt.HALF_DAY,yt.FULL_DAY;const o_=[{id:"VIEW_DASHBOARD",label:"Visualizar Dashboard",category:"Geral"},{id:"VIEW_REPORTS",label:"Relatrios Dirios e Executivos",category:"Geral"},{id:"VIEW_REQUISITIONS",label:"Visualizar Requisies",category:"Logstica"},{id:"MANAGE_REQUISITIONS",label:"Aprovar/Rejeitar Requisies",category:"Logstica"},{id:"VIEW_INVENTORY",label:"Visualizar Estoque",category:"Logstica"},{id:"MANAGE_INVENTORY",label:"Adicionar/Criar Estoque",category:"Logstica"},{id:"VIEW_PERFORMANCE",label:"Visualizar Desempenho",category:"RH Operacional"},{id:"MANAGE_PERFORMANCE",label:"Lanar Produo/Presena",category:"RH Operacional"},{id:"VIEW_POS",label:"Acessar Ponto de Venda",category:"Vendas & Finanas"},{id:"MANAGE_POS",label:"Realizar Vendas/Despesas",category:"Vendas & Finanas"},{id:"VIEW_INVOICES",label:"Visualizar Documentos/Faturas",category:"Vendas & Finanas"},{id:"MANAGE_INVOICES",label:"Emitir/Gerenciar Faturas",category:"Vendas & Finanas"},{id:"VIEW_PATRIMONY",label:"Visualizar Patrimnio/Contabilidade",category:"Gesto"},{id:"VIEW_HR",label:"Visualizar Mdulo RH",category:"Gesto"},{id:"MANAGE_HR",label:"Gerenciar Funcionrios (Criar/Editar)",category:"Gesto"},{id:"VIEW_PAYROLL",label:"Visualizar Folha Salarial",category:"Gesto"},{id:"MANAGE_PAYROLL",label:"Processar Folha Salarial",category:"Gesto"},{id:"VIEW_SETTINGS",label:"Acessar Definies",category:"Sistema"},{id:"MANAGE_SETTINGS",label:"Gerenciar Configuraes (Locais/Itens)",category:"Sistema"},{id:"MANAGE_USERS",label:"Gerenciar Usurios",category:"Sistema"},{id:"MANAGE_PERMISSIONS",label:"Gerenciar Permisses",category:"Sistema"}],x3={[Te.ADMIN]:["VIEW_DASHBOARD","VIEW_REPORTS","VIEW_REQUISITIONS","MANAGE_REQUISITIONS","VIEW_INVENTORY","MANAGE_INVENTORY","VIEW_PERFORMANCE","MANAGE_PERFORMANCE","VIEW_POS","MANAGE_POS","VIEW_INVOICES","MANAGE_INVOICES","VIEW_PATRIMONY","VIEW_HR","MANAGE_HR","VIEW_PAYROLL","MANAGE_PAYROLL","VIEW_SETTINGS","MANAGE_SETTINGS","MANAGE_USERS","MANAGE_PERMISSIONS"],[Te.GENERAL_MANAGER]:["VIEW_DASHBOARD","VIEW_REPORTS","VIEW_REQUISITIONS","MANAGE_REQUISITIONS","VIEW_INVENTORY","MANAGE_INVENTORY","VIEW_PERFORMANCE","VIEW_POS","VIEW_INVOICES","MANAGE_INVOICES","VIEW_PATRIMONY","VIEW_HR","MANAGE_HR","VIEW_PAYROLL","VIEW_SETTINGS","MANAGE_SETTINGS","MANAGE_USERS"],[Te.MANAGER]:["VIEW_DASHBOARD","VIEW_REQUISITIONS","VIEW_INVENTORY","MANAGE_INVENTORY","VIEW_PERFORMANCE","MANAGE_PERFORMANCE","VIEW_POS","MANAGE_POS","VIEW_INVOICES","MANAGE_INVOICES"],[Te.WORKER]:["VIEW_DASHBOARD","VIEW_INVENTORY","VIEW_REQUISITIONS"]},XA=w.createContext(void 0),b3=({children:e})=>{const[t,r]=w.useState(null),[n,s]=w.useState([]),[o,u]=w.useState(null),[d,h]=w.useState(new Date),[m,p]=w.useState(null),[g,x]=w.useState([]),[b,j]=w.useState([]),[N,_]=w.useState([]),[A,P]=w.useState([]),[O,C]=w.useState([]),[D,R]=w.useState([]),[L,H]=w.useState([]),[G,he]=w.useState([]),[ne,k]=w.useState([]),se=E=>{var M;return{id:E.id,type:E.type,date:E.date,userId:E.user_id,locationId:E.location_id,clientName:E.client_name,clientNuit:E.client_nuit,description:E.description,category:E.category,amount:E.amount,paymentMethod:E.payment_method,items:((M=E.items)==null?void 0:M.map(q=>({itemId:q.item_id,name:q.name,quantity:q.quantity,unitPrice:q.unit_price})))||[],invoiceId:E.invoice_id||null}},U=E=>E?/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(E):!1,[V,I]=w.useState([]),[W,ue]=w.useState([]),[be,Ee]=w.useState(x3),[z,K]=w.useState({}),[ge,B]=w.useState(["Equipamento","EPI","Tecnologia","Ferramenta"]),[je,_e]=w.useState(["Unidade","Par","Litros","Kg","Metros"]),[me,Re]=w.useState([{id:"type-1",name:"Equipamento Pesado",behavior:Pt.ASSET},{id:"type-2",name:"Ferramenta Manual",behavior:Pt.ASSET},{id:"type-3",name:"EPI",behavior:Pt.CONSUMABLE},{id:"type-4",name:"Consumvel Operacional",behavior:Pt.CONSUMABLE},{id:"type-5",name:"Tecnologia/GPS",behavior:Pt.ASSET}]),[X,De]=w.useState(["Dinheiro","Carto","M-Pesa","e-Mola","Transferncia Bancria","Cheque"]),[Oe,te]=w.useState(["Combustvel","Manuteno","Salrios","Aluguel","Utilidades","Outros"]),[rt,He]=w.useState({nome:"Sua Empresa Lda",nuit:"000000000",endereco:"Maputo, Moambique",contacto:"+258 84 000 0000"}),[Et]=w.useState(["MZN","USD"]),[vt,ie]=w.useState("MZN"),[$t,Le]=w.useState([]),[Xt,Ze]=w.useState([]),[Cn,Yr]=w.useState([]),[Jt,hn]=w.useState([]),[mn,Wr]=w.useState([]),[Ca,Tn]=w.useState([]),[Ta,an]=w.useState([]),[Ae,ut]=w.useState([]),[At,Or]=w.useState(!0),nr=t?t.role===Te.ADMIN||t.role===Te.GENERAL_MANAGER:!1;w.useEffect(()=>{(async()=>{var It,Je;const{data:{session:M}}=await ee.auth.getSession();let q=null;if(M!=null&&M.user){console.log(" Sesso encontrada para usurio:",M.user.id,M.user.email);const{data:we,error:Se}=await ee.from("users").select("*").eq("id",M.user.id).single();if(we&&!Se){console.log(" Dados do usurio carregados do Supabase:",we);const Me={id:we.id,name:we.name,role:we.role,locationId:we.location_id||null,jobTitle:we.job_title,defaultDailyGoal:we.default_daily_goal,dailyRate:we.daily_rate,halfDayRate:we.half_day_rate,absencePenalty:we.absence_penalty,bonusPerUnit:we.bonus_per_unit};console.log(" Usurio mapeado para aplicao:",Me),console.log(" Role do usurio (BD):",Me.role),q=Me,r(Me)}else if(Se){console.error(" Erro ao buscar usurio do BD:",Se);const Me={id:M.user.id,name:((It=M.user.user_metadata)==null?void 0:It.name)||M.user.email||"User",role:Te.WORKER,locationId:null};console.warn(" Usando fallback (WORKER) pois usurio no existe no BD ainda"),q=Me,r(Me)}else{console.error(" userData vazio mas sem erro (situao estranha)");const Me={id:M.user.id,name:((Je=M.user.user_metadata)==null?void 0:Je.name)||M.user.email||"User",role:Te.WORKER,locationId:null};q=Me,r(Me)}}else console.warn(" Nenhuma sesso disponvel");if(q&&(q.role===Te.ADMIN||q.role===Te.GENERAL_MANAGER)){const{data:we}=await ee.from("users").select("*");if(we){const Se=we.map(Me=>({id:Me.id,name:Me.name,role:Me.role,locationId:Me.location_id||null,jobTitle:Me.job_title,defaultDailyGoal:Me.default_daily_goal,dailyRate:Me.daily_rate,halfDayRate:Me.half_day_rate,absencePenalty:Me.absence_penalty,bonusPerUnit:Me.bonus_per_unit}));s(Se)}}else q&&s([q]);const{data:Z}=await ee.from("locations").select("*");if(Z){const we=Z.map(Se=>({id:Se.id,name:Se.name,type:Se.type,parentId:Se.parent_id}));j(we)}const{data:pe}=await ee.from("items").select("*");pe&&x(pe);const{data:xe}=await ee.from("inventory").select("*");if(xe){const we=xe.map(Se=>({itemId:Se.item_id,locationId:Se.location_id,quantity:Se.quantity}));_(we)}const{data:Ce}=await ee.from("requisitions").select(`
          *,
          logs:requisition_logs(*)
        `).order("created_at",{ascending:!1});if(Ce){const we=Ce.map(Se=>({id:Se.id,requesterId:Se.requester_id,sourceLocationId:Se.source_location_id,targetLocationId:Se.target_location_id,itemId:Se.item_id,quantity:Se.quantity,status:Se.status,condition:Se.condition,createdAt:Se.created_at,updatedAt:Se.updated_at,logs:Se.logs||[]}));P(we)}const{data:$e}=await ee.from("requisition_sheets").select(`
          *,
          items:requisition_sheet_items(*)
        `).order("created_at",{ascending:!1});if($e){const we=$e.map(Se=>({id:Se.id,requisitionNumber:Se.requisition_number,requesterId:Se.requester_id,sourceLocationId:Se.source_location_id,sourceLocationName:Se.source_location_name,targetLocationId:Se.target_location_id,targetLocationName:Se.target_location_name,status:Se.status,notes:Se.notes,createdAt:Se.created_at,updatedAt:Se.updated_at,items:(Se.items||[]).map(Me=>({id:Me.id,sheetId:Me.sheet_id,itemId:Me.item_id,itemName:Me.item_name,quantity:Me.quantity,unit:Me.unit,condition:Me.condition,isDelivered:Me.is_delivered,notes:Me.notes}))}));C(we)}const{data:Ne}=await ee.from("daily_performance").select("*").order("date",{ascending:!1});if(Ne){const we=Ne.map(Se=>({id:Se.id,workerId:Se.worker_id,date:Se.date,status:Se.status,production:Se.production,notes:Se.notes}));R(we)}const{data:de}=await ee.from("transactions").select(`
          *,
          items:transaction_items(*)
        `).order("date",{ascending:!1});if(de){const we=de.map(Se=>{var Me;return{id:Se.id,type:Se.type,date:Se.date,userId:Se.user_id,locationId:Se.location_id,clientName:Se.client_name,clientNuit:Se.client_nuit,description:Se.description,category:Se.category,amount:Se.amount,paymentMethod:Se.payment_method,items:((Me=Se.items)==null?void 0:Me.map(Ie=>({itemId:Ie.item_id,name:Ie.name,quantity:Ie.quantity,unitPrice:Ie.unit_price})))||[]}});k(we)}const{data:ke}=await ee.from("clients").select("*");ke&&ue(ke);const{data:Be}=await ee.from("invoices").select(`
          *,
          itens:invoice_items(*),
          pagamentos:invoice_payments(*)
        `).order("created_at",{ascending:!1});Be&&I(Be.map(we=>({id:we.id,numero:we.numero,tipo:we.tipo,status:we.status,locationId:we.location_id,empresa:{nome:we.company_name,nuit:we.company_nuit,endereco:we.company_address,contacto:we.company_contact},cliente:{id:we.client_id,nome:we.client_name,nuit:we.client_nuit,endereco:we.client_address,contacto:we.client_contact},itens:(we.itens||[]).map(Se=>({itemId:Se.item_id,descricao:Se.description,quantidade:Se.quantity,precoUnitario:Se.unit_price,impostoPercent:Se.tax_percent})),pagamentos:(we.pagamentos||[]).map(Se=>({data:Se.date,valor:Se.amount,modalidade:Se.method,referencia:Se.reference})),moeda:we.currency,dataEmissao:we.issue_date,vencimento:we.due_date,observacoes:we.notes,createdBy:we.created_by}))),Or(!1)})()},[]),w.useEffect(()=>{if(!At&&t){const E=setTimeout(()=>{console.log(" Forando atualizao do perfil do usurio aps carregamento inicial..."),fa()},500);return()=>clearTimeout(E)}},[At]);const vl=1200*1e3,Ci=Xs.useRef(null),oe=(E,M=5e3)=>{Ci.current&&clearTimeout(Ci.current),console.log(" Notificao:",E),p(E),Ci.current=setTimeout(()=>{p(null),Ci.current=null},M)},Ti=E=>{if(!t)return!1;const M=be[t.role];return M?M.includes(E):!1},Di=(E,M)=>{Ee(q=>{const Z=q[E]||[],pe=Z.includes(M);let xe;return pe?xe=Z.filter(Ce=>Ce!==M):xe=[...Z,M],{...q,[E]:xe}}),oe("Permisses atualizadas.")},fa=async()=>{console.log(" Sincronizando dados com o servidor..."),h(new Date);try{const{data:{session:E}}=await ee.auth.getSession();if(!(E!=null&&E.user)){console.warn(" Sem sesso de usurio disponvel");return}console.log(" Buscando dados frescos para usurio:",E.user.id);const{data:M,error:q}=await ee.from("users").select("*").eq("id",E.user.id).single();if(!q&&M){console.log(" Dados atualizados do Supabase:",M);const Z={id:M.id,name:M.name,role:M.role,locationId:M.location_id||null,jobTitle:M.job_title,defaultDailyGoal:M.default_daily_goal,dailyRate:M.daily_rate,halfDayRate:M.half_day_rate,absencePenalty:M.absence_penalty,bonusPerUnit:M.bonus_per_unit};if(console.log(" Dados mapeados:",Z),console.log(" Role atualizada:",M.role,"",Z.role),t&&t.role!==Z.role?(console.log(" ROLE ALTERADA! De",t==null?void 0:t.role,"para",Z.role),oe(` Seu role foi atualizado para: ${Z.role}`,6e3)):console.log(" Role mantm-se:",Z.role),r(Z),Z.role===Te.ADMIN||Z.role===Te.GENERAL_MANAGER){console.log(" Usurio  ADMIN/GM, buscando lista completa de usurios");const{data:de}=await ee.from("users").select("*");if(de){const ke=de.map(Be=>({id:Be.id,name:Be.name,role:Be.role,locationId:Be.location_id||null,jobTitle:Be.job_title,defaultDailyGoal:Be.default_daily_goal,dailyRate:Be.daily_rate,halfDayRate:Be.half_day_rate,absencePenalty:Be.absence_penalty,bonusPerUnit:Be.bonus_per_unit}));console.log(` ${ke.length} usurios carregados`),s(ke)}}else s([Z]);const{data:xe}=await ee.from("requisition_sheets").select("*, items:requisition_sheet_items(*)").order("created_at",{ascending:!1});if(xe){const de=xe.map(ke=>({id:ke.id,requisitionNumber:ke.requisition_number,requesterId:ke.requester_id,sourceLocationId:ke.source_location_id,sourceLocationName:ke.source_location_name,targetLocationId:ke.target_location_id,targetLocationName:ke.target_location_name,status:ke.status,notes:ke.notes,createdAt:ke.created_at,updatedAt:ke.updated_at,items:(ke.items||[]).map(Be=>({id:Be.id,sheetId:Be.sheet_id,itemId:Be.item_id,itemName:Be.item_name,quantity:Be.quantity,unit:Be.unit,condition:Be.condition,isDelivered:Be.is_delivered,notes:Be.notes}))}));C(de)}const{data:Ce}=await ee.from("fichas_individuais").select("*").order("created_at",{ascending:!1});Ce&&Le(Ce.map(de=>({id:de.id,codigo:de.codigo,tipo:de.tipo,entidade_id:de.entidade_id,entidade_tipo:de.entidade_tipo,data:de.data,produto_id:de.produto_id,produto:de.produto_name||de.produto,quantidade:de.quantidade,unidade:de.unidade,stock_antes:de.stock_antes,stock_depois:de.stock_depois,observacoes:de.observacoes,usuario_registou:de.usuario_registou,estado:de.estado,created_at:de.created_at,updated_at:de.updated_at})));const{data:$e}=await ee.from("initial_stock").select("*");$e&&Ze($e);const{data:Ne}=await ee.from("stock_alarms").select("*");if(Ne&&Yr(Ne),Z.role===Te.ADMIN){const{data:de}=await ee.from("audit_log").select("*").order("timestamp",{ascending:!1});de&&hn(de)}}else q&&(q.code==="406"||q.status===406?console.error(" Erro 406 (Not Acceptable): Verifique se a query est correta. Error:",q.message):console.error(" Erro ao buscar dados do usurio:",q))}catch(E){console.error(" Error refreshing profile:",{message:E==null?void 0:E.message,status:E==null?void 0:E.status,details:E})}};w.useEffect(()=>{const E=setInterval(()=>{fa()},vl);return()=>clearInterval(E)},[g]),w.useEffect(()=>{if(At||!t)return;const E=m3(ee,async M=>{var xe,Ce,$e;const q=M.table||M.table_name||((xe=M==null?void 0:M.schema)==null?void 0:xe.table),Z=M.eventType||M.event||M.type||((Ce=M==null?void 0:M.change)==null?void 0:Ce.event),pe=M.record||M.new||M.new_record||(($e=M==null?void 0:M.change)==null?void 0:$e.new)||(M==null?void 0:M.after)||M.data;console.log(" Realtime event",{table:q,eventType:Z,record:pe});try{if(q==="inventory"){const{data:Ne}=await ee.from("inventory").select("*");if(Ne){const de=Ne.map(ke=>({itemId:ke.item_id,locationId:ke.location_id,quantity:ke.quantity}));_(de)}return}if(q==="requisitions"){const{data:Ne}=await ee.from("requisitions").select("*, logs:requisition_logs(*)").order("created_at",{ascending:!1});Ne&&P(Ne.map(de=>({...de,logs:de.logs||[]})));return}if(q==="requisition_sheets"||q==="requisition_sheet_items"){const{data:Ne}=await ee.from("requisition_sheets").select("*, items:requisition_sheet_items(*)").order("created_at",{ascending:!1});if(Ne){const de=Ne.map(ke=>({id:ke.id,requisitionNumber:ke.requisition_number,requesterId:ke.requester_id,sourceLocationId:ke.source_location_id,sourceLocationName:ke.source_location_name,targetLocationId:ke.target_location_id,targetLocationName:ke.target_location_name,status:ke.status,notes:ke.notes,createdAt:ke.created_at,updatedAt:ke.updated_at,items:(ke.items||[]).map(Be=>({id:Be.id,sheetId:Be.sheet_id,itemId:Be.item_id,itemName:Be.item_name,quantity:Be.quantity,unit:Be.unit,condition:Be.condition,isDelivered:Be.is_delivered,notes:Be.notes}))}));C(de)}return}if(q==="fichas_individuais"){const{data:Ne}=await ee.from("fichas_individuais").select("*").order("created_at",{ascending:!1});Ne&&Le(Ne.map(de=>({id:de.id,codigo:de.codigo,tipo:de.tipo,entidade_id:de.entidade_id,entidade_tipo:de.entidade_tipo,data:de.data,produto_id:de.produto_id,produto:de.produto_name||de.produto,quantidade:de.quantidade,unidade:de.unidade,stock_antes:de.stock_antes,stock_depois:de.stock_depois,observacoes:de.observacoes,usuario_registou:de.usuario_registou,estado:de.estado,created_at:de.created_at,updated_at:de.updated_at})));return}if(q==="transactions"){const{data:Ne}=await ee.from("transactions").select("*, items:transaction_items(*)").order("date",{ascending:!1});Ne&&k(Ne.map(se));return}if(q==="invoices"){const{data:Ne}=await ee.from("invoices").select("*, itens:invoice_items(*), pagamentos:invoice_payments(*)").order("created_at",{ascending:!1});Ne&&I(Ne.map(de=>({id:de.id,numero:de.numero,tipo:de.tipo,status:de.status,locationId:de.location_id,empresa:{nome:de.company_name,nuit:de.company_nuit,endereco:de.company_address,contacto:de.company_contact},cliente:{id:de.client_id,nome:de.client_name,nuit:de.client_nuit,endereco:de.client_address,contacto:de.client_contact},itens:(de.itens||[]).map(ke=>({itemId:ke.item_id,descricao:ke.description,quantidade:ke.quantity,precoUnitario:ke.unit_price,impostoPercent:ke.tax_percent})),pagamentos:(de.pagamentos||[]).map(ke=>({data:ke.date,valor:ke.amount,modalidade:ke.method,referencia:ke.reference})),moeda:de.currency,dataEmissao:de.issue_date,vencimento:de.due_date,observacoes:de.notes,createdBy:de.created_by})));return}if(q==="items"){const{data:Ne}=await ee.from("items").select("*");Ne&&x(Ne);return}if(q==="users"){const{data:{session:Ne}}=await ee.auth.getSession();if(!(Ne!=null&&Ne.user))return;const de=Ne.user.id,{data:ke}=await ee.from("users").select("*").eq("id",de).single();if(ke){const Be={id:ke.id,name:ke.name,role:ke.role,locationId:ke.location_id||null,jobTitle:ke.job_title,defaultDailyGoal:ke.default_daily_goal,dailyRate:ke.daily_rate,halfDayRate:ke.half_day_rate,absencePenalty:ke.absence_penalty,bonusPerUnit:ke.bonus_per_unit};if(r(Be),Be.role===Te.ADMIN||Be.role===Te.GENERAL_MANAGER){const{data:It}=await ee.from("users").select("*");It&&s(It.map(Je=>({id:Je.id,name:Je.name,role:Je.role,locationId:Je.location_id||null,jobTitle:Je.job_title,defaultDailyGoal:Je.default_daily_goal,dailyRate:Je.daily_rate,halfDayRate:Je.half_day_rate,absencePenalty:Je.absence_penalty,bonusPerUnit:Je.bonus_per_unit})))}}return}}catch(Ne){console.error("Erro ao processar evento realtime:",Ne)}});return()=>{E().catch(()=>null)}},[At,t]);const Hn=E=>{const M=b.find(q=>q.id===E);if(!(M!=null&&M.parentId)){const q=b.find(Z=>Z.type===br.CENTRAL);return(q==null?void 0:q.id)||E}return M.parentId},ki=async(E,M,q,Z)=>{if(!t)return;const pe=Z||t.locationId;if(!pe){oe("Erro: Localizao de destino no definida.");return}const xe=Hn(pe),{data:Ce,error:$e}=await ee.from("requisitions").insert({requester_id:t.id,source_location_id:xe,target_location_id:pe,item_id:E,quantity:M,status:et.PENDING,condition:q}).select().single();if($e){oe(`Erro ao criar requisio: ${$e.message}`);return}await ee.from("requisition_logs").insert({requisition_id:Ce.id,actor_id:t.id,action:"CREATE",message:"Solicitao criada. Enviada para aprovao da Administrao/Direo."});const{data:Ne}=await ee.from("requisitions").select("*, logs:requisition_logs(*)").order("created_at",{ascending:!1});Ne&&P(Ne.map(de=>({...de,logs:de.logs||[]}))),oe("Requisio criada com sucesso!")},Xr=async(E,M,q)=>{if(!t)return;const Z=Hn(E),{data:pe,error:xe}=await ee.from("requisition_sheets").insert({requester_id:t.id,source_location_id:Z,source_location_name:wt(Z),target_location_id:E,target_location_name:wt(E),status:et.PENDING,notes:q,requisition_number:`REQ-${new Date().getFullYear()}/${Math.floor(Math.random()*1e4)}`}).select().single();if(xe){oe(`Erro ao criar requisio: ${xe.message}`);return}const Ce=M.map(Ne=>({sheet_id:pe.id,item_id:Ne.itemId||null,item_name:Ne.itemName,quantity:Ne.quantity,unit:Ne.unit,condition:Ne.condition||Zt.NEW,notes:Ne.notes})),{error:$e}=await ee.from("requisition_sheet_items").insert(Ce);$e?oe(`Erro ao adicionar itens: ${$e.message}`):(oe("Requisio criada com sucesso!"),fa())},le=async(E,M)=>{if(!t)return;const q=A.find(Ne=>Ne.id===E);if(!q)return;const Z=t.role===Te.ADMIN||t.role===Te.GENERAL_MANAGER,pe=Ne=>{if(!t)return!1;if(Ne===t.locationId)return!0;const de=b.find(ke=>ke.id===Ne);return(de==null?void 0:de.parentId)===t.locationId},xe=t.role===Te.MANAGER&&(pe(q.sourceLocationId)||pe(q.targetLocationId));if(!Z&&!xe&&t.role!==Te.WORKER){oe("ACESSO NEGADO: Voc no tem permisso para alterar este setor.");return}const{error:Ce}=await ee.from("requisitions").update({status:M}).eq("id",E);if(Ce){oe(`Erro ao atualizar requisio: ${Ce.message}`);return}await ee.from("requisition_logs").insert({requisition_id:E,actor_id:t.id,action:M,message:`Status alterado para ${M} por ${t.name}`}),M===et.APPROVED&&await Ue(q.itemId,q.sourceLocationId,-q.quantity),M===et.CONFIRMED&&await Ue(q.itemId,q.targetLocationId,q.quantity);const{data:$e}=await ee.from("requisitions").select("*, logs:requisition_logs(*)").order("created_at",{ascending:!1});$e&&P($e.map(Ne=>({...Ne,logs:Ne.logs||[]}))),oe(`Status da requisio atualizado: ${M}`)},Ue=async(E,M,q)=>{const Z=N.find(pe=>pe.itemId===E&&pe.locationId===M);if(Z){const pe=Math.max(0,Z.quantity+q);await ee.from("inventory").update({quantity:pe}).match({item_id:E,location_id:M}),_(xe=>xe.map(Ce=>Ce.itemId===E&&Ce.locationId===M?{...Ce,quantity:pe}:Ce))}else if(q>0){const{data:pe}=await ee.from("inventory").insert({item_id:E,location_id:M,quantity:q}).select().single();pe&&_(xe=>[...xe,pe])}},dt=async(E,M,q,Z)=>{if(!t)return;if(!M||!U(M)){oe("Erro: Localizao invlida. Selecione uma localizao vlida antes de adicionar estoque.");return}if(t.role===Te.MANAGER&&M!==t.locationId){alert("Voc s pode adicionar estoque  sua prpria localizao.");return}_(Ce=>{const $e=Ce.findIndex(Ne=>Ne.itemId===E&&Ne.locationId===M);if($e>=0){const Ne=[...Ce];return Ne[$e]={...Ne[$e],quantity:Ne[$e].quantity+q},Ne}return[...Ce,{id:`temp-${Date.now()}`,itemId:E,locationId:M,quantity:q}]}),await Ue(E,M,q);const pe=g.find(Ce=>Ce.id===E),xe={id:`acc-${Date.now()}`,date:new Date().toISOString(),itemId:E,itemName:(pe==null?void 0:pe.name)||"Item Desconhecido",locationId:M,quantity:q,unitPrice:Z,totalValue:q*Z,type:(pe==null?void 0:pe.type)===Pt.ASSET?"ATIVO":"PASSIVO",userId:t.id};H(Ce=>[xe,...Ce]);try{const Ce=`Compra de estoque: ${q}x ${(pe==null?void 0:pe.name)||"Item Desconhecido"}`;await ee.from("transactions").insert({type:xa.EXPENSE,user_id:t.id,location_id:M,description:Ce,category:"Compra de Estoque",amount:q*Z,payment_method:_n.CASH,date:new Date().toISOString()});const{data:$e}=await ee.from("transactions").select("*, items:transaction_items(*)").order("date",{ascending:!1});$e&&k($e.map(se))}catch(Ce){console.error("Erro ao registrar despesa de estoque:",Ce)}oe(`Estoque adicionado: ${q}x ${pe==null?void 0:pe.name}`)},ct=async(E,M)=>{if(!t||t.role!==Te.ADMIN){oe(" ACESSO NEGADO: Apenas administradores podem editar itens.");return}try{const{data:q,error:Z}=await ee.from("items").update({name:M.name,sku:M.sku,category:M.category,unit:M.unit,type:M.type,price:M.price,is_for_sale:M.is_for_sale}).eq("id",E).select().single();if(Z)throw Z;x(pe=>pe.map(xe=>xe.id===E?q:xe)),oe(` Item "${M.name||"item"}" atualizado com sucesso.`)}catch(q){oe(` Erro ao atualizar item: ${q.message}`)}},Cr=async(E,M,q,Z,pe,xe,Ce,$e,Ne=!0)=>{const{data:de,error:ke}=await ee.from("items").insert({name:E,sku:M,category:q,unit:Z,type:pe,price:$e,is_for_sale:Ne}).select().single();if(ke){oe(`Erro ao cadastrar item: ${ke.message}`);return}const Be=de;x(It=>[...It,Be]),xe>0?await dt(Be.id,Ce,xe,$e):oe("Item cadastrado com sucesso.")},sn=async E=>{if(!t||t.role!==Te.ADMIN){oe(" ACESSO NEGADO: Apenas administradores podem apagar itens.");return}const{error:M}=await ee.from("items").delete().eq("id",E);if(M){if(M.status===403||/policy/i.test(M.message||"")){console.warn("RLS rejection on deleteItem",{userId:t.id,itemId:E,error:M}),oe(" RLS policy rejected deletion (unauthorized).");return}const q=(M.message||"").toLowerCase();if(q.includes("foreign key")||q.includes("violates")||q.includes("conflict")||q.includes("cannot delete")){oe(" Item tem registos associados (estoque ou dependncias). Remova-os antes de apagar.");return}oe(` Erro ao apagar item: ${M.message}`);return}x(q=>q.filter(Z=>Z.id!==E)),oe(" Item apagado com sucesso.")},xt=async(E,M)=>{if(!t)return;const q=O.find(pe=>pe.id===E);if(!q){oe(`Erro: Ficha de requisio ${E} no encontrada.`);return}const{error:Z}=await ee.from("requisition_sheets").update({status:M,updated_at:new Date().toISOString()}).eq("id",E);if(Z){oe(`Erro ao atualizar status: ${Z.message}`);return}if(M===et.APPROVED)for(const pe of q.items)pe.itemId&&await Ue(pe.itemId,q.sourceLocationId,-pe.quantity);if(M===et.CONFIRMED)for(const pe of q.items)pe.itemId&&await Ue(pe.itemId,q.targetLocationId,pe.quantity);C(pe=>pe.map(xe=>xe.id===E?{...xe,status:M}:xe)),oe(`Status da requisio atualizado para ${M}.`)},Ut=async(E,M)=>{if(!t)return;const{error:q}=await ee.from("requisition_sheet_items").update({is_delivered:M}).eq("id",E);if(q){oe(`Erro ao atualizar entrega do item: ${q.message}`);return}C(Z=>Z.map(pe=>({...pe,items:pe.items.map(xe=>xe.id===E?{...xe,isDelivered:M}:xe)})))},Zr=E=>N.filter(M=>M.locationId===E),Fa=E=>{var M;return((M=g.find(q=>q.id===E))==null?void 0:M.name)||"Item desconhecido"},wt=E=>{var M;return((M=b.find(q=>q.id===E))==null?void 0:M.name)||"Local desconhecido"},pn=E=>{var M;return((M=W.find(q=>q.id===E))==null?void 0:M.name)||"Cliente desconhecido"},Da=async E=>{if(!t)return;const M=t.role===Te.ADMIN||t.role===Te.GENERAL_MANAGER;if(D.findIndex(xe=>xe.id===E.id||xe.workerId===E.workerId&&xe.date===E.date)>=0&&!M){oe("ACESSO NEGADO: Registros submetidos no podem ser alterados por Gerentes. Contate o Administrador.");return}if(!M&&t.role===Te.MANAGER&&!cr(t.id).find(Ce=>Ce.id===E.workerId)){oe("Erro: Voc no gerencia este funcionrio.");return}const{error:Z}=await ee.from("daily_performance").upsert({id:E.id,worker_id:E.workerId,date:E.date,status:E.status,production:E.production,notes:E.notes});if(Z){oe(`Erro ao salvar registro: ${Z.message}`);return}const{data:pe}=await ee.from("daily_performance").select("*").order("date",{ascending:!1});pe&&R(pe),oe("Registro de desempenho salvo.")},cr=E=>{const M=n.find(xe=>xe.id===E);if(!M)return[];const q=M.locationId,Z=b.filter(xe=>xe.parentId===q).map(xe=>xe.id),pe=[q,...Z];return n.filter(xe=>xe.role===Te.WORKER&&xe.locationId&&pe.includes(xe.locationId))},Qr=E=>{const M=b.filter(Z=>Z.parentId===E).map(Z=>Z.id),q=[E,...M];return n.filter(Z=>Z.role===Te.WORKER&&Z.locationId&&q.includes(Z.locationId))},Pi=async E=>{try{const{error:M}=await ee.from("users").update({name:E.name,role:E.role,location_id:E.locationId,job_title:E.jobTitle,default_daily_goal:E.defaultDailyGoal,daily_rate:E.dailyRate,half_day_rate:E.halfDayRate,absence_penalty:E.absencePenalty,bonus_per_unit:E.bonusPerUnit}).eq("id",E.id);if(M)throw M;s(q=>q.map(Z=>Z.id===E.id?E:Z)),t&&t.id===E.id&&r(E),oe("Dados do funcionrio atualizados com sucesso.")}catch(M){console.error("Erro ao atualizar usurio:",M),oe(`Erro ao atualizar: ${M.message}`)}},qo=async E=>{if(!t||t.role!==Te.ADMIN){oe(" ACESSO NEGADO: Apenas administradores podem apagar funcionrios.");return}if(E===t.id){oe(" No  possvel apagar sua prpria conta.");return}const{error:M}=await ee.from("users").delete().eq("id",E);if(M){if(M.status===403||/policy/i.test(M.message||"")){console.warn("RLS rejection on deleteUser",{actorId:t.id,targetUserId:E,error:M}),oe(" RLS policy rejected deletion (unauthorized).");return}const q=(M.message||"").toLowerCase();if(M.status===404||q.includes("not found")||q.includes("no rows")){oe(" Usurio no encontrado.");return}if(q.includes("foreign key")||q.includes("violates")||q.includes("conflict")){oe(" Erro de integridade: o usurio tem registos dependentes. Remova dependncias antes de apagar.");return}oe(` Erro ao apagar funcionrio: ${M.message}`);return}s(q=>q.filter(Z=>Z.id!==E)),oe(" Funcionrio apagado com sucesso.")},Om=async(E,M,q)=>{const{data:Z,error:pe}=await ee.from("locations").insert({name:E,type:M,parent_id:q}).select().single();if(pe){oe(`Erro ao adicionar localizao: ${pe.message}`);return}const xe={id:Z.id,name:Z.name,type:Z.type,parentId:Z.parent_id};j([...b,xe]),oe("Nova localizao adicionada.")},Cm=async E=>{if(n.some(Z=>Z.locationId===E)){oe("No  possvel remover. Existem usurios alocados para esta localizao.");return}const{error:q}=await ee.from("locations").delete().match({id:E});if(q){oe(`Erro ao remover localizao: ${q.message}`);return}j(Z=>Z.filter(pe=>pe.id!==E)),oe("Localizao removida com sucesso.")},$u=E=>B([...ge,E]),_s=E=>_e([...je,E]),$o=(E,M)=>{const q={id:`type-${Date.now()}`,name:E,behavior:M};Re([...me,q]),oe("Novo tipo de item configurado.")},Mi=E=>{X.includes(E)||(De([...X,E]),oe("Mtodo de pagamento adicionado."))},Ri=E=>{if(ne.some(q=>q.paymentMethod===E)||V.some(q=>q.pagamentos.some(Z=>Z.modalidade===E))){oe("No  possvel remover. Mtodo em uso.");return}De(X.filter(q=>q!==E)),oe("Mtodo de pagamento removido.")},Ss=E=>{Oe.includes(E)||(te([...Oe,E]),oe("Categoria de despesa adicionada."))},Ii=E=>{if(ne.some(q=>q.category===E)){oe("No  possvel remover. Categoria em uso.");return}te(Oe.filter(q=>q!==E)),oe("Categoria removida.")},ur=E=>{He(E),oe("Informaes da empresa atualizadas.")},Uu=async E=>{const{data:M,error:q}=await ee.from("clients").insert({name:E.name,nuit:E.nuit,email:E.email,contact:E.contact,address:E.address,notes:E.notes}).select().single();if(q){oe(`Erro ao registrar cliente: ${q.message}`);return}ue(Z=>[...Z,M]),oe(`Cliente ${E.name} registrado.`)},Bu=E=>{ue(M=>M.map(q=>q.id===E.id?E:q)),oe("Dados do cliente atualizados.")},Ha=E=>{const M=V.filter(Z=>Z.cliente.id===E&&Z.status!=="CANCELADA");let q=0;return M.forEach(Z=>{const pe=Z.itens.reduce((Ne,de)=>Ne+de.quantidade*de.precoUnitario,0),xe=Z.itens.reduce((Ne,de)=>Ne+de.quantidade*de.precoUnitario*((de.impostoPercent||0)/100),0),Ce=pe+xe,$e=Z.pagamentos.reduce((Ne,de)=>Ne+de.valor,0);q+=Ce-$e}),Math.max(0,q)},zi=async(E,M,q,Z,pe)=>{if(!t){oe("Usurio no autenticado");return}if(!U(t.id)){oe("Erro: ID do usurio invlido. Contate o administrador.");return}const xe={type:xa.SALE,user_id:t.id,client_name:M,client_nuit:q,amount:pe,payment_method:Z};if(t.locationId){if(!U(t.locationId)){oe("Erro: Localizao do usurio invlida. Contate o administrador.");return}xe.location_id=t.locationId}const{data:Ce,error:$e}=await ee.from("transactions").insert(xe).select().single();if($e){const de=$e.message||"";de.toLowerCase().includes("foreign key")||de.toLowerCase().includes("violates foreign key")?oe("Erro de integridade referencial ao processar venda. Verifique cliente, localizao ou produtos."):oe(`Erro ao processar venda: ${de}`);return}for(const de of E)await ee.from("transaction_items").insert({transaction_id:Ce.id,item_id:de.itemId,name:de.name,quantity:de.quantity,unit_price:de.unitPrice}),t.locationId&&await Ue(de.itemId,t.locationId,-de.quantity);const{data:Ne}=await ee.from("transactions").select("*, items:transaction_items(*)").order("date",{ascending:!1});Ne&&k(Ne.map(se)),oe("Venda realizada com sucesso!")},Tm=async(E,M,q,Z)=>{if(!t){oe("Usurio no autenticado");return}const pe={type:xa.EXPENSE,user_id:t.id,description:E,category:M,amount:q,payment_method:Z};if(!U(t.id)){oe("Erro: ID do usurio invlido. Contate o administrador.");return}if(t.locationId){if(!U(t.locationId)){oe("Erro: Localizao do usurio invlida. Contate o administrador.");return}pe.location_id=t.locationId}const{data:xe,error:Ce}=await ee.from("transactions").insert(pe).select().single();if(Ce){const Ne=Ce.message||"";Ne.toLowerCase().includes("foreign key")||Ne.toLowerCase().includes("violates foreign key")?oe("Erro de integridade referencial ao registrar despesa. Verifique cliente/locais."):oe(`Erro ao registrar despesa: ${Ne}`);return}const{data:$e}=await ee.from("transactions").select("*, items:transaction_items(*)").order("date",{ascending:!1});$e&&k($e.map(se)),oe("Despesa registrada.")},Gu=()=>{const E=new Date().getFullYear(),M=V.filter(q=>q.numero.startsWith(`${E}/`)).length;return`${E}/${String(M+1).padStart(6,"0")}`},Fu=async E=>{var M,q,Z,pe,xe,Ce,$e,Ne,de,ke,Be;try{if(!E.numero||E.numero.trim()===""){oe("Nmero da fatura invlido.");return}const{data:It}=await ee.from("invoices").select("id").eq("numero",E.numero).limit(1);if(It&&It.length>0){oe(`Nmero de fatura j existe: ${E.numero}`);return}if(E.locationId&&!U(E.locationId)){oe("Localizao da fatura invlida. Remova ou selecione uma localizao vlida.");return}if(E.cliente&&E.cliente.id&&!U(E.cliente.id)){oe("Cliente selecionado invlido. Verifique o cliente.");return}if(E.cliente.id){const Ie=W.find(Ot=>Ot.id===E.cliente.id);if(Ie){if(Ie&&Ie.is_blocked){const ln=Ie.block_reason||"No especificado";oe(`Cliente bloqueado: ${ln}`);return}const Ot=E.itens.reduce((ln,Tr)=>ln+Tr.quantidade*Tr.precoUnitario*(1+(Tr.impostoPercent||0)/100),0),bt=Ie.credit_limit||0,Vn=Ie.credit_used||0,dr=bt-Vn;if(Ot>dr&&dr>=0){oe(`Crdito insuficiente. Limite: ${bt.toFixed(2)} MZN | Utilizado: ${Vn.toFixed(2)} MZN | Disponvel: ${dr.toFixed(2)} MZN`);return}}}const Je={id:E.id,numero:E.numero,tipo:E.tipo,status:E.status,location_id:E.locationId,company_name:((M=E.empresa)==null?void 0:M.nome)||null,company_nuit:((q=E.empresa)==null?void 0:q.nuit)||null,company_address:((Z=E.empresa)==null?void 0:Z.endereco)||null,company_contact:((pe=E.empresa)==null?void 0:pe.contacto)||null,client_id:((xe=E.cliente)==null?void 0:xe.id)||null,client_name:((Ce=E.cliente)==null?void 0:Ce.nome)||null,client_nuit:(($e=E.cliente)==null?void 0:$e.nuit)||null,client_address:((Ne=E.cliente)==null?void 0:Ne.endereco)||null,client_contact:((de=E.cliente)==null?void 0:de.contacto)||null,currency:E.moeda,issue_date:E.dataEmissao,due_date:E.vencimento||null,notes:E.observacoes||null,created_by:E.createdBy,is_editable:E.status==="RASCUNHO"},{data:we,error:Se}=await ee.from("invoices").insert(Je).select().single();if(Se){const Ie=Se.message||"";Ie.toLowerCase().includes("foreign key")||Ie.toLowerCase().includes("violates foreign key")?oe("Erro de integridade referencial: verifique cliente, localizao ou produtos relacionados."):Ie.toLowerCase().includes("duplicate")||Ie.toLowerCase().includes("unique")?oe("Nmero de fatura duplicado. Use outro nmero."):oe(`Erro ao salvar fatura: ${Ie}`);return}if(E.itens&&E.itens.length>0){const Ie=E.itens.map(bt=>({invoice_id:we.id,item_id:bt.itemId||null,description:bt.descricao,quantity:bt.quantidade,unit_price:bt.precoUnitario,tax_percent:bt.impostoPercent||16})),{error:Ot}=await ee.from("invoice_items").insert(Ie);Ot&&oe(`Erro ao salvar itens da fatura: ${Ot.message}`)}try{await ee.from("invoice_audit_log").insert({invoice_id:we.id,action:"CREATE",changed_fields:{old_values:null,new_values:{numero:E.numero,status:E.status,cliente:E.cliente.nome,total_items:E.itens.length}},user_id:(t==null?void 0:t.id)||E.createdBy||null})}catch(Ie){console.warn("Failed to create audit log entry:",Ie)}if(E.pagamentos&&E.pagamentos.length>0){const Ie=E.pagamentos.map(bt=>({invoice_id:we.id,date:bt.data||new Date().toISOString(),amount:bt.valor,method:bt.modalidade,reference:bt.referencia||null})),{error:Ot}=await ee.from("invoice_payments").insert(Ie).select();Ot&&oe(`Erro ao salvar pagamentos da fatura: ${Ot.message}`);try{for(const bt of Ie){const Vn={type:xa.SALE,user_id:(t==null?void 0:t.id)||E.createdBy||null,invoice_id:we.id,client_name:((ke=E.cliente)==null?void 0:ke.nome)||((Be=E.cliente)==null?void 0:Be.id)||null,amount:bt.amount,payment_method:bt.method,location_id:E.locationId||(t==null?void 0:t.locationId)||null};await ee.from("transactions").insert(Vn)}}catch(bt){console.warn("failed to insert payment transactions for invoice",bt)}}(E.status==="EMITIDA"||E.status==="PAGA"||E.status==="PAGA_PARCIAL")&&(E.tipo==="FATURA"||E.tipo==="FATURA_RECIBO")&&E.itens.forEach(Ie=>{Ie.itemId&&Ue(Ie.itemId,E.locationId,-Ie.quantidade)});const{data:Me}=await ee.from("invoices").select("*, itens:invoice_items(*), pagamentos:invoice_payments(*)").order("created_at",{ascending:!1});Me&&I(Me.map(Ie=>({id:Ie.id,numero:Ie.numero,tipo:Ie.tipo,status:Ie.status,locationId:Ie.location_id,empresa:{nome:Ie.company_name,nuit:Ie.company_nuit,endereco:Ie.company_address,contacto:Ie.company_contact},cliente:{id:Ie.client_id,nome:Ie.client_name,nuit:Ie.client_nuit,endereco:Ie.client_address,contacto:Ie.client_contact},itens:(Ie.itens||[]).map(Ot=>({itemId:Ot.item_id,descricao:Ot.description,quantidade:Ot.quantity,precoUnitario:Ot.unit_price,impostoPercent:Ot.tax_percent})),pagamentos:(Ie.pagamentos||[]).map(Ot=>({data:Ot.date,valor:Ot.amount,modalidade:Ot.method,referencia:Ot.reference})),moeda:Ie.currency,dataEmissao:Ie.issue_date,vencimento:Ie.due_date,observacoes:Ie.notes,createdBy:Ie.created_by}))),oe(`Documento ${E.tipo} criado: ${E.numero}`)}catch(It){oe(`Erro ao criar fatura: ${(It==null?void 0:It.message)||String(It)}`)}},Hu=async E=>{var q,Z,pe,xe,Ce,$e,Ne,de,ke;const M=V.find(Be=>Be.id===E.id);try{const Be={numero:E.numero,tipo:E.tipo,status:E.status,location_id:E.locationId,company_name:((q=E.empresa)==null?void 0:q.nome)||null,company_nuit:((Z=E.empresa)==null?void 0:Z.nuit)||null,company_address:((pe=E.empresa)==null?void 0:pe.endereco)||null,company_contact:((xe=E.empresa)==null?void 0:xe.contacto)||null,client_id:((Ce=E.cliente)==null?void 0:Ce.id)||null,client_name:(($e=E.cliente)==null?void 0:$e.nome)||null,client_nuit:((Ne=E.cliente)==null?void 0:Ne.nuit)||null,client_address:((de=E.cliente)==null?void 0:de.endereco)||null,client_contact:((ke=E.cliente)==null?void 0:ke.contacto)||null,currency:E.moeda,issue_date:E.dataEmissao,due_date:E.vencimento||null,notes:E.observacoes||null,created_by:E.createdBy},{error:It}=await ee.from("invoices").update(Be).eq("id",E.id);if(It&&oe(`Erro ao atualizar fatura: ${It.message}`),await ee.from("invoice_items").delete().eq("invoice_id",E.id),E.itens&&E.itens.length>0){const we=E.itens.map(Me=>({invoice_id:E.id,item_id:Me.itemId||null,description:Me.descricao,quantity:Me.quantidade,unit_price:Me.precoUnitario,tax_percent:Me.impostoPercent||0})),{error:Se}=await ee.from("invoice_items").insert(we);Se&&oe(`Erro ao salvar itens da fatura: ${Se.message}`)}if(await ee.from("invoice_payments").delete().eq("invoice_id",E.id),E.pagamentos&&E.pagamentos.length>0){const we=E.pagamentos.map(Me=>({invoice_id:E.id,date:Me.data||new Date().toISOString(),amount:Me.valor,method:Me.modalidade,reference:Me.referencia||null})),{error:Se}=await ee.from("invoice_payments").insert(we);Se&&oe(`Erro ao salvar pagamentos da fatura: ${Se.message}`)}const{data:Je}=await ee.from("invoices").select("*, itens:invoice_items(*), pagamentos:invoice_payments(*)").order("created_at",{ascending:!1});if(Je&&I(Je.map(we=>({id:we.id,numero:we.numero,tipo:we.tipo,status:we.status,locationId:we.location_id,empresa:{nome:we.company_name,nuit:we.company_nuit,endereco:we.company_address,contacto:we.company_contact},cliente:{id:we.client_id,nome:we.client_name,nuit:we.client_nuit,endereco:we.client_address,contacto:we.client_contact},itens:(we.itens||[]).map(Se=>({itemId:Se.item_id,descricao:Se.description,quantidade:Se.quantity,precoUnitario:Se.unit_price,impostoPercent:Se.tax_percent})),pagamentos:(we.pagamentos||[]).map(Se=>({data:Se.date,valor:Se.amount,modalidade:Se.method,referencia:Se.reference})),moeda:we.currency,dataEmissao:we.issue_date,vencimento:we.due_date,observacoes:we.notes,createdBy:we.created_by}))),M){const we=M.status==="RASCUNHO",Se=E.status==="EMITIDA"||E.status==="PAGA"||E.status==="PAGA_PARCIAL",Me=E.tipo==="FATURA"||E.tipo==="FATURA_RECIBO";we&&Se&&Me&&E.itens.forEach(Ie=>{Ie.itemId&&Ue(Ie.itemId,E.locationId,-Ie.quantidade)})}oe(`Documento atualizado: ${E.numero}`)}catch(Be){oe(`Erro ao atualizar fatura: ${(Be==null?void 0:Be.message)||String(Be)}`)}},xl=async E=>{try{const{error:M}=await ee.from("invoice_payments").delete().eq("invoice_id",E);M&&oe(`Erro ao remover pagamentos da fatura: ${M.message}`);const{error:q}=await ee.from("invoice_items").delete().eq("invoice_id",E);q&&oe(`Erro ao remover itens da fatura: ${q.message}`);const{error:Z}=await ee.from("invoices").delete().eq("id",E);if(Z){oe(`Erro ao remover fatura: ${Z.message}`);return}const{data:pe}=await ee.from("invoices").select("*, itens:invoice_items(*), pagamentos:invoice_payments(*)").order("created_at",{ascending:!1});pe&&I(pe.map(xe=>({id:xe.id,numero:xe.numero,tipo:xe.tipo,status:xe.status,locationId:xe.location_id,empresa:{nome:xe.company_name,nuit:xe.company_nuit,endereco:xe.company_address,contacto:xe.company_contact},cliente:{id:xe.client_id,nome:xe.client_name,nuit:xe.client_nuit,endereco:xe.client_address,contacto:xe.client_contact},itens:(xe.itens||[]).map(Ce=>({itemId:Ce.item_id,descricao:Ce.description,quantidade:Ce.quantity,precoUnitario:Ce.unit_price,impostoPercent:Ce.tax_percent})),pagamentos:(xe.pagamentos||[]).map(Ce=>({data:Ce.date,valor:Ce.amount,modalidade:Ce.method,referencia:Ce.reference})),moeda:xe.currency,dataEmissao:xe.issue_date,vencimento:xe.due_date,observacoes:xe.notes,createdBy:xe.created_by}))),oe("Fatura removida com sucesso.")}catch(M){oe(`Erro ao remover fatura: ${(M==null?void 0:M.message)||String(M)}`)}},bl=async(E,M)=>{var Be,It;const q=V.find(Je=>Je.id===E);if(!q)return;try{const{data:Je}=await ee.from("invoices").select("id").eq("id",E).single();if(Je){const{error:we}=await ee.from("invoice_payments").insert({invoice_id:E,date:M.data||new Date().toISOString(),amount:M.valor,method:M.modalidade,reference:M.referencia||null});we&&oe(`Erro ao persistir pagamento: ${we.message}`);const Se=[...q.pagamentos,M],Me=q.itens.reduce((ln,Tr)=>ln+Tr.quantidade*Tr.precoUnitario,0),Ie=q.itens.reduce((ln,Tr)=>ln+Tr.quantidade*Tr.precoUnitario*((Tr.impostoPercent||0)/100),0),Ot=Me+Ie,bt=Se.reduce((ln,Tr)=>ln+Tr.valor,0);let Vn=q.status;bt>=Ot-.1?Vn="PAGA":bt>0&&(Vn="PAGA_PARCIAL");const{error:dr}=await ee.from("invoices").update({status:Vn}).eq("id",E);dr&&oe(`Erro ao atualizar status da fatura: ${dr.message}`)}}catch(Je){console.warn("persisting invoice payment failed",Je)}const Z={type:xa.SALE,user_id:t==null?void 0:t.id,invoice_id:E,description:`Recebimento (${q.numero})`,amount:M.valor,payment_method:M.modalidade};t!=null&&t.locationId&&(U(t.locationId)?t&&(Z.location_id=t.locationId):console.warn("Localizao do usurio invlida ao criar transao de pagamento; gravando sem location_id.")),(Be=q.cliente)!=null&&Be.nome?Z.client_name=q.cliente.nome:q.client_name&&(Z.client_name=q.client_name),(It=q.cliente)!=null&&It.nuit?Z.client_nuit=q.cliente.nuit:q.client_nuit&&(Z.client_nuit=q.client_nuit);try{if(!U(Z.user_id)){oe("Erro: usurio invlido ao registrar transao. Contate o administrador.");return}const{data:Je,error:we}=await ee.from("transactions").insert(Z).select().single();if(we)oe(`Erro ao registrar recebimento: ${we.message}`);else{const{data:Se}=await ee.from("transactions").select("*, items:transaction_items(*)").order("date",{ascending:!1});Se&&k(Se.map(se))}}catch(Je){console.warn("failed to insert payment transaction",Je)}const pe=[...q.pagamentos,M],xe=q.itens.reduce((Je,we)=>Je+we.quantidade*we.precoUnitario,0),Ce=q.itens.reduce((Je,we)=>Je+we.quantidade*we.precoUnitario*((we.impostoPercent||0)/100),0),$e=xe+Ce,Ne=pe.reduce((Je,we)=>Je+we.valor,0);let de=q.status;Ne>=$e-.1?de="PAGA":Ne>0&&(de="PAGA_PARCIAL");const ke={...q,pagamentos:pe,status:de};Hu(ke),oe(`Pagamento de ${M.valor} registrado.`)},ha=(E,M)=>{K(q=>({...q,[E]:{advances:M}}))},gn=E=>{const M=D.filter(dr=>dr.workerId===E.id),q=M.filter(dr=>dr.status===yt.FULL_DAY).length,Z=M.filter(dr=>dr.status===yt.HALF_DAY).length,pe=M.filter(dr=>dr.status===yt.ABSENT).length,xe=q+Z*.5,Ce=M.reduce((dr,ln)=>dr+(ln.production||0),0),$e=E.defaultDailyGoal||0,Ne=xe*$e,de=Ne>0?Ce/Ne*100:0,ke=E.dailyRate||0,Be=E.halfDayRate||0,It=E.bonusPerUnit||0,Je=E.absencePenalty||0,we=q*ke+Z*Be,Me=Math.max(0,Ce-Ne)*It,Ie=z[E.id]||{advances:0},bt=pe*Je+Ie.advances,Vn=we+Me-bt;return{userId:E.id,userName:E.name,fullDays:q,halfDays:Z,absences:pe,targetProduction:Ne,realProduction:Ce,efficiency:Math.floor(de),baseSalary:we,productionBonus:Me,totalDeductions:bt,netSalary:Vn}},Vu=async E=>{var M,q;if(!t)throw new Error("Ao no permitida: Usurio no autenticado.");if(!nr)throw new Error("Apenas administradores podem criar usurios.");if(!E.password)throw new Error("Senha  obrigatria");try{oe(` Criando usurio ${E.name}...`);const Z=await y3({name:E.name,email:E.email,password:E.password,role:String(E.role),locationId:E.locationId||null,jobTitle:E.jobTitle||null,defaultDailyGoal:E.defaultDailyGoal??null,dailyRate:E.dailyRate??null,halfDayRate:E.halfDayRate??null,absencePenalty:E.absencePenalty??null,bonusPerUnit:E.bonusPerUnit??null});if(!Z.success){console.error(" Edge Function error:",Z);const Ce=Z.error||`Erro ao criar usurio (status ${Z.status||"unknown"})`;throw oe(` Erro: ${Ce}`),new Error(Ce)}console.log(" Usurio criado com sucesso! ID:",((M=Z.data)==null?void 0:M.userId)||((q=Z.data)==null?void 0:q.user_id)||null),oe(" Usurio criado! Atualizando lista...");const{data:pe,error:xe}=await ee.from("users").select("*");if(xe)console.error("Erro ao buscar lista de usurios:",xe),oe(" Usurio criado, mas erro ao atualizar lista");else if(pe){const Ce=pe.map($e=>({id:$e.id,name:$e.name,role:$e.role,locationId:$e.location_id||null,jobTitle:$e.job_title,defaultDailyGoal:$e.default_daily_goal,dailyRate:$e.daily_rate,halfDayRate:$e.half_day_rate,absencePenalty:$e.absence_penalty,bonusPerUnit:$e.bonus_per_unit}));s(Ce),oe(` Usurio ${E.name} criado com sucesso!`,6e3)}}catch(Z){console.error(" Exception ao criar usurio:",Z);const pe=(Z==null?void 0:Z.message)||"Erro desconhecido ao criar usurio";throw oe(` Erro: ${pe}`,6e3),Z}},Dm=async E=>{if(t)try{const M=n.find(Ne=>Ne.id===E.entidade_id),q=(M==null?void 0:M.locationId)||t.locationId;if(!q){oe("Erro: No foi possvel determinar a localizao para sada de stock.");return}let Z=0;if(E.produto_id){const Ne=N.find(de=>de.itemId===E.produto_id&&de.locationId===q);Z=(Ne==null?void 0:Ne.quantity)||0}const{count:pe}=await ee.from("fichas_individuais").select("id",{count:"exact",head:!0}),xe=`FICHA-${new Date().getFullYear()}-${String((pe||0)+1).padStart(4,"0")}`,{data:Ce,error:$e}=await ee.from("fichas_individuais").insert({codigo:xe,tipo:E.tipo,entidade_id:E.entidade_id,entidade_tipo:E.entidade_tipo,data:E.data,produto_id:E.produto_id,produto_name:E.produto,quantidade:E.quantidade,unidade:E.unidade,stock_antes:Z,stock_depois:Z-E.quantidade,observacoes:E.observacoes,usuario_registou:t.id,estado:"confirmado"}).select().single();if($e)throw $e;E.produto_id&&await Ue(E.produto_id,q,-E.quantidade),Le(Ne=>[Ce,...Ne]),oe("Entrega registrada e stock atualizado!")}catch(M){console.error("Erro ao criar ficha:",M),oe(`Erro ao criar ficha: ${M.message}`)}},Uo=async E=>{if(t)try{const{error:M}=await ee.from("fichas_individuais").update({estado:"confirmado"}).eq("id",E);if(M)throw M;Le(q=>q.map(Z=>Z.id===E?{...Z,estado:"confirmado"}:Z)),oe("Ficha confirmada!")}catch(M){oe(`Erro ao confirmar ficha: ${M.message}`)}},Ku=async E=>{if(t)try{const{error:M}=await ee.from("fichas_individuais").update({estado:"trancado"}).eq("id",E);if(M)throw M;Le(q=>q.map(Z=>Z.id===E?{...Z,estado:"trancado"}:Z)),oe("Ficha trancada!")}catch(M){oe(`Erro ao trancar ficha: ${M.message}`)}},wl=async E=>{if(!t||t.role!==Te.ADMIN){oe("Apenas administradores podem editar fichas.");return}try{const{error:M}=await ee.from("fichas_individuais").update(E).eq("id",E.id);if(M)throw M;Le(q=>q.map(Z=>Z.id===E.id?E:Z)),oe("Ficha atualizada!")}catch(M){oe(`Erro ao atualizar ficha: ${M.message}`)}},km=async E=>{if(!t||t.role!==Te.ADMIN){oe("Apenas administradores podem apagar fichas.");return}try{const{error:M}=await ee.from("fichas_individuais").delete().eq("id",E);if(M)throw M;Le(q=>q.filter(Z=>Z.id!==E)),oe("Ficha apagada!")}catch(M){oe(`Erro ao apagar ficha: ${M.message}`)}},yn=async E=>{if(t)try{const{data:M,error:q}=await ee.from("initial_stock").insert({...E,usuario_registou:t.id}).select().single();if(q)throw q;Ze(Z=>[...Z,M]),oe("Stock inicial criado!")}catch(M){oe(`Erro ao criar stock inicial: ${M.message}`)}},Bo=async E=>{if(t)try{const{data:M,error:q}=await ee.from("stock_alarms").upsert(E).select().single();if(q)throw q;Yr(Z=>Z.map(pe=>pe.id===E.id?M:pe)),oe("Alarme de stock atualizado!")}catch(M){oe(`Erro ao atualizar alarme: ${M.message}`)}},Yu=(E,M)=>Jt.filter(q=>q.tabela===E&&q.record_id===M),Go=async E=>{if(t)try{const{data:M,error:q}=await ee.from("cost_centers").insert({...E,created_at:new Date().toISOString()}).select().single();if(q)throw q;Wr(Z=>[...Z,M]),oe("Centro de custo criado!")}catch(M){oe(`Erro ao criar centro de custo: ${M.message}`)}},Li=async E=>{if(t)try{const{data:M,error:q}=await ee.from("cost_centers").update(E).eq("id",E.id).select().single();if(q)throw q;Wr(Z=>Z.map(pe=>pe.id===E.id?M:pe)),oe("Centro de custo atualizado!")}catch(M){oe(`Erro ao atualizar centro de custo: ${M.message}`)}},Wu=async E=>{if(t)try{const{error:M}=await ee.from("cost_centers").delete().eq("id",E);if(M)throw M;Wr(q=>q.filter(Z=>Z.id!==E)),oe("Centro de custo removido!")}catch(M){oe(`Erro ao remover centro de custo: ${M.message}`)}},Xu=async E=>{if(t)try{const M=E.quantity*E.unitPrice,{data:q,error:Z}=await ee.from("pending_invoice_items").insert({...E,total_value:M,invoiced_quantity:0,remaining_quantity:E.quantity,created_by:t.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}).select().single();if(Z)throw Z;Tn(pe=>[...pe,q]),oe("Item por faturar criado!")}catch(M){oe(`Erro ao criar item pendente: ${M.message}`)}},qi=async E=>{if(t)try{const{data:M,error:q}=await ee.from("pending_invoice_items").update({...E,updated_at:new Date().toISOString()}).eq("id",E.id).select().single();if(q)throw q;Tn(Z=>Z.map(pe=>pe.id===E.id?M:pe)),oe("Item pendente atualizado!")}catch(M){oe(`Erro ao atualizar item pendente: ${M.message}`)}},Pm=async E=>{if(t)try{const{error:M}=await ee.from("pending_invoice_items").delete().eq("id",E);if(M)throw M;Tn(q=>q.filter(Z=>Z.id!==E)),oe("Item pendente removido!")}catch(M){oe(`Erro ao remover item pendente: ${M.message}`)}},Zu=async(E,M,q)=>{if(t)try{const{data:Z,error:pe}=await ee.from("invoice_pending_links").insert({invoice_item_id:E,pending_item_id:M,quantity_used:q,created_at:new Date().toISOString()}).select().single();if(pe)throw pe;an(xe=>[...xe,Z]),oe("Item ligado  fatura!")}catch(Z){oe(`Erro ao ligar item: ${Z.message}`)}},Qu=async E=>{if(t)try{const{data:M,error:q}=await ee.from("credit_notes").insert({...E,created_by:t.id,created_at:new Date().toISOString()}).select().single();if(q)throw q;ut(Z=>[...Z,M]),oe("Nota de crdito criada!")}catch(M){oe(`Erro ao criar nota de crdito: ${M.message}`)}},Fo=async E=>{if(t)try{const{data:M,error:q}=await ee.from("credit_notes").update(E).eq("id",E.id).select().single();if(q)throw q;ut(Z=>Z.map(pe=>pe.id===E.id?M:pe)),oe("Nota de crdito atualizada!")}catch(M){oe(`Erro ao atualizar nota de crdito: ${M.message}`)}},Mm=async E=>{if(t)try{const{data:M,error:q}=await ee.from("clients").update({...E,credit_limit:E.creditLimit,current_balance:E.currentBalance,status:E.status,client_type:E.clientType}).eq("id",E.id).select().single();if(q)throw q;ue(Z=>Z.map(pe=>pe.id===E.id?M:pe)),oe("Cliente atualizado!")}catch(M){oe(`Erro ao atualizar cliente: ${M.message}`)}},Rm=E=>{const M=W.find(pe=>pe.id===E);if(!M)return{availableCredit:0,isBlocked:!0};const q=M.creditLimit-M.currentBalance,Z=M.status==="BLOCKED"||M.status==="SUSPENDED"||q<0;return{availableCredit:q,isBlocked:Z}},jl=async(E,M)=>({period:`${E} - ${M}`,totalSales:0,totalInvoices:V.length,totalClients:W.length,salesByProduct:[],salesByClient:[]}),ma=async(E,M)=>({accountsReceivable:0,overdueAccounts:0,cashFlow:[],clientBalances:[]}),Ho=async(E,M)=>({costCenters:[],products:[]}),Vo=()=>{try{typeof window<"u"&&window.localStorage&&(console.log(" Limpando localStorage..."),localStorage.clear())}catch(E){console.warn("No foi possvel limpar localStorage:",E)}s([]),x([]),j([]),_([]),P([]),C([]),R([]),H([]),he([]),k([]),I([]),ue([]),Le([]),Ze([]),Yr([]),hn([]),Wr([]),Tn([]),an([]),ut([]),B([]),_e([]),Re([]),De([]),te([]),He({nome:"",nuit:"",endereco:"",contacto:""}),ie(Et[0]||"MZN"),K({}),u(null),r(null),h(new Date),p(null),oe("Dados locais reiniciados.")};return At?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-white to-blue-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-emerald-600 rounded-2xl mb-4 animate-pulse",children:l.jsx("span",{className:"text-3xl",children:""})}),l.jsx("p",{className:"text-gray-600",children:"Carregando dados..."})]})}):l.jsx(XA.Provider,{value:{currentUser:t,allUsers:n,items:g,locations:b,inventory:N,requisitions:A,requisitionSheets:O,performanceRecords:D,accountingEntries:L,transactions:ne,invoices:V,clients:W,fichasIndividuais:$t,initialStocks:Xt,stockAlarms:Cn,auditLogs:Jt,logEntries:G,costCenters:mn,pendingInvoiceItems:Ca,invoicePendingLinks:Ta,creditNotes:Ae,selectedDepartmentId:o,lastUpdated:d,notification:m,isAdminOrGM:nr,categories:ge,measureUnits:je,itemTypes:me,rolePermissions:be,paymentMethods:X,expenseCategories:Oe,companyInfo:rt,availableCurrencies:Et,defaultCurrency:vt,payrollParams:z,setSelectedDepartmentId:u,createRequisition:ki,createRequisitionSheet:Xr,updateRequisitionStatus:le,updateRequisitionSheetStatus:xt,updateRequisitionSheetItemDelivery:Ut,getInventoryByLocation:Zr,getItemName:Fa,getLocationName:wt,getClientName:pn,savePerformanceRecord:Da,getWorkersByManager:cr,getWorkersByLocation:Qr,refreshData:fa,registerNewItem:Cr,addToInventory:dt,deleteItem:sn,updateItem:ct,resetLocalData:Vo,addUser:Vu,updateUser:Pi,deleteUser:qo,addLocation:Om,removeLocation:Cm,addCategory:$u,addMeasureUnit:_s,addItemType:$o,addPaymentMethod:Mi,removePaymentMethod:Ri,addExpenseCategory:Ss,removeExpenseCategory:Ii,updateCompanyInfo:ur,setDefaultCurrency:ie,processSale:zi,registerExpense:Tm,hasPermission:Ti,togglePermission:Di,addInvoice:Fu,updateInvoice:Hu,deleteInvoice:xl,getNextInvoiceNumber:Gu,registerPayment:bl,addClient:Uu,updateClient:Bu,getClientBalance:Ha,updatePayrollParams:ha,calculatePayrollForUser:gn,createFicha:Dm,confirmFicha:Uo,lockFicha:Ku,updateFicha:wl,deleteFicha:km,createInitialStock:yn,updateStockAlarm:Bo,getAuditLogsForTable:Yu,addCostCenter:Go,updateCostCenter:Li,deleteCostCenter:Wu,createPendingInvoiceItem:Xu,updatePendingInvoiceItem:qi,deletePendingInvoiceItem:Pm,linkInvoiceToPendingItem:Zu,createCreditNote:Qu,updateCreditNote:Fo,updateClientExtended:Mm,getClientCreditStatus:Rm,generateSalesReport:jl,generateFinancialReport:ma,generateProfitabilityReport:Ho},children:e})},Nr=()=>{const e=w.useContext(XA);if(!e)throw new Error("useLogistics must be used within a LogisticsProvider");return e};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),j3=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),c_=e=>{const t=j3(e);return t.charAt(0).toUpperCase()+t.slice(1)},ZA=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),N3=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:u,...d},h)=>w.createElement("svg",{ref:h,..._3,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:ZA("lucide",s),...!o&&!N3(d)&&{"aria-hidden":"true"},...d},[...u.map(([m,p])=>w.createElement(m,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=(e,t)=>{const r=w.forwardRef(({className:n,...s},o)=>w.createElement(S3,{ref:o,iconNode:t,className:ZA(`lucide-${w3(c_(e))}`,`lucide-${e}`,n),...s}));return r.displayName=c_(e),r};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],A3=Pe("activity",E3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],C3=Pe("arrow-left",O3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Th=Pe("arrow-right",T3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],Kv=Pe("banknote",D3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],P3=Pe("bell",k3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],Zs=Pe("box",M3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],QA=Pe("briefcase",R3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],JA=Pe("building-2",I3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],L3=Pe("calculator",z3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],gu=Pe("calendar",q3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],zy=Pe("chart-column",$3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],B3=Pe("chart-no-axes-column",U3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],eO=Pe("chart-pie",G3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],u_=Pe("chevron-down",F3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],V3=Pe("chevron-left",H3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Pf=Pe("chevron-right",K3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],d_=Pe("chevron-up",Y3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Qs=Pe("circle-alert",W3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ia=Pe("circle-check-big",X3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],Q3=Pe("circle-user",Z3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Mf=Pe("circle-x",J3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],Ly=Pe("clipboard-check",e5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t5=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Xc=Pe("clock",t5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],n5=Pe("coins",r5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],tO=Pe("credit-card",a5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i5=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Bn=Pe("dollar-sign",i5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Yv=Pe("download",s5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l5=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],la=Pe("file-text",l5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],rO=Pe("funnel",o5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],u5=Pe("globe",c5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Wv=Pe("history",d5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],nO=Pe("landmark",f5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h5=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],m5=Pe("layout-dashboard",h5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p5=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],g5=Pe("loader-circle",p5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y5=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],v5=Pe("log-in",y5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x5=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],al=Pe("lock",x5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b5=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],w5=Pe("log-out",b5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j5=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],f_=Pe("mail",j5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N5=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ys=Pe("map-pin",N5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _5=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],S5=Pe("menu",_5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E5=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],qy=Pe("message-circle",E5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A5=[["path",{d:"M5 12h14",key:"1ays0h"}]],O5=Pe("minus",A5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C5=[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],W0=Pe("package-check",C5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Xv=Pe("package",T5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D5=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],$y=Pe("paperclip",D5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k5=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],P5=Pe("phone",k5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Vr=Pe("plus",M5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Zv=Pe("printer",R5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],z5=Pe("receipt",I5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],q5=Pe("refresh-cw",L5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Dh=Pe("save",$5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],B5=Pe("scale",U5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ps=Pe("search",G5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],H5=Pe("send",F5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Qv=Pe("settings",V5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Y5=Pe("shield-check",K5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],aO=Pe("shield",W5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Uy=Pe("shopping-cart",X5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Q5=Pe("smartphone",Z5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],h_=Pe("square-pen",J5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],iO=Pe("tag",e6);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],hi=Pe("trash-2",t6);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Jv=Pe("trending-down",r6);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],yu=Pe("trending-up",n6);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],i6=Pe("triangle-alert",a6);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],za=Pe("truck",s6);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],o6=Pe("user-check",l6);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Zc=Pe("user-plus",c6);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ef=Pe("user",u6);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],kh=Pe("users",d6);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],rn=Pe("x",f6);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],m6=Pe("zap",h6),p6=({children:e,activeTab:t,onTabChange:r})=>{var V;const{currentUser:n,locations:s,selectedDepartmentId:o,setSelectedDepartmentId:u,requisitions:d,updateRequisitionStatus:h,getWorkersByLocation:m,refreshData:p,lastUpdated:g,notification:x,isAdminOrGM:b,hasPermission:j}=Nr(),[N,_]=w.useState(!1),[A,P]=w.useState(!1),O=async()=>{P(!0);try{console.log(" Usurio clicou em Sincronizar"),await p(),setTimeout(()=>{(n==null?void 0:n.role)==="WORKER"&&(n==null?void 0:n.email)==="davidjuniormuianga@gmail.com"&&(console.log(" Ainda WORKER aps refresh, fazendo hard reload..."),window.location.reload())},1e3)}finally{P(!1)}};if(!n)return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-white to-blue-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-emerald-600 rounded-2xl mb-4 animate-pulse",children:l.jsx("span",{className:"text-3xl",children:""})}),l.jsx("p",{className:"text-gray-600",children:"Carregando..."})]})});const C=async()=>{confirm("Tem certeza que deseja sair?")&&(await ee.auth.signOut(),window.location.reload())},D=I=>{switch(I){case Te.ADMIN:return"bg-purple-100 text-purple-800 border-purple-200";case Te.GENERAL_MANAGER:return"bg-indigo-100 text-indigo-800 border-indigo-200";case Te.MANAGER:return"bg-blue-100 text-blue-800 border-blue-200";case Te.WORKER:return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800"}},R=I=>{r(I),_(!1)},L=I=>{u(I),R("dashboard"),_(!1)},H=I=>{u(null),R(I),_(!1)},G=d.filter(I=>I.status===et.PENDING),he=G.length>0,ne=j("MANAGE_REQUISITIONS"),k=I=>{I.stopPropagation(),confirm(`Tem certeza que deseja aprovar TODAS as ${G.length} requisies pendentes?`)&&(G.forEach(W=>{h(W.id,et.APPROVED)}),R("requisitions"))},se=s.filter(I=>I.type===br.BRANCH),U=o?(V=s.find(I=>I.id===o))==null?void 0:V.name:"Viso Global";return l.jsxs("div",{className:"flex h-screen bg-gray-50 overflow-hidden",children:[N&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden backdrop-blur-sm transition-opacity",onClick:()=>_(!1)}),l.jsxs("aside",{className:`
        fixed inset-y-0 left-0 z-50 w-72 bg-slate-900 text-white flex flex-col shadow-2xl transform transition-transform duration-300 ease-in-out
        lg:static lg:w-64 lg:translate-x-0
        ${N?"translate-x-0":"-translate-x-full"}
      `,children:[l.jsxs("div",{className:"p-6 border-b border-slate-700 cursor-pointer flex justify-between items-center bg-slate-950",onClick:()=>H("dashboard"),children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-8 h-8 rounded bg-emerald-600 flex items-center justify-center font-bold text-white shadow-lg shadow-emerald-900/50",children:"O"}),l.jsx("h1",{className:"text-lg font-bold tracking-tight leading-tight",children:"OFFICE FLORESTAL"})]}),l.jsx("p",{className:"text-[10px] text-slate-400 mt-1 uppercase tracking-wider",children:"Logstica & Gesto"})]}),l.jsx("button",{onClick:I=>{I.stopPropagation(),_(!1)},className:"lg:hidden text-slate-400 hover:text-white p-2","aria-label":"Fechar menu",title:"Fechar menu",children:l.jsx(rn,{size:24})})]}),l.jsxs("nav",{className:"flex-1 p-3 space-y-1 overflow-y-auto custom-scrollbar",children:[j("VIEW_DASHBOARD")&&l.jsxs("button",{onClick:()=>R("dashboard"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${t==="dashboard"?"bg-blue-600 text-white shadow-md":"text-slate-300 hover:bg-slate-800"}`,children:[l.jsx(m5,{size:20}),l.jsx("span",{className:"font-medium text-sm",children:"Viso Geral"})]}),j("VIEW_REQUISITIONS")&&l.jsxs("div",{className:"space-y-1",children:[l.jsxs("button",{onClick:()=>R("requisitions"),className:`w-full flex items-center justify-between px-4 py-3 rounded-lg transition-all ${t==="requisitions"?"bg-blue-600 text-white shadow-md":"text-slate-300 hover:bg-slate-800"}`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(za,{size:20}),l.jsx("span",{className:"font-medium text-sm",children:"Requisies"})]}),he&&l.jsx("span",{className:"bg-orange-500 text-white text-xs font-bold px-2 py-0.5 rounded-full shadow-sm",children:G.length})]}),ne&&he&&l.jsx("div",{className:"px-4 pb-2",children:l.jsxs("button",{onClick:k,className:"w-full text-xs bg-emerald-600 hover:bg-emerald-700 text-white py-2.5 rounded flex items-center justify-center gap-2 transition-colors shadow-sm font-medium border border-emerald-500",children:[l.jsx(ia,{size:14}),"Aprovar ",G.length," Pendentes"]})})]}),j("VIEW_INVENTORY")&&l.jsxs("button",{onClick:()=>R("inventory"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${t==="inventory"?"bg-blue-600 text-white shadow-md":"text-slate-300 hover:bg-slate-800"}`,children:[l.jsx(Xv,{size:20}),l.jsx("span",{className:"font-medium text-sm",children:"Estoque"})]}),j("VIEW_INVENTORY")&&l.jsxs("button",{onClick:()=>R("fichas"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${t==="fichas"?"bg-blue-600 text-white shadow-md":"text-slate-300 hover:bg-slate-800"}`,children:[l.jsx(Ly,{size:20}),l.jsx("span",{className:"font-medium text-sm",children:"Fichas Individuais"})]}),j("VIEW_PERFORMANCE")&&l.jsxs("button",{onClick:()=>R("performance"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${t==="performance"?"bg-blue-600 text-white shadow-md":"text-slate-300 hover:bg-slate-800"}`,children:[l.jsx(Ly,{size:20}),l.jsx("span",{className:"font-medium text-sm",children:"Desempenho"})]}),j("VIEW_POS")&&l.jsxs("div",{className:"space-y-1",children:[l.jsxs("button",{onClick:()=>R("pos"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${t==="pos"?"bg-blue-600 text-white shadow-md":"text-slate-300 hover:bg-slate-800"}`,children:[l.jsx(Uy,{size:20}),l.jsx("span",{className:"font-medium text-sm",children:"POS & Financeiro"})]}),b&&l.jsxs("div",{className:"pl-8 space-y-1",children:[l.jsxs("button",{onClick:()=>R("contas-receber"),className:`w-full flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-all ${t==="contas-receber"?"bg-blue-600 text-white shadow-md":"text-slate-300 hover:bg-slate-800"}`,title:"Contas a Receber",children:[l.jsx(Bn,{size:16}),l.jsx("span",{children:"Contas a Receber"})]}),l.jsxs("button",{onClick:()=>R("expense-approvals"),className:`w-full flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-all ${t==="expense-approvals"?"bg-blue-600 text-white shadow-md":"text-slate-300 hover:bg-slate-800"}`,title:"Aprovao de Despesas",children:[l.jsx(Bn,{size:16}),l.jsx("span",{children:"Aprovao de Despesas"})]}),l.jsxs("button",{onClick:()=>R("expense-reports"),className:`w-full flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-all ${t==="expense-reports"?"bg-blue-600 text-white shadow-md":"text-slate-300 hover:bg-slate-800"}`,title:"Relatrios de Oramento",children:[l.jsx(Bn,{size:16}),l.jsx("span",{children:"Relatrios de Oramento"})]})]})]}),j("VIEW_PATRIMONY")&&l.jsxs("button",{onClick:()=>R("patrimony"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${t==="patrimony"?"bg-blue-600 text-white shadow-md":"text-slate-300 hover:bg-slate-800"}`,children:[l.jsx(nO,{size:20}),l.jsx("span",{className:"font-medium text-sm",children:"Patrimnio"})]}),j("VIEW_HR")&&l.jsxs("button",{onClick:()=>R("hr"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${t==="hr"?"bg-blue-600 text-white shadow-md":"text-slate-300 hover:bg-slate-800"}`,children:[l.jsx(QA,{size:20}),l.jsx("span",{className:"font-medium text-sm",children:"Recursos Humanos"})]}),j("VIEW_PAYROLL")&&l.jsxs("button",{onClick:()=>R("payroll"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${t==="payroll"?"bg-blue-600 text-white shadow-md":"text-slate-300 hover:bg-slate-800"}`,children:[l.jsx(Kv,{size:20}),l.jsx("span",{className:"font-medium text-sm",children:"Folha Salarial"})]}),l.jsxs("button",{onClick:()=>R("chat"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${t==="chat"?"bg-blue-600 text-white shadow-md":"text-slate-300 hover:bg-slate-800"}`,title:"Conversas em tempo real",children:[l.jsx(qy,{size:20}),l.jsx("span",{className:"font-medium text-sm",children:"Conversas"})]}),j("VIEW_SETTINGS")&&l.jsxs("button",{onClick:()=>R("settings"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${t==="settings"?"bg-blue-600 text-white shadow-md":"text-slate-300 hover:bg-slate-800"}`,children:[l.jsx(Qv,{size:20}),l.jsx("span",{className:"font-medium text-sm",children:"Definies"})]}),j("MANAGE_PERMISSIONS")&&l.jsxs("button",{onClick:()=>R("permissions"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${t==="permissions"?"bg-blue-600 text-white shadow-md":"text-slate-300 hover:bg-slate-800"}`,children:[l.jsx(aO,{size:20}),l.jsx("span",{className:"font-medium text-sm",children:"Permisses"})]}),l.jsxs("div",{className:"pt-4 mt-2 border-t border-slate-700",children:[l.jsx("p",{className:"px-4 text-[10px] font-bold text-slate-500 uppercase mb-2 tracking-wider",children:"Filiais"}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("button",{onClick:()=>H("dashboard"),className:`w-full flex items-center justify-between px-4 py-2.5 rounded-lg transition-colors text-sm ${o?"text-slate-400 hover:bg-slate-800 hover:text-slate-200":"bg-slate-800 text-white border border-slate-600"}`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(u5,{size:16}),l.jsx("span",{className:"font-medium",children:"Todas"})]}),!o&&l.jsx(ia,{size:14,className:"text-emerald-500"})]}),se.map(I=>{const W=m(I.id).length;return l.jsxs("button",{onClick:()=>L(I.id),className:`w-full flex items-center justify-between px-4 py-2.5 rounded-lg transition-colors text-sm ${o===I.id?"bg-slate-800 text-white border border-slate-600":"text-slate-400 hover:bg-slate-800 hover:text-slate-200"}`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(JA,{size:16}),l.jsx("span",{className:"font-medium truncate max-w-[120px]",children:I.name.replace("Filial ","")})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[W>0&&l.jsx("span",{className:"text-[10px] bg-slate-950 text-slate-400 px-1.5 py-0.5 rounded-full",title:`${W} trabalhadores`,children:W}),o===I.id&&l.jsx(Pf,{size:14})]})]},I.id)})]})]})]})]}),l.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden relative w-full h-full",children:[l.jsxs("header",{className:"h-16 bg-white border-b border-gray-200 flex items-center justify-between px-4 lg:px-8 shadow-sm shrink-0 z-10",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:()=>_(!0),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg lg:hidden active:bg-gray-200 transition-colors","aria-label":"Abrir menu",title:"Abrir menu",children:l.jsx(S5,{size:24})}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-800 capitalize flex items-center gap-2 leading-tight",children:t==="dashboard"?"Dashboard":t==="inventory"?"Estoque":t==="requisitions"?"Requisies":t==="performance"?"Desempenho":t==="hr"?"RH":t==="payroll"?"Folha Salarial":t==="contas-receber"?"Contas a Receber":t==="expense-approvals"?"Aprovao de Despesas":t==="expense-reports"?"Relatrios de Oramento":t==="settings"?"Definies":t==="patrimony"?"Patrimnio":t==="pos"?"POS & Vendas":t==="permissions"?"Permisses":"Office Florestal"}),o&&l.jsx("div",{className:"flex items-center text-xs text-blue-600 font-medium",children:l.jsx("span",{className:"truncate max-w-[200px]",children:U})})]})]}),l.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400 bg-gray-50 px-2 md:px-3 py-1.5 rounded-full border border-gray-100",children:[l.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),l.jsx("span",{className:"hidden md:inline",children:g.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),l.jsx("button",{onClick:O,disabled:A,className:`hover:text-blue-600 transition-colors p-1 ${A?"animate-spin text-blue-600":""}`,title:"Sincronizar agora",children:l.jsx(q5,{size:14})})]}),l.jsx("div",{className:`hidden md:block px-3 py-1 rounded-full text-xs font-bold border ${D(n.role)}`,children:n.role.replace("_"," ")}),l.jsxs("div",{className:"flex items-center gap-2 text-gray-600 bg-gray-100 p-1.5 rounded-lg border border-gray-200",children:[l.jsx(Q3,{size:20,className:"text-gray-500"}),l.jsx("span",{className:"text-xs font-bold truncate max-w-[60px] md:max-w-none",children:n.name.split(" ")[0]})]}),l.jsxs("button",{onClick:C,className:"flex items-center gap-2 px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors border border-red-200 hover:border-red-300",title:"Sair",children:[l.jsx(w5,{size:18}),l.jsx("span",{className:"hidden md:inline",children:"Sair"})]})]})]}),l.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-50 p-3 md:p-6 lg:p-8 scroll-smooth",children:l.jsx("div",{className:"max-w-7xl mx-auto h-full",children:e})}),x&&l.jsxs("div",{className:"fixed top-4 left-4 right-4 md:top-auto md:left-auto md:bottom-6 md:right-6 bg-slate-900/95 backdrop-blur text-white px-4 py-3 rounded-lg shadow-2xl z-[60] animate-in slide-in-from-top-4 md:slide-in-from-bottom-4 transition-all flex items-center gap-3 border border-slate-700",children:[l.jsx(P3,{size:20,className:"text-blue-400 shrink-0"}),l.jsx("div",{children:l.jsx("p",{className:"text-sm font-medium",children:x})})]})]})]})};function sO(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=sO(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function St(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=sO(e))&&(n&&(n+=" "),n+=t);return n}var g6=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function ex(e){if(typeof e!="string")return!1;var t=g6;return t.includes(e)}var y6=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],v6=new Set(y6);function lO(e){return typeof e!="string"?!1:v6.has(e)}function oO(e){return typeof e=="string"&&e.startsWith("data-")}function _a(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(lO(r)||oO(r))&&(t[r]=e[r]);return t}function Qc(e){if(e==null)return null;if(w.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return _a(t)}return typeof e=="object"&&!Array.isArray(e)?_a(e):null}function oa(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(lO(r)||oO(r)||ex(r))&&(t[r]=e[r]);return t}var x6=["children","width","height","viewBox","className","style","title","desc"];function By(){return By=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},By.apply(null,arguments)}function b6(e,t){if(e==null)return{};var r,n,s=w6(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function w6(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var tx=w.forwardRef((e,t)=>{var{children:r,width:n,height:s,viewBox:o,className:u,style:d,title:h,desc:m}=e,p=b6(e,x6),g=o||{width:n,height:s,x:0,y:0},x=St("recharts-surface",u);return w.createElement("svg",By({},oa(p),{className:x,width:n,height:s,style:d,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:t}),w.createElement("title",null,h),w.createElement("desc",null,m),r)}),j6=["children","className"];function Gy(){return Gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gy.apply(null,arguments)}function N6(e,t){if(e==null)return{};var r,n,s=_6(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function _6(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var dn=w.forwardRef((e,t)=>{var{children:r,className:n}=e,s=N6(e,j6),o=St("recharts-layer",n);return w.createElement("g",Gy({className:o},oa(s),{ref:t}),r)}),rx=DA(),cO=w.createContext(null),S6=()=>w.useContext(cO);function Lt(e){return function(){return e}}const uO=Math.cos,Rf=Math.sin,Aa=Math.sqrt,If=Math.PI,Ph=2*If,Fy=Math.PI,Hy=2*Fy,Gs=1e-6,E6=Hy-Gs;function dO(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function A6(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return dO;const r=10**t;return function(n){this._+=n[0];for(let s=1,o=n.length;s<o;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class O6{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?dO:A6(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,o,u){this._append`C${+t},${+r},${+n},${+s},${this._x1=+o},${this._y1=+u}`}arcTo(t,r,n,s,o){if(t=+t,r=+r,n=+n,s=+s,o=+o,o<0)throw new Error(`negative radius: ${o}`);let u=this._x1,d=this._y1,h=n-t,m=s-r,p=u-t,g=d-r,x=p*p+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(x>Gs)if(!(Math.abs(g*h-m*p)>Gs)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let b=n-u,j=s-d,N=h*h+m*m,_=b*b+j*j,A=Math.sqrt(N),P=Math.sqrt(x),O=o*Math.tan((Fy-Math.acos((N+x-_)/(2*A*P)))/2),C=O/P,D=O/A;Math.abs(C-1)>Gs&&this._append`L${t+C*p},${r+C*g}`,this._append`A${o},${o},0,0,${+(g*b>p*j)},${this._x1=t+D*h},${this._y1=r+D*m}`}}arc(t,r,n,s,o,u){if(t=+t,r=+r,n=+n,u=!!u,n<0)throw new Error(`negative radius: ${n}`);let d=n*Math.cos(s),h=n*Math.sin(s),m=t+d,p=r+h,g=1^u,x=u?s-o:o-s;this._x1===null?this._append`M${m},${p}`:(Math.abs(this._x1-m)>Gs||Math.abs(this._y1-p)>Gs)&&this._append`L${m},${p}`,n&&(x<0&&(x=x%Hy+Hy),x>E6?this._append`A${n},${n},0,1,${g},${t-d},${r-h}A${n},${n},0,1,${g},${this._x1=m},${this._y1=p}`:x>Gs&&this._append`A${n},${n},0,${+(x>=Fy)},${g},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function nx(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new O6(t)}function ax(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function fO(e){this._context=e}fO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Mh(e){return new fO(e)}function hO(e){return e[0]}function mO(e){return e[1]}function pO(e,t){var r=Lt(!0),n=null,s=Mh,o=null,u=nx(d);e=typeof e=="function"?e:e===void 0?hO:Lt(e),t=typeof t=="function"?t:t===void 0?mO:Lt(t);function d(h){var m,p=(h=ax(h)).length,g,x=!1,b;for(n==null&&(o=s(b=u())),m=0;m<=p;++m)!(m<p&&r(g=h[m],m,h))===x&&((x=!x)?o.lineStart():o.lineEnd()),x&&o.point(+e(g,m,h),+t(g,m,h));if(b)return o=null,b+""||null}return d.x=function(h){return arguments.length?(e=typeof h=="function"?h:Lt(+h),d):e},d.y=function(h){return arguments.length?(t=typeof h=="function"?h:Lt(+h),d):t},d.defined=function(h){return arguments.length?(r=typeof h=="function"?h:Lt(!!h),d):r},d.curve=function(h){return arguments.length?(s=h,n!=null&&(o=s(n)),d):s},d.context=function(h){return arguments.length?(h==null?n=o=null:o=s(n=h),d):n},d}function cf(e,t,r){var n=null,s=Lt(!0),o=null,u=Mh,d=null,h=nx(m);e=typeof e=="function"?e:e===void 0?hO:Lt(+e),t=typeof t=="function"?t:Lt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?mO:Lt(+r);function m(g){var x,b,j,N=(g=ax(g)).length,_,A=!1,P,O=new Array(N),C=new Array(N);for(o==null&&(d=u(P=h())),x=0;x<=N;++x){if(!(x<N&&s(_=g[x],x,g))===A)if(A=!A)b=x,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),j=x-1;j>=b;--j)d.point(O[j],C[j]);d.lineEnd(),d.areaEnd()}A&&(O[x]=+e(_,x,g),C[x]=+t(_,x,g),d.point(n?+n(_,x,g):O[x],r?+r(_,x,g):C[x]))}if(P)return d=null,P+""||null}function p(){return pO().defined(s).curve(u).context(o)}return m.x=function(g){return arguments.length?(e=typeof g=="function"?g:Lt(+g),n=null,m):e},m.x0=function(g){return arguments.length?(e=typeof g=="function"?g:Lt(+g),m):e},m.x1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:Lt(+g),m):n},m.y=function(g){return arguments.length?(t=typeof g=="function"?g:Lt(+g),r=null,m):t},m.y0=function(g){return arguments.length?(t=typeof g=="function"?g:Lt(+g),m):t},m.y1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Lt(+g),m):r},m.lineX0=m.lineY0=function(){return p().x(e).y(t)},m.lineY1=function(){return p().x(e).y(r)},m.lineX1=function(){return p().x(n).y(t)},m.defined=function(g){return arguments.length?(s=typeof g=="function"?g:Lt(!!g),m):s},m.curve=function(g){return arguments.length?(u=g,o!=null&&(d=u(o)),m):u},m.context=function(g){return arguments.length?(g==null?o=d=null:d=u(o=g),m):o},m}class gO{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function C6(e){return new gO(e,!0)}function T6(e){return new gO(e,!1)}const ix={draw(e,t){const r=Aa(t/If);e.moveTo(r,0),e.arc(0,0,r,0,Ph)}},D6={draw(e,t){const r=Aa(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},yO=Aa(1/3),k6=yO*2,P6={draw(e,t){const r=Aa(t/k6),n=r*yO;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},M6={draw(e,t){const r=Aa(t),n=-r/2;e.rect(n,n,r,r)}},R6=.8908130915292852,vO=Rf(If/10)/Rf(7*If/10),I6=Rf(Ph/10)*vO,z6=-uO(Ph/10)*vO,L6={draw(e,t){const r=Aa(t*R6),n=I6*r,s=z6*r;e.moveTo(0,-r),e.lineTo(n,s);for(let o=1;o<5;++o){const u=Ph*o/5,d=uO(u),h=Rf(u);e.lineTo(h*r,-d*r),e.lineTo(d*n-h*s,h*n+d*s)}e.closePath()}},X0=Aa(3),q6={draw(e,t){const r=-Aa(t/(X0*3));e.moveTo(0,r*2),e.lineTo(-X0*r,-r),e.lineTo(X0*r,-r),e.closePath()}},ta=-.5,ra=Aa(3)/2,Vy=1/Aa(12),$6=(Vy/2+1)*3,U6={draw(e,t){const r=Aa(t/$6),n=r/2,s=r*Vy,o=n,u=r*Vy+r,d=-o,h=u;e.moveTo(n,s),e.lineTo(o,u),e.lineTo(d,h),e.lineTo(ta*n-ra*s,ra*n+ta*s),e.lineTo(ta*o-ra*u,ra*o+ta*u),e.lineTo(ta*d-ra*h,ra*d+ta*h),e.lineTo(ta*n+ra*s,ta*s-ra*n),e.lineTo(ta*o+ra*u,ta*u-ra*o),e.lineTo(ta*d+ra*h,ta*h-ra*d),e.closePath()}};function B6(e,t){let r=null,n=nx(s);e=typeof e=="function"?e:Lt(e||ix),t=typeof t=="function"?t:Lt(t===void 0?64:+t);function s(){let o;if(r||(r=o=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return s.type=function(o){return arguments.length?(e=typeof o=="function"?o:Lt(o),s):e},s.size=function(o){return arguments.length?(t=typeof o=="function"?o:Lt(+o),s):t},s.context=function(o){return arguments.length?(r=o??null,s):r},s}function zf(){}function Lf(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function xO(e){this._context=e}xO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Lf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Lf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function G6(e){return new xO(e)}function bO(e){this._context=e}bO.prototype={areaStart:zf,areaEnd:zf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Lf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function F6(e){return new bO(e)}function wO(e){this._context=e}wO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Lf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function H6(e){return new wO(e)}function jO(e){this._context=e}jO.prototype={areaStart:zf,areaEnd:zf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function V6(e){return new jO(e)}function m_(e){return e<0?-1:1}function p_(e,t,r){var n=e._x1-e._x0,s=t-e._x1,o=(e._y1-e._y0)/(n||s<0&&-0),u=(r-e._y1)/(s||n<0&&-0),d=(o*s+u*n)/(n+s);return(m_(o)+m_(u))*Math.min(Math.abs(o),Math.abs(u),.5*Math.abs(d))||0}function g_(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Z0(e,t,r){var n=e._x0,s=e._y0,o=e._x1,u=e._y1,d=(o-n)/3;e._context.bezierCurveTo(n+d,s+d*t,o-d,u-d*r,o,u)}function qf(e){this._context=e}qf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Z0(this,this._t0,g_(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Z0(this,g_(this,r=p_(this,e,t)),r);break;default:Z0(this,this._t0,r=p_(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function NO(e){this._context=new _O(e)}(NO.prototype=Object.create(qf.prototype)).point=function(e,t){qf.prototype.point.call(this,t,e)};function _O(e){this._context=e}_O.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,o){this._context.bezierCurveTo(t,e,n,r,o,s)}};function K6(e){return new qf(e)}function Y6(e){return new NO(e)}function SO(e){this._context=e}SO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=y_(e),s=y_(t),o=0,u=1;u<r;++o,++u)this._context.bezierCurveTo(n[0][o],s[0][o],n[1][o],s[1][o],e[u],t[u]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function y_(e){var t,r=e.length-1,n,s=new Array(r),o=new Array(r),u=new Array(r);for(s[0]=0,o[0]=2,u[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,o[t]=4,u[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,o[r-1]=7,u[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/o[t-1],o[t]-=n,u[t]-=n*u[t-1];for(s[r-1]=u[r-1]/o[r-1],t=r-2;t>=0;--t)s[t]=(u[t]-s[t+1])/o[t];for(o[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-s[t+1];return[s,o]}function W6(e){return new SO(e)}function Rh(e,t){this._context=e,this._t=t}Rh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function X6(e){return new Rh(e,.5)}function Z6(e){return new Rh(e,0)}function Q6(e){return new Rh(e,1)}function vo(e,t){if((u=e.length)>1)for(var r=1,n,s,o=e[t[0]],u,d=o.length;r<u;++r)for(s=o,o=e[t[r]],n=0;n<d;++n)o[n][1]+=o[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function Ky(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function J6(e,t){return e[t]}function eI(e){const t=[];return t.key=e,t}function tI(){var e=Lt([]),t=Ky,r=vo,n=J6;function s(o){var u=Array.from(e.apply(this,arguments),eI),d,h=u.length,m=-1,p;for(const g of o)for(d=0,++m;d<h;++d)(u[d][m]=[0,+n(g,u[d].key,m,o)]).data=g;for(d=0,p=ax(t(u));d<h;++d)u[p[d]].index=d;return r(u,p),u}return s.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Lt(Array.from(o)),s):e},s.value=function(o){return arguments.length?(n=typeof o=="function"?o:Lt(+o),s):n},s.order=function(o){return arguments.length?(t=o==null?Ky:typeof o=="function"?o:Lt(Array.from(o)),s):t},s.offset=function(o){return arguments.length?(r=o??vo,s):r},s}function rI(e,t){if((n=e.length)>0){for(var r,n,s=0,o=e[0].length,u;s<o;++s){for(u=r=0;r<n;++r)u+=e[r][s][1]||0;if(u)for(r=0;r<n;++r)e[r][s][1]/=u}vo(e,t)}}function nI(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,o=n.length;r<o;++r){for(var u=0,d=0;u<s;++u)d+=e[u][r][1]||0;n[r][1]+=n[r][0]=-d/2}vo(e,t)}}function aI(e,t){if(!(!((u=e.length)>0)||!((o=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,o,u;n<o;++n){for(var d=0,h=0,m=0;d<u;++d){for(var p=e[t[d]],g=p[n][1]||0,x=p[n-1][1]||0,b=(g-x)/2,j=0;j<d;++j){var N=e[t[j]],_=N[n][1]||0,A=N[n-1][1]||0;b+=_-A}h+=g,m+=b*g}s[n-1][1]+=s[n-1][0]=r,h&&(r-=m/h)}s[n-1][1]+=s[n-1][0]=r,vo(e,t)}}var Q0={},J0={},v_;function iI(){return v_||(v_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(J0)),J0}var eg={},x_;function EO(){return x_||(x_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(eg)),eg}var tg={},b_;function sx(){return b_||(b_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(tg)),tg}var rg={},ng={},w_;function sI(){return w_||(w_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(ng)),ng}var j_;function lx(){return j_||(j_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sI(),r=sx();function n(s){if(Array.isArray(s))return s.map(r.toKey);if(typeof s=="symbol")return[s];s=t.toString(s);const o=[],u=s.length;if(u===0)return o;let d=0,h="",m="",p=!1;for(s.charCodeAt(0)===46&&(o.push(""),d++);d<u;){const g=s[d];m?g==="\\"&&d+1<u?(d++,h+=s[d]):g===m?m="":h+=g:p?g==='"'||g==="'"?m=g:g==="]"?(p=!1,o.push(h),h=""):h+=g:g==="["?(p=!0,h&&(o.push(h),h="")):g==="."?h&&(o.push(h),h=""):h+=g,d++}return h&&o.push(h),o}e.toPath=n})(rg)),rg}var N_;function ox(){return N_||(N_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iI(),r=EO(),n=sx(),s=lx();function o(d,h,m){if(d==null)return m;switch(typeof h){case"string":{if(t.isUnsafeProperty(h))return m;const p=d[h];return p===void 0?r.isDeepKey(h)?o(d,s.toPath(h),m):m:p}case"number":case"symbol":{typeof h=="number"&&(h=n.toKey(h));const p=d[h];return p===void 0?m:p}default:{if(Array.isArray(h))return u(d,h,m);if(Object.is(h==null?void 0:h.valueOf(),-0)?h="-0":h=String(h),t.isUnsafeProperty(h))return m;const p=d[h];return p===void 0?m:p}}}function u(d,h,m){if(h.length===0)return m;let p=d;for(let g=0;g<h.length;g++){if(p==null||t.isUnsafeProperty(h[g]))return m;p=p[h[g]]}return p===void 0?m:p}e.get=o})(Q0)),Q0}var ag,__;function lI(){return __||(__=1,ag=ox().get),ag}var oI=lI();const il=Ea(oI);var zr=e=>e===0?0:e>0?1:-1,Sa=e=>typeof e=="number"&&e!=+e,gi=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ve=e=>(typeof e=="number"||e instanceof Number)&&!Sa(e),$a=e=>Ve(e)||typeof e=="string",cI=0,Jc=e=>{var t=++cI;return"".concat(e||"").concat(t)},nn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ve(t)&&typeof t!="string")return n;var o;if(gi(t)){if(r==null)return n;var u=t.indexOf("%");o=r*parseFloat(t.slice(0,u))/100}else o=+t;return Sa(o)&&(o=n),s&&r!=null&&o>r&&(o=r),o},AO=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function wr(e,t,r){return Ve(e)&&Ve(t)?e+r*(t-e):t}function uI(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):il(n,t))===r)}var Lr=e=>e===null||typeof e>"u",vu=e=>Lr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function dI(e){return e!=null}function xu(){}var fI=["type","size","sizeType"];function Yy(){return Yy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yy.apply(null,arguments)}function S_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function E_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S_(Object(r),!0).forEach(function(n){hI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hI(e,t,r){return(t=mI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mI(e){var t=pI(e,"string");return typeof t=="symbol"?t:t+""}function pI(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gI(e,t){if(e==null)return{};var r,n,s=yI(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function yI(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var OO={symbolCircle:ix,symbolCross:D6,symbolDiamond:P6,symbolSquare:M6,symbolStar:L6,symbolTriangle:q6,symbolWye:U6},vI=Math.PI/180,xI=e=>{var t="symbol".concat(vu(e));return OO[t]||ix},bI=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*vI;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},wI=(e,t)=>{OO["symbol".concat(vu(e))]=t},cx=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,s=gI(e,fI),o=E_(E_({},s),{},{type:t,size:r,sizeType:n}),u="circle";typeof t=="string"&&(u=t);var d=()=>{var x=xI(u),b=B6().type(x).size(bI(r,n,u)),j=b();if(j!==null)return j},{className:h,cx:m,cy:p}=o,g=oa(o);return Ve(m)&&Ve(p)&&Ve(r)?w.createElement("path",Yy({},g,{className:St("recharts-symbols",h),transform:"translate(".concat(m,", ").concat(p,")"),d:d()})):null};cx.registerSymbol=wI;var CO=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,jI=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(w.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(s=>{ex(s)&&(n[s]=(o=>r[s](r,o)))}),n},NI=(e,t,r)=>n=>(e(t,r,n),null),bu=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(s=>{var o=e[s];ex(s)&&typeof o=="function"&&(n||(n={}),n[s]=NI(o,t,r))}),n};function A_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function _I(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A_(Object(r),!0).forEach(function(n){SI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SI(e,t,r){return(t=EI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EI(e){var t=AI(e,"string");return typeof t=="symbol"?t:t+""}function AI(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qr(e,t){var r=_I({},e),n=t,s=Object.keys(t),o=s.reduce((u,d)=>(u[d]===void 0&&n[d]!==void 0&&(u[d]=n[d]),u),r);return o}function $f(){return $f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$f.apply(null,arguments)}function O_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function OI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O_(Object(r),!0).forEach(function(n){CI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CI(e,t,r){return(t=TI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TI(e){var t=DI(e,"string");return typeof t=="symbol"?t:t+""}function DI(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aa=32,kI={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function PI(e){var{data:t,iconType:r,inactiveColor:n}=e,s=aa/2,o=aa/6,u=aa/3,d=t.inactive?n:t.color,h=r??t.type;if(h==="none")return null;if(h==="plainline"){var m;return w.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:(m=t.payload)===null||m===void 0?void 0:m.strokeDasharray,x1:0,y1:s,x2:aa,y2:s,className:"recharts-legend-icon"})}if(h==="line")return w.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(s,"h").concat(u,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*u,",").concat(s,`
            H`).concat(aa,"M").concat(2*u,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(u,",").concat(s),className:"recharts-legend-icon"});if(h==="rect")return w.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(aa/8,"h").concat(aa,"v").concat(aa*3/4,"h").concat(-aa,"z"),className:"recharts-legend-icon"});if(w.isValidElement(t.legendIcon)){var p=OI({},t);return delete p.legendIcon,w.cloneElement(t.legendIcon,p)}return w.createElement(cx,{fill:d,cx:s,cy:s,size:aa,sizeType:"diameter",type:h})}function MI(e){var{payload:t,iconSize:r,layout:n,formatter:s,inactiveColor:o,iconType:u}=e,d={x:0,y:0,width:aa,height:aa},h={display:n==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((p,g)=>{var x=p.formatter||s,b=St({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:p.inactive});if(p.type==="none")return null;var j=p.inactive?o:p.color,N=x?x(p.value,p,g):p.value;return w.createElement("li",$f({className:b,style:h,key:"legend-item-".concat(g)},bu(e,p,g)),w.createElement(tx,{width:r,height:r,viewBox:d,style:m,"aria-label":"".concat(N," legend icon")},w.createElement(PI,{data:p,iconType:u,inactiveColor:o})),w.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},N))})}var RI=e=>{var t=qr(e,kI),{payload:r,layout:n,align:s}=t;if(!r||!r.length)return null;var o={padding:0,margin:0,textAlign:n==="horizontal"?s:"left"};return w.createElement("ul",{className:"recharts-default-legend",style:o},w.createElement(MI,$f({},t,{payload:r})))},ig={},sg={},C_;function II(){return C_||(C_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const s=new Map;for(let o=0;o<r.length;o++){const u=r[o],d=n(u);s.has(d)||s.set(d,u)}return Array.from(s.values())}e.uniqBy=t})(sg)),sg}var lg={},T_;function TO(){return T_||(T_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(lg)),lg}var og={},cg={},ug={},D_;function zI(){return D_||(D_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(ug)),ug}var k_;function ux(){return k_||(k_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zI();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(cg)),cg}var dg={},P_;function LI(){return P_||(P_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(dg)),dg}var M_;function qI(){return M_||(M_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ux(),r=LI();function n(s){return r.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=n})(og)),og}var fg={},hg={},R_;function $I(){return R_||(R_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ox();function r(n){return function(s){return t.get(s,n)}}e.property=r})(hg)),hg}var mg={},pg={},gg={},yg={},I_;function DO(){return I_||(I_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(yg)),yg}var vg={},z_;function kO(){return z_||(z_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(vg)),vg}var xg={},L_;function PO(){return L_||(L_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(xg)),xg}var q_;function UI(){return q_||(q_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DO(),r=kO(),n=PO();function s(p,g,x){return typeof x!="function"?s(p,g,()=>{}):o(p,g,function b(j,N,_,A,P,O){const C=x(j,N,_,A,P,O);return C!==void 0?!!C:o(j,N,b,O)},new Map)}function o(p,g,x,b){if(g===p)return!0;switch(typeof g){case"object":return u(p,g,x,b);case"function":return Object.keys(g).length>0?o(p,{...g},x,b):n.eq(p,g);default:return t.isObject(p)?typeof g=="string"?g==="":!0:n.eq(p,g)}}function u(p,g,x,b){if(g==null)return!0;if(Array.isArray(g))return h(p,g,x,b);if(g instanceof Map)return d(p,g,x,b);if(g instanceof Set)return m(p,g,x,b);const j=Object.keys(g);if(p==null)return j.length===0;if(j.length===0)return!0;if(b!=null&&b.has(g))return b.get(g)===p;b==null||b.set(g,p);try{for(let N=0;N<j.length;N++){const _=j[N];if(!r.isPrimitive(p)&&!(_ in p)||g[_]===void 0&&p[_]!==void 0||g[_]===null&&p[_]!==null||!x(p[_],g[_],_,p,g,b))return!1}return!0}finally{b==null||b.delete(g)}}function d(p,g,x,b){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[j,N]of g.entries()){const _=p.get(j);if(x(_,N,j,p,g,b)===!1)return!1}return!0}function h(p,g,x,b){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const j=new Set;for(let N=0;N<g.length;N++){const _=g[N];let A=!1;for(let P=0;P<p.length;P++){if(j.has(P))continue;const O=p[P];let C=!1;if(x(O,_,N,p,g,b)&&(C=!0),C){j.add(P),A=!0;break}}if(!A)return!1}return!0}function m(p,g,x,b){return g.size===0?!0:p instanceof Set?h([...p],[...g],x,b):!1}e.isMatchWith=s,e.isSetMatch=m})(gg)),gg}var $_;function MO(){return $_||($_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UI();function r(n,s){return t.isMatchWith(n,s,()=>{})}e.isMatch=r})(pg)),pg}var bg={},wg={},jg={},U_;function BI(){return U_||(U_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(jg)),jg}var Ng={},B_;function RO(){return B_||(B_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Ng)),Ng}var _g={},G_;function IO(){return G_||(G_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",s="[object Boolean]",o="[object Arguments]",u="[object Symbol]",d="[object Date]",h="[object Map]",m="[object Set]",p="[object Array]",g="[object Function]",x="[object ArrayBuffer]",b="[object Object]",j="[object Error]",N="[object DataView]",_="[object Uint8Array]",A="[object Uint8ClampedArray]",P="[object Uint16Array]",O="[object Uint32Array]",C="[object BigUint64Array]",D="[object Int8Array]",R="[object Int16Array]",L="[object Int32Array]",H="[object BigInt64Array]",G="[object Float32Array]",he="[object Float64Array]";e.argumentsTag=o,e.arrayBufferTag=x,e.arrayTag=p,e.bigInt64ArrayTag=H,e.bigUint64ArrayTag=C,e.booleanTag=s,e.dataViewTag=N,e.dateTag=d,e.errorTag=j,e.float32ArrayTag=G,e.float64ArrayTag=he,e.functionTag=g,e.int16ArrayTag=R,e.int32ArrayTag=L,e.int8ArrayTag=D,e.mapTag=h,e.numberTag=n,e.objectTag=b,e.regexpTag=t,e.setTag=m,e.stringTag=r,e.symbolTag=u,e.uint16ArrayTag=P,e.uint32ArrayTag=O,e.uint8ArrayTag=_,e.uint8ClampedArrayTag=A})(_g)),_g}var Sg={},F_;function GI(){return F_||(F_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(Sg)),Sg}var H_;function zO(){return H_||(H_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BI(),r=RO(),n=IO(),s=kO(),o=GI();function u(p,g){return d(p,void 0,p,new Map,g)}function d(p,g,x,b=new Map,j=void 0){const N=j==null?void 0:j(p,g,x,b);if(N!==void 0)return N;if(s.isPrimitive(p))return p;if(b.has(p))return b.get(p);if(Array.isArray(p)){const _=new Array(p.length);b.set(p,_);for(let A=0;A<p.length;A++)_[A]=d(p[A],A,x,b,j);return Object.hasOwn(p,"index")&&(_.index=p.index),Object.hasOwn(p,"input")&&(_.input=p.input),_}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const _=new RegExp(p.source,p.flags);return _.lastIndex=p.lastIndex,_}if(p instanceof Map){const _=new Map;b.set(p,_);for(const[A,P]of p)_.set(A,d(P,A,x,b,j));return _}if(p instanceof Set){const _=new Set;b.set(p,_);for(const A of p)_.add(d(A,void 0,x,b,j));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(o.isTypedArray(p)){const _=new(Object.getPrototypeOf(p)).constructor(p.length);b.set(p,_);for(let A=0;A<p.length;A++)_[A]=d(p[A],A,x,b,j);return _}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const _=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return b.set(p,_),h(_,p,x,b,j),_}if(typeof File<"u"&&p instanceof File){const _=new File([p],p.name,{type:p.type});return b.set(p,_),h(_,p,x,b,j),_}if(typeof Blob<"u"&&p instanceof Blob){const _=new Blob([p],{type:p.type});return b.set(p,_),h(_,p,x,b,j),_}if(p instanceof Error){const _=new p.constructor;return b.set(p,_),_.message=p.message,_.name=p.name,_.stack=p.stack,_.cause=p.cause,h(_,p,x,b,j),_}if(p instanceof Boolean){const _=new Boolean(p.valueOf());return b.set(p,_),h(_,p,x,b,j),_}if(p instanceof Number){const _=new Number(p.valueOf());return b.set(p,_),h(_,p,x,b,j),_}if(p instanceof String){const _=new String(p.valueOf());return b.set(p,_),h(_,p,x,b,j),_}if(typeof p=="object"&&m(p)){const _=Object.create(Object.getPrototypeOf(p));return b.set(p,_),h(_,p,x,b,j),_}return p}function h(p,g,x=p,b,j){const N=[...Object.keys(g),...t.getSymbols(g)];for(let _=0;_<N.length;_++){const A=N[_],P=Object.getOwnPropertyDescriptor(p,A);(P==null||P.writable)&&(p[A]=d(g[A],A,x,b,j))}}function m(p){switch(r.getTag(p)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=u,e.cloneDeepWithImpl=d,e.copyProperties=h})(wg)),wg}var V_;function FI(){return V_||(V_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zO();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(bg)),bg}var K_;function HI(){return K_||(K_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MO(),r=FI();function n(s){return s=r.cloneDeep(s),o=>t.isMatch(o,s)}e.matches=n})(mg)),mg}var Eg={},Ag={},Og={},Y_;function VI(){return Y_||(Y_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zO(),r=IO();function n(s,o){return t.cloneDeepWith(s,(u,d,h,m)=>{const p=o==null?void 0:o(u,d,h,m);if(p!==void 0)return p;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const g=new s.constructor(s==null?void 0:s.valueOf());return t.copyProperties(g,s),g}case r.argumentsTag:{const g={};return t.copyProperties(g,s),g.length=s.length,g[Symbol.iterator]=s[Symbol.iterator],g}default:return}})}e.cloneDeepWith=n})(Og)),Og}var W_;function KI(){return W_||(W_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VI();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(Ag)),Ag}var Cg={},Tg={},X_;function LO(){return X_||(X_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,s=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<s;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Tg)),Tg}var Dg={},Z_;function YI(){return Z_||(Z_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RO();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(Dg)),Dg}var Q_;function WI(){return Q_||(Q_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EO(),r=LO(),n=YI(),s=lx();function o(u,d){let h;if(Array.isArray(d)?h=d:typeof d=="string"&&t.isDeepKey(d)&&(u==null?void 0:u[d])==null?h=s.toPath(d):h=[d],h.length===0)return!1;let m=u;for(let p=0;p<h.length;p++){const g=h[p];if((m==null||!Object.hasOwn(m,g))&&!((Array.isArray(m)||n.isArguments(m))&&r.isIndex(g)&&g<m.length))return!1;m=m[g]}return!0}e.has=o})(Cg)),Cg}var J_;function XI(){return J_||(J_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MO(),r=sx(),n=KI(),s=ox(),o=WI();function u(d,h){switch(typeof d){case"object":{Object.is(d==null?void 0:d.valueOf(),-0)&&(d="-0");break}case"number":{d=r.toKey(d);break}}return h=n.cloneDeep(h),function(m){const p=s.get(m,d);return p===void 0?o.has(m,d):h===void 0?p===void 0:t.isMatch(p,h)}}e.matchesProperty=u})(Eg)),Eg}var eS;function ZI(){return eS||(eS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TO(),r=$I(),n=HI(),s=XI();function o(u){if(u==null)return t.identity;switch(typeof u){case"function":return u;case"object":return Array.isArray(u)&&u.length===2?s.matchesProperty(u[0],u[1]):n.matches(u);case"string":case"symbol":case"number":return r.property(u)}}e.iteratee=o})(fg)),fg}var tS;function QI(){return tS||(tS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=II(),r=TO(),n=qI(),s=ZI();function o(u,d=r.identity){return n.isArrayLikeObject(u)?t.uniqBy(Array.from(u),s.iteratee(d)):[]}e.uniqBy=o})(ig)),ig}var kg,rS;function JI(){return rS||(rS=1,kg=QI().uniqBy),kg}var ez=JI();const nS=Ea(ez);function qO(e,t,r){return t===!0?nS(e,r):typeof t=="function"?nS(e,t):e}var Pg={exports:{}},Mg={},Rg={exports:{}},Ig={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aS;function tz(){if(aS)return Ig;aS=1;var e=Oo();function t(g,x){return g===x&&(g!==0||1/g===1/x)||g!==g&&x!==x}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,s=e.useEffect,o=e.useLayoutEffect,u=e.useDebugValue;function d(g,x){var b=x(),j=n({inst:{value:b,getSnapshot:x}}),N=j[0].inst,_=j[1];return o(function(){N.value=b,N.getSnapshot=x,h(N)&&_({inst:N})},[g,b,x]),s(function(){return h(N)&&_({inst:N}),g(function(){h(N)&&_({inst:N})})},[g]),u(b),b}function h(g){var x=g.getSnapshot;g=g.value;try{var b=x();return!r(g,b)}catch{return!0}}function m(g,x){return x()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:d;return Ig.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,Ig}var iS;function rz(){return iS||(iS=1,Rg.exports=tz()),Rg.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sS;function nz(){if(sS)return Mg;sS=1;var e=Oo(),t=rz();function r(m,p){return m===p&&(m!==0||1/m===1/p)||m!==m&&p!==p}var n=typeof Object.is=="function"?Object.is:r,s=t.useSyncExternalStore,o=e.useRef,u=e.useEffect,d=e.useMemo,h=e.useDebugValue;return Mg.useSyncExternalStoreWithSelector=function(m,p,g,x,b){var j=o(null);if(j.current===null){var N={hasValue:!1,value:null};j.current=N}else N=j.current;j=d(function(){function A(R){if(!P){if(P=!0,O=R,R=x(R),b!==void 0&&N.hasValue){var L=N.value;if(b(L,R))return C=L}return C=R}if(L=C,n(O,R))return L;var H=x(R);return b!==void 0&&b(L,H)?(O=R,L):(O=R,C=H)}var P=!1,O,C,D=g===void 0?null:g;return[function(){return A(p())},D===null?void 0:function(){return A(D())}]},[p,g,x,b]);var _=s(m,j[0],j[1]);return u(function(){N.hasValue=!0,N.value=_},[_]),h(_),_},Mg}var lS;function az(){return lS||(lS=1,Pg.exports=nz()),Pg.exports}var iz=az(),dx=w.createContext(null),sz=e=>e,qt=()=>{var e=w.useContext(dx);return e?e.store.dispatch:sz},Af=()=>{},lz=()=>Af,oz=(e,t)=>e===t;function Fe(e){var t=w.useContext(dx);return iz.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:lz,t?t.store.getState:Af,t?t.store.getState:Af,t?e:Af,oz)}function cz(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function uz(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function dz(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var oS=e=>Array.isArray(e)?e:[e];function fz(e){const t=Array.isArray(e[0])?e[0]:e;return dz(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function hz(e,t){const r=[],{length:n}=e;for(let s=0;s<n;s++)r.push(e[s].apply(null,t));return r}var mz=class{constructor(e){this.value=e}deref(){return this.value}},pz=typeof WeakRef<"u"?WeakRef:mz,gz=0,cS=1;function uf(){return{s:gz,v:void 0,o:null,p:null}}function $O(e,t={}){let r=uf();const{resultEqualityCheck:n}=t;let s,o=0;function u(){var g;let d=r;const{length:h}=arguments;for(let x=0,b=h;x<b;x++){const j=arguments[x];if(typeof j=="function"||typeof j=="object"&&j!==null){let N=d.o;N===null&&(d.o=N=new WeakMap);const _=N.get(j);_===void 0?(d=uf(),N.set(j,d)):d=_}else{let N=d.p;N===null&&(d.p=N=new Map);const _=N.get(j);_===void 0?(d=uf(),N.set(j,d)):d=_}}const m=d;let p;if(d.s===cS)p=d.v;else if(p=e.apply(null,arguments),o++,n){const x=((g=s==null?void 0:s.deref)==null?void 0:g.call(s))??s;x!=null&&n(x,p)&&(p=x,o!==0&&o--),s=typeof p=="object"&&p!==null||typeof p=="function"?new pz(p):p}return m.s=cS,m.v=p,p}return u.clearCache=()=>{r=uf(),u.resetResultsCount()},u.resultsCount=()=>o,u.resetResultsCount=()=>{o=0},u}function yz(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...s)=>{let o=0,u=0,d,h={},m=s.pop();typeof m=="object"&&(h=m,m=s.pop()),cz(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const p={...r,...h},{memoize:g,memoizeOptions:x=[],argsMemoize:b=$O,argsMemoizeOptions:j=[]}=p,N=oS(x),_=oS(j),A=fz(s),P=g(function(){return o++,m.apply(null,arguments)},...N),O=b(function(){u++;const D=hz(A,arguments);return d=P.apply(null,D),d},..._);return Object.assign(O,{resultFunc:m,memoizedResultFunc:P,dependencies:A,dependencyRecomputations:()=>u,resetDependencyRecomputations:()=>{u=0},lastResult:()=>d,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:g,argsMemoize:b})};return Object.assign(n,{withTypes:()=>n}),n}var re=yz($O),vz=Object.assign((e,t=re)=>{uz(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(o=>e[o]);return t(n,(...o)=>o.reduce((u,d,h)=>(u[r[h]]=d,u),{}))},{withTypes:()=>vz}),zg={},Lg={},qg={},uS;function xz(){return uS||(uS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,s,o)=>{if(n!==s){const u=t(n),d=t(s);if(u===d&&u===0){if(n<s)return o==="desc"?1:-1;if(n>s)return o==="desc"?-1:1}return o==="desc"?d-u:u-d}return 0};e.compareValues=r})(qg)),qg}var $g={},Ug={},dS;function UO(){return dS||(dS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Ug)),Ug}var fS;function bz(){return fS||(fS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UO(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function s(o,u){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||t.isSymbol(o)?!0:typeof o=="string"&&(n.test(o)||!r.test(o))||u!=null&&Object.hasOwn(u,o)}e.isKey=s})($g)),$g}var hS;function wz(){return hS||(hS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xz(),r=bz(),n=lx();function s(o,u,d,h){if(o==null)return[];d=h?void 0:d,Array.isArray(o)||(o=Object.values(o)),Array.isArray(u)||(u=u==null?[null]:[u]),u.length===0&&(u=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(b=>String(b));const m=(b,j)=>{let N=b;for(let _=0;_<j.length&&N!=null;++_)N=N[j[_]];return N},p=(b,j)=>j==null||b==null?j:typeof b=="object"&&"key"in b?Object.hasOwn(j,b.key)?j[b.key]:m(j,b.path):typeof b=="function"?b(j):Array.isArray(b)?m(j,b):typeof j=="object"?j[b]:j,g=u.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||r.isKey(b)?b:{key:b,path:n.toPath(b)}));return o.map(b=>({original:b,criteria:g.map(j=>p(j,b))})).slice().sort((b,j)=>{for(let N=0;N<g.length;N++){const _=t.compareValues(b.criteria[N],j.criteria[N],d[N]);if(_!==0)return _}return 0}).map(b=>b.original)}e.orderBy=s})(Lg)),Lg}var Bg={},mS;function jz(){return mS||(mS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const s=[],o=Math.floor(n),u=(d,h)=>{for(let m=0;m<d.length;m++){const p=d[m];Array.isArray(p)&&h<o?u(p,h+1):s.push(p)}};return u(r,0),s}e.flatten=t})(Bg)),Bg}var Gg={},pS;function BO(){return pS||(pS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LO(),r=ux(),n=DO(),s=PO();function o(u,d,h){return n.isObject(h)&&(typeof d=="number"&&r.isArrayLike(h)&&t.isIndex(d)&&d<h.length||typeof d=="string"&&d in h)?s.eq(h[d],u):!1}e.isIterateeCall=o})(Gg)),Gg}var gS;function Nz(){return gS||(gS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wz(),r=jz(),n=BO();function s(o,...u){const d=u.length;return d>1&&n.isIterateeCall(o,u[0],u[1])?u=[]:d>2&&n.isIterateeCall(u[0],u[1],u[2])&&(u=[u[0]]),t.orderBy(o,r.flatten(u),["asc"])}e.sortBy=s})(zg)),zg}var Fg,yS;function _z(){return yS||(yS=1,Fg=Nz().sortBy),Fg}var Sz=_z();const Ih=Ea(Sz);var GO=e=>e.legend.settings,Ez=e=>e.legend.size,Az=e=>e.legend.payload,Oz=re([Az,GO],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Ih(n,r):n});function Cz(){return Fe(Oz)}var df=1;function FO(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=w.useState({height:0,left:0,top:0,width:0}),n=w.useCallback(s=>{if(s!=null){var o=s.getBoundingClientRect(),u={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(u.height-t.height)>df||Math.abs(u.left-t.left)>df||Math.abs(u.top-t.top)>df||Math.abs(u.width-t.width)>df)&&r({height:u.height,left:u.left,top:u.top,width:u.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Hr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Tz=typeof Symbol=="function"&&Symbol.observable||"@@observable",vS=Tz,Hg=()=>Math.random().toString(36).substring(7).split("").join("."),Dz={INIT:`@@redux/INIT${Hg()}`,REPLACE:`@@redux/REPLACE${Hg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Hg()}`},Uf=Dz;function fx(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function HO(e,t,r){if(typeof e!="function")throw new Error(Hr(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Hr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Hr(1));return r(HO)(e,t)}let n=e,s=t,o=new Map,u=o,d=0,h=!1;function m(){u===o&&(u=new Map,o.forEach((_,A)=>{u.set(A,_)}))}function p(){if(h)throw new Error(Hr(3));return s}function g(_){if(typeof _!="function")throw new Error(Hr(4));if(h)throw new Error(Hr(5));let A=!0;m();const P=d++;return u.set(P,_),function(){if(A){if(h)throw new Error(Hr(6));A=!1,m(),u.delete(P),o=null}}}function x(_){if(!fx(_))throw new Error(Hr(7));if(typeof _.type>"u")throw new Error(Hr(8));if(typeof _.type!="string")throw new Error(Hr(17));if(h)throw new Error(Hr(9));try{h=!0,s=n(s,_)}finally{h=!1}return(o=u).forEach(P=>{P()}),_}function b(_){if(typeof _!="function")throw new Error(Hr(10));n=_,x({type:Uf.REPLACE})}function j(){const _=g;return{subscribe(A){if(typeof A!="object"||A===null)throw new Error(Hr(11));function P(){const C=A;C.next&&C.next(p())}return P(),{unsubscribe:_(P)}},[vS](){return this}}}return x({type:Uf.INIT}),{dispatch:x,subscribe:g,getState:p,replaceReducer:b,[vS]:j}}function kz(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Uf.INIT})>"u")throw new Error(Hr(12));if(typeof r(void 0,{type:Uf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Hr(13))})}function VO(e){const t=Object.keys(e),r={};for(let o=0;o<t.length;o++){const u=t[o];typeof e[u]=="function"&&(r[u]=e[u])}const n=Object.keys(r);let s;try{kz(r)}catch(o){s=o}return function(u={},d){if(s)throw s;let h=!1;const m={};for(let p=0;p<n.length;p++){const g=n[p],x=r[g],b=u[g],j=x(b,d);if(typeof j>"u")throw d&&d.type,new Error(Hr(14));m[g]=j,h=h||j!==b}return h=h||n.length!==Object.keys(u).length,h?m:u}}function Bf(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function Pz(...e){return t=>(r,n)=>{const s=t(r,n);let o=()=>{throw new Error(Hr(15))};const u={getState:s.getState,dispatch:(h,...m)=>o(h,...m)},d=e.map(h=>h(u));return o=Bf(...d)(s.dispatch),{...s,dispatch:o}}}function KO(e){return fx(e)&&"type"in e&&typeof e.type=="string"}var YO=Symbol.for("immer-nothing"),xS=Symbol.for("immer-draftable"),fn=Symbol.for("immer-state");function ba(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Un=Object,xo=Un.getPrototypeOf,Gf="constructor",zh="prototype",Wy="configurable",Ff="enumerable",Of="writable",eu="value",yi=e=>!!e&&!!e[fn];function Ua(e){var t;return e?WO(e)||Lh(e)||!!e[xS]||!!((t=e[Gf])!=null&&t[xS])||qh(e)||$h(e):!1}var Mz=Un[zh][Gf].toString(),bS=new WeakMap;function WO(e){if(!e||!hx(e))return!1;const t=xo(e);if(t===null||t===Un[zh])return!0;const r=Un.hasOwnProperty.call(t,Gf)&&t[Gf];if(r===Object)return!0;if(!co(r))return!1;let n=bS.get(r);return n===void 0&&(n=Function.toString.call(r),bS.set(r,n)),n===Mz}function wu(e,t,r=!0){ju(e)===0?(r?Reflect.ownKeys(e):Un.keys(e)).forEach(s=>{t(s,e[s],e)}):e.forEach((n,s)=>t(s,n,e))}function ju(e){const t=e[fn];return t?t.type_:Lh(e)?1:qh(e)?2:$h(e)?3:0}var wS=(e,t,r=ju(e))=>r===2?e.has(t):Un[zh].hasOwnProperty.call(e,t),Xy=(e,t,r=ju(e))=>r===2?e.get(t):e[t],Hf=(e,t,r,n=ju(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function Rz(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Lh=Array.isArray,qh=e=>e instanceof Map,$h=e=>e instanceof Set,hx=e=>typeof e=="object",co=e=>typeof e=="function",Vg=e=>typeof e=="boolean",oi=e=>e.copy_||e.base_,mx=e=>e.modified_?e.copy_:e.base_;function Zy(e,t){if(qh(e))return new Map(e);if($h(e))return new Set(e);if(Lh(e))return Array[zh].slice.call(e);const r=WO(e);if(t===!0||t==="class_only"&&!r){const n=Un.getOwnPropertyDescriptors(e);delete n[fn];let s=Reflect.ownKeys(n);for(let o=0;o<s.length;o++){const u=s[o],d=n[u];d[Of]===!1&&(d[Of]=!0,d[Wy]=!0),(d.get||d.set)&&(n[u]={[Wy]:!0,[Of]:!0,[Ff]:d[Ff],[eu]:e[u]})}return Un.create(xo(e),n)}else{const n=xo(e);if(n!==null&&r)return{...e};const s=Un.create(n);return Un.assign(s,e)}}function px(e,t=!1){return Uh(e)||yi(e)||(ju(e)>1&&Un.defineProperties(e,{set:ff,add:ff,clear:ff,delete:ff}),Un.freeze(e),t&&wu(e,(r,n)=>{px(n,!0)},!1)),e}function Iz(){ba(2)}var ff={[eu]:Iz};function Uh(e){return e===null||!hx(e)?!0:Un.isFrozen(e)}var Vf="MapSet",Qy="Patches",XO={};function bo(e){const t=XO[e];return t||ba(0,e),t}var zz=e=>!!XO[e],tu,ZO=()=>tu,Lz=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:zz(Vf)?bo(Vf):void 0});function jS(e,t){t&&(e.patchPlugin_=bo(Qy),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Jy(e){ev(e),e.drafts_.forEach(qz),e.drafts_=null}function ev(e){e===tu&&(tu=e.parent_)}var NS=e=>tu=Lz(tu,e);function qz(e){const t=e[fn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function _S(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[fn].modified_&&(Jy(t),ba(4)),Ua(e)&&(e=SS(t,e));const{patchPlugin_:s}=t;s&&s.generateReplacementPatches_(r[fn].base_,e,t)}else e=SS(t,r);return $z(t,e,!0),Jy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==YO?e:void 0}function SS(e,t){if(Uh(t))return t;const r=t[fn];if(!r)return gx(t,e.handledSet_,e);if(!Bh(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);eC(r,e)}return r.copy_}function $z(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&px(t,r)}function QO(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Bh=(e,t)=>e.scope_===t,Uz=[];function JO(e,t,r,n){const s=oi(e),o=e.type_;if(n!==void 0&&Xy(s,n,o)===t){Hf(s,n,r,o);return}if(!e.draftLocations_){const d=e.draftLocations_=new Map;wu(s,(h,m)=>{if(yi(m)){const p=d.get(m)||[];p.push(h),d.set(m,p)}})}const u=e.draftLocations_.get(t)??Uz;for(const d of u)Hf(s,d,r,o)}function Bz(e,t,r){e.callbacks_.push(function(s){var d;const o=t;if(!o||!Bh(o,s))return;(d=s.mapSetPlugin_)==null||d.fixSetContents(o);const u=mx(o);JO(e,o.draft_??o,u,r),eC(o,s)})}function eC(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:s}=t;if(s){const o=s.getPath(e);o&&s.generatePatches_(e,o,t)}QO(e)}}function Gz(e,t,r){const{scope_:n}=e;if(yi(r)){const s=r[fn];Bh(s,n)&&s.callbacks_.push(function(){Cf(e);const u=mx(s);JO(e,r,u,t)})}else Ua(r)&&e.callbacks_.push(function(){const o=oi(e);Xy(o,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&gx(Xy(e.copy_,t,e.type_),n.handledSet_,n)})}function gx(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||yi(e)||t.has(e)||!Ua(e)||Uh(e)||(t.add(e),wu(e,(n,s)=>{if(yi(s)){const o=s[fn];if(Bh(o,r)){const u=mx(o);Hf(e,n,u,e.type_),QO(o)}}else Ua(s)&&gx(s,t,r)})),e}function Fz(e,t){const r=Lh(e),n={type_:r?1:0,scope_:t?t.scope_:ZO(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let s=n,o=yx;r&&(s=[n],o=ru);const{revoke:u,proxy:d}=Proxy.revocable(s,o);return n.draft_=d,n.revoke_=u,[d,n]}var yx={get(e,t){if(t===fn)return e;const r=oi(e);if(!wS(r,t,e.type_))return Hz(e,r,t);const n=r[t];if(e.finalized_||!Ua(n))return n;if(n===Kg(e.base_,t)){Cf(e);const s=e.type_===1?+t:t,o=rv(e.scope_,n,e,s);return e.copy_[s]=o}return n},has(e,t){return t in oi(e)},ownKeys(e){return Reflect.ownKeys(oi(e))},set(e,t,r){const n=tC(oi(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const s=Kg(oi(e),t),o=s==null?void 0:s[fn];if(o&&o.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(Rz(r,s)&&(r!==void 0||wS(e.base_,t,e.type_)))return!0;Cf(e),tv(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),Gz(e,t,r)),!0},deleteProperty(e,t){return Cf(e),Kg(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),tv(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=oi(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Of]:!0,[Wy]:e.type_!==1||t!=="length",[Ff]:n[Ff],[eu]:r[t]}},defineProperty(){ba(11)},getPrototypeOf(e){return xo(e.base_)},setPrototypeOf(){ba(12)}},ru={};wu(yx,(e,t)=>{ru[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});ru.deleteProperty=function(e,t){return ru.set.call(this,e,t,void 0)};ru.set=function(e,t,r){return yx.set.call(this,e[0],t,r,e[0])};function Kg(e,t){const r=e[fn];return(r?oi(r):e)[t]}function Hz(e,t,r){var s;const n=tC(t,r);return n?eu in n?n[eu]:(s=n.get)==null?void 0:s.call(e.draft_):void 0}function tC(e,t){if(!(t in e))return;let r=xo(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=xo(r)}}function tv(e){e.modified_||(e.modified_=!0,e.parent_&&tv(e.parent_))}function Cf(e){e.copy_||(e.assigned_=new Map,e.copy_=Zy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Vz=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,s)=>{if(co(r)&&!co(n)){const u=n;n=r;const d=this;return function(m=u,...p){return d.produce(m,g=>n.call(this,g,...p))}}co(n)||ba(6),s!==void 0&&!co(s)&&ba(7);let o;if(Ua(r)){const u=NS(this),d=rv(u,r,void 0);let h=!0;try{o=n(d),h=!1}finally{h?Jy(u):ev(u)}return jS(u,s),_S(o,u)}else if(!r||!hx(r)){if(o=n(r),o===void 0&&(o=r),o===YO&&(o=void 0),this.autoFreeze_&&px(o,!0),s){const u=[],d=[];bo(Qy).generateReplacementPatches_(r,o,{patches_:u,inversePatches_:d}),s(u,d)}return o}else ba(1,r)},this.produceWithPatches=(r,n)=>{if(co(r))return(d,...h)=>this.produceWithPatches(d,m=>r(m,...h));let s,o;return[this.produce(r,n,(d,h)=>{s=d,o=h}),s,o]},Vg(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Vg(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Vg(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Ua(t)||ba(8),yi(t)&&(t=Na(t));const r=NS(this),n=rv(r,t,void 0);return n[fn].isManual_=!0,ev(r),n}finishDraft(t,r){const n=t&&t[fn];(!n||!n.isManual_)&&ba(9);const{scope_:s}=n;return jS(s,r),_S(void 0,s)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const o=r[n];if(o.path.length===0&&o.op==="replace"){t=o.value;break}}n>-1&&(r=r.slice(n+1));const s=bo(Qy).applyPatches_;return yi(t)?s(t,r):this.produce(t,o=>s(o,r))}};function rv(e,t,r,n){const[s,o]=qh(t)?bo(Vf).proxyMap_(t,r):$h(t)?bo(Vf).proxySet_(t,r):Fz(t,r);return((r==null?void 0:r.scope_)??ZO()).drafts_.push(s),o.callbacks_=(r==null?void 0:r.callbacks_)??[],o.key_=n,r&&n!==void 0?Bz(r,o,n):o.callbacks_.push(function(h){var p;(p=h.mapSetPlugin_)==null||p.fixSetContents(o);const{patchPlugin_:m}=h;o.modified_&&m&&m.generatePatches_(o,[],h)}),s}function Na(e){return yi(e)||ba(10,e),rC(e)}function rC(e){if(!Ua(e)||Uh(e))return e;const t=e[fn];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Zy(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Zy(e,!0);return wu(r,(s,o)=>{Hf(r,s,rC(o))},n),t&&(t.finalized_=!1),r}var Kz=new Vz,nC=Kz.produce;function aC(e){return({dispatch:r,getState:n})=>s=>o=>typeof o=="function"?o(r,n,e):s(o)}var Yz=aC(),Wz=aC,Xz=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Bf:Bf.apply(null,arguments)};function ca(e,t){function r(...n){if(t){let s=t(...n);if(!s)throw new Error(Gn(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>KO(n)&&n.type===e,r}var iC=class Fc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Fc.prototype)}static get[Symbol.species](){return Fc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Fc(...t[0].concat(this)):new Fc(...t.concat(this))}};function ES(e){return Ua(e)?nC(e,()=>{}):e}function hf(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function Zz(e){return typeof e=="boolean"}var Qz=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:s=!0,actionCreatorCheck:o=!0}=t??{};let u=new iC;return r&&(Zz(r)?u.push(Yz):u.push(Wz(r.extraArgument))),u},sC="RTK_autoBatch",Vt=()=>e=>({payload:e,meta:{[sC]:!0}}),AS=e=>t=>{setTimeout(t,e)},lC=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let s=!0,o=!1,u=!1;const d=new Set,h=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:AS(10):e.type==="callback"?e.queueNotification:AS(e.timeout),m=()=>{u=!1,o&&(o=!1,d.forEach(p=>p()))};return Object.assign({},n,{subscribe(p){const g=()=>s&&p(),x=n.subscribe(g);return d.add(p),()=>{x(),d.delete(p)}},dispatch(p){var g;try{return s=!((g=p==null?void 0:p.meta)!=null&&g[sC]),o=!s,o&&(u||(u=!0,h(m))),n.dispatch(p)}finally{s=!0}}})},Jz=e=>function(r){const{autoBatch:n=!0}=r??{};let s=new iC(e);return n&&s.push(lC(typeof n=="object"?n:void 0)),s};function eL(e){const t=Qz(),{reducer:r=void 0,middleware:n,devTools:s=!0,preloadedState:o=void 0,enhancers:u=void 0}=e||{};let d;if(typeof r=="function")d=r;else if(fx(r))d=VO(r);else throw new Error(Gn(1));let h;typeof n=="function"?h=n(t):h=t();let m=Bf;s&&(m=Xz({trace:!1,...typeof s=="object"&&s}));const p=Pz(...h),g=Jz(p);let x=typeof u=="function"?u(g):g();const b=m(...x);return HO(d,o,b)}function oC(e){const t={},r=[];let n;const s={addCase(o,u){const d=typeof o=="string"?o:o.type;if(!d)throw new Error(Gn(28));if(d in t)throw new Error(Gn(29));return t[d]=u,s},addAsyncThunk(o,u){return u.pending&&(t[o.pending.type]=u.pending),u.rejected&&(t[o.rejected.type]=u.rejected),u.fulfilled&&(t[o.fulfilled.type]=u.fulfilled),u.settled&&r.push({matcher:o.settled,reducer:u.settled}),s},addMatcher(o,u){return r.push({matcher:o,reducer:u}),s},addDefaultCase(o){return n=o,s}};return e(s),[t,r,n]}function tL(e){return typeof e=="function"}function rL(e,t){let[r,n,s]=oC(t),o;if(tL(e))o=()=>ES(e());else{const d=ES(e);o=()=>d}function u(d=o(),h){let m=[r[h.type],...n.filter(({matcher:p})=>p(h)).map(({reducer:p})=>p)];return m.filter(p=>!!p).length===0&&(m=[s]),m.reduce((p,g)=>{if(g)if(yi(p)){const b=g(p,h);return b===void 0?p:b}else{if(Ua(p))return nC(p,x=>g(x,h));{const x=g(p,h);if(x===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}}return p},d)}return u.getInitialState=o,u}var nL="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",aL=(e=21)=>{let t="",r=e;for(;r--;)t+=nL[Math.random()*64|0];return t},iL=Symbol.for("rtk-slice-createasyncthunk");function sL(e,t){return`${e}/${t}`}function lL({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[iL];return function(s){const{name:o,reducerPath:u=o}=s;if(!o)throw new Error(Gn(11));const d=(typeof s.reducers=="function"?s.reducers(cL()):s.reducers)||{},h=Object.keys(d),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(C,D){const R=typeof C=="string"?C:C.type;if(!R)throw new Error(Gn(12));if(R in m.sliceCaseReducersByType)throw new Error(Gn(13));return m.sliceCaseReducersByType[R]=D,p},addMatcher(C,D){return m.sliceMatchers.push({matcher:C,reducer:D}),p},exposeAction(C,D){return m.actionCreators[C]=D,p},exposeCaseReducer(C,D){return m.sliceCaseReducersByName[C]=D,p}};h.forEach(C=>{const D=d[C],R={reducerName:C,type:sL(o,C),createNotation:typeof s.reducers=="function"};dL(D)?hL(R,D,p,t):uL(R,D,p)});function g(){const[C={},D=[],R=void 0]=typeof s.extraReducers=="function"?oC(s.extraReducers):[s.extraReducers],L={...C,...m.sliceCaseReducersByType};return rL(s.initialState,H=>{for(let G in L)H.addCase(G,L[G]);for(let G of m.sliceMatchers)H.addMatcher(G.matcher,G.reducer);for(let G of D)H.addMatcher(G.matcher,G.reducer);R&&H.addDefaultCase(R)})}const x=C=>C,b=new Map,j=new WeakMap;let N;function _(C,D){return N||(N=g()),N(C,D)}function A(){return N||(N=g()),N.getInitialState()}function P(C,D=!1){function R(H){let G=H[C];return typeof G>"u"&&D&&(G=hf(j,R,A)),G}function L(H=x){const G=hf(b,D,()=>new WeakMap);return hf(G,H,()=>{const he={};for(const[ne,k]of Object.entries(s.selectors??{}))he[ne]=oL(k,H,()=>hf(j,H,A),D);return he})}return{reducerPath:C,getSelectors:L,get selectors(){return L(R)},selectSlice:R}}const O={name:o,reducer:_,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:A,...P(u),injectInto(C,{reducerPath:D,...R}={}){const L=D??u;return C.inject({reducerPath:L,reducer:_},R),{...O,...P(L,!0)}}};return O}}function oL(e,t,r,n){function s(o,...u){let d=t(o);return typeof d>"u"&&n&&(d=r()),e(d,...u)}return s.unwrapped=e,s}var An=lL();function cL(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function uL({type:e,reducerName:t,createNotation:r},n,s){let o,u;if("reducer"in n){if(r&&!fL(n))throw new Error(Gn(17));o=n.reducer,u=n.prepare}else o=n;s.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,u?ca(e,u):ca(e))}function dL(e){return e._reducerDefinitionType==="asyncThunk"}function fL(e){return e._reducerDefinitionType==="reducerWithPrepare"}function hL({type:e,reducerName:t},r,n,s){if(!s)throw new Error(Gn(18));const{payloadCreator:o,fulfilled:u,pending:d,rejected:h,settled:m,options:p}=r,g=s(e,o,p);n.exposeAction(t,g),u&&n.addCase(g.fulfilled,u),d&&n.addCase(g.pending,d),h&&n.addCase(g.rejected,h),m&&n.addMatcher(g.settled,m),n.exposeCaseReducer(t,{fulfilled:u||mf,pending:d||mf,rejected:h||mf,settled:m||mf})}function mf(){}var mL="task",cC="listener",uC="completed",vx="cancelled",pL=`task-${vx}`,gL=`task-${uC}`,nv=`${cC}-${vx}`,yL=`${cC}-${uC}`,Gh=class{constructor(e){k0(this,"name","TaskAbortError");k0(this,"message");this.code=e,this.message=`${mL} ${vx} (reason: ${e})`}},xx=(e,t)=>{if(typeof e!="function")throw new TypeError(Gn(32))},Kf=()=>{},dC=(e,t=Kf)=>(e.catch(t),e),fC=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Js=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},el=e=>{if(e.aborted){const{reason:t}=e;throw new Gh(t)}};function hC(e,t){let r=Kf;return new Promise((n,s)=>{const o=()=>s(new Gh(e.reason));if(e.aborted){o();return}r=fC(e,o),t.finally(()=>r()).then(n,s)}).finally(()=>{r=Kf})}var vL=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Gh?"cancelled":"rejected",error:r}}finally{t==null||t()}},Yf=e=>t=>dC(hC(e,t).then(r=>(el(e),r))),mC=e=>{const t=Yf(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:mo}=Object,OS={},Fh="listenerMiddleware",xL=(e,t)=>{const r=n=>fC(e,()=>Js(n,e.reason));return(n,s)=>{xx(n);const o=new AbortController;r(o);const u=vL(async()=>{el(e),el(o.signal);const d=await n({pause:Yf(o.signal),delay:mC(o.signal),signal:o.signal});return el(o.signal),d},()=>Js(o,gL));return s!=null&&s.autoJoin&&t.push(u.catch(Kf)),{result:Yf(e)(u),cancel(){Js(o,pL)}}}},bL=(e,t)=>{const r=async(n,s)=>{el(t);let o=()=>{};const d=[new Promise((h,m)=>{let p=e({predicate:n,effect:(g,x)=>{x.unsubscribe(),h([g,x.getState(),x.getOriginalState()])}});o=()=>{p(),m()}})];s!=null&&d.push(new Promise(h=>setTimeout(h,s,null)));try{const h=await hC(t,Promise.race(d));return el(t),h}finally{o()}};return(n,s)=>dC(r(n,s))},pC=e=>{let{type:t,actionCreator:r,matcher:n,predicate:s,effect:o}=e;if(t)s=ca(t).match;else if(r)t=r.type,s=r.match;else if(n)s=n;else if(!s)throw new Error(Gn(21));return xx(o),{predicate:s,type:t,effect:o}},gC=mo(e=>{const{type:t,predicate:r,effect:n}=pC(e);return{id:aL(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Gn(22))}}},{withTypes:()=>gC}),CS=(e,t)=>{const{type:r,effect:n,predicate:s}=pC(t);return Array.from(e.values()).find(o=>(typeof r=="string"?o.type===r:o.predicate===s)&&o.effect===n)},av=e=>{e.pending.forEach(t=>{Js(t,nv)})},wL=(e,t)=>()=>{for(const r of t.keys())av(r);e.clear()},TS=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},yC=mo(ca(`${Fh}/add`),{withTypes:()=>yC}),jL=ca(`${Fh}/removeAll`),vC=mo(ca(`${Fh}/remove`),{withTypes:()=>vC}),NL=(...e)=>{console.error(`${Fh}/error`,...e)},Nu=(e={})=>{const t=new Map,r=new Map,n=b=>{const j=r.get(b)??0;r.set(b,j+1)},s=b=>{const j=r.get(b)??1;j===1?r.delete(b):r.set(b,j-1)},{extra:o,onError:u=NL}=e;xx(u);const d=b=>(b.unsubscribe=()=>t.delete(b.id),t.set(b.id,b),j=>{b.unsubscribe(),j!=null&&j.cancelActive&&av(b)}),h=b=>{const j=CS(t,b)??gC(b);return d(j)};mo(h,{withTypes:()=>h});const m=b=>{const j=CS(t,b);return j&&(j.unsubscribe(),b.cancelActive&&av(j)),!!j};mo(m,{withTypes:()=>m});const p=async(b,j,N,_)=>{const A=new AbortController,P=bL(h,A.signal),O=[];try{b.pending.add(A),n(b),await Promise.resolve(b.effect(j,mo({},N,{getOriginalState:_,condition:(C,D)=>P(C,D).then(Boolean),take:P,delay:mC(A.signal),pause:Yf(A.signal),extra:o,signal:A.signal,fork:xL(A.signal,O),unsubscribe:b.unsubscribe,subscribe:()=>{t.set(b.id,b)},cancelActiveListeners:()=>{b.pending.forEach((C,D,R)=>{C!==A&&(Js(C,nv),R.delete(C))})},cancel:()=>{Js(A,nv),b.pending.delete(A)},throwIfCancelled:()=>{el(A.signal)}})))}catch(C){C instanceof Gh||TS(u,C,{raisedBy:"effect"})}finally{await Promise.all(O),Js(A,yL),s(b),b.pending.delete(A)}},g=wL(t,r);return{middleware:b=>j=>N=>{if(!KO(N))return j(N);if(yC.match(N))return h(N.payload);if(jL.match(N)){g();return}if(vC.match(N))return m(N.payload);let _=b.getState();const A=()=>{if(_===OS)throw new Error(Gn(23));return _};let P;try{if(P=j(N),t.size>0){const O=b.getState(),C=Array.from(t.values());for(const D of C){let R=!1;try{R=D.predicate(N,O,_)}catch(L){R=!1,TS(u,L,{raisedBy:"predicate"})}R&&p(D,N,b,A)}}}finally{_=OS}return P},startListening:h,stopListening:m,clearListeners:g}};function Gn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var _L={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},xC=An({name:"chartLayout",initialState:_L,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,s,o;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(s=t.payload.bottom)!==null&&s!==void 0?s:0,e.margin.left=(o=t.payload.left)!==null&&o!==void 0?o:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:SL,setLayout:EL,setChartSize:AL,setScale:OL}=xC.actions,CL=xC.reducer;function bC(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function DS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function uo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DS(Object(r),!0).forEach(function(n){TL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TL(e,t,r){return(t=DL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DL(e){var t=kL(e,"string");return typeof t=="symbol"?t:t+""}function kL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kt(e,t,r){return Lr(e)||Lr(t)?r:$a(t)?il(e,t,r):typeof t=="function"?t(e):r}var PL=(e,t,r)=>{if(t&&r){var{width:n,height:s}=r,{align:o,verticalAlign:u,layout:d}=t;if((d==="vertical"||d==="horizontal"&&u==="middle")&&o!=="center"&&Ve(e[o]))return uo(uo({},e),{},{[o]:e[o]+(n||0)});if((d==="horizontal"||d==="vertical"&&o==="center")&&u!=="middle"&&Ve(e[u]))return uo(uo({},e),{},{[u]:e[u]+(s||0)})}return e},ml=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",wC=(e,t,r,n)=>{if(n)return e.map(d=>d.coordinate);var s,o,u=e.map(d=>(d.coordinate===t&&(s=!0),d.coordinate===r&&(o=!0),d.coordinate));return s||u.push(t),o||u.push(r),u},jC=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:s,range:o,scale:u,realScaleType:d,isCategorical:h,categoricalDomain:m,tickCount:p,ticks:g,niceTicks:x,axisType:b}=e;if(!u)return null;var j=d==="scaleBand"&&u.bandwidth?u.bandwidth()/2:2,N=s==="category"&&u.bandwidth?u.bandwidth()/j:0;if(N=b==="angleAxis"&&o&&o.length>=2?zr(o[0]-o[1])*2*N:N,g||x){var _=(g||x||[]).map((A,P)=>{var O=n?n.indexOf(A):A;return{coordinate:u(O)+N,value:A,offset:N,index:P}});return _.filter(A=>!Sa(A.coordinate))}return h&&m?m.map((A,P)=>({coordinate:u(A)+N,value:A,index:P,offset:N})):u.ticks&&p!=null?u.ticks(p).map((A,P)=>({coordinate:u(A)+N,value:A,offset:N,index:P})):u.domain().map((A,P)=>({coordinate:u(A)+N,value:n?n[A]:A,index:P,offset:N}))},kS=1e-4,ML=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),s=Math.min(n[0],n[1])-kS,o=Math.max(n[0],n[1])+kS,u=e(t[0]),d=e(t[r-1]);(u<s||u>o||d<s||d>o)&&e.domain([t[0],t[r-1]])}},RL=(e,t)=>{if(!t||t.length!==2||!Ve(t[0])||!Ve(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!Ve(e[0])||e[0]<r)&&(s[0]=r),(!Ve(e[1])||e[1]>n)&&(s[1]=n),s[0]>n&&(s[0]=n),s[1]<r&&(s[1]=r),s},IL=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,o=0,u=0;u<t;++u){var d=Sa(e[u][r][1])?e[u][r][0]:e[u][r][1];d>=0?(e[u][r][0]=s,e[u][r][1]=s+d,s=e[u][r][1]):(e[u][r][0]=o,e[u][r][1]=o+d,o=e[u][r][1])}},zL=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,o=0;o<t;++o){var u=Sa(e[o][r][1])?e[o][r][0]:e[o][r][1];u>=0?(e[o][r][0]=s,e[o][r][1]=s+u,s=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},LL={sign:IL,expand:rI,none:vo,silhouette:nI,wiggle:aI,positive:zL},qL=(e,t,r)=>{var n=LL[r],s=tI().keys(t).value((o,u)=>Number(Kt(o,u,0))).order(Ky).offset(n);return s(e)};function $L(e){return e==null?void 0:String(e)}var PS=e=>{var{axis:t,ticks:r,offset:n,bandSize:s,entry:o,index:u}=e;if(t.type==="category")return r[u]?r[u].coordinate+n:null;var d=Kt(o,t.dataKey,t.scale.domain()[u]);return Lr(d)?null:t.scale(d)-s/2+n},UL=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return n<=0&&s>=0?0:s<0?s:n}return r[0]},BL=e=>{var t=e.flat(2).filter(Ve);return[Math.min(...t),Math.max(...t)]},GL=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],FL=(e,t,r)=>{if(e!=null)return GL(Object.keys(e).reduce((n,s)=>{var o=e[s],{stackedData:u}=o,d=u.reduce((h,m)=>{var p=bC(m,t,r),g=BL(p);return[Math.min(h[0],g[0]),Math.max(h[1],g[1])]},[1/0,-1/0]);return[Math.min(d[0],n[0]),Math.max(d[1],n[1])]},[1/0,-1/0]))},MS=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,RS=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Wf=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var s=Ih(t,p=>p.coordinate),o=1/0,u=1,d=s.length;u<d;u++){var h=s[u],m=s[u-1];o=Math.min((h.coordinate||0)-(m.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0};function IS(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:s,name:o}=e;return uo(uo({},t),{},{dataKey:r,payload:n,value:s,name:o})}function Hh(e,t){if(e)return String(e);if(typeof t=="string")return t}var HL=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},VL=(e,t)=>t==="centric"?e.angle:e.radius,Ni=e=>e.layout.width,_i=e=>e.layout.height,KL=e=>e.layout.scale,NC=e=>e.layout.margin,Vh=re(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Kh=re(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),_C="data-recharts-item-index",SC="data-recharts-item-data-key",_u=60;function zS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function pf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zS(Object(r),!0).forEach(function(n){YL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YL(e,t,r){return(t=WL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WL(e){var t=XL(e,"string");return typeof t=="symbol"?t:t+""}function XL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZL=e=>e.brush.height;function QL(e){var t=Kh(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var s=typeof n.width=="number"?n.width:_u;return r+s}return r},0)}function JL(e){var t=Kh(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var s=typeof n.width=="number"?n.width:_u;return r+s}return r},0)}function e8(e){var t=Vh(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function t8(e){var t=Vh(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var _r=re([Ni,_i,NC,ZL,QL,JL,e8,t8,GO,Ez],(e,t,r,n,s,o,u,d,h,m)=>{var p={left:(r.left||0)+s,right:(r.right||0)+o},g={top:(r.top||0)+u,bottom:(r.bottom||0)+d},x=pf(pf({},g),p),b=x.bottom;x.bottom+=n,x=PL(x,h,m);var j=e-x.left-x.right,N=t-x.top-x.bottom;return pf(pf({brushBottom:b},x),{},{width:Math.max(j,0),height:Math.max(N,0)})}),r8=re(_r,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),bx=re(Ni,_i,(e,t)=>({x:0,y:0,width:e,height:t})),n8=w.createContext(null),On=()=>w.useContext(n8)!=null,Yh=e=>e.brush,Wh=re([Yh,_r,NC],(e,t,r)=>({height:e.height,x:Ve(e.x)?e.x:t.left,y:Ve(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:Ve(e.width)?e.width:t.width})),Yg={},Wg={},Xg={},LS;function a8(){return LS||(LS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:s,edges:o}={}){let u,d=null;const h=o!=null&&o.includes("leading"),m=o==null||o.includes("trailing"),p=()=>{d!==null&&(r.apply(u,d),u=void 0,d=null)},g=()=>{m&&p(),N()};let x=null;const b=()=>{x!=null&&clearTimeout(x),x=setTimeout(()=>{x=null,g()},n)},j=()=>{x!==null&&(clearTimeout(x),x=null)},N=()=>{j(),u=void 0,d=null},_=()=>{p()},A=function(...P){if(s!=null&&s.aborted)return;u=this,d=P;const O=x==null;b(),h&&O&&p()};return A.schedule=b,A.cancel=N,A.flush=_,s==null||s.addEventListener("abort",N,{once:!0}),A}e.debounce=t})(Xg)),Xg}var qS;function i8(){return qS||(qS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=a8();function r(n,s=0,o={}){typeof o!="object"&&(o={});const{leading:u=!1,trailing:d=!0,maxWait:h}=o,m=Array(2);u&&(m[0]="leading"),d&&(m[1]="trailing");let p,g=null;const x=t.debounce(function(...N){p=n.apply(this,N),g=null},s,{edges:m}),b=function(...N){return h!=null&&(g===null&&(g=Date.now()),Date.now()-g>=h)?(p=n.apply(this,N),g=Date.now(),x.cancel(),x.schedule(),p):(x.apply(this,N),p)},j=()=>(x.flush(),p);return b.cancel=x.cancel,b.flush=j,b}e.debounce=r})(Wg)),Wg}var $S;function s8(){return $S||($S=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=i8();function r(n,s=0,o={}){const{leading:u=!0,trailing:d=!0}=o;return t.debounce(n,s,{leading:u,maxWait:s,trailing:d})}e.throttle=r})(Yg)),Yg}var Zg,US;function l8(){return US||(US=1,Zg=s8().throttle),Zg}var o8=l8();const c8=Ea(o8);var Xf=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),o=2;o<n;o++)s[o-2]=arguments[o];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=0;console.warn(r.replace(/%s/g,()=>s[u++]))}},EC=(e,t,r)=>{var{width:n="100%",height:s="100%",aspect:o,maxHeight:u}=r,d=gi(n)?e:Number(n),h=gi(s)?t:Number(s);return o&&o>0&&(d?h=d/o:h&&(d=h*o),u&&h!=null&&h>u&&(h=u)),{calculatedWidth:d,calculatedHeight:h}},u8={width:0,height:0,overflow:"visible"},d8={width:0,overflowX:"visible"},f8={height:0,overflowY:"visible"},h8={},m8=e=>{var{width:t,height:r}=e,n=gi(t),s=gi(r);return n&&s?u8:n?d8:s?f8:h8};function p8(e){var{width:t,height:r,aspect:n}=e,s=t,o=r;return s===void 0&&o===void 0?(s="100%",o="100%"):s===void 0?s=n&&n>0?void 0:"100%":o===void 0&&(o=n&&n>0?void 0:"100%"),{width:s,height:o}}function or(e){return Number.isFinite(e)}function Ba(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function iv(){return iv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iv.apply(null,arguments)}function BS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function GS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BS(Object(r),!0).forEach(function(n){g8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g8(e,t,r){return(t=y8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y8(e){var t=v8(e,"string");return typeof t=="symbol"?t:t+""}function v8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AC=w.createContext({width:-1,height:-1});function x8(e){return Ba(e.width)&&Ba(e.height)}function OC(e){var{children:t,width:r,height:n}=e,s=w.useMemo(()=>({width:r,height:n}),[r,n]);return x8(s)?w.createElement(AC.Provider,{value:s},t):null}var wx=()=>w.useContext(AC),b8=w.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:s,height:o,minWidth:u=0,minHeight:d,maxHeight:h,children:m,debounce:p=0,id:g,className:x,onResize:b,style:j={}}=e,N=w.useRef(null),_=w.useRef();_.current=b,w.useImperativeHandle(t,()=>N.current);var[A,P]=w.useState({containerWidth:n.width,containerHeight:n.height}),O=w.useCallback((H,G)=>{P(he=>{var ne=Math.round(H),k=Math.round(G);return he.containerWidth===ne&&he.containerHeight===k?he:{containerWidth:ne,containerHeight:k}})},[]);w.useEffect(()=>{if(N.current==null||typeof ResizeObserver>"u")return xu;var H=k=>{var se,{width:U,height:V}=k[0].contentRect;O(U,V),(se=_.current)===null||se===void 0||se.call(_,U,V)};p>0&&(H=c8(H,p,{trailing:!0,leading:!1}));var G=new ResizeObserver(H),{width:he,height:ne}=N.current.getBoundingClientRect();return O(he,ne),G.observe(N.current),()=>{G.disconnect()}},[O,p]);var{containerWidth:C,containerHeight:D}=A;Xf(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:R,calculatedHeight:L}=EC(C,D,{width:s,height:o,aspect:r,maxHeight:h});return Xf(R!=null&&R>0||L!=null&&L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,L,s,o,u,d,r),w.createElement("div",{id:g?"".concat(g):void 0,className:St("recharts-responsive-container",x),style:GS(GS({},j),{},{width:s,height:o,minWidth:u,minHeight:d,maxHeight:h}),ref:N},w.createElement("div",{style:m8({width:s,height:o})},w.createElement(OC,{width:R,height:L},m)))}),nu=w.forwardRef((e,t)=>{var r=wx();if(Ba(r.width)&&Ba(r.height))return e.children;var{width:n,height:s}=p8({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:o,calculatedHeight:u}=EC(void 0,void 0,{width:n,height:s,aspect:e.aspect,maxHeight:e.maxHeight});return Ve(o)&&Ve(u)?w.createElement(OC,{width:o,height:u},e.children):w.createElement(b8,iv({},e,{width:n,height:s,ref:t}))});function CC(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Xh=()=>{var e,t=On(),r=Fe(r8),n=Fe(Wh),s=(e=Fe(Yh))===null||e===void 0?void 0:e.padding;return!t||!n||!s?r:{width:n.width-s.left-s.right,height:n.height-s.top-s.bottom,x:s.left,y:s.top}},w8={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},TC=()=>{var e;return(e=Fe(_r))!==null&&e!==void 0?e:w8},jx=()=>Fe(Ni),Nx=()=>Fe(_i),j8=()=>Fe(e=>e.layout.margin),pt=e=>e.layout.layoutType,Zh=()=>Fe(pt),N8=()=>{var e=Zh();return e!==void 0},Qh=e=>{var t=qt(),r=On(),{width:n,height:s}=e,o=wx(),u=n,d=s;return o&&(u=o.width>0?o.width:n,d=o.height>0?o.height:s),w.useEffect(()=>{!r&&Ba(u)&&Ba(d)&&t(AL({width:u,height:d}))},[t,r,u,d]),null},DC=Symbol.for("immer-nothing"),FS=Symbol.for("immer-draftable"),Fn=Symbol.for("immer-state");function wa(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var au=Object.getPrototypeOf;function wo(e){return!!e&&!!e[Fn]}function sl(e){var t;return e?kC(e)||Array.isArray(e)||!!e[FS]||!!((t=e.constructor)!=null&&t[FS])||Su(e)||em(e):!1}var _8=Object.prototype.constructor.toString(),HS=new WeakMap;function kC(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=HS.get(r);return n===void 0&&(n=Function.toString.call(r),HS.set(r,n)),n===_8}function Zf(e,t,r=!0){Jh(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(s=>{t(s,e[s],e)}):e.forEach((n,s)=>t(s,n,e))}function Jh(e){const t=e[Fn];return t?t.type_:Array.isArray(e)?1:Su(e)?2:em(e)?3:0}function sv(e,t){return Jh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function PC(e,t,r){const n=Jh(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function S8(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Su(e){return e instanceof Map}function em(e){return e instanceof Set}function Fs(e){return e.copy_||e.base_}function lv(e,t){if(Su(e))return new Map(e);if(em(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=kC(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Fn];let s=Reflect.ownKeys(n);for(let o=0;o<s.length;o++){const u=s[o],d=n[u];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(n[u]={configurable:!0,writable:!0,enumerable:d.enumerable,value:e[u]})}return Object.create(au(e),n)}else{const n=au(e);if(n!==null&&r)return{...e};const s=Object.create(n);return Object.assign(s,e)}}function _x(e,t=!1){return tm(e)||wo(e)||!sl(e)||(Jh(e)>1&&Object.defineProperties(e,{set:gf,add:gf,clear:gf,delete:gf}),Object.freeze(e),t&&Object.values(e).forEach(r=>_x(r,!0))),e}function E8(){wa(2)}var gf={value:E8};function tm(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var A8={};function ll(e){const t=A8[e];return t||wa(0,e),t}var iu;function MC(){return iu}function O8(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function VS(e,t){t&&(ll("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function ov(e){cv(e),e.drafts_.forEach(C8),e.drafts_=null}function cv(e){e===iu&&(iu=e.parent_)}function KS(e){return iu=O8(iu,e)}function C8(e){const t=e[Fn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function YS(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Fn].modified_&&(ov(t),wa(4)),sl(e)&&(e=Qf(t,e),t.parent_||Jf(t,e)),t.patches_&&ll("Patches").generateReplacementPatches_(r[Fn].base_,e,t.patches_,t.inversePatches_)):e=Qf(t,r,[]),ov(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==DC?e:void 0}function Qf(e,t,r){if(tm(t))return t;const n=e.immer_.shouldUseStrictIteration(),s=t[Fn];if(!s)return Zf(t,(o,u)=>WS(e,s,t,o,u,r),n),t;if(s.scope_!==e)return t;if(!s.modified_)return Jf(e,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const o=s.copy_;let u=o,d=!1;s.type_===3&&(u=new Set(o),o.clear(),d=!0),Zf(u,(h,m)=>WS(e,s,o,h,m,r,d),n),Jf(e,o,!1),r&&e.patches_&&ll("Patches").generatePatches_(s,r,e.patches_,e.inversePatches_)}return s.copy_}function WS(e,t,r,n,s,o,u){if(s==null||typeof s!="object"&&!u)return;const d=tm(s);if(!(d&&!u)){if(wo(s)){const h=o&&t&&t.type_!==3&&!sv(t.assigned_,n)?o.concat(n):void 0,m=Qf(e,s,h);if(PC(r,n,m),wo(m))e.canAutoFreeze_=!1;else return}else u&&r.add(s);if(sl(s)&&!d){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===s&&d)return;Qf(e,s),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Su(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Jf(e,s)}}}function Jf(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&_x(t,r)}function T8(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:MC(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,o=Sx;r&&(s=[n],o=su);const{revoke:u,proxy:d}=Proxy.revocable(s,o);return n.draft_=d,n.revoke_=u,d}var Sx={get(e,t){if(t===Fn)return e;const r=Fs(e);if(!sv(r,t))return D8(e,r,t);const n=r[t];return e.finalized_||!sl(n)?n:n===Qg(e.base_,t)?(Jg(e),e.copy_[t]=dv(n,e)):n},has(e,t){return t in Fs(e)},ownKeys(e){return Reflect.ownKeys(Fs(e))},set(e,t,r){const n=RC(Fs(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const s=Qg(Fs(e),t),o=s==null?void 0:s[Fn];if(o&&o.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(S8(r,s)&&(r!==void 0||sv(e.base_,t)))return!0;Jg(e),uv(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Qg(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Jg(e),uv(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Fs(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){wa(11)},getPrototypeOf(e){return au(e.base_)},setPrototypeOf(){wa(12)}},su={};Zf(Sx,(e,t)=>{su[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});su.deleteProperty=function(e,t){return su.set.call(this,e,t,void 0)};su.set=function(e,t,r){return Sx.set.call(this,e[0],t,r,e[0])};function Qg(e,t){const r=e[Fn];return(r?Fs(r):e)[t]}function D8(e,t,r){var s;const n=RC(t,r);return n?"value"in n?n.value:(s=n.get)==null?void 0:s.call(e.draft_):void 0}function RC(e,t){if(!(t in e))return;let r=au(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=au(r)}}function uv(e){e.modified_||(e.modified_=!0,e.parent_&&uv(e.parent_))}function Jg(e){e.copy_||(e.copy_=lv(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var k8=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const o=r;r=t;const u=this;return function(h=o,...m){return u.produce(h,p=>r.call(this,p,...m))}}typeof r!="function"&&wa(6),n!==void 0&&typeof n!="function"&&wa(7);let s;if(sl(t)){const o=KS(this),u=dv(t,void 0);let d=!0;try{s=r(u),d=!1}finally{d?ov(o):cv(o)}return VS(o,n),YS(s,o)}else if(!t||typeof t!="object"){if(s=r(t),s===void 0&&(s=t),s===DC&&(s=void 0),this.autoFreeze_&&_x(s,!0),n){const o=[],u=[];ll("Patches").generateReplacementPatches_(t,s,o,u),n(o,u)}return s}else wa(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(u,...d)=>this.produceWithPatches(u,h=>t(h,...d));let n,s;return[this.produce(t,r,(u,d)=>{n=u,s=d}),n,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){sl(e)||wa(8),wo(e)&&(e=P8(e));const t=KS(this),r=dv(e,void 0);return r[Fn].isManual_=!0,cv(t),r}finishDraft(e,t){const r=e&&e[Fn];(!r||!r.isManual_)&&wa(9);const{scope_:n}=r;return VS(n,t),YS(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const n=ll("Patches").applyPatches_;return wo(e)?n(e,t):this.produce(e,s=>n(s,t))}};function dv(e,t){const r=Su(e)?ll("MapSet").proxyMap_(e,t):em(e)?ll("MapSet").proxySet_(e,t):T8(e,t);return(t?t.scope_:MC()).drafts_.push(r),r}function P8(e){return wo(e)||wa(10,e),IC(e)}function IC(e){if(!sl(e)||tm(e))return e;const t=e[Fn];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=lv(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=lv(e,!0);return Zf(r,(s,o)=>{PC(r,s,IC(o))},n),t&&(t.finalized_=!1),r}var M8=new k8;M8.produce;var R8={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},zC=An({name:"legend",initialState:R8,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Vt()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,s=Na(e).payload.indexOf(r);s>-1&&(e.payload[s]=n)},prepare:Vt()},removeLegendPayload:{reducer(e,t){var r=Na(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Vt()}}}),{setLegendSize:XS,setLegendSettings:I8,addLegendPayload:LC,replaceLegendPayload:qC,removeLegendPayload:$C}=zC.actions,z8=zC.reducer,L8=["contextPayload"];function fv(){return fv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fv.apply(null,arguments)}function ZS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function jo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZS(Object(r),!0).forEach(function(n){q8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q8(e,t,r){return(t=$8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $8(e){var t=U8(e,"string");return typeof t=="symbol"?t:t+""}function U8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function B8(e,t){if(e==null)return{};var r,n,s=G8(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function G8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function F8(e){return e.value}function H8(e){var{contextPayload:t}=e,r=B8(e,L8),n=qO(t,e.payloadUniqBy,F8),s=jo(jo({},r),{},{payload:n});return w.isValidElement(e.content)?w.cloneElement(e.content,s):typeof e.content=="function"?w.createElement(e.content,s):w.createElement(RI,s)}function V8(e,t,r,n,s,o){var{layout:u,align:d,verticalAlign:h}=t,m,p;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(d==="center"&&u==="vertical"?m={left:((n||0)-o.width)/2}:m=d==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(h==="middle"?p={top:((s||0)-o.height)/2}:p=h==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),jo(jo({},m),p)}function K8(e){var t=qt();return w.useEffect(()=>{t(I8(e))},[t,e]),null}function Y8(e){var t=qt();return w.useEffect(()=>(t(XS(e)),()=>{t(XS({width:0,height:0}))}),[t,e]),null}function W8(e,t,r,n){return e==="vertical"&&Ve(t)?{height:t}:e==="horizontal"?{width:r||n}:null}var X8={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function UC(e){var t=qr(e,X8),r=Cz(),n=S6(),s=j8(),{width:o,height:u,wrapperStyle:d,portal:h}=t,[m,p]=FO([r]),g=jx(),x=Nx();if(g==null||x==null)return null;var b=g-((s==null?void 0:s.left)||0)-((s==null?void 0:s.right)||0),j=W8(t.layout,u,o,b),N=h?d:jo(jo({position:"absolute",width:(j==null?void 0:j.width)||o||"auto",height:(j==null?void 0:j.height)||u||"auto"},V8(d,t,s,g,x,m)),d),_=h??n;if(_==null||r==null)return null;var A=w.createElement("div",{className:"recharts-legend-wrapper",style:N,ref:p},w.createElement(K8,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!h&&w.createElement(Y8,{width:m.width,height:m.height}),w.createElement(H8,fv({},t,j,{margin:s,chartWidth:g,chartHeight:x,contextPayload:r})));return rx.createPortal(A,_)}UC.displayName="Legend";function hv(){return hv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hv.apply(null,arguments)}function QS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ey(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QS(Object(r),!0).forEach(function(n){Z8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z8(e,t,r){return(t=Q8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q8(e){var t=J8(e,"string");return typeof t=="symbol"?t:t+""}function J8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eq(e){return Array.isArray(e)&&$a(e[0])&&$a(e[1])?e.join(" ~ "):e}var tq=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:s={},payload:o,formatter:u,itemSorter:d,wrapperClassName:h,labelClassName:m,label:p,labelFormatter:g,accessibilityLayer:x=!1}=e,b=()=>{if(o&&o.length){var D={padding:0,margin:0},R=(d?Ih(o,d):o).map((L,H)=>{if(L.type==="none")return null;var G=L.formatter||u||eq,{value:he,name:ne}=L,k=he,se=ne;if(G){var U=G(he,ne,L,H,o);if(Array.isArray(U))[k,se]=U;else if(U!=null)k=U;else return null}var V=ey({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},n);return w.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:V},$a(se)?w.createElement("span",{className:"recharts-tooltip-item-name"},se):null,$a(se)?w.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,w.createElement("span",{className:"recharts-tooltip-item-value"},k),w.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return w.createElement("ul",{className:"recharts-tooltip-item-list",style:D},R)}return null},j=ey({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),N=ey({margin:0},s),_=!Lr(p),A=_?p:"",P=St("recharts-default-tooltip",h),O=St("recharts-tooltip-label",m);_&&g&&o!==void 0&&o!==null&&(A=g(p,o));var C=x?{role:"status","aria-live":"assertive"}:{};return w.createElement("div",hv({className:P,style:j},C),w.createElement("p",{className:O,style:N},w.isValidElement(A)?A:"".concat(A)),b())},Rc="recharts-tooltip-wrapper",rq={visibility:"hidden"};function nq(e){var{coordinate:t,translateX:r,translateY:n}=e;return St(Rc,{["".concat(Rc,"-right")]:Ve(r)&&t&&Ve(t.x)&&r>=t.x,["".concat(Rc,"-left")]:Ve(r)&&t&&Ve(t.x)&&r<t.x,["".concat(Rc,"-bottom")]:Ve(n)&&t&&Ve(t.y)&&n>=t.y,["".concat(Rc,"-top")]:Ve(n)&&t&&Ve(t.y)&&n<t.y})}function JS(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:s,position:o,reverseDirection:u,tooltipDimension:d,viewBox:h,viewBoxDimension:m}=e;if(o&&Ve(o[n]))return o[n];var p=r[n]-d-(s>0?s:0),g=r[n]+s;if(t[n])return u[n]?p:g;var x=h[n];if(x==null)return 0;if(u[n]){var b=p,j=x;return b<j?Math.max(g,x):Math.max(p,x)}if(m==null)return 0;var N=g+d,_=x+m;return N>_?Math.max(p,x):Math.max(g,x)}function aq(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function iq(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:s,reverseDirection:o,tooltipBox:u,useTranslate3d:d,viewBox:h}=e,m,p,g;return u.height>0&&u.width>0&&r?(p=JS({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:o,tooltipDimension:u.width,viewBox:h,viewBoxDimension:h.width}),g=JS({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:o,tooltipDimension:u.height,viewBox:h,viewBoxDimension:h.height}),m=aq({translateX:p,translateY:g,useTranslate3d:d})):m=rq,{cssProperties:m,cssClasses:nq({translateX:p,translateY:g,coordinate:r})}}function e2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function yf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e2(Object(r),!0).forEach(function(n){mv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mv(e,t,r){return(t=sq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sq(e){var t=lq(e,"string");return typeof t=="symbol"?t:t+""}function lq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class oq extends w.PureComponent{constructor(){super(...arguments),mv(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),mv(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,s,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(s=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:s,children:o,coordinate:u,hasPayload:d,isAnimationActive:h,offset:m,position:p,reverseDirection:g,useTranslate3d:x,viewBox:b,wrapperStyle:j,lastBoundingBox:N,innerRef:_,hasPortalFromProps:A}=this.props,{cssClasses:P,cssProperties:O}=iq({allowEscapeViewBox:r,coordinate:u,offsetTopLeft:m,position:p,reverseDirection:g,tooltipBox:{height:N.height,width:N.width},useTranslate3d:x,viewBox:b}),C=A?{}:yf(yf({transition:h&&t?"transform ".concat(n,"ms ").concat(s):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&d?"visible":"hidden",position:"absolute",top:0,left:0}),D=yf(yf({},C),{},{visibility:!this.state.dismissed&&t&&d?"visible":"hidden"},j);return w.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:P,style:D,ref:_},o)}}var cq=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),pl={devToolsEnabled:!1,isSsr:cq()},BC=()=>{var e;return(e=Fe(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function pv(){return pv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pv.apply(null,arguments)}function t2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function r2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t2(Object(r),!0).forEach(function(n){uq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uq(e,t,r){return(t=dq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dq(e){var t=fq(e,"string");return typeof t=="symbol"?t:t+""}function fq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var n2={curveBasisClosed:F6,curveBasisOpen:H6,curveBasis:G6,curveBumpX:C6,curveBumpY:T6,curveLinearClosed:V6,curveLinear:Mh,curveMonotoneX:K6,curveMonotoneY:Y6,curveNatural:W6,curveStep:X6,curveStepAfter:Q6,curveStepBefore:Z6},eh=e=>or(e.x)&&or(e.y),a2=e=>e.base!=null&&eh(e.base)&&eh(e),Ic=e=>e.x,zc=e=>e.y,hq=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(vu(e));return(r==="curveMonotone"||r==="curveBump")&&t?n2["".concat(r).concat(t==="vertical"?"Y":"X")]:n2[r]||Mh},mq=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:s,connectNulls:o=!1}=e,u=hq(t,s),d=o?r.filter(eh):r,h;if(Array.isArray(n)){var m=r.map((b,j)=>r2(r2({},b),{},{base:n[j]}));s==="vertical"?h=cf().y(zc).x1(Ic).x0(b=>b.base.x):h=cf().x(Ic).y1(zc).y0(b=>b.base.y);var p=h.defined(a2).curve(u),g=o?m.filter(a2):m;return p(g)}s==="vertical"&&Ve(n)?h=cf().y(zc).x1(Ic).x0(n):Ve(n)?h=cf().x(Ic).y1(zc).y0(n):h=pO().x(Ic).y(zc);var x=h.defined(eh).curve(u);return x(d)},Ex=e=>{var{className:t,points:r,path:n,pathRef:s}=e;if((!r||!r.length)&&!n)return null;var o=r&&r.length?mq(e):n;return w.createElement("path",pv({},_a(e),jI(e),{className:St("recharts-curve",t),d:o===null?void 0:o,ref:s}))},pq=["x","y","top","left","width","height","className"];function gv(){return gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gv.apply(null,arguments)}function i2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function gq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i2(Object(r),!0).forEach(function(n){yq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yq(e,t,r){return(t=vq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vq(e){var t=xq(e,"string");return typeof t=="symbol"?t:t+""}function xq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bq(e,t){if(e==null)return{};var r,n,s=wq(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function wq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var jq=(e,t,r,n,s,o)=>"M".concat(e,",").concat(s,"v").concat(n,"M").concat(o,",").concat(t,"h").concat(r),Nq=e=>{var{x:t=0,y:r=0,top:n=0,left:s=0,width:o=0,height:u=0,className:d}=e,h=bq(e,pq),m=gq({x:t,y:r,top:n,left:s,width:o,height:u},h);return!Ve(t)||!Ve(r)||!Ve(o)||!Ve(u)||!Ve(n)||!Ve(s)?null:w.createElement("path",gv({},oa(m),{className:St("recharts-cross",d),d:jq(t,r,o,u,n,s)}))};function _q(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function s2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function l2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s2(Object(r),!0).forEach(function(n){Sq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sq(e,t,r){return(t=Eq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eq(e){var t=Aq(e,"string");return typeof t=="symbol"?t:t+""}function Aq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Oq=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),GC=(e,t,r)=>e.map(n=>"".concat(Oq(n)," ").concat(t,"ms ").concat(r)).join(","),Cq=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(s=>n.includes(s))),lu=(e,t)=>Object.keys(t).reduce((r,n)=>l2(l2({},r),{},{[n]:e(n,t[n])}),{});function o2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function jr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o2(Object(r),!0).forEach(function(n){Tq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tq(e,t,r){return(t=Dq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dq(e){var t=kq(e,"string");return typeof t=="symbol"?t:t+""}function kq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var th=(e,t,r)=>e+(t-e)*r,yv=e=>{var{from:t,to:r}=e;return t!==r},FC=(e,t,r)=>{var n=lu((s,o)=>{if(yv(o)){var[u,d]=e(o.from,o.to,o.velocity);return jr(jr({},o),{},{from:u,velocity:d})}return o},t);return r<1?lu((s,o)=>yv(o)?jr(jr({},o),{},{velocity:th(o.velocity,n[s].velocity,r),from:th(o.from,n[s].from,r)}):o,t):FC(e,n,r-1)};function Pq(e,t,r,n,s,o){var u,d=n.reduce((x,b)=>jr(jr({},x),{},{[b]:{from:e[b],velocity:0,to:t[b]}}),{}),h=()=>lu((x,b)=>b.from,d),m=()=>!Object.values(d).filter(yv).length,p=null,g=x=>{u||(u=x);var b=x-u,j=b/r.dt;d=FC(r,d,j),s(jr(jr(jr({},e),t),h())),u=x,m()||(p=o.setTimeout(g))};return()=>(p=o.setTimeout(g),()=>{var x;(x=p)===null||x===void 0||x()})}function Mq(e,t,r,n,s,o,u){var d=null,h=s.reduce((g,x)=>jr(jr({},g),{},{[x]:[e[x],t[x]]}),{}),m,p=g=>{m||(m=g);var x=(g-m)/n,b=lu((N,_)=>th(..._,r(x)),h);if(o(jr(jr(jr({},e),t),b)),x<1)d=u.setTimeout(p);else{var j=lu((N,_)=>th(..._,r(1)),h);o(jr(jr(jr({},e),t),j))}};return()=>(d=u.setTimeout(p),()=>{var g;(g=d)===null||g===void 0||g()})}const Rq=(e,t,r,n,s,o)=>{var u=Cq(e,t);return r==null?()=>(s(jr(jr({},e),t)),()=>{}):r.isStepper===!0?Pq(e,t,r,u,s,o):Mq(e,t,r,n,u,s,o)};var rh=1e-4,HC=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],VC=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),c2=(e,t)=>r=>{var n=HC(e,t);return VC(n,r)},Iq=(e,t)=>r=>{var n=HC(e,t),s=[...n.map((o,u)=>o*u).slice(1),0];return VC(s,r)},zq=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var s,o=r[0].split("(");if(o[0]==="cubic-bezier"&&((s=o[1])===null||s===void 0?void 0:s.split(")")[0].split(",").length)===4){var u=o[1].split(")")[0].split(",").map(d=>parseFloat(d));return[u[0],u[1],u[2],u[3]]}}}return r.length===4?r:[0,0,1,1]},Lq=(e,t,r,n)=>{var s=c2(e,r),o=c2(t,n),u=Iq(e,r),d=m=>m>1?1:m<0?0:m,h=m=>{for(var p=m>1?1:m,g=p,x=0;x<8;++x){var b=s(g)-p,j=u(g);if(Math.abs(b-p)<rh||j<rh)return o(g);g=d(g-b/j)}return o(g)};return h.isStepper=!1,h},u2=function(){return Lq(...zq(...arguments))},qq=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:s=17}=t,o=(u,d,h)=>{var m=-(u-d)*r,p=h*n,g=h+(m-p)*s/1e3,x=h*s/1e3+u;return Math.abs(x-d)<rh&&Math.abs(g)<rh?[d,0]:[x,g]};return o.isStepper=!0,o.dt=s,o},$q=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return u2(e);case"spring":return qq();default:if(e.split("(")[0]==="cubic-bezier")return u2(e)}return typeof e=="function"?e:null};function Uq(e){var t,r=()=>null,n=!1,s=null,o=u=>{if(!n){if(Array.isArray(u)){if(!u.length)return;var d=u,[h,...m]=d;if(typeof h=="number"){s=e.setTimeout(o.bind(null,m),h);return}o(h),s=e.setTimeout(o.bind(null,m));return}typeof u=="string"&&(t=u,r(t)),typeof u=="object"&&(t=u,r(t)),typeof u=="function"&&u()}};return{stop:()=>{n=!0},start:u=>{n=!1,s&&(s(),s=null),o(u)},subscribe:u=>(r=u,()=>{r=()=>null}),getTimeoutController:()=>e}}class Bq{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),s=null,o=u=>{u-n>=r?t(u):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(o))};return s=requestAnimationFrame(o),()=>{s!=null&&cancelAnimationFrame(s)}}}function Gq(){return Uq(new Bq)}var Fq=w.createContext(Gq);function Hq(e,t){var r=w.useContext(Fq);return w.useMemo(()=>t??r(e),[e,t,r])}var Vq={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},d2={t:0},ty={t:1};function rm(e){var t=qr(e,Vq),{isActive:r,canBegin:n,duration:s,easing:o,begin:u,onAnimationEnd:d,onAnimationStart:h,children:m}=t,p=r==="auto"?!pl.isSsr:r,g=Hq(t.animationId,t.animationManager),[x,b]=w.useState(p?d2:ty),j=w.useRef(null);return w.useEffect(()=>{p||b(ty)},[p]),w.useEffect(()=>{if(!p||!n)return xu;var N=Rq(d2,ty,$q(o),s,b,g.getTimeoutController()),_=()=>{j.current=N()};return g.start([h,u,_,s,d]),()=>{g.stop(),j.current&&j.current(),d()}},[p,n,s,o,u,h,d,g]),m(x.t)}function nm(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=w.useRef(Jc(t)),n=w.useRef(e);return n.current!==e&&(r.current=Jc(t),n.current=e),r.current}var Kq=["radius"],Yq=["radius"];function f2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function h2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f2(Object(r),!0).forEach(function(n){Wq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wq(e,t,r){return(t=Xq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xq(e){var t=Zq(e,"string");return typeof t=="symbol"?t:t+""}function Zq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nh(){return nh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nh.apply(null,arguments)}function m2(e,t){if(e==null)return{};var r,n,s=Qq(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Qq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var p2=(e,t,r,n,s)=>{var o=Math.min(Math.abs(r)/2,Math.abs(n)/2),u=n>=0?1:-1,d=r>=0?1:-1,h=n>=0&&r>=0||n<0&&r<0?1:0,m;if(o>0&&s instanceof Array){for(var p=[0,0,0,0],g=0,x=4;g<x;g++)p[g]=s[g]>o?o:s[g];m="M".concat(e,",").concat(t+u*p[0]),p[0]>0&&(m+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(h,",").concat(e+d*p[0],",").concat(t)),m+="L ".concat(e+r-d*p[1],",").concat(t),p[1]>0&&(m+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(h,`,
        `).concat(e+r,",").concat(t+u*p[1])),m+="L ".concat(e+r,",").concat(t+n-u*p[2]),p[2]>0&&(m+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(h,`,
        `).concat(e+r-d*p[2],",").concat(t+n)),m+="L ".concat(e+d*p[3],",").concat(t+n),p[3]>0&&(m+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(h,`,
        `).concat(e,",").concat(t+n-u*p[3])),m+="Z"}else if(o>0&&s===+s&&s>0){var b=Math.min(o,s);m="M ".concat(e,",").concat(t+u*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(h,",").concat(e+d*b,",").concat(t,`
            L `).concat(e+r-d*b,",").concat(t,`
            A `).concat(b,",").concat(b,",0,0,").concat(h,",").concat(e+r,",").concat(t+u*b,`
            L `).concat(e+r,",").concat(t+n-u*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(h,",").concat(e+r-d*b,",").concat(t+n,`
            L `).concat(e+d*b,",").concat(t+n,`
            A `).concat(b,",").concat(b,",0,0,").concat(h,",").concat(e,",").concat(t+n-u*b," Z")}else m="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return m},g2={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},KC=e=>{var t=qr(e,g2),r=w.useRef(null),[n,s]=w.useState(-1);w.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var W=r.current.getTotalLength();W&&s(W)}catch{}},[]);var{x:o,y:u,width:d,height:h,radius:m,className:p}=t,{animationEasing:g,animationDuration:x,animationBegin:b,isAnimationActive:j,isUpdateAnimationActive:N}=t,_=w.useRef(d),A=w.useRef(h),P=w.useRef(o),O=w.useRef(u),C=w.useMemo(()=>({x:o,y:u,width:d,height:h,radius:m}),[o,u,d,h,m]),D=nm(C,"rectangle-");if(o!==+o||u!==+u||d!==+d||h!==+h||d===0||h===0)return null;var R=St("recharts-rectangle",p);if(!N){var L=oa(t),{radius:H}=L,G=m2(L,Kq);return w.createElement("path",nh({},G,{radius:typeof m=="number"?m:void 0,className:R,d:p2(o,u,d,h,m)}))}var he=_.current,ne=A.current,k=P.current,se=O.current,U="0px ".concat(n===-1?1:n,"px"),V="".concat(n,"px 0px"),I=GC(["strokeDasharray"],x,typeof g=="string"?g:g2.animationEasing);return w.createElement(rm,{animationId:D,key:D,canBegin:n>0,duration:x,easing:g,isActive:N,begin:b},W=>{var ue=wr(he,d,W),be=wr(ne,h,W),Ee=wr(k,o,W),z=wr(se,u,W);r.current&&(_.current=ue,A.current=be,P.current=Ee,O.current=z);var K;j?W>0?K={transition:I,strokeDasharray:V}:K={strokeDasharray:U}:K={strokeDasharray:V};var ge=oa(t),{radius:B}=ge,je=m2(ge,Yq);return w.createElement("path",nh({},je,{radius:typeof m=="number"?m:void 0,className:R,d:p2(Ee,z,ue,be,m),ref:r,style:h2(h2({},K),t.style)}))})};function y2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function v2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y2(Object(r),!0).forEach(function(n){Jq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jq(e,t,r){return(t=e$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e$(e){var t=t$(e,"string");return typeof t=="symbol"?t:t+""}function t$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ah=Math.PI/180,r$=e=>e*180/Math.PI,yr=(e,t,r,n)=>({x:e+Math.cos(-ah*n)*r,y:t+Math.sin(-ah*n)*r}),YC=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},n$=(e,t)=>{var{x:r,y:n}=e,{x:s,y:o}=t;return Math.sqrt((r-s)**2+(n-o)**2)},a$=(e,t)=>{var{x:r,y:n}=e,{cx:s,cy:o}=t,u=n$({x:r,y:n},{x:s,y:o});if(u<=0)return{radius:u,angle:0};var d=(r-s)/u,h=Math.acos(d);return n>o&&(h=2*Math.PI-h),{radius:u,angle:r$(h),angleInRadian:h}},i$=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),s=Math.floor(r/360),o=Math.min(n,s);return{startAngle:t-o*360,endAngle:r-o*360}},s$=(e,t)=>{var{startAngle:r,endAngle:n}=t,s=Math.floor(r/360),o=Math.floor(n/360),u=Math.min(s,o);return e+u*360},l$=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:s,angle:o}=a$({x:r,y:n},t),{innerRadius:u,outerRadius:d}=t;if(s<u||s>d||s===0)return null;var{startAngle:h,endAngle:m}=i$(t),p=o,g;if(h<=m){for(;p>m;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=m}else{for(;p>h;)p-=360;for(;p<m;)p+=360;g=p>=m&&p<=h}return g?v2(v2({},t),{},{radius:s,angle:s$(p,t)}):null};function WC(e){var{cx:t,cy:r,radius:n,startAngle:s,endAngle:o}=e,u=yr(t,r,n,s),d=yr(t,r,n,o);return{points:[u,d],cx:t,cy:r,radius:n,startAngle:s,endAngle:o}}function vv(){return vv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vv.apply(null,arguments)}var o$=(e,t)=>{var r=zr(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},vf=e=>{var{cx:t,cy:r,radius:n,angle:s,sign:o,isExternal:u,cornerRadius:d,cornerIsExternal:h}=e,m=d*(u?1:-1)+n,p=Math.asin(d/m)/ah,g=h?s:s+o*p,x=yr(t,r,m,g),b=yr(t,r,n,g),j=h?s-o*p:s,N=yr(t,r,m*Math.cos(p*ah),j);return{center:x,circleTangency:b,lineTangency:N,theta:p}},XC=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:o,endAngle:u}=e,d=o$(o,u),h=o+d,m=yr(t,r,s,o),p=yr(t,r,s,h),g="M ".concat(m.x,",").concat(m.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(o>h),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(n>0){var x=yr(t,r,n,o),b=yr(t,r,n,h);g+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(o<=h),`,
            `).concat(x.x,",").concat(x.y," Z")}else g+="L ".concat(t,",").concat(r," Z");return g},c$=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,cornerRadius:o,forceCornerRadius:u,cornerIsExternal:d,startAngle:h,endAngle:m}=e,p=zr(m-h),{circleTangency:g,lineTangency:x,theta:b}=vf({cx:t,cy:r,radius:s,angle:h,sign:p,cornerRadius:o,cornerIsExternal:d}),{circleTangency:j,lineTangency:N,theta:_}=vf({cx:t,cy:r,radius:s,angle:m,sign:-p,cornerRadius:o,cornerIsExternal:d}),A=d?Math.abs(h-m):Math.abs(h-m)-b-_;if(A<0)return u?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):XC({cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:h,endAngle:m});var P="M ".concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(A>180),",").concat(+(p<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(N.x,",").concat(N.y,`
  `);if(n>0){var{circleTangency:O,lineTangency:C,theta:D}=vf({cx:t,cy:r,radius:n,angle:h,sign:p,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),{circleTangency:R,lineTangency:L,theta:H}=vf({cx:t,cy:r,radius:n,angle:m,sign:-p,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),G=d?Math.abs(h-m):Math.abs(h-m)-D-H;if(G<0&&o===0)return"".concat(P,"L").concat(t,",").concat(r,"Z");P+="L".concat(L.x,",").concat(L.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(G>180),",").concat(+(p>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(C.x,",").concat(C.y,"Z")}else P+="L".concat(t,",").concat(r,"Z");return P},u$={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},ZC=e=>{var t=qr(e,u$),{cx:r,cy:n,innerRadius:s,outerRadius:o,cornerRadius:u,forceCornerRadius:d,cornerIsExternal:h,startAngle:m,endAngle:p,className:g}=t;if(o<s||m===p)return null;var x=St("recharts-sector",g),b=o-s,j=nn(u,b,0,!0),N;return j>0&&Math.abs(m-p)<360?N=c$({cx:r,cy:n,innerRadius:s,outerRadius:o,cornerRadius:Math.min(j,b/2),forceCornerRadius:d,cornerIsExternal:h,startAngle:m,endAngle:p}):N=XC({cx:r,cy:n,innerRadius:s,outerRadius:o,startAngle:m,endAngle:p}),w.createElement("path",vv({},oa(t),{className:x,d:N}))};function d$(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(CO(t)){if(e==="centric"){var{cx:n,cy:s,innerRadius:o,outerRadius:u,angle:d}=t,h=yr(n,s,o,d),m=yr(n,s,u,d);return[{x:h.x,y:h.y},{x:m.x,y:m.y}]}return WC(t)}}var ry={},ny={},ay={},x2;function f$(){return x2||(x2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UO();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(ay)),ay}var b2;function h$(){return b2||(b2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f$();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(ny)),ny}var w2;function m$(){return w2||(w2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BO(),r=h$();function n(s,o,u){u&&typeof u!="number"&&t.isIterateeCall(s,o,u)&&(o=u=void 0),s=r.toFinite(s),o===void 0?(o=s,s=0):o=r.toFinite(o),u=u===void 0?s<o?1:-1:r.toFinite(u);const d=Math.max(Math.ceil((o-s)/(u||1)),0),h=new Array(d);for(let m=0;m<d;m++)h[m]=s,s+=u;return h}e.range=n})(ry)),ry}var iy,j2;function p$(){return j2||(j2=1,iy=m$().range),iy}var g$=p$();const QC=Ea(g$);function gs(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function y$(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ax(e){let t,r,n;e.length!==2?(t=gs,r=(d,h)=>gs(e(d),h),n=(d,h)=>e(d)-h):(t=e===gs||e===y$?e:v$,r=e,n=e);function s(d,h,m=0,p=d.length){if(m<p){if(t(h,h)!==0)return p;do{const g=m+p>>>1;r(d[g],h)<0?m=g+1:p=g}while(m<p)}return m}function o(d,h,m=0,p=d.length){if(m<p){if(t(h,h)!==0)return p;do{const g=m+p>>>1;r(d[g],h)<=0?m=g+1:p=g}while(m<p)}return m}function u(d,h,m=0,p=d.length){const g=s(d,h,m,p-1);return g>m&&n(d[g-1],h)>-n(d[g],h)?g-1:g}return{left:s,center:u,right:o}}function v$(){return 0}function JC(e){return e===null?NaN:+e}function*x$(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const b$=Ax(gs),Eu=b$.right;Ax(JC).center;class N2 extends Map{constructor(t,r=N$){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(_2(this,t))}has(t){return super.has(_2(this,t))}set(t,r){return super.set(w$(this,t),r)}delete(t){return super.delete(j$(this,t))}}function _2({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function w$({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function j$({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function N$(e){return e!==null&&typeof e=="object"?e.valueOf():e}function _$(e=gs){if(e===gs)return eT;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function eT(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const S$=Math.sqrt(50),E$=Math.sqrt(10),A$=Math.sqrt(2);function ih(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),o=n/Math.pow(10,s),u=o>=S$?10:o>=E$?5:o>=A$?2:1;let d,h,m;return s<0?(m=Math.pow(10,-s)/u,d=Math.round(e*m),h=Math.round(t*m),d/m<e&&++d,h/m>t&&--h,m=-m):(m=Math.pow(10,s)*u,d=Math.round(e/m),h=Math.round(t/m),d*m<e&&++d,h*m>t&&--h),h<d&&.5<=r&&r<2?ih(e,t,r*2):[d,h,m]}function xv(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,o,u]=n?ih(t,e,r):ih(e,t,r);if(!(o>=s))return[];const d=o-s+1,h=new Array(d);if(n)if(u<0)for(let m=0;m<d;++m)h[m]=(o-m)/-u;else for(let m=0;m<d;++m)h[m]=(o-m)*u;else if(u<0)for(let m=0;m<d;++m)h[m]=(s+m)/-u;else for(let m=0;m<d;++m)h[m]=(s+m)*u;return h}function bv(e,t,r){return t=+t,e=+e,r=+r,ih(e,t,r)[2]}function wv(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?bv(t,e,r):bv(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function S2(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function E2(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function tT(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?eT:_$(s);n>r;){if(n-r>600){const h=n-r+1,m=t-r+1,p=Math.log(h),g=.5*Math.exp(2*p/3),x=.5*Math.sqrt(p*g*(h-g)/h)*(m-h/2<0?-1:1),b=Math.max(r,Math.floor(t-m*g/h+x)),j=Math.min(n,Math.floor(t+(h-m)*g/h+x));tT(e,t,b,j,s)}const o=e[t];let u=r,d=n;for(Lc(e,r,t),s(e[n],o)>0&&Lc(e,r,n);u<d;){for(Lc(e,u,d),++u,--d;s(e[u],o)<0;)++u;for(;s(e[d],o)>0;)--d}s(e[r],o)===0?Lc(e,r,d):(++d,Lc(e,d,n)),d<=t&&(r=d+1),t<=d&&(n=d-1)}return e}function Lc(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function O$(e,t,r){if(e=Float64Array.from(x$(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return E2(e);if(t>=1)return S2(e);var n,s=(n-1)*t,o=Math.floor(s),u=S2(tT(e,o).subarray(0,o+1)),d=E2(e.subarray(o+1));return u+(d-u)*(s-o)}}function C$(e,t,r=JC){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,o=Math.floor(s),u=+r(e[o],o,e),d=+r(e[o+1],o+1,e);return u+(d-u)*(s-o)}}function T$(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(s);++n<s;)o[n]=e+n*r;return o}function da(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Si(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const jv=Symbol("implicit");function Ox(){var e=new N2,t=[],r=[],n=jv;function s(o){let u=e.get(o);if(u===void 0){if(n!==jv)return n;e.set(o,u=t.push(o)-1)}return r[u%r.length]}return s.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new N2;for(const u of o)e.has(u)||e.set(u,t.push(u)-1);return s},s.range=function(o){return arguments.length?(r=Array.from(o),s):r.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.copy=function(){return Ox(t,r).unknown(n)},da.apply(s,arguments),s}function Cx(){var e=Ox().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,o,u,d=!1,h=0,m=0,p=.5;delete e.unknown;function g(){var x=t().length,b=s<n,j=b?s:n,N=b?n:s;o=(N-j)/Math.max(1,x-h+m*2),d&&(o=Math.floor(o)),j+=(N-j-o*(x-h))*p,u=o*(1-h),d&&(j=Math.round(j),u=Math.round(u));var _=T$(x).map(function(A){return j+o*A});return r(b?_.reverse():_)}return e.domain=function(x){return arguments.length?(t(x),g()):t()},e.range=function(x){return arguments.length?([n,s]=x,n=+n,s=+s,g()):[n,s]},e.rangeRound=function(x){return[n,s]=x,n=+n,s=+s,d=!0,g()},e.bandwidth=function(){return u},e.step=function(){return o},e.round=function(x){return arguments.length?(d=!!x,g()):d},e.padding=function(x){return arguments.length?(h=Math.min(1,m=+x),g()):h},e.paddingInner=function(x){return arguments.length?(h=Math.min(1,x),g()):h},e.paddingOuter=function(x){return arguments.length?(m=+x,g()):m},e.align=function(x){return arguments.length?(p=Math.max(0,Math.min(1,x)),g()):p},e.copy=function(){return Cx(t(),[n,s]).round(d).paddingInner(h).paddingOuter(m).align(p)},da.apply(g(),arguments)}function rT(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return rT(t())},e}function D$(){return rT(Cx.apply(null,arguments).paddingInner(1))}function Tx(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function nT(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Au(){}var ou=.7,sh=1/ou,po="\\s*([+-]?\\d+)\\s*",cu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",k$=/^#([0-9a-f]{3,8})$/,P$=new RegExp(`^rgb\\(${po},${po},${po}\\)$`),M$=new RegExp(`^rgb\\(${qa},${qa},${qa}\\)$`),R$=new RegExp(`^rgba\\(${po},${po},${po},${cu}\\)$`),I$=new RegExp(`^rgba\\(${qa},${qa},${qa},${cu}\\)$`),z$=new RegExp(`^hsl\\(${cu},${qa},${qa}\\)$`),L$=new RegExp(`^hsla\\(${cu},${qa},${qa},${cu}\\)$`),A2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Tx(Au,uu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:O2,formatHex:O2,formatHex8:q$,formatHsl:$$,formatRgb:C2,toString:C2});function O2(){return this.rgb().formatHex()}function q$(){return this.rgb().formatHex8()}function $$(){return aT(this).formatHsl()}function C2(){return this.rgb().formatRgb()}function uu(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=k$.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?T2(t):r===3?new En(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?xf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?xf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=P$.exec(e))?new En(t[1],t[2],t[3],1):(t=M$.exec(e))?new En(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=R$.exec(e))?xf(t[1],t[2],t[3],t[4]):(t=I$.exec(e))?xf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=z$.exec(e))?P2(t[1],t[2]/100,t[3]/100,1):(t=L$.exec(e))?P2(t[1],t[2]/100,t[3]/100,t[4]):A2.hasOwnProperty(e)?T2(A2[e]):e==="transparent"?new En(NaN,NaN,NaN,0):null}function T2(e){return new En(e>>16&255,e>>8&255,e&255,1)}function xf(e,t,r,n){return n<=0&&(e=t=r=NaN),new En(e,t,r,n)}function U$(e){return e instanceof Au||(e=uu(e)),e?(e=e.rgb(),new En(e.r,e.g,e.b,e.opacity)):new En}function Nv(e,t,r,n){return arguments.length===1?U$(e):new En(e,t,r,n??1)}function En(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Tx(En,Nv,nT(Au,{brighter(e){return e=e==null?sh:Math.pow(sh,e),new En(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ou:Math.pow(ou,e),new En(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new En(tl(this.r),tl(this.g),tl(this.b),lh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:D2,formatHex:D2,formatHex8:B$,formatRgb:k2,toString:k2}));function D2(){return`#${Ks(this.r)}${Ks(this.g)}${Ks(this.b)}`}function B$(){return`#${Ks(this.r)}${Ks(this.g)}${Ks(this.b)}${Ks((isNaN(this.opacity)?1:this.opacity)*255)}`}function k2(){const e=lh(this.opacity);return`${e===1?"rgb(":"rgba("}${tl(this.r)}, ${tl(this.g)}, ${tl(this.b)}${e===1?")":`, ${e})`}`}function lh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function tl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ks(e){return e=tl(e),(e<16?"0":"")+e.toString(16)}function P2(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ja(e,t,r,n)}function aT(e){if(e instanceof ja)return new ja(e.h,e.s,e.l,e.opacity);if(e instanceof Au||(e=uu(e)),!e)return new ja;if(e instanceof ja)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),o=Math.max(t,r,n),u=NaN,d=o-s,h=(o+s)/2;return d?(t===o?u=(r-n)/d+(r<n)*6:r===o?u=(n-t)/d+2:u=(t-r)/d+4,d/=h<.5?o+s:2-o-s,u*=60):d=h>0&&h<1?0:u,new ja(u,d,h,e.opacity)}function G$(e,t,r,n){return arguments.length===1?aT(e):new ja(e,t,r,n??1)}function ja(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Tx(ja,G$,nT(Au,{brighter(e){return e=e==null?sh:Math.pow(sh,e),new ja(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ou:Math.pow(ou,e),new ja(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new En(sy(e>=240?e-240:e+120,s,n),sy(e,s,n),sy(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new ja(M2(this.h),bf(this.s),bf(this.l),lh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=lh(this.opacity);return`${e===1?"hsl(":"hsla("}${M2(this.h)}, ${bf(this.s)*100}%, ${bf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function M2(e){return e=(e||0)%360,e<0?e+360:e}function bf(e){return Math.max(0,Math.min(1,e||0))}function sy(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Dx=e=>()=>e;function F$(e,t){return function(r){return e+r*t}}function H$(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function V$(e){return(e=+e)==1?iT:function(t,r){return r-t?H$(t,r,e):Dx(isNaN(t)?r:t)}}function iT(e,t){var r=t-e;return r?F$(e,r):Dx(isNaN(e)?t:e)}const R2=(function e(t){var r=V$(t);function n(s,o){var u=r((s=Nv(s)).r,(o=Nv(o)).r),d=r(s.g,o.g),h=r(s.b,o.b),m=iT(s.opacity,o.opacity);return function(p){return s.r=u(p),s.g=d(p),s.b=h(p),s.opacity=m(p),s+""}}return n.gamma=e,n})(1);function K$(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(o){for(s=0;s<r;++s)n[s]=e[s]*(1-o)+t[s]*o;return n}}function Y$(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function W$(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),o=new Array(r),u;for(u=0;u<n;++u)s[u]=To(e[u],t[u]);for(;u<r;++u)o[u]=t[u];return function(d){for(u=0;u<n;++u)o[u]=s[u](d);return o}}function X$(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function oh(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Z$(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=To(e[s],t[s]):n[s]=t[s];return function(o){for(s in r)n[s]=r[s](o);return n}}var _v=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ly=new RegExp(_v.source,"g");function Q$(e){return function(){return e}}function J$(e){return function(t){return e(t)+""}}function eU(e,t){var r=_v.lastIndex=ly.lastIndex=0,n,s,o,u=-1,d=[],h=[];for(e=e+"",t=t+"";(n=_v.exec(e))&&(s=ly.exec(t));)(o=s.index)>r&&(o=t.slice(r,o),d[u]?d[u]+=o:d[++u]=o),(n=n[0])===(s=s[0])?d[u]?d[u]+=s:d[++u]=s:(d[++u]=null,h.push({i:u,x:oh(n,s)})),r=ly.lastIndex;return r<t.length&&(o=t.slice(r),d[u]?d[u]+=o:d[++u]=o),d.length<2?h[0]?J$(h[0].x):Q$(t):(t=h.length,function(m){for(var p=0,g;p<t;++p)d[(g=h[p]).i]=g.x(m);return d.join("")})}function To(e,t){var r=typeof t,n;return t==null||r==="boolean"?Dx(t):(r==="number"?oh:r==="string"?(n=uu(t))?(t=n,R2):eU:t instanceof uu?R2:t instanceof Date?X$:Y$(t)?K$:Array.isArray(t)?W$:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Z$:oh)(e,t)}function kx(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function tU(e,t){t===void 0&&(t=e,e=To);for(var r=0,n=t.length-1,s=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(s,s=t[++r]);return function(u){var d=Math.max(0,Math.min(n-1,Math.floor(u*=n)));return o[d](u-d)}}function rU(e){return function(){return e}}function ch(e){return+e}var I2=[0,1];function un(e){return e}function Sv(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:rU(isNaN(t)?NaN:.5)}function nU(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function aU(e,t,r){var n=e[0],s=e[1],o=t[0],u=t[1];return s<n?(n=Sv(s,n),o=r(u,o)):(n=Sv(n,s),o=r(o,u)),function(d){return o(n(d))}}function iU(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),o=new Array(n),u=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++u<n;)s[u]=Sv(e[u],e[u+1]),o[u]=r(t[u],t[u+1]);return function(d){var h=Eu(e,d,1,n)-1;return o[h](s[h](d))}}function Ou(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function am(){var e=I2,t=I2,r=To,n,s,o,u=un,d,h,m;function p(){var x=Math.min(e.length,t.length);return u!==un&&(u=nU(e[0],e[x-1])),d=x>2?iU:aU,h=m=null,g}function g(x){return x==null||isNaN(x=+x)?o:(h||(h=d(e.map(n),t,r)))(n(u(x)))}return g.invert=function(x){return u(s((m||(m=d(t,e.map(n),oh)))(x)))},g.domain=function(x){return arguments.length?(e=Array.from(x,ch),p()):e.slice()},g.range=function(x){return arguments.length?(t=Array.from(x),p()):t.slice()},g.rangeRound=function(x){return t=Array.from(x),r=kx,p()},g.clamp=function(x){return arguments.length?(u=x?!0:un,p()):u!==un},g.interpolate=function(x){return arguments.length?(r=x,p()):r},g.unknown=function(x){return arguments.length?(o=x,g):o},function(x,b){return n=x,s=b,p()}}function Px(){return am()(un,un)}function sU(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function uh(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function No(e){return e=uh(Math.abs(e)),e?e[1]:NaN}function lU(e,t){return function(r,n){for(var s=r.length,o=[],u=0,d=e[0],h=0;s>0&&d>0&&(h+d+1>n&&(d=Math.max(1,n-h)),o.push(r.substring(s-=d,s+d)),!((h+=d+1)>n));)d=e[u=(u+1)%e.length];return o.reverse().join(t)}}function oU(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var cU=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function du(e){if(!(t=cU.exec(e)))throw new Error("invalid format: "+e);var t;return new Mx({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}du.prototype=Mx.prototype;function Mx(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Mx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function uU(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var sT;function dU(e,t){var r=uh(e,t);if(!r)return e+"";var n=r[0],s=r[1],o=s-(sT=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,u=n.length;return o===u?n:o>u?n+new Array(o-u+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+uh(e,Math.max(0,t+o-1))[0]}function z2(e,t){var r=uh(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const L2={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:sU,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>z2(e*100,t),r:z2,s:dU,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function q2(e){return e}var $2=Array.prototype.map,U2=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function fU(e){var t=e.grouping===void 0||e.thousands===void 0?q2:lU($2.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?q2:oU($2.call(e.numerals,String)),u=e.percent===void 0?"%":e.percent+"",d=e.minus===void 0?"":e.minus+"",h=e.nan===void 0?"NaN":e.nan+"";function m(g){g=du(g);var x=g.fill,b=g.align,j=g.sign,N=g.symbol,_=g.zero,A=g.width,P=g.comma,O=g.precision,C=g.trim,D=g.type;D==="n"?(P=!0,D="g"):L2[D]||(O===void 0&&(O=12),C=!0,D="g"),(_||x==="0"&&b==="=")&&(_=!0,x="0",b="=");var R=N==="$"?r:N==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",L=N==="$"?n:/[%p]/.test(D)?u:"",H=L2[D],G=/[defgprs%]/.test(D);O=O===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function he(ne){var k=R,se=L,U,V,I;if(D==="c")se=H(ne)+se,ne="";else{ne=+ne;var W=ne<0||1/ne<0;if(ne=isNaN(ne)?h:H(Math.abs(ne),O),C&&(ne=uU(ne)),W&&+ne==0&&j!=="+"&&(W=!1),k=(W?j==="("?j:d:j==="-"||j==="("?"":j)+k,se=(D==="s"?U2[8+sT/3]:"")+se+(W&&j==="("?")":""),G){for(U=-1,V=ne.length;++U<V;)if(I=ne.charCodeAt(U),48>I||I>57){se=(I===46?s+ne.slice(U+1):ne.slice(U))+se,ne=ne.slice(0,U);break}}}P&&!_&&(ne=t(ne,1/0));var ue=k.length+ne.length+se.length,be=ue<A?new Array(A-ue+1).join(x):"";switch(P&&_&&(ne=t(be+ne,be.length?A-se.length:1/0),be=""),b){case"<":ne=k+ne+se+be;break;case"=":ne=k+be+ne+se;break;case"^":ne=be.slice(0,ue=be.length>>1)+k+ne+se+be.slice(ue);break;default:ne=be+k+ne+se;break}return o(ne)}return he.toString=function(){return g+""},he}function p(g,x){var b=m((g=du(g),g.type="f",g)),j=Math.max(-8,Math.min(8,Math.floor(No(x)/3)))*3,N=Math.pow(10,-j),_=U2[8+j/3];return function(A){return b(N*A)+_}}return{format:m,formatPrefix:p}}var wf,Rx,lT;hU({thousands:",",grouping:[3],currency:["$",""]});function hU(e){return wf=fU(e),Rx=wf.format,lT=wf.formatPrefix,wf}function mU(e){return Math.max(0,-No(Math.abs(e)))}function pU(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(No(t)/3)))*3-No(Math.abs(e)))}function gU(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,No(t)-No(e))+1}function oT(e,t,r,n){var s=wv(e,t,r),o;switch(n=du(n??",f"),n.type){case"s":{var u=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=pU(s,u))&&(n.precision=o),lT(n,u)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=gU(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=mU(s))&&(n.precision=o-(n.type==="%")*2);break}}return Rx(n)}function ws(e){var t=e.domain;return e.ticks=function(r){var n=t();return xv(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return oT(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,o=n.length-1,u=n[s],d=n[o],h,m,p=10;for(d<u&&(m=u,u=d,d=m,m=s,s=o,o=m);p-- >0;){if(m=bv(u,d,r),m===h)return n[s]=u,n[o]=d,t(n);if(m>0)u=Math.floor(u/m)*m,d=Math.ceil(d/m)*m;else if(m<0)u=Math.ceil(u*m)/m,d=Math.floor(d*m)/m;else break;h=m}return e},e}function cT(){var e=Px();return e.copy=function(){return Ou(e,cT())},da.apply(e,arguments),ws(e)}function uT(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,ch),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return uT(e).unknown(t)},e=arguments.length?Array.from(e,ch):[0,1],ws(r)}function dT(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],o=e[n],u;return o<s&&(u=r,r=n,n=u,u=s,s=o,o=u),e[r]=t.floor(s),e[n]=t.ceil(o),e}function B2(e){return Math.log(e)}function G2(e){return Math.exp(e)}function yU(e){return-Math.log(-e)}function vU(e){return-Math.exp(-e)}function xU(e){return isFinite(e)?+("1e"+e):e<0?0:e}function bU(e){return e===10?xU:e===Math.E?Math.exp:t=>Math.pow(e,t)}function wU(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function F2(e){return(t,r)=>-e(-t,r)}function Ix(e){const t=e(B2,G2),r=t.domain;let n=10,s,o;function u(){return s=wU(n),o=bU(n),r()[0]<0?(s=F2(s),o=F2(o),e(yU,vU)):e(B2,G2),t}return t.base=function(d){return arguments.length?(n=+d,u()):n},t.domain=function(d){return arguments.length?(r(d),u()):r()},t.ticks=d=>{const h=r();let m=h[0],p=h[h.length-1];const g=p<m;g&&([m,p]=[p,m]);let x=s(m),b=s(p),j,N;const _=d==null?10:+d;let A=[];if(!(n%1)&&b-x<_){if(x=Math.floor(x),b=Math.ceil(b),m>0){for(;x<=b;++x)for(j=1;j<n;++j)if(N=x<0?j/o(-x):j*o(x),!(N<m)){if(N>p)break;A.push(N)}}else for(;x<=b;++x)for(j=n-1;j>=1;--j)if(N=x>0?j/o(-x):j*o(x),!(N<m)){if(N>p)break;A.push(N)}A.length*2<_&&(A=xv(m,p,_))}else A=xv(x,b,Math.min(b-x,_)).map(o);return g?A.reverse():A},t.tickFormat=(d,h)=>{if(d==null&&(d=10),h==null&&(h=n===10?"s":","),typeof h!="function"&&(!(n%1)&&(h=du(h)).precision==null&&(h.trim=!0),h=Rx(h)),d===1/0)return h;const m=Math.max(1,n*d/t.ticks().length);return p=>{let g=p/o(Math.round(s(p)));return g*n<n-.5&&(g*=n),g<=m?h(p):""}},t.nice=()=>r(dT(r(),{floor:d=>o(Math.floor(s(d))),ceil:d=>o(Math.ceil(s(d)))})),t}function fT(){const e=Ix(am()).domain([1,10]);return e.copy=()=>Ou(e,fT()).base(e.base()),da.apply(e,arguments),e}function H2(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function V2(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function zx(e){var t=1,r=e(H2(t),V2(t));return r.constant=function(n){return arguments.length?e(H2(t=+n),V2(t)):t},ws(r)}function hT(){var e=zx(am());return e.copy=function(){return Ou(e,hT()).constant(e.constant())},da.apply(e,arguments)}function K2(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function jU(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function NU(e){return e<0?-e*e:e*e}function Lx(e){var t=e(un,un),r=1;function n(){return r===1?e(un,un):r===.5?e(jU,NU):e(K2(r),K2(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},ws(t)}function qx(){var e=Lx(am());return e.copy=function(){return Ou(e,qx()).exponent(e.exponent())},da.apply(e,arguments),e}function _U(){return qx.apply(null,arguments).exponent(.5)}function Y2(e){return Math.sign(e)*e*e}function SU(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function mT(){var e=Px(),t=[0,1],r=!1,n;function s(o){var u=SU(e(o));return isNaN(u)?n:r?Math.round(u):u}return s.invert=function(o){return e.invert(Y2(o))},s.domain=function(o){return arguments.length?(e.domain(o),s):e.domain()},s.range=function(o){return arguments.length?(e.range((t=Array.from(o,ch)).map(Y2)),s):t.slice()},s.rangeRound=function(o){return s.range(o).round(!0)},s.round=function(o){return arguments.length?(r=!!o,s):r},s.clamp=function(o){return arguments.length?(e.clamp(o),s):e.clamp()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.copy=function(){return mT(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},da.apply(s,arguments),ws(s)}function pT(){var e=[],t=[],r=[],n;function s(){var u=0,d=Math.max(1,t.length);for(r=new Array(d-1);++u<d;)r[u-1]=C$(e,u/d);return o}function o(u){return u==null||isNaN(u=+u)?n:t[Eu(r,u)]}return o.invertExtent=function(u){var d=t.indexOf(u);return d<0?[NaN,NaN]:[d>0?r[d-1]:e[0],d<r.length?r[d]:e[e.length-1]]},o.domain=function(u){if(!arguments.length)return e.slice();e=[];for(let d of u)d!=null&&!isNaN(d=+d)&&e.push(d);return e.sort(gs),s()},o.range=function(u){return arguments.length?(t=Array.from(u),s()):t.slice()},o.unknown=function(u){return arguments.length?(n=u,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return pT().domain(e).range(t).unknown(n)},da.apply(o,arguments)}function gT(){var e=0,t=1,r=1,n=[.5],s=[0,1],o;function u(h){return h!=null&&h<=h?s[Eu(n,h,0,r)]:o}function d(){var h=-1;for(n=new Array(r);++h<r;)n[h]=((h+1)*t-(h-r)*e)/(r+1);return u}return u.domain=function(h){return arguments.length?([e,t]=h,e=+e,t=+t,d()):[e,t]},u.range=function(h){return arguments.length?(r=(s=Array.from(h)).length-1,d()):s.slice()},u.invertExtent=function(h){var m=s.indexOf(h);return m<0?[NaN,NaN]:m<1?[e,n[0]]:m>=r?[n[r-1],t]:[n[m-1],n[m]]},u.unknown=function(h){return arguments.length&&(o=h),u},u.thresholds=function(){return n.slice()},u.copy=function(){return gT().domain([e,t]).range(s).unknown(o)},da.apply(ws(u),arguments)}function yT(){var e=[.5],t=[0,1],r,n=1;function s(o){return o!=null&&o<=o?t[Eu(e,o,0,n)]:r}return s.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(o){var u=t.indexOf(o);return[e[u-1],e[u]]},s.unknown=function(o){return arguments.length?(r=o,s):r},s.copy=function(){return yT().domain(e).range(t).unknown(r)},da.apply(s,arguments)}const oy=new Date,cy=new Date;function Sr(e,t,r,n){function s(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return s.floor=o=>(e(o=new Date(+o)),o),s.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),s.round=o=>{const u=s(o),d=s.ceil(o);return o-u<d-o?u:d},s.offset=(o,u)=>(t(o=new Date(+o),u==null?1:Math.floor(u)),o),s.range=(o,u,d)=>{const h=[];if(o=s.ceil(o),d=d==null?1:Math.floor(d),!(o<u)||!(d>0))return h;let m;do h.push(m=new Date(+o)),t(o,d),e(o);while(m<o&&o<u);return h},s.filter=o=>Sr(u=>{if(u>=u)for(;e(u),!o(u);)u.setTime(u-1)},(u,d)=>{if(u>=u)if(d<0)for(;++d<=0;)for(;t(u,-1),!o(u););else for(;--d>=0;)for(;t(u,1),!o(u););}),r&&(s.count=(o,u)=>(oy.setTime(+o),cy.setTime(+u),e(oy),e(cy),Math.floor(r(oy,cy))),s.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?s.filter(n?u=>n(u)%o===0:u=>s.count(0,u)%o===0):s)),s}const dh=Sr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);dh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Sr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):dh);dh.range;const di=1e3,sa=di*60,fi=sa*60,vi=fi*24,$x=vi*7,W2=vi*30,uy=vi*365,Ys=Sr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*di)},(e,t)=>(t-e)/di,e=>e.getUTCSeconds());Ys.range;const Ux=Sr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*di)},(e,t)=>{e.setTime(+e+t*sa)},(e,t)=>(t-e)/sa,e=>e.getMinutes());Ux.range;const Bx=Sr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*sa)},(e,t)=>(t-e)/sa,e=>e.getUTCMinutes());Bx.range;const Gx=Sr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*di-e.getMinutes()*sa)},(e,t)=>{e.setTime(+e+t*fi)},(e,t)=>(t-e)/fi,e=>e.getHours());Gx.range;const Fx=Sr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*fi)},(e,t)=>(t-e)/fi,e=>e.getUTCHours());Fx.range;const Cu=Sr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*sa)/vi,e=>e.getDate()-1);Cu.range;const im=Sr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/vi,e=>e.getUTCDate()-1);im.range;const vT=Sr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/vi,e=>Math.floor(e/vi));vT.range;function gl(e){return Sr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*sa)/$x)}const sm=gl(0),fh=gl(1),EU=gl(2),AU=gl(3),_o=gl(4),OU=gl(5),CU=gl(6);sm.range;fh.range;EU.range;AU.range;_o.range;OU.range;CU.range;function yl(e){return Sr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/$x)}const lm=yl(0),hh=yl(1),TU=yl(2),DU=yl(3),So=yl(4),kU=yl(5),PU=yl(6);lm.range;hh.range;TU.range;DU.range;So.range;kU.range;PU.range;const Hx=Sr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Hx.range;const Vx=Sr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Vx.range;const xi=Sr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());xi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Sr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});xi.range;const bi=Sr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());bi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Sr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});bi.range;function xT(e,t,r,n,s,o){const u=[[Ys,1,di],[Ys,5,5*di],[Ys,15,15*di],[Ys,30,30*di],[o,1,sa],[o,5,5*sa],[o,15,15*sa],[o,30,30*sa],[s,1,fi],[s,3,3*fi],[s,6,6*fi],[s,12,12*fi],[n,1,vi],[n,2,2*vi],[r,1,$x],[t,1,W2],[t,3,3*W2],[e,1,uy]];function d(m,p,g){const x=p<m;x&&([m,p]=[p,m]);const b=g&&typeof g.range=="function"?g:h(m,p,g),j=b?b.range(m,+p+1):[];return x?j.reverse():j}function h(m,p,g){const x=Math.abs(p-m)/g,b=Ax(([,,_])=>_).right(u,x);if(b===u.length)return e.every(wv(m/uy,p/uy,g));if(b===0)return dh.every(Math.max(wv(m,p,g),1));const[j,N]=u[x/u[b-1][2]<u[b][2]/x?b-1:b];return j.every(N)}return[d,h]}const[MU,RU]=xT(bi,Vx,lm,vT,Fx,Bx),[IU,zU]=xT(xi,Hx,sm,Cu,Gx,Ux);function dy(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function fy(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function qc(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function LU(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,o=e.days,u=e.shortDays,d=e.months,h=e.shortMonths,m=$c(s),p=Uc(s),g=$c(o),x=Uc(o),b=$c(u),j=Uc(u),N=$c(d),_=Uc(d),A=$c(h),P=Uc(h),O={a:W,A:ue,b:be,B:Ee,c:null,d:tE,e:tE,f:lB,g:yB,G:xB,H:aB,I:iB,j:sB,L:bT,m:oB,M:cB,p:z,q:K,Q:aE,s:iE,S:uB,u:dB,U:fB,V:hB,w:mB,W:pB,x:null,X:null,y:gB,Y:vB,Z:bB,"%":nE},C={a:ge,A:B,b:je,B:_e,c:null,d:rE,e:rE,f:_B,g:MB,G:IB,H:wB,I:jB,j:NB,L:jT,m:SB,M:EB,p:me,q:Re,Q:aE,s:iE,S:AB,u:OB,U:CB,V:TB,w:DB,W:kB,x:null,X:null,y:PB,Y:RB,Z:zB,"%":nE},D={a:he,A:ne,b:k,B:se,c:U,d:J2,e:J2,f:eB,g:Q2,G:Z2,H:eE,I:eE,j:XU,L:JU,m:WU,M:ZU,p:G,q:YU,Q:rB,s:nB,S:QU,u:GU,U:FU,V:HU,w:BU,W:VU,x:V,X:I,y:Q2,Y:Z2,Z:KU,"%":tB};O.x=R(r,O),O.X=R(n,O),O.c=R(t,O),C.x=R(r,C),C.X=R(n,C),C.c=R(t,C);function R(X,De){return function(Oe){var te=[],rt=-1,He=0,Et=X.length,vt,ie,$t;for(Oe instanceof Date||(Oe=new Date(+Oe));++rt<Et;)X.charCodeAt(rt)===37&&(te.push(X.slice(He,rt)),(ie=X2[vt=X.charAt(++rt)])!=null?vt=X.charAt(++rt):ie=vt==="e"?" ":"0",($t=De[vt])&&(vt=$t(Oe,ie)),te.push(vt),He=rt+1);return te.push(X.slice(He,rt)),te.join("")}}function L(X,De){return function(Oe){var te=qc(1900,void 0,1),rt=H(te,X,Oe+="",0),He,Et;if(rt!=Oe.length)return null;if("Q"in te)return new Date(te.Q);if("s"in te)return new Date(te.s*1e3+("L"in te?te.L:0));if(De&&!("Z"in te)&&(te.Z=0),"p"in te&&(te.H=te.H%12+te.p*12),te.m===void 0&&(te.m="q"in te?te.q:0),"V"in te){if(te.V<1||te.V>53)return null;"w"in te||(te.w=1),"Z"in te?(He=fy(qc(te.y,0,1)),Et=He.getUTCDay(),He=Et>4||Et===0?hh.ceil(He):hh(He),He=im.offset(He,(te.V-1)*7),te.y=He.getUTCFullYear(),te.m=He.getUTCMonth(),te.d=He.getUTCDate()+(te.w+6)%7):(He=dy(qc(te.y,0,1)),Et=He.getDay(),He=Et>4||Et===0?fh.ceil(He):fh(He),He=Cu.offset(He,(te.V-1)*7),te.y=He.getFullYear(),te.m=He.getMonth(),te.d=He.getDate()+(te.w+6)%7)}else("W"in te||"U"in te)&&("w"in te||(te.w="u"in te?te.u%7:"W"in te?1:0),Et="Z"in te?fy(qc(te.y,0,1)).getUTCDay():dy(qc(te.y,0,1)).getDay(),te.m=0,te.d="W"in te?(te.w+6)%7+te.W*7-(Et+5)%7:te.w+te.U*7-(Et+6)%7);return"Z"in te?(te.H+=te.Z/100|0,te.M+=te.Z%100,fy(te)):dy(te)}}function H(X,De,Oe,te){for(var rt=0,He=De.length,Et=Oe.length,vt,ie;rt<He;){if(te>=Et)return-1;if(vt=De.charCodeAt(rt++),vt===37){if(vt=De.charAt(rt++),ie=D[vt in X2?De.charAt(rt++):vt],!ie||(te=ie(X,Oe,te))<0)return-1}else if(vt!=Oe.charCodeAt(te++))return-1}return te}function G(X,De,Oe){var te=m.exec(De.slice(Oe));return te?(X.p=p.get(te[0].toLowerCase()),Oe+te[0].length):-1}function he(X,De,Oe){var te=b.exec(De.slice(Oe));return te?(X.w=j.get(te[0].toLowerCase()),Oe+te[0].length):-1}function ne(X,De,Oe){var te=g.exec(De.slice(Oe));return te?(X.w=x.get(te[0].toLowerCase()),Oe+te[0].length):-1}function k(X,De,Oe){var te=A.exec(De.slice(Oe));return te?(X.m=P.get(te[0].toLowerCase()),Oe+te[0].length):-1}function se(X,De,Oe){var te=N.exec(De.slice(Oe));return te?(X.m=_.get(te[0].toLowerCase()),Oe+te[0].length):-1}function U(X,De,Oe){return H(X,t,De,Oe)}function V(X,De,Oe){return H(X,r,De,Oe)}function I(X,De,Oe){return H(X,n,De,Oe)}function W(X){return u[X.getDay()]}function ue(X){return o[X.getDay()]}function be(X){return h[X.getMonth()]}function Ee(X){return d[X.getMonth()]}function z(X){return s[+(X.getHours()>=12)]}function K(X){return 1+~~(X.getMonth()/3)}function ge(X){return u[X.getUTCDay()]}function B(X){return o[X.getUTCDay()]}function je(X){return h[X.getUTCMonth()]}function _e(X){return d[X.getUTCMonth()]}function me(X){return s[+(X.getUTCHours()>=12)]}function Re(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var De=R(X+="",O);return De.toString=function(){return X},De},parse:function(X){var De=L(X+="",!1);return De.toString=function(){return X},De},utcFormat:function(X){var De=R(X+="",C);return De.toString=function(){return X},De},utcParse:function(X){var De=L(X+="",!0);return De.toString=function(){return X},De}}}var X2={"-":"",_:" ",0:"0"},$r=/^\s*\d+/,qU=/^%/,$U=/[\\^$*+?|[\]().{}]/g;function mt(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",o=s.length;return n+(o<r?new Array(r-o+1).join(t)+s:s)}function UU(e){return e.replace($U,"\\$&")}function $c(e){return new RegExp("^(?:"+e.map(UU).join("|")+")","i")}function Uc(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function BU(e,t,r){var n=$r.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function GU(e,t,r){var n=$r.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function FU(e,t,r){var n=$r.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function HU(e,t,r){var n=$r.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function VU(e,t,r){var n=$r.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Z2(e,t,r){var n=$r.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Q2(e,t,r){var n=$r.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function KU(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function YU(e,t,r){var n=$r.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function WU(e,t,r){var n=$r.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function J2(e,t,r){var n=$r.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function XU(e,t,r){var n=$r.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function eE(e,t,r){var n=$r.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function ZU(e,t,r){var n=$r.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function QU(e,t,r){var n=$r.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function JU(e,t,r){var n=$r.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function eB(e,t,r){var n=$r.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function tB(e,t,r){var n=qU.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function rB(e,t,r){var n=$r.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function nB(e,t,r){var n=$r.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function tE(e,t){return mt(e.getDate(),t,2)}function aB(e,t){return mt(e.getHours(),t,2)}function iB(e,t){return mt(e.getHours()%12||12,t,2)}function sB(e,t){return mt(1+Cu.count(xi(e),e),t,3)}function bT(e,t){return mt(e.getMilliseconds(),t,3)}function lB(e,t){return bT(e,t)+"000"}function oB(e,t){return mt(e.getMonth()+1,t,2)}function cB(e,t){return mt(e.getMinutes(),t,2)}function uB(e,t){return mt(e.getSeconds(),t,2)}function dB(e){var t=e.getDay();return t===0?7:t}function fB(e,t){return mt(sm.count(xi(e)-1,e),t,2)}function wT(e){var t=e.getDay();return t>=4||t===0?_o(e):_o.ceil(e)}function hB(e,t){return e=wT(e),mt(_o.count(xi(e),e)+(xi(e).getDay()===4),t,2)}function mB(e){return e.getDay()}function pB(e,t){return mt(fh.count(xi(e)-1,e),t,2)}function gB(e,t){return mt(e.getFullYear()%100,t,2)}function yB(e,t){return e=wT(e),mt(e.getFullYear()%100,t,2)}function vB(e,t){return mt(e.getFullYear()%1e4,t,4)}function xB(e,t){var r=e.getDay();return e=r>=4||r===0?_o(e):_o.ceil(e),mt(e.getFullYear()%1e4,t,4)}function bB(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+mt(t/60|0,"0",2)+mt(t%60,"0",2)}function rE(e,t){return mt(e.getUTCDate(),t,2)}function wB(e,t){return mt(e.getUTCHours(),t,2)}function jB(e,t){return mt(e.getUTCHours()%12||12,t,2)}function NB(e,t){return mt(1+im.count(bi(e),e),t,3)}function jT(e,t){return mt(e.getUTCMilliseconds(),t,3)}function _B(e,t){return jT(e,t)+"000"}function SB(e,t){return mt(e.getUTCMonth()+1,t,2)}function EB(e,t){return mt(e.getUTCMinutes(),t,2)}function AB(e,t){return mt(e.getUTCSeconds(),t,2)}function OB(e){var t=e.getUTCDay();return t===0?7:t}function CB(e,t){return mt(lm.count(bi(e)-1,e),t,2)}function NT(e){var t=e.getUTCDay();return t>=4||t===0?So(e):So.ceil(e)}function TB(e,t){return e=NT(e),mt(So.count(bi(e),e)+(bi(e).getUTCDay()===4),t,2)}function DB(e){return e.getUTCDay()}function kB(e,t){return mt(hh.count(bi(e)-1,e),t,2)}function PB(e,t){return mt(e.getUTCFullYear()%100,t,2)}function MB(e,t){return e=NT(e),mt(e.getUTCFullYear()%100,t,2)}function RB(e,t){return mt(e.getUTCFullYear()%1e4,t,4)}function IB(e,t){var r=e.getUTCDay();return e=r>=4||r===0?So(e):So.ceil(e),mt(e.getUTCFullYear()%1e4,t,4)}function zB(){return"+0000"}function nE(){return"%"}function aE(e){return+e}function iE(e){return Math.floor(+e/1e3)}var so,_T,ST;LB({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function LB(e){return so=LU(e),_T=so.format,so.parse,ST=so.utcFormat,so.utcParse,so}function qB(e){return new Date(e)}function $B(e){return e instanceof Date?+e:+new Date(+e)}function Kx(e,t,r,n,s,o,u,d,h,m){var p=Px(),g=p.invert,x=p.domain,b=m(".%L"),j=m(":%S"),N=m("%I:%M"),_=m("%I %p"),A=m("%a %d"),P=m("%b %d"),O=m("%B"),C=m("%Y");function D(R){return(h(R)<R?b:d(R)<R?j:u(R)<R?N:o(R)<R?_:n(R)<R?s(R)<R?A:P:r(R)<R?O:C)(R)}return p.invert=function(R){return new Date(g(R))},p.domain=function(R){return arguments.length?x(Array.from(R,$B)):x().map(qB)},p.ticks=function(R){var L=x();return e(L[0],L[L.length-1],R??10)},p.tickFormat=function(R,L){return L==null?D:m(L)},p.nice=function(R){var L=x();return(!R||typeof R.range!="function")&&(R=t(L[0],L[L.length-1],R??10)),R?x(dT(L,R)):p},p.copy=function(){return Ou(p,Kx(e,t,r,n,s,o,u,d,h,m))},p}function UB(){return da.apply(Kx(IU,zU,xi,Hx,sm,Cu,Gx,Ux,Ys,_T).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function BB(){return da.apply(Kx(MU,RU,bi,Vx,lm,im,Fx,Bx,Ys,ST).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function om(){var e=0,t=1,r,n,s,o,u=un,d=!1,h;function m(g){return g==null||isNaN(g=+g)?h:u(s===0?.5:(g=(o(g)-r)*s,d?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t]=g,r=o(e=+e),n=o(t=+t),s=r===n?0:1/(n-r),m):[e,t]},m.clamp=function(g){return arguments.length?(d=!!g,m):d},m.interpolator=function(g){return arguments.length?(u=g,m):u};function p(g){return function(x){var b,j;return arguments.length?([b,j]=x,u=g(b,j),m):[u(0),u(1)]}}return m.range=p(To),m.rangeRound=p(kx),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return o=g,r=g(e),n=g(t),s=r===n?0:1/(n-r),m}}function js(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function ET(){var e=ws(om()(un));return e.copy=function(){return js(e,ET())},Si.apply(e,arguments)}function AT(){var e=Ix(om()).domain([1,10]);return e.copy=function(){return js(e,AT()).base(e.base())},Si.apply(e,arguments)}function OT(){var e=zx(om());return e.copy=function(){return js(e,OT()).constant(e.constant())},Si.apply(e,arguments)}function Yx(){var e=Lx(om());return e.copy=function(){return js(e,Yx()).exponent(e.exponent())},Si.apply(e,arguments)}function GB(){return Yx.apply(null,arguments).exponent(.5)}function CT(){var e=[],t=un;function r(n){if(n!=null&&!isNaN(n=+n))return t((Eu(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(gs),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,o)=>O$(e,o/n))},r.copy=function(){return CT(t).domain(e)},Si.apply(r,arguments)}function cm(){var e=0,t=.5,r=1,n=1,s,o,u,d,h,m=un,p,g=!1,x;function b(N){return isNaN(N=+N)?x:(N=.5+((N=+p(N))-o)*(n*N<n*o?d:h),m(g?Math.max(0,Math.min(1,N)):N))}b.domain=function(N){return arguments.length?([e,t,r]=N,s=p(e=+e),o=p(t=+t),u=p(r=+r),d=s===o?0:.5/(o-s),h=o===u?0:.5/(u-o),n=o<s?-1:1,b):[e,t,r]},b.clamp=function(N){return arguments.length?(g=!!N,b):g},b.interpolator=function(N){return arguments.length?(m=N,b):m};function j(N){return function(_){var A,P,O;return arguments.length?([A,P,O]=_,m=tU(N,[A,P,O]),b):[m(0),m(.5),m(1)]}}return b.range=j(To),b.rangeRound=j(kx),b.unknown=function(N){return arguments.length?(x=N,b):x},function(N){return p=N,s=N(e),o=N(t),u=N(r),d=s===o?0:.5/(o-s),h=o===u?0:.5/(u-o),n=o<s?-1:1,b}}function TT(){var e=ws(cm()(un));return e.copy=function(){return js(e,TT())},Si.apply(e,arguments)}function DT(){var e=Ix(cm()).domain([.1,1,10]);return e.copy=function(){return js(e,DT()).base(e.base())},Si.apply(e,arguments)}function kT(){var e=zx(cm());return e.copy=function(){return js(e,kT()).constant(e.constant())},Si.apply(e,arguments)}function Wx(){var e=Lx(cm());return e.copy=function(){return js(e,Wx()).exponent(e.exponent())},Si.apply(e,arguments)}function FB(){return Wx.apply(null,arguments).exponent(.5)}const Hc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Cx,scaleDiverging:TT,scaleDivergingLog:DT,scaleDivergingPow:Wx,scaleDivergingSqrt:FB,scaleDivergingSymlog:kT,scaleIdentity:uT,scaleImplicit:jv,scaleLinear:cT,scaleLog:fT,scaleOrdinal:Ox,scalePoint:D$,scalePow:qx,scaleQuantile:pT,scaleQuantize:gT,scaleRadial:mT,scaleSequential:ET,scaleSequentialLog:AT,scaleSequentialPow:Yx,scaleSequentialQuantile:CT,scaleSequentialSqrt:GB,scaleSequentialSymlog:OT,scaleSqrt:_U,scaleSymlog:hT,scaleThreshold:yT,scaleTime:UB,scaleUtc:BB,tickFormat:oT},Symbol.toStringTag,{value:"Module"}));var Ns=e=>e.chartData,Xx=re([Ns],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Zx=(e,t,r,n)=>n?Xx(e):Ns(e);function vs(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(or(t)&&or(r))return!0}return!1}function sE(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function PT(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,s,o;if(or(r))s=r;else if(typeof r=="function")return;if(or(n))o=n;else if(typeof n=="function")return;var u=[s,o];if(vs(u))return u}}function HB(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(vs(n))return sE(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[s,o]=e,u,d;if(s==="auto")t!=null&&(u=Math.min(...t));else if(Ve(s))u=s;else if(typeof s=="function")try{t!=null&&(u=s(t==null?void 0:t[0]))}catch{}else if(typeof s=="string"&&MS.test(s)){var h=MS.exec(s);if(h==null||t==null)u=void 0;else{var m=+h[1];u=t[0]-m}}else u=t==null?void 0:t[0];if(o==="auto")t!=null&&(d=Math.max(...t));else if(Ve(o))d=o;else if(typeof o=="function")try{t!=null&&(d=o(t==null?void 0:t[1]))}catch{}else if(typeof o=="string"&&RS.test(o)){var p=RS.exec(o);if(p==null||t==null)d=void 0;else{var g=+p[1];d=t[1]+g}}else d=t==null?void 0:t[1];var x=[u,d];if(vs(x))return t==null?x:sE(x,t,r)}}}var Do=1e9,VB={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Jx,Yt=!0,ua="[DecimalError] ",rl=ua+"Invalid argument: ",Qx=ua+"Exponent out of range: ",ko=Math.floor,Hs=Math.pow,KB=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,$n,Ir=1e7,Ft=7,MT=9007199254740991,mh=ko(MT/Ft),ze={};ze.absoluteValue=ze.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ze.comparedTo=ze.cmp=function(e){var t,r,n,s,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===s?0:n>s^o.s<0?1:-1};ze.decimalPlaces=ze.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ft;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ze.dividedBy=ze.div=function(e){return mi(this,new this.constructor(e))};ze.dividedToIntegerBy=ze.idiv=function(e){var t=this,r=t.constructor;return Rt(mi(t,new r(e),0,1),r.precision)};ze.equals=ze.eq=function(e){return!this.cmp(e)};ze.exponent=function(){return vr(this)};ze.greaterThan=ze.gt=function(e){return this.cmp(e)>0};ze.greaterThanOrEqualTo=ze.gte=function(e){return this.cmp(e)>=0};ze.isInteger=ze.isint=function(){return this.e>this.d.length-2};ze.isNegative=ze.isneg=function(){return this.s<0};ze.isPositive=ze.ispos=function(){return this.s>0};ze.isZero=function(){return this.s===0};ze.lessThan=ze.lt=function(e){return this.cmp(e)<0};ze.lessThanOrEqualTo=ze.lte=function(e){return this.cmp(e)<1};ze.logarithm=ze.log=function(e){var t,r=this,n=r.constructor,s=n.precision,o=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq($n))throw Error(ua+"NaN");if(r.s<1)throw Error(ua+(r.s?"NaN":"-Infinity"));return r.eq($n)?new n(0):(Yt=!1,t=mi(fu(r,o),fu(e,o),o),Yt=!0,Rt(t,s))};ze.minus=ze.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?zT(t,e):RT(t,(e.s=-e.s,e))};ze.modulo=ze.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(ua+"NaN");return r.s?(Yt=!1,t=mi(r,e,0,1).times(e),Yt=!0,r.minus(t)):Rt(new n(r),s)};ze.naturalExponential=ze.exp=function(){return IT(this)};ze.naturalLogarithm=ze.ln=function(){return fu(this)};ze.negated=ze.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ze.plus=ze.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?RT(t,e):zT(t,(e.s=-e.s,e))};ze.precision=ze.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(rl+e);if(t=vr(s)+1,n=s.d.length-1,r=n*Ft+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ze.squareRoot=ze.sqrt=function(){var e,t,r,n,s,o,u,d=this,h=d.constructor;if(d.s<1){if(!d.s)return new h(0);throw Error(ua+"NaN")}for(e=vr(d),Yt=!1,s=Math.sqrt(+d),s==0||s==1/0?(t=La(d.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=ko((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new h(t)):n=new h(s.toString()),r=h.precision,s=u=r+3;;)if(o=n,n=o.plus(mi(d,o,u+2)).times(.5),La(o.d).slice(0,u)===(t=La(n.d)).slice(0,u)){if(t=t.slice(u-3,u+1),s==u&&t=="4999"){if(Rt(o,r+1,0),o.times(o).eq(d)){n=o;break}}else if(t!="9999")break;u+=4}return Yt=!0,Rt(n,r)};ze.times=ze.mul=function(e){var t,r,n,s,o,u,d,h,m,p=this,g=p.constructor,x=p.d,b=(e=new g(e)).d;if(!p.s||!e.s)return new g(0);for(e.s*=p.s,r=p.e+e.e,h=x.length,m=b.length,h<m&&(o=x,x=b,b=o,u=h,h=m,m=u),o=[],u=h+m,n=u;n--;)o.push(0);for(n=m;--n>=0;){for(t=0,s=h+n;s>n;)d=o[s]+b[n]*x[s-n-1]+t,o[s--]=d%Ir|0,t=d/Ir|0;o[s]=(o[s]+t)%Ir|0}for(;!o[--u];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,Yt?Rt(e,g.precision):e};ze.toDecimalPlaces=ze.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ga(e,0,Do),t===void 0?t=n.rounding:Ga(t,0,8),Rt(r,e+vr(r)+1,t))};ze.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=ol(n,!0):(Ga(e,0,Do),t===void 0?t=s.rounding:Ga(t,0,8),n=Rt(new s(n),e+1,t),r=ol(n,!0,e+1)),r};ze.toFixed=function(e,t){var r,n,s=this,o=s.constructor;return e===void 0?ol(s):(Ga(e,0,Do),t===void 0?t=o.rounding:Ga(t,0,8),n=Rt(new o(s),e+vr(s)+1,t),r=ol(n.abs(),!1,e+vr(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};ze.toInteger=ze.toint=function(){var e=this,t=e.constructor;return Rt(new t(e),vr(e)+1,t.rounding)};ze.toNumber=function(){return+this};ze.toPower=ze.pow=function(e){var t,r,n,s,o,u,d=this,h=d.constructor,m=12,p=+(e=new h(e));if(!e.s)return new h($n);if(d=new h(d),!d.s){if(e.s<1)throw Error(ua+"Infinity");return d}if(d.eq($n))return d;if(n=h.precision,e.eq($n))return Rt(d,n);if(t=e.e,r=e.d.length-1,u=t>=r,o=d.s,u){if((r=p<0?-p:p)<=MT){for(s=new h($n),t=Math.ceil(n/Ft+4),Yt=!1;r%2&&(s=s.times(d),oE(s.d,t)),r=ko(r/2),r!==0;)d=d.times(d),oE(d.d,t);return Yt=!0,e.s<0?new h($n).div(s):Rt(s,n)}}else if(o<0)throw Error(ua+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,d.s=1,Yt=!1,s=e.times(fu(d,n+m)),Yt=!0,s=IT(s),s.s=o,s};ze.toPrecision=function(e,t){var r,n,s=this,o=s.constructor;return e===void 0?(r=vr(s),n=ol(s,r<=o.toExpNeg||r>=o.toExpPos)):(Ga(e,1,Do),t===void 0?t=o.rounding:Ga(t,0,8),s=Rt(new o(s),e,t),r=vr(s),n=ol(s,e<=r||r<=o.toExpNeg,e)),n};ze.toSignificantDigits=ze.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ga(e,1,Do),t===void 0?t=n.rounding:Ga(t,0,8)),Rt(new n(r),e,t)};ze.toString=ze.valueOf=ze.val=ze.toJSON=ze[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=vr(e),r=e.constructor;return ol(e,t<=r.toExpNeg||t>=r.toExpPos)};function RT(e,t){var r,n,s,o,u,d,h,m,p=e.constructor,g=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),Yt?Rt(t,g):t;if(h=e.d,m=t.d,u=e.e,s=t.e,h=h.slice(),o=u-s,o){for(o<0?(n=h,o=-o,d=m.length):(n=m,s=u,d=h.length),u=Math.ceil(g/Ft),d=u>d?u+1:d+1,o>d&&(o=d,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(d=h.length,o=m.length,d-o<0&&(o=d,n=m,m=h,h=n),r=0;o;)r=(h[--o]=h[o]+m[o]+r)/Ir|0,h[o]%=Ir;for(r&&(h.unshift(r),++s),d=h.length;h[--d]==0;)h.pop();return t.d=h,t.e=s,Yt?Rt(t,g):t}function Ga(e,t,r){if(e!==~~e||e<t||e>r)throw Error(rl+e)}function La(e){var t,r,n,s=e.length-1,o="",u=e[0];if(s>0){for(o+=u,t=1;t<s;t++)n=e[t]+"",r=Ft-n.length,r&&(o+=ds(r)),o+=n;u=e[t],n=u+"",r=Ft-n.length,r&&(o+=ds(r))}else if(u===0)return"0";for(;u%10===0;)u/=10;return o+u}var mi=(function(){function e(n,s){var o,u=0,d=n.length;for(n=n.slice();d--;)o=n[d]*s+u,n[d]=o%Ir|0,u=o/Ir|0;return u&&n.unshift(u),n}function t(n,s,o,u){var d,h;if(o!=u)h=o>u?1:-1;else for(d=h=0;d<o;d++)if(n[d]!=s[d]){h=n[d]>s[d]?1:-1;break}return h}function r(n,s,o){for(var u=0;o--;)n[o]-=u,u=n[o]<s[o]?1:0,n[o]=u*Ir+n[o]-s[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,o,u){var d,h,m,p,g,x,b,j,N,_,A,P,O,C,D,R,L,H,G=n.constructor,he=n.s==s.s?1:-1,ne=n.d,k=s.d;if(!n.s)return new G(n);if(!s.s)throw Error(ua+"Division by zero");for(h=n.e-s.e,L=k.length,D=ne.length,b=new G(he),j=b.d=[],m=0;k[m]==(ne[m]||0);)++m;if(k[m]>(ne[m]||0)&&--h,o==null?P=o=G.precision:u?P=o+(vr(n)-vr(s))+1:P=o,P<0)return new G(0);if(P=P/Ft+2|0,m=0,L==1)for(p=0,k=k[0],P++;(m<D||p)&&P--;m++)O=p*Ir+(ne[m]||0),j[m]=O/k|0,p=O%k|0;else{for(p=Ir/(k[0]+1)|0,p>1&&(k=e(k,p),ne=e(ne,p),L=k.length,D=ne.length),C=L,N=ne.slice(0,L),_=N.length;_<L;)N[_++]=0;H=k.slice(),H.unshift(0),R=k[0],k[1]>=Ir/2&&++R;do p=0,d=t(k,N,L,_),d<0?(A=N[0],L!=_&&(A=A*Ir+(N[1]||0)),p=A/R|0,p>1?(p>=Ir&&(p=Ir-1),g=e(k,p),x=g.length,_=N.length,d=t(g,N,x,_),d==1&&(p--,r(g,L<x?H:k,x))):(p==0&&(d=p=1),g=k.slice()),x=g.length,x<_&&g.unshift(0),r(N,g,_),d==-1&&(_=N.length,d=t(k,N,L,_),d<1&&(p++,r(N,L<_?H:k,_))),_=N.length):d===0&&(p++,N=[0]),j[m++]=p,d&&N[0]?N[_++]=ne[C]||0:(N=[ne[C]],_=1);while((C++<D||N[0]!==void 0)&&P--)}return j[0]||j.shift(),b.e=h,Rt(b,u?o+vr(b)+1:o)}})();function IT(e,t){var r,n,s,o,u,d,h=0,m=0,p=e.constructor,g=p.precision;if(vr(e)>16)throw Error(Qx+vr(e));if(!e.s)return new p($n);for(Yt=!1,d=g,u=new p(.03125);e.abs().gte(.1);)e=e.times(u),m+=5;for(n=Math.log(Hs(2,m))/Math.LN10*2+5|0,d+=n,r=s=o=new p($n),p.precision=d;;){if(s=Rt(s.times(e),d),r=r.times(++h),u=o.plus(mi(s,r,d)),La(u.d).slice(0,d)===La(o.d).slice(0,d)){for(;m--;)o=Rt(o.times(o),d);return p.precision=g,t==null?(Yt=!0,Rt(o,g)):o}o=u}}function vr(e){for(var t=e.e*Ft,r=e.d[0];r>=10;r/=10)t++;return t}function hy(e,t,r){if(t>e.LN10.sd())throw Yt=!0,r&&(e.precision=r),Error(ua+"LN10 precision limit exceeded");return Rt(new e(e.LN10),t)}function ds(e){for(var t="";e--;)t+="0";return t}function fu(e,t){var r,n,s,o,u,d,h,m,p,g=1,x=10,b=e,j=b.d,N=b.constructor,_=N.precision;if(b.s<1)throw Error(ua+(b.s?"NaN":"-Infinity"));if(b.eq($n))return new N(0);if(t==null?(Yt=!1,m=_):m=t,b.eq(10))return t==null&&(Yt=!0),hy(N,m);if(m+=x,N.precision=m,r=La(j),n=r.charAt(0),o=vr(b),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)b=b.times(e),r=La(b.d),n=r.charAt(0),g++;o=vr(b),n>1?(b=new N("0."+r),o++):b=new N(n+"."+r.slice(1))}else return h=hy(N,m+2,_).times(o+""),b=fu(new N(n+"."+r.slice(1)),m-x).plus(h),N.precision=_,t==null?(Yt=!0,Rt(b,_)):b;for(d=u=b=mi(b.minus($n),b.plus($n),m),p=Rt(b.times(b),m),s=3;;){if(u=Rt(u.times(p),m),h=d.plus(mi(u,new N(s),m)),La(h.d).slice(0,m)===La(d.d).slice(0,m))return d=d.times(2),o!==0&&(d=d.plus(hy(N,m+2,_).times(o+""))),d=mi(d,new N(g),m),N.precision=_,t==null?(Yt=!0,Rt(d,_)):d;d=h,s+=2}}function lE(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=ko(r/Ft),e.d=[],n=(r+1)%Ft,r<0&&(n+=Ft),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=Ft;n<s;)e.d.push(+t.slice(n,n+=Ft));t=t.slice(n),n=Ft-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),Yt&&(e.e>mh||e.e<-mh))throw Error(Qx+r)}else e.s=0,e.e=0,e.d=[0];return e}function Rt(e,t,r){var n,s,o,u,d,h,m,p,g=e.d;for(u=1,o=g[0];o>=10;o/=10)u++;if(n=t-u,n<0)n+=Ft,s=t,m=g[p=0];else{if(p=Math.ceil((n+1)/Ft),o=g.length,p>=o)return e;for(m=o=g[p],u=1;o>=10;o/=10)u++;n%=Ft,s=n-Ft+u}if(r!==void 0&&(o=Hs(10,u-s-1),d=m/o%10|0,h=t<0||g[p+1]!==void 0||m%o,h=r<4?(d||h)&&(r==0||r==(e.s<0?3:2)):d>5||d==5&&(r==4||h||r==6&&(n>0?s>0?m/Hs(10,u-s):0:g[p-1])%10&1||r==(e.s<0?8:7))),t<1||!g[0])return h?(o=vr(e),g.length=1,t=t-o-1,g[0]=Hs(10,(Ft-t%Ft)%Ft),e.e=ko(-t/Ft)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(n==0?(g.length=p,o=1,p--):(g.length=p+1,o=Hs(10,Ft-n),g[p]=s>0?(m/Hs(10,u-s)%Hs(10,s)|0)*o:0),h)for(;;)if(p==0){(g[0]+=o)==Ir&&(g[0]=1,++e.e);break}else{if(g[p]+=o,g[p]!=Ir)break;g[p--]=0,o=1}for(n=g.length;g[--n]===0;)g.pop();if(Yt&&(e.e>mh||e.e<-mh))throw Error(Qx+vr(e));return e}function zT(e,t){var r,n,s,o,u,d,h,m,p,g,x=e.constructor,b=x.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new x(e),Yt?Rt(t,b):t;if(h=e.d,g=t.d,n=t.e,m=e.e,h=h.slice(),u=m-n,u){for(p=u<0,p?(r=h,u=-u,d=g.length):(r=g,n=m,d=h.length),s=Math.max(Math.ceil(b/Ft),d)+2,u>s&&(u=s,r.length=1),r.reverse(),s=u;s--;)r.push(0);r.reverse()}else{for(s=h.length,d=g.length,p=s<d,p&&(d=s),s=0;s<d;s++)if(h[s]!=g[s]){p=h[s]<g[s];break}u=0}for(p&&(r=h,h=g,g=r,t.s=-t.s),d=h.length,s=g.length-d;s>0;--s)h[d++]=0;for(s=g.length;s>u;){if(h[--s]<g[s]){for(o=s;o&&h[--o]===0;)h[o]=Ir-1;--h[o],h[s]+=Ir}h[s]-=g[s]}for(;h[--d]===0;)h.pop();for(;h[0]===0;h.shift())--n;return h[0]?(t.d=h,t.e=n,Yt?Rt(t,b):t):new x(0)}function ol(e,t,r){var n,s=vr(e),o=La(e.d),u=o.length;return t?(r&&(n=r-u)>0?o=o.charAt(0)+"."+o.slice(1)+ds(n):u>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(s<0?"e":"e+")+s):s<0?(o="0."+ds(-s-1)+o,r&&(n=r-u)>0&&(o+=ds(n))):s>=u?(o+=ds(s+1-u),r&&(n=r-s-1)>0&&(o=o+"."+ds(n))):((n=s+1)<u&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-u)>0&&(s+1===u&&(o+="."),o+=ds(n))),e.s<0?"-"+o:o}function oE(e,t){if(e.length>t)return e.length=t,!0}function LT(e){var t,r,n;function s(o){var u=this;if(!(u instanceof s))return new s(o);if(u.constructor=s,o instanceof s){u.s=o.s,u.e=o.e,u.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(rl+o);if(o>0)u.s=1;else if(o<0)o=-o,u.s=-1;else{u.s=0,u.e=0,u.d=[0];return}if(o===~~o&&o<1e7){u.e=0,u.d=[o];return}return lE(u,o.toString())}else if(typeof o!="string")throw Error(rl+o);if(o.charCodeAt(0)===45?(o=o.slice(1),u.s=-1):u.s=1,KB.test(o))lE(u,o);else throw Error(rl+o)}if(s.prototype=ze,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=LT,s.config=s.set=YB,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function YB(e){if(!e||typeof e!="object")throw Error(ua+"Object expected");var t,r,n,s=["precision",1,Do,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(ko(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(rl+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(rl+r+": "+n);return this}var Jx=LT(VB);$n=new Jx(1);const _t=Jx;var WB=e=>e,qT={},$T=e=>e===qT,cE=e=>function t(){return arguments.length===0||arguments.length===1&&$T(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},UT=(e,t)=>e===1?t:cE(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];var o=n.filter(u=>u!==qT).length;return o>=e?t(...n):UT(e-o,cE(function(){for(var u=arguments.length,d=new Array(u),h=0;h<u;h++)d[h]=arguments[h];var m=n.map(p=>$T(p)?d.shift():p);return t(...m,...d)}))}),XB=e=>UT(e.length,e),Ev=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},ZB=XB((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),QB=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return WB;var s=r.reverse(),o=s[0],u=s.slice(1);return function(){return u.reduce((d,h)=>h(d),o(...arguments))}},Av=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function BT(e){var t;return e===0?t=1:t=Math.floor(new _t(e).abs().log(10).toNumber())+1,t}function GT(e,t,r){for(var n=new _t(e),s=0,o=[];n.lt(t)&&s<1e5;)o.push(n.toNumber()),n=n.add(r),s++;return o}var FT=e=>{var[t,r]=e,[n,s]=[t,r];return t>r&&([n,s]=[r,t]),[n,s]},HT=(e,t,r)=>{if(e.lte(0))return new _t(0);var n=BT(e.toNumber()),s=new _t(10).pow(n),o=e.div(s),u=n!==1?.05:.1,d=new _t(Math.ceil(o.div(u).toNumber())).add(r).mul(u),h=d.mul(s);return t?new _t(h.toNumber()):new _t(Math.ceil(h.toNumber()))},JB=(e,t,r)=>{var n=new _t(1),s=new _t(e);if(!s.isint()&&r){var o=Math.abs(e);o<1?(n=new _t(10).pow(BT(e)-1),s=new _t(Math.floor(s.div(n).toNumber())).mul(n)):o>1&&(s=new _t(Math.floor(e)))}else e===0?s=new _t(Math.floor((t-1)/2)):r||(s=new _t(Math.floor(e)));var u=Math.floor((t-1)/2),d=QB(ZB(h=>s.add(new _t(h-u).mul(n)).toNumber()),Ev);return d(0,t)},VT=function(t,r,n,s){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new _t(0),tickMin:new _t(0),tickMax:new _t(0)};var u=HT(new _t(r).sub(t).div(n-1),s,o),d;t<=0&&r>=0?d=new _t(0):(d=new _t(t).add(r).div(2),d=d.sub(new _t(d).mod(u)));var h=Math.ceil(d.sub(t).div(u).toNumber()),m=Math.ceil(new _t(r).sub(d).div(u).toNumber()),p=h+m+1;return p>n?VT(t,r,n,s,o+1):(p<n&&(m=r>0?m+(n-p):m,h=r>0?h:h+(n-p)),{step:u,tickMin:d.sub(new _t(h).mul(u)),tickMax:d.add(new _t(m).mul(u))})},e7=function(t){var[r,n]=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,u=Math.max(s,2),[d,h]=FT([r,n]);if(d===-1/0||h===1/0){var m=h===1/0?[d,...Ev(0,s-1).map(()=>1/0)]:[...Ev(0,s-1).map(()=>-1/0),h];return r>n?Av(m):m}if(d===h)return JB(d,s,o);var{step:p,tickMin:g,tickMax:x}=VT(d,h,u,o,0),b=GT(g,x.add(new _t(.1).mul(p)),p);return r>n?Av(b):b},t7=function(t,r){var[n,s]=t,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[u,d]=FT([n,s]);if(u===-1/0||d===1/0)return[n,s];if(u===d)return[u];var h=Math.max(r,2),m=HT(new _t(d).sub(u).div(h-1),o,0),p=[...GT(new _t(u),new _t(d),m),d];return o===!1&&(p=p.map(g=>Math.round(g))),n>s?Av(p):p},KT=e=>e.rootProps.maxBarSize,r7=e=>e.rootProps.barGap,YT=e=>e.rootProps.barCategoryGap,n7=e=>e.rootProps.barSize,Tu=e=>e.rootProps.stackOffset,WT=e=>e.rootProps.reverseStackOrder,eb=e=>e.options.chartName,tb=e=>e.rootProps.syncId,XT=e=>e.rootProps.syncMethod,rb=e=>e.options.eventEmitter,Kr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ci={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},qn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},um=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},a7={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ci.angleAxisId,includeHidden:!1,name:void 0,reversed:ci.reversed,scale:ci.scale,tick:ci.tick,tickCount:void 0,ticks:void 0,type:ci.type,unit:void 0},i7={allowDataOverflow:qn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:qn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:qn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:qn.scale,tick:qn.tick,tickCount:qn.tickCount,ticks:void 0,type:qn.type,unit:void 0},s7={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ci.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ci.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ci.scale,tick:ci.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},l7={allowDataOverflow:qn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:qn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:qn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:qn.scale,tick:qn.tick,tickCount:qn.tickCount,ticks:void 0,type:"category",unit:void 0},nb=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?s7:a7,ab=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?l7:i7,dm=e=>e.polarOptions,ib=re([Ni,_i,_r],YC),ZT=re([dm,ib],(e,t)=>{if(e!=null)return nn(e.innerRadius,t,0)}),QT=re([dm,ib],(e,t)=>{if(e!=null)return nn(e.outerRadius,t,t*.8)}),o7=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},JT=re([dm],o7);re([nb,JT],um);var eD=re([ib,ZT,QT],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});re([ab,eD],um);var tD=re([pt,dm,ZT,QT,Ni,_i],(e,t,r,n,s,o)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:u,cy:d,startAngle:h,endAngle:m}=t;return{cx:nn(u,s,s/2),cy:nn(d,o,o/2),innerRadius:r,outerRadius:n,startAngle:h,endAngle:m,clockWise:!1}}}),Wt=(e,t)=>t,Du=(e,t,r)=>r;function sb(e){return e==null?void 0:e.id}function rD(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:s,dataKey:o}=r,u=new Map;return e.forEach(d=>{var h,m=(h=d.data)!==null&&h!==void 0?h:n;if(!(m==null||m.length===0)){var p=sb(d);m.forEach((g,x)=>{var b=o==null||s?x:String(Kt(g,o,null)),j=Kt(g,d.dataKey,0),N;u.has(b)?N=u.get(b):N={},Object.assign(N,{[p]:j}),u.set(b,N)})}}),Array.from(u.values())}function fm(e){return e.stackId!=null&&e.dataKey!=null}var hm=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function mm(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function c7(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var Er=e=>{var t=pt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Po=e=>e.tooltip.settings.axisId;function uE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ph(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uE(Object(r),!0).forEach(function(n){u7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function u7(e,t,r){return(t=d7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d7(e){var t=f7(e,"string");return typeof t=="symbol"?t:t+""}function f7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ov=[0,"auto"],Pr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},nD=(e,t)=>e.cartesianAxis.xAxis[t],Ei=(e,t)=>{var r=nD(e,t);return r??Pr},Mr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Ov,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:_u},aD=(e,t)=>e.cartesianAxis.yAxis[t],Ai=(e,t)=>{var r=aD(e,t);return r??Mr},h7={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},lb=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??h7},Qt=(e,t,r)=>{switch(t){case"xAxis":return Ei(e,r);case"yAxis":return Ai(e,r);case"zAxis":return lb(e,r);case"angleAxis":return nb(e,r);case"radiusAxis":return ab(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},m7=(e,t,r)=>{switch(t){case"xAxis":return Ei(e,r);case"yAxis":return Ai(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},ku=(e,t,r)=>{switch(t){case"xAxis":return Ei(e,r);case"yAxis":return Ai(e,r);case"angleAxis":return nb(e,r);case"radiusAxis":return ab(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},iD=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function ob(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var cb=e=>e.graphicalItems.cartesianItems,p7=re([Wt,Du],ob),ub=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Pu=re([cb,Qt,p7],ub,{memoizeOptions:{resultEqualityCheck:mm}}),sD=re([Pu],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(fm)),lD=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),g7=re([Pu],lD),db=e=>e.map(t=>t.data).filter(Boolean).flat(1),y7=re([Pu],db,{memoizeOptions:{resultEqualityCheck:mm}}),fb=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:s}=t;return e.length>0?e:r.slice(n,s+1)},hb=re([y7,Zx],fb),mb=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Kt(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(s=>({value:Kt(s,n)}))):e.map(n=>({value:n})),pm=re([hb,Qt,Pu],mb);function oD(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Tf(e){if($a(e)||e instanceof Date){var t=Number(e);if(or(t))return t}}function dE(e){if(Array.isArray(e)){var t=[Tf(e[0]),Tf(e[1])];return vs(t)?t:void 0}var r=Tf(e);if(r!=null)return[r,r]}function wi(e){return e.map(Tf).filter(dI)}function v7(e,t,r){return!r||typeof t!="number"||Sa(t)?[]:r.length?wi(r.flatMap(n=>{var s=Kt(e,n.dataKey),o,u;if(Array.isArray(s)?[o,u]=s:o=u=s,!(!or(o)||!or(u)))return[t-o,t+u]})):[]}var Ar=e=>{var t=Er(e),r=Po(e);return ku(e,t,r)},Mu=re([Ar],e=>e==null?void 0:e.dataKey),x7=re([sD,Zx,Ar],rD),cD=(e,t,r,n)=>{var s={},o=t.reduce((u,d)=>(d.stackId==null||(u[d.stackId]==null&&(u[d.stackId]=[]),u[d.stackId].push(d)),u),s);return Object.fromEntries(Object.entries(o).map(u=>{var[d,h]=u,m=n?[...h].reverse():h,p=m.map(sb);return[d,{stackedData:qL(e,p,r),graphicalItems:m}]}))},Cv=re([x7,sD,Tu,WT],cD),uD=(e,t,r,n)=>{var{dataStartIndex:s,dataEndIndex:o}=t;if(n==null&&r!=="zAxis"){var u=FL(e,s,o);if(!(u!=null&&u[0]===0&&u[1]===0))return u}},b7=re([Qt],e=>e.allowDataOverflow),pb=e=>{var t;if(e==null||!("domain"in e))return Ov;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=wi(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Ov},gb=re([Qt],pb),yb=re([gb,b7],PT),w7=re([Cv,Ns,Wt,yb],uD,{memoizeOptions:{resultEqualityCheck:hm}}),gm=e=>e.errorBars,j7=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>oD(r,n)),gh=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r.filter(Boolean);if(s.length!==0){var o=s.flat(),u=Math.min(...o),d=Math.max(...o);return[u,d]}},vb=(e,t,r,n,s)=>{var o,u;if(r.length>0&&e.forEach(d=>{r.forEach(h=>{var m,p,g=(m=n[h.id])===null||m===void 0?void 0:m.filter(A=>oD(s,A)),x=Kt(d,(p=t.dataKey)!==null&&p!==void 0?p:h.dataKey),b=v7(d,x,g);if(b.length>=2){var j=Math.min(...b),N=Math.max(...b);(o==null||j<o)&&(o=j),(u==null||N>u)&&(u=N)}var _=dE(x);_!=null&&(o=o==null?_[0]:Math.min(o,_[0]),u=u==null?_[1]:Math.max(u,_[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(d=>{var h=dE(Kt(d,t.dataKey));h!=null&&(o=o==null?h[0]:Math.min(o,h[0]),u=u==null?h[1]:Math.max(u,h[1]))}),or(o)&&or(u))return[o,u]},N7=re([hb,Qt,g7,gm,Wt],vb,{memoizeOptions:{resultEqualityCheck:hm}});function _7(e){var{value:t}=e;if($a(t)||t instanceof Date)return t}var S7=(e,t,r)=>{var n=e.map(_7).filter(s=>s!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&AO(n))?QC(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},dD=e=>e.referenceElements.dots,Mo=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),E7=re([dD,Wt,Du],Mo),fD=e=>e.referenceElements.areas,A7=re([fD,Wt,Du],Mo),hD=e=>e.referenceElements.lines,O7=re([hD,Wt,Du],Mo),mD=(e,t)=>{var r=wi(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},C7=re(E7,Wt,mD),pD=(e,t)=>{var r=wi(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},T7=re([A7,Wt],pD);function D7(e){var t;if(e.x!=null)return wi([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:wi(r)}function k7(e){var t;if(e.y!=null)return wi([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:wi(r)}var gD=(e,t)=>{var r=e.flatMap(n=>t==="xAxis"?D7(n):k7(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},P7=re([O7,Wt],gD),M7=re(C7,P7,T7,(e,t,r)=>gh(e,r,t)),xb=(e,t,r,n,s,o,u,d)=>{if(r!=null)return r;var h=u==="vertical"&&d==="xAxis"||u==="horizontal"&&d==="yAxis",m=h?gh(n,o,s):gh(o,s);return HB(t,m,e.allowDataOverflow)},R7=re([Qt,gb,yb,w7,N7,M7,pt,Wt],xb,{memoizeOptions:{resultEqualityCheck:hm}}),I7=[0,1],bb=(e,t,r,n,s,o,u)=>{if(!((e==null||r==null||r.length===0)&&u===void 0)){var{dataKey:d,type:h}=e,m=ml(t,o);if(m&&d==null){var p;return QC(0,(p=r==null?void 0:r.length)!==null&&p!==void 0?p:0)}return h==="category"?S7(n,e,m):s==="expand"?I7:u}},wb=re([Qt,pt,hb,pm,Tu,Wt,R7],bb),yD=(e,t,r,n,s)=>{if(e!=null){var{scale:o,type:u}=e;if(o==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":u==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":u==="category"?"band":"linear";if(typeof o=="string"){var d="scale".concat(vu(o));return d in Hc?d:"point"}}},Ro=re([Qt,pt,iD,eb,Wt],yD);function z7(e){if(e!=null){if(e in Hc)return Hc[e]();var t="scale".concat(vu(e));if(t in Hc)return Hc[t]()}}function jb(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var s=z7(t);if(s!=null){var o=s.domain(r).range(n);return ML(o),o}}}var Nb=(e,t,r)=>{var n=pb(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&vs(e))return e7(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&vs(e))return t7(e,t.tickCount,t.allowDecimals)}},_b=re([wb,ku,Ro],Nb),Sb=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&vs(t)&&Array.isArray(r)&&r.length>0){var s=t[0],o=r[0],u=t[1],d=r[r.length-1];return[Math.min(s,o),Math.max(u,d)]}return t},L7=re([Qt,wb,_b,Wt],Sb),q7=re(pm,Qt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(wi(e.map(d=>d.value))).sort((d,h)=>d-h);if(n.length<2)return 1/0;var s=n[n.length-1]-n[0];if(s===0)return 1/0;for(var o=0;o<n.length-1;o++){var u=n[o+1]-n[o];r=Math.min(r,u)}return r/s}}),vD=re(q7,pt,YT,_r,(e,t,r,n)=>n,(e,t,r,n,s)=>{if(!or(e))return 0;var o=t==="vertical"?n.height:n.width;if(s==="gap")return e*o/2;if(s==="no-gap"){var u=nn(r,e*o),d=e*o/2;return d-u-(d-u)/o*u}return 0}),$7=(e,t)=>{var r=Ei(e,t);return r==null||typeof r.padding!="string"?0:vD(e,"xAxis",t,r.padding)},U7=(e,t)=>{var r=Ai(e,t);return r==null||typeof r.padding!="string"?0:vD(e,"yAxis",t,r.padding)},B7=re(Ei,$7,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((r=s.left)!==null&&r!==void 0?r:0)+t,right:((n=s.right)!==null&&n!==void 0?n:0)+t}}),G7=re(Ai,U7,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((r=s.top)!==null&&r!==void 0?r:0)+t,bottom:((n=s.bottom)!==null&&n!==void 0?n:0)+t}}),F7=re([_r,B7,Wh,Yh,(e,t,r)=>r],(e,t,r,n,s)=>{var{padding:o}=n;return s?[o.left,r.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),H7=re([_r,pt,G7,Wh,Yh,(e,t,r)=>r],(e,t,r,n,s,o)=>{var{padding:u}=s;return o?[n.height-u.bottom,u.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Ru=(e,t,r,n)=>{var s;switch(t){case"xAxis":return F7(e,r,n);case"yAxis":return H7(e,r,n);case"zAxis":return(s=lb(e,r))===null||s===void 0?void 0:s.range;case"angleAxis":return JT(e);case"radiusAxis":return eD(e,r);default:return}},xD=re([Qt,Ru],um),Io=re([Qt,Ro,L7,xD],jb);re([Pu,gm,Wt],j7);function bD(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var ym=(e,t)=>t,vm=(e,t,r)=>r,V7=re(Vh,ym,vm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(bD)),K7=re(Kh,ym,vm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(bD)),wD=(e,t)=>({width:e.width,height:t.height}),Y7=(e,t)=>{var r=typeof t.width=="number"?t.width:_u;return{width:r,height:e.height}},jD=re(_r,Ei,wD),W7=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},X7=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},Z7=re(_i,_r,V7,ym,vm,(e,t,r,n,s)=>{var o={},u;return r.forEach(d=>{var h=wD(t,d);u==null&&(u=W7(t,n,e));var m=n==="top"&&!s||n==="bottom"&&s;o[d.id]=u-Number(m)*h.height,u+=(m?-1:1)*h.height}),o}),Q7=re(Ni,_r,K7,ym,vm,(e,t,r,n,s)=>{var o={},u;return r.forEach(d=>{var h=Y7(t,d);u==null&&(u=X7(t,n,e));var m=n==="left"&&!s||n==="right"&&s;o[d.id]=u-Number(m)*h.width,u+=(m?-1:1)*h.width}),o}),J7=(e,t)=>{var r=Ei(e,t);if(r!=null)return Z7(e,r.orientation,r.mirror)},e9=re([_r,Ei,J7,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var s=r==null?void 0:r[n];return s==null?{x:e.left,y:0}:{x:e.left,y:s}}}),t9=(e,t)=>{var r=Ai(e,t);if(r!=null)return Q7(e,r.orientation,r.mirror)},r9=re([_r,Ai,t9,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var s=r==null?void 0:r[n];return s==null?{x:0,y:e.top}:{x:s,y:e.top}}}),ND=re(_r,Ai,(e,t)=>{var r=typeof t.width=="number"?t.width:_u;return{width:r,height:e.height}}),fE=(e,t,r)=>{switch(t){case"xAxis":return jD(e,r).width;case"yAxis":return ND(e,r).height;default:return}},_D=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:s,type:o,dataKey:u}=r,d=ml(e,n),h=t.map(m=>m.value);if(u&&d&&o==="category"&&s&&AO(h))return h}},Eb=re([pt,pm,Qt,Wt],_D),SD=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:s,scale:o}=r,u=ml(e,n);if(u&&(s==="number"||o!=="auto"))return t.map(d=>d.value)}},Ab=re([pt,pm,ku,Wt],SD),hE=re([pt,m7,Ro,Io,Eb,Ab,Ru,_b,Wt],(e,t,r,n,s,o,u,d,h)=>{if(t!=null){var m=ml(e,h);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:h,categoricalDomain:o,duplicateDomain:s,isCategorical:m,niceTicks:d,range:u,realScaleType:r,scale:n}}}),n9=(e,t,r,n,s,o,u,d,h)=>{if(!(t==null||n==null)){var m=ml(e,h),{type:p,ticks:g,tickCount:x}=t,b=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,j=p==="category"&&n.bandwidth?n.bandwidth()/b:0;j=h==="angleAxis"&&o!=null&&o.length>=2?zr(o[0]-o[1])*2*j:j;var N=g||s;if(N){var _=N.map((A,P)=>{var O=u?u.indexOf(A):A;return{index:P,coordinate:n(O)+j,value:A,offset:j}});return _.filter(A=>or(A.coordinate))}return m&&d?d.map((A,P)=>({coordinate:n(A)+j,value:A,index:P,offset:j})).filter(A=>or(A.coordinate)):n.ticks?n.ticks(x).map(A=>({coordinate:n(A)+j,value:A,offset:j})):n.domain().map((A,P)=>({coordinate:n(A)+j,value:u?u[A]:A,index:P,offset:j}))}},ED=re([pt,ku,Ro,Io,_b,Ru,Eb,Ab,Wt],n9),a9=(e,t,r,n,s,o,u)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var d=ml(e,u),{tickCount:h}=t,m=0;return m=u==="angleAxis"&&(n==null?void 0:n.length)>=2?zr(n[0]-n[1])*2*m:m,d&&o?o.map((p,g)=>({coordinate:r(p)+m,value:p,index:g,offset:m})):r.ticks?r.ticks(h).map(p=>({coordinate:r(p)+m,value:p,offset:m})):r.domain().map((p,g)=>({coordinate:r(p)+m,value:s?s[p]:p,index:g,offset:m}))}},Eo=re([pt,ku,Io,Ru,Eb,Ab,Wt],a9),Ao=re(Qt,Io,(e,t)=>{if(!(e==null||t==null))return ph(ph({},e),{},{scale:t})}),i9=re([Qt,Ro,wb,xD],jb);re((e,t,r)=>lb(e,r),i9,(e,t)=>{if(!(e==null||t==null))return ph(ph({},e),{},{scale:t})});var s9=re([pt,Vh,Kh],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),AD=e=>e.options.defaultTooltipEventType,OD=e=>e.options.validateTooltipEventTypes;function CD(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Ob(e,t){var r=AD(e),n=OD(e);return CD(t,r,n)}function l9(e){return Fe(t=>Ob(t,e))}var TD=(e,t)=>{var r,n=Number(t);if(!(Sa(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},o9=e=>e.tooltip.settings,ms={active:!1,index:null,dataKey:void 0,coordinate:void 0},c9={itemInteraction:{click:ms,hover:ms},axisInteraction:{click:ms,hover:ms},keyboardInteraction:ms,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},DD=An({name:"tooltip",initialState:c9,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Vt()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,s=Na(e).tooltipItemPayloads.indexOf(r);s>-1&&(e.tooltipItemPayloads[s]=n)},prepare:Vt()},removeTooltipEntrySettings:{reducer(e,t){var r=Na(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Vt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:u9,replaceTooltipEntrySettings:d9,removeTooltipEntrySettings:f9,setTooltipSettingsState:h9,setActiveMouseOverItemIndex:kD,mouseLeaveItem:m9,mouseLeaveChart:PD,setActiveClickItemIndex:p9,setMouseOverAxisIndex:MD,setMouseClickAxisIndex:g9,setSyncInteraction:Tv,setKeyboardInteraction:Dv}=DD.actions,y9=DD.reducer;function mE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function jf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mE(Object(r),!0).forEach(function(n){v9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function v9(e,t,r){return(t=x9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x9(e){var t=b9(e,"string");return typeof t=="symbol"?t:t+""}function b9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function w9(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function j9(e){return e.index!=null}var RD=(e,t,r,n)=>{if(t==null)return ms;var s=w9(e,t,r);if(s==null)return ms;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var o=e.settings.active===!0;if(j9(s)){if(o)return jf(jf({},s),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return jf(jf({},ms),{},{coordinate:s.coordinate})};function N9(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function _9(e,t){var r=N9(e),n=t[0],s=t[1];if(r===void 0)return!1;var o=Math.min(n,s),u=Math.max(n,s);return r>=o&&r<=u}function S9(e,t,r){if(r==null||t==null)return!0;var n=Kt(e,t);return n==null||!vs(r)?!0:_9(n,r)}var Cb=(e,t,r,n)=>{var s=e==null?void 0:e.index;if(s==null)return null;var o=Number(s);if(!or(o))return s;var u=0,d=1/0;t.length>0&&(d=t.length-1);var h=Math.max(u,Math.min(o,d)),m=t[h];return m==null||S9(m,r,n)?String(h):null},ID=(e,t,r,n,s,o,u,d)=>{if(!(o==null||d==null)){var h=u[0],m=h==null?void 0:d(h.positions,o);if(m!=null)return m;var p=s==null?void 0:s[Number(o)];if(p)switch(r){case"horizontal":return{x:p.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:p.coordinate}}}},zD=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return r==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(o=>{var u;return((u=o.settings)===null||u===void 0?void 0:u.dataKey)===s})},Iu=e=>e.options.tooltipPayloadSearcher,zo=e=>e.tooltip;function pE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function gE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pE(Object(r),!0).forEach(function(n){E9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function E9(e,t,r){return(t=A9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A9(e){var t=O9(e,"string");return typeof t=="symbol"?t:t+""}function O9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function C9(e,t){return e??t}var LD=(e,t,r,n,s,o,u)=>{if(!(t==null||o==null)){var{chartData:d,computedData:h,dataStartIndex:m,dataEndIndex:p}=r,g=[];return e.reduce((x,b)=>{var j,{dataDefinedOnItem:N,settings:_}=b,A=C9(N,d),P=Array.isArray(A)?bC(A,m,p):A,O=(j=_==null?void 0:_.dataKey)!==null&&j!==void 0?j:n,C=_==null?void 0:_.nameKey,D;if(n&&Array.isArray(P)&&!Array.isArray(P[0])&&u==="axis"?D=uI(P,n,s):D=o(P,t,h,C),Array.isArray(D))D.forEach(L=>{var H=gE(gE({},_),{},{name:L.name,unit:L.unit,color:void 0,fill:void 0});x.push(IS({tooltipEntrySettings:H,dataKey:L.dataKey,payload:L.payload,value:Kt(L.payload,L.dataKey),name:L.name}))});else{var R;x.push(IS({tooltipEntrySettings:_,dataKey:O,payload:D,value:Kt(D,O),name:(R=Kt(D,C))!==null&&R!==void 0?R:_==null?void 0:_.name}))}return x},g)}},Tb=re([Ar,pt,iD,eb,Er],yD),T9=re([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),D9=re([Er,Po],ob),zu=re([T9,Ar,D9],ub,{memoizeOptions:{resultEqualityCheck:mm}}),k9=re([zu],e=>e.filter(fm)),P9=re([zu],db,{memoizeOptions:{resultEqualityCheck:mm}}),Lo=re([P9,Ns],fb),M9=re([k9,Ns,Ar],rD),Db=re([Lo,Ar,zu],mb),qD=re([Ar],pb),R9=re([Ar],e=>e.allowDataOverflow),$D=re([qD,R9],PT),I9=re([zu],e=>e.filter(fm)),z9=re([M9,I9,Tu,WT],cD),L9=re([z9,Ns,Er,$D],uD),q9=re([zu],lD),$9=re([Lo,Ar,q9,gm,Er],vb,{memoizeOptions:{resultEqualityCheck:hm}}),U9=re([dD,Er,Po],Mo),B9=re([U9,Er],mD),G9=re([fD,Er,Po],Mo),F9=re([G9,Er],pD),H9=re([hD,Er,Po],Mo),V9=re([H9,Er],gD),K9=re([B9,V9,F9],gh),Y9=re([Ar,qD,$D,L9,$9,K9,pt,Er],xb),Lu=re([Ar,pt,Lo,Db,Tu,Er,Y9],bb),W9=re([Lu,Ar,Tb],Nb),X9=re([Ar,Lu,W9,Er],Sb),UD=e=>{var t=Er(e),r=Po(e),n=!1;return Ru(e,t,r,n)},BD=re([Ar,UD],um),GD=re([Ar,Tb,X9,BD],jb),Z9=re([pt,Db,Ar,Er],_D),Q9=re([pt,Db,Ar,Er],SD),J9=(e,t,r,n,s,o,u,d)=>{if(t){var{type:h}=t,m=ml(e,d);if(n){var p=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,g=h==="category"&&n.bandwidth?n.bandwidth()/p:0;return g=d==="angleAxis"&&s!=null&&(s==null?void 0:s.length)>=2?zr(s[0]-s[1])*2*g:g,m&&u?u.map((x,b)=>({coordinate:n(x)+g,value:x,index:b,offset:g})):n.domain().map((x,b)=>({coordinate:n(x)+g,value:o?o[x]:x,index:b,offset:g}))}}},Oi=re([pt,Ar,Tb,GD,UD,Z9,Q9,Er],J9),kb=re([AD,OD,o9],(e,t,r)=>CD(r.shared,e,t)),FD=e=>e.tooltip.settings.trigger,Pb=e=>e.tooltip.settings.defaultIndex,xm=re([zo,kb,FD,Pb],RD),cl=re([xm,Lo,Mu,Lu],Cb),HD=re([Oi,cl],TD),VD=re([xm],e=>{if(e)return e.dataKey}),KD=re([zo,kb,FD,Pb],zD),eG=re([Ni,_i,pt,_r,Oi,Pb,KD,Iu],ID),tG=re([xm,eG],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),rG=re([xm],e=>e.active),nG=re([KD,cl,Ns,Mu,HD,Iu,kb],LD);re([nG],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function yE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function vE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yE(Object(r),!0).forEach(function(n){aG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aG(e,t,r){return(t=iG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iG(e){var t=sG(e,"string");return typeof t=="symbol"?t:t+""}function sG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lG=()=>Fe(Ar),oG=()=>{var e=lG(),t=Fe(Oi),r=Fe(GD);return Wf(!e||!r?void 0:vE(vE({},e),{},{scale:r}),t)};function xE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function lo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xE(Object(r),!0).forEach(function(n){cG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cG(e,t,r){return(t=uG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uG(e){var t=dG(e,"string");return typeof t=="symbol"?t:t+""}function dG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fG=(e,t,r,n)=>{var s=t.find(o=>o&&o.index===r);if(s){if(e==="horizontal")return{x:s.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:s.coordinate}}return{x:0,y:0}},hG=(e,t,r,n)=>{var s=t.find(m=>m&&m.index===r);if(s){if(e==="centric"){var o=s.coordinate,{radius:u}=n;return lo(lo(lo({},n),yr(n.cx,n.cy,u,o)),{},{angle:o,radius:u})}var d=s.coordinate,{angle:h}=n;return lo(lo(lo({},n),yr(n.cx,n.cy,d,h)),{},{angle:h,radius:d})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function mG(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var YD=(e,t,r,n,s)=>{var o,u=-1,d=(o=t==null?void 0:t.length)!==null&&o!==void 0?o:0;if(d<=1||e==null)return 0;if(n==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var h=0;h<d;h++){var m=h>0?r[h-1].coordinate:r[d-1].coordinate,p=r[h].coordinate,g=h>=d-1?r[0].coordinate:r[h+1].coordinate,x=void 0;if(zr(p-m)!==zr(g-p)){var b=[];if(zr(g-p)===zr(s[1]-s[0])){x=g;var j=p+s[1]-s[0];b[0]=Math.min(j,(j+m)/2),b[1]=Math.max(j,(j+m)/2)}else{x=m;var N=g+s[1]-s[0];b[0]=Math.min(p,(N+p)/2),b[1]=Math.max(p,(N+p)/2)}var _=[Math.min(p,(x+p)/2),Math.max(p,(x+p)/2)];if(e>_[0]&&e<=_[1]||e>=b[0]&&e<=b[1]){({index:u}=r[h]);break}}else{var A=Math.min(m,g),P=Math.max(m,g);if(e>(A+p)/2&&e<=(P+p)/2){({index:u}=r[h]);break}}}else if(t){for(var O=0;O<d;O++)if(O===0&&e<=(t[O].coordinate+t[O+1].coordinate)/2||O>0&&O<d-1&&e>(t[O].coordinate+t[O-1].coordinate)/2&&e<=(t[O].coordinate+t[O+1].coordinate)/2||O===d-1&&e>(t[O].coordinate+t[O-1].coordinate)/2){({index:u}=t[O]);break}}return u},pG=()=>Fe(eb),Mb=(e,t)=>t,WD=(e,t,r)=>r,Rb=(e,t,r,n)=>n,gG=re(Oi,e=>Ih(e,t=>t.coordinate)),Ib=re([zo,Mb,WD,Rb],RD),zb=re([Ib,Lo,Mu,Lu],Cb),yG=(e,t,r)=>{if(t!=null){var n=zo(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},XD=re([zo,Mb,WD,Rb],zD),yh=re([Ni,_i,pt,_r,Oi,Rb,XD,Iu],ID),vG=re([Ib,yh],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),ZD=re([Oi,zb],TD),xG=re([XD,zb,Ns,Mu,ZD,Iu,Mb],LD),bG=re([Ib,zb],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),wG=(e,t,r,n,s,o,u)=>{if(!(!e||!r||!n||!s)&&mG(e,u)){var d=HL(e,t),h=YD(d,o,s,r,n),m=fG(t,s,h,e);return{activeIndex:String(h),activeCoordinate:m}}},jG=(e,t,r,n,s,o,u)=>{if(!(!e||!n||!s||!o||!r)){var d=l$(e,r);if(d){var h=VL(d,t),m=YD(h,u,o,n,s),p=hG(t,o,m,d);return{activeIndex:String(m),activeCoordinate:p}}}},NG=(e,t,r,n,s,o,u,d)=>{if(!(!e||!t||!n||!s||!o))return t==="horizontal"||t==="vertical"?wG(e,t,n,s,o,u,d):jG(e,t,r,n,s,o,u)},_G=re(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElementId:n.elementId}}),SG=re(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Kr)),r=Array.from(new Set(t));return r.sort((n,s)=>n-s)},{memoizeOptions:{resultEqualityCheck:c7}});function bE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function wE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bE(Object(r),!0).forEach(function(n){EG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EG(e,t,r){return(t=AG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AG(e){var t=OG(e,"string");return typeof t=="symbol"?t:t+""}function OG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CG={},TG={zIndexMap:Object.values(Kr).reduce((e,t)=>wE(wE({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),CG)},DG=new Set(Object.values(Kr));function kG(e){return DG.has(e)}var QD=An({name:"zIndex",initialState:TG,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Vt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!kG(r)&&delete e.zIndexMap[r])},prepare:Vt()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:n,isPanorama:s}=t.payload;e.zIndexMap[r]?s?e.zIndexMap[r].panoramaElementId=n:e.zIndexMap[r].elementId=n:e.zIndexMap[r]={consumers:0,elementId:s?void 0:n,panoramaElementId:s?n:void 0}},prepare:Vt()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:Vt()}}}),{registerZIndexPortal:PG,unregisterZIndexPortal:MG,registerZIndexPortalId:RG,unregisterZIndexPortalId:IG}=QD.actions,zG=QD.reducer;function Oa(e){var{zIndex:t,children:r}=e,n=N8(),s=n&&t!==void 0&&t!==0,o=On(),u=qt();w.useLayoutEffect(()=>s?(u(PG({zIndex:t})),()=>{u(MG({zIndex:t}))}):xu,[u,t,s]);var d=Fe(m=>_G(m,t,o));if(!s)return r;if(!d)return null;var h=document.getElementById(d);return h?rx.createPortal(r,h):null}function kv(){return kv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kv.apply(null,arguments)}function jE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Nf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jE(Object(r),!0).forEach(function(n){LG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LG(e,t,r){return(t=qG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qG(e){var t=$G(e,"string");return typeof t=="symbol"?t:t+""}function $G(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UG(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return w.isValidElement(t)?w.cloneElement(t,n):w.createElement(r,n)}function BG(e){var t,{coordinate:r,payload:n,index:s,offset:o,tooltipAxisBandSize:u,layout:d,cursor:h,tooltipEventType:m,chartName:p}=e,g=r,x=n,b=s;if(!h||!g||p!=="ScatterChart"&&m!=="axis")return null;var j,N,_;if(p==="ScatterChart")j=g,N=Nq,_=Kr.cursorLine;else if(p==="BarChart")j=_q(d,g,o,u),N=KC,_=Kr.cursorRectangle;else if(d==="radial"&&CO(g)){var{cx:A,cy:P,radius:O,startAngle:C,endAngle:D}=WC(g);j={cx:A,cy:P,startAngle:C,endAngle:D,innerRadius:O,outerRadius:O},N=ZC,_=Kr.cursorLine}else j={points:d$(d,g,o)},N=Ex,_=Kr.cursorLine;var R=typeof h=="object"&&"className"in h?h.className:void 0,L=Nf(Nf(Nf(Nf({stroke:"#ccc",pointerEvents:"none"},o),j),Qc(h)),{},{payload:x,payloadIndex:b,className:St("recharts-tooltip-cursor",R)});return w.createElement(Oa,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:_},w.createElement(UG,{cursor:h,cursorComp:N,cursorProps:L}))}function GG(e){var t=oG(),r=TC(),n=Zh(),s=pG();return t==null||r==null||n==null||s==null?null:w.createElement(BG,kv({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:s}))}var JD=w.createContext(null),FG=()=>w.useContext(JD),my={exports:{}},NE;function HG(){return NE||(NE=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(h,m,p){this.fn=h,this.context=m,this.once=p||!1}function o(h,m,p,g,x){if(typeof p!="function")throw new TypeError("The listener must be a function");var b=new s(p,g||h,x),j=r?r+m:m;return h._events[j]?h._events[j].fn?h._events[j]=[h._events[j],b]:h._events[j].push(b):(h._events[j]=b,h._eventsCount++),h}function u(h,m){--h._eventsCount===0?h._events=new n:delete h._events[m]}function d(){this._events=new n,this._eventsCount=0}d.prototype.eventNames=function(){var m=[],p,g;if(this._eventsCount===0)return m;for(g in p=this._events)t.call(p,g)&&m.push(r?g.slice(1):g);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(p)):m},d.prototype.listeners=function(m){var p=r?r+m:m,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var x=0,b=g.length,j=new Array(b);x<b;x++)j[x]=g[x].fn;return j},d.prototype.listenerCount=function(m){var p=r?r+m:m,g=this._events[p];return g?g.fn?1:g.length:0},d.prototype.emit=function(m,p,g,x,b,j){var N=r?r+m:m;if(!this._events[N])return!1;var _=this._events[N],A=arguments.length,P,O;if(_.fn){switch(_.once&&this.removeListener(m,_.fn,void 0,!0),A){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,p),!0;case 3:return _.fn.call(_.context,p,g),!0;case 4:return _.fn.call(_.context,p,g,x),!0;case 5:return _.fn.call(_.context,p,g,x,b),!0;case 6:return _.fn.call(_.context,p,g,x,b,j),!0}for(O=1,P=new Array(A-1);O<A;O++)P[O-1]=arguments[O];_.fn.apply(_.context,P)}else{var C=_.length,D;for(O=0;O<C;O++)switch(_[O].once&&this.removeListener(m,_[O].fn,void 0,!0),A){case 1:_[O].fn.call(_[O].context);break;case 2:_[O].fn.call(_[O].context,p);break;case 3:_[O].fn.call(_[O].context,p,g);break;case 4:_[O].fn.call(_[O].context,p,g,x);break;default:if(!P)for(D=1,P=new Array(A-1);D<A;D++)P[D-1]=arguments[D];_[O].fn.apply(_[O].context,P)}}return!0},d.prototype.on=function(m,p,g){return o(this,m,p,g,!1)},d.prototype.once=function(m,p,g){return o(this,m,p,g,!0)},d.prototype.removeListener=function(m,p,g,x){var b=r?r+m:m;if(!this._events[b])return this;if(!p)return u(this,b),this;var j=this._events[b];if(j.fn)j.fn===p&&(!x||j.once)&&(!g||j.context===g)&&u(this,b);else{for(var N=0,_=[],A=j.length;N<A;N++)(j[N].fn!==p||x&&!j[N].once||g&&j[N].context!==g)&&_.push(j[N]);_.length?this._events[b]=_.length===1?_[0]:_:u(this,b)}return this},d.prototype.removeAllListeners=function(m){var p;return m?(p=r?r+m:m,this._events[p]&&u(this,p)):(this._events=new n,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=r,d.EventEmitter=d,e.exports=d})(my)),my.exports}var VG=HG();const KG=Ea(VG);var hu=new KG,Pv="recharts.syncEvent.tooltip",_E="recharts.syncEvent.brush";function ek(e,t){if(t){var r=Number.parseInt(t,10);if(!Sa(r))return e==null?void 0:e[r]}}var YG={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},tk=An({name:"options",initialState:YG,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),WG=tk.reducer,{createEventEmitter:XG}=tk.actions;function ZG(e){return e.tooltip.syncInteraction}var QG={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},rk=An({name:"chartData",initialState:QG,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:SE,setDataStartEndIndexes:JG,setComputedData:CZ}=rk.actions,eF=rk.reducer,tF=["x","y"];function EE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function oo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EE(Object(r),!0).forEach(function(n){rF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rF(e,t,r){return(t=nF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nF(e){var t=aF(e,"string");return typeof t=="symbol"?t:t+""}function aF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iF(e,t){if(e==null)return{};var r,n,s=sF(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function sF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function lF(){var e=Fe(tb),t=Fe(rb),r=qt(),n=Fe(XT),s=Fe(Oi),o=Zh(),u=Xh(),d=Fe(h=>h.rootProps.className);w.useEffect(()=>{if(e==null)return xu;var h=(m,p,g)=>{if(t!==g&&e===m){if(n==="index"){var x;if(u&&p!==null&&p!==void 0&&(x=p.payload)!==null&&x!==void 0&&x.coordinate&&p.payload.sourceViewBox){var b=p.payload.coordinate,{x:j,y:N}=b,_=iF(b,tF),{x:A,y:P,width:O,height:C}=p.payload.sourceViewBox,D=oo(oo({},_),{},{x:u.x+(O?(j-A)/O:0)*u.width,y:u.y+(C?(N-P)/C:0)*u.height});r(oo(oo({},p),{},{payload:oo(oo({},p.payload),{},{coordinate:D})}))}else r(p);return}if(s!=null){var R;if(typeof n=="function"){var L={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},H=n(s,L);R=s[H]}else n==="value"&&(R=s.find(I=>String(I.value)===p.payload.label));var{coordinate:G}=p.payload;if(R==null||p.payload.active===!1||G==null||u==null){r(Tv({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:he,y:ne}=G,k=Math.min(he,u.x+u.width),se=Math.min(ne,u.y+u.height),U={x:o==="horizontal"?R.coordinate:k,y:o==="horizontal"?se:R.coordinate},V=Tv({active:p.payload.active,coordinate:U,dataKey:p.payload.dataKey,index:String(R.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox});r(V)}}};return hu.on(Pv,h),()=>{hu.off(Pv,h)}},[d,r,t,e,n,s,o,u])}function oF(){var e=Fe(tb),t=Fe(rb),r=qt();w.useEffect(()=>{if(e==null)return xu;var n=(s,o,u)=>{t!==u&&e===s&&r(JG(o))};return hu.on(_E,n),()=>{hu.off(_E,n)}},[r,t,e])}function cF(){var e=qt();w.useEffect(()=>{e(XG())},[e]),lF(),oF()}function uF(e,t,r,n,s,o){var u=Fe(b=>yG(b,e,t)),d=Fe(rb),h=Fe(tb),m=Fe(XT),p=Fe(ZG),g=p==null?void 0:p.active,x=Xh();w.useEffect(()=>{if(!g&&h!=null&&d!=null){var b=Tv({active:o,coordinate:r,dataKey:u,index:s,label:typeof n=="number"?String(n):n,sourceViewBox:x});hu.emit(Pv,h,b,d)}},[g,r,u,s,n,d,h,m,o,x])}function AE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function OE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AE(Object(r),!0).forEach(function(n){dF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dF(e,t,r){return(t=fF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fF(e){var t=hF(e,"string");return typeof t=="symbol"?t:t+""}function hF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mF(e){return e.dataKey}function pF(e,t){return w.isValidElement(e)?w.cloneElement(e,t):typeof e=="function"?w.createElement(e,t):w.createElement(tq,t)}var CE=[],gF={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!pl.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function mu(e){var t,r,n=qr(e,gF),{active:s,allowEscapeViewBox:o,animationDuration:u,animationEasing:d,content:h,filterNull:m,isAnimationActive:p,offset:g,payloadUniqBy:x,position:b,reverseDirection:j,useTranslate3d:N,wrapperStyle:_,cursor:A,shared:P,trigger:O,defaultIndex:C,portal:D,axisId:R}=n,L=qt(),H=typeof C=="number"?String(C):C;w.useEffect(()=>{L(h9({shared:P,trigger:O,axisId:R,active:s,defaultIndex:H}))},[L,P,O,R,s,H]);var G=Xh(),he=BC(),ne=l9(P),{activeIndex:k,isActive:se}=(t=Fe(me=>bG(me,ne,O,H)))!==null&&t!==void 0?t:{},U=Fe(me=>xG(me,ne,O,H)),V=Fe(me=>ZD(me,ne,O,H)),I=Fe(me=>vG(me,ne,O,H)),W=U,ue=FG(),be=(r=s??se)!==null&&r!==void 0?r:!1,[Ee,z]=FO([W,be]),K=ne==="axis"?V:void 0;uF(ne,O,I,K,k,be);var ge=D??ue;if(ge==null||G==null||ne==null)return null;var B=W??CE;be||(B=CE),m&&B.length&&(B=qO(B.filter(me=>me.value!=null&&(me.hide!==!0||n.includeHidden)),x,mF));var je=B.length>0,_e=w.createElement(oq,{allowEscapeViewBox:o,animationDuration:u,animationEasing:d,isAnimationActive:p,active:be,coordinate:I,hasPayload:je,offset:g,position:b,reverseDirection:j,useTranslate3d:N,viewBox:G,wrapperStyle:_,lastBoundingBox:Ee,innerRef:z,hasPortalFromProps:!!D},pF(h,OE(OE({},n),{},{payload:B,label:K,active:be,activeIndex:k,coordinate:I,accessibilityLayer:he})));return w.createElement(w.Fragment,null,rx.createPortal(_e,ge),be&&w.createElement(GG,{cursor:A,tooltipEventType:ne,coordinate:I,payload:B,index:k}))}var xs=e=>null;xs.displayName="Cell";function yF(e,t,r){return(t=vF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vF(e){var t=xF(e,"string");return typeof t=="symbol"?t:t+""}function xF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class bF{constructor(t){yF(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function TE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function wF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TE(Object(r),!0).forEach(function(n){jF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jF(e,t,r){return(t=NF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NF(e){var t=_F(e,"string");return typeof t=="symbol"?t:t+""}function _F(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SF={cacheSize:2e3,enableCache:!0},nk=wF({},SF),DE=new bF(nk.cacheSize),EF={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},kE="recharts_measurement_span";function AF(e,t){var r=t.fontSize||"",n=t.fontFamily||"",s=t.fontWeight||"",o=t.fontStyle||"",u=t.letterSpacing||"",d=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(s,"|").concat(o,"|").concat(u,"|").concat(d)}var PE=(e,t)=>{try{var r=document.getElementById(kE);r||(r=document.createElement("span"),r.setAttribute("id",kE),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,EF,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Yc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||pl.isSsr)return{width:0,height:0};if(!nk.enableCache)return PE(t,r);var n=AF(t,r),s=DE.get(n);if(s)return s;var o=PE(t,r);return DE.set(n,o),o},ME=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,RE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,OF=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,CF=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,ak={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},TF=Object.keys(ak),fo="NaN";function DF(e,t){return e*ak[t]}class Sn{static parse(t){var r,[,n,s]=(r=CF.exec(t))!==null&&r!==void 0?r:[];return new Sn(parseFloat(n),s??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Sa(t)&&(this.unit=""),r!==""&&!OF.test(r)&&(this.num=NaN,this.unit=""),TF.includes(r)&&(this.num=DF(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Sn(NaN,""):new Sn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Sn(NaN,""):new Sn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Sn(NaN,""):new Sn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Sn(NaN,""):new Sn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Sa(this.num)}}function ik(e){if(e.includes(fo))return fo;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,s,o]=(r=ME.exec(t))!==null&&r!==void 0?r:[],u=Sn.parse(n??""),d=Sn.parse(o??""),h=s==="*"?u.multiply(d):u.divide(d);if(h.isNaN())return fo;t=t.replace(ME,h.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,[,p,g,x]=(m=RE.exec(t))!==null&&m!==void 0?m:[],b=Sn.parse(p??""),j=Sn.parse(x??""),N=g==="+"?b.add(j):b.subtract(j);if(N.isNaN())return fo;t=t.replace(RE,N.toString())}return t}var IE=/\(([^()]*)\)/;function kF(e){for(var t=e,r;(r=IE.exec(t))!=null;){var[,n]=r;t=t.replace(IE,ik(n))}return t}function PF(e){var t=e.replace(/\s+/g,"");return t=kF(t),t=ik(t),t}function MF(e){try{return PF(e)}catch{return fo}}function py(e){var t=MF(e.slice(5,-1));return t===fo?"":t}var RF=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],IF=["dx","dy","angle","className","breakAll"];function Mv(){return Mv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mv.apply(null,arguments)}function zE(e,t){if(e==null)return{};var r,n,s=zF(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function zF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var sk=/[ \f\n\r\t\v\u2028\u2029]+/,lk=e=>{var{children:t,breakAll:r,style:n}=e;try{var s=[];Lr(t)||(r?s=t.toString().split(""):s=t.toString().split(sk));var o=s.map(d=>({word:d,width:Yc(d,n).width})),u=r?0:Yc("",n).width;return{wordsWithComputedWidth:o,spaceWidth:u}}catch{return null}};function LF(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var ok=(e,t,r,n)=>e.reduce((s,o)=>{var{word:u,width:d}=o,h=s[s.length-1];if(h&&d!=null&&(t==null||n||h.width+d+r<Number(t)))h.words.push(u),h.width+=d+r;else{var m={words:[u],width:d};s.push(m)}return s},[]),ck=e=>e.reduce((t,r)=>t.width>r.width?t:r),qF="",LE=(e,t,r,n,s,o,u,d)=>{var h=e.slice(0,t),m=lk({breakAll:r,style:n,children:h+qF});if(!m)return[!1,[]];var p=ok(m.wordsWithComputedWidth,o,u,d),g=p.length>s||ck(p).width>Number(o);return[g,p]},$F=(e,t,r,n,s)=>{var{maxLines:o,children:u,style:d,breakAll:h}=e,m=Ve(o),p=String(u),g=ok(t,n,r,s);if(!m||s)return g;var x=g.length>o||ck(g).width>Number(n);if(!x)return g;for(var b=0,j=p.length-1,N=0,_;b<=j&&N<=p.length-1;){var A=Math.floor((b+j)/2),P=A-1,[O,C]=LE(p,P,h,d,o,n,r,s),[D]=LE(p,A,h,d,o,n,r,s);if(!O&&!D&&(b=A+1),O&&D&&(j=A-1),!O&&D){_=C;break}N++}return _||g},qE=e=>{var t=Lr(e)?[]:e.toString().split(sk);return[{words:t,width:void 0}]},UF=e=>{var{width:t,scaleToFit:r,children:n,style:s,breakAll:o,maxLines:u}=e;if((t||r)&&!pl.isSsr){var d,h,m=lk({breakAll:o,children:n,style:s});if(m){var{wordsWithComputedWidth:p,spaceWidth:g}=m;d=p,h=g}else return qE(n);return $F({breakAll:o,children:n,maxLines:u,style:s},d,h,t,!!r)}return qE(n)},uk="#808080",BF={angle:0,breakAll:!1,capHeight:"0.71em",fill:uk,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},bm=w.forwardRef((e,t)=>{var r=qr(e,BF),{x:n,y:s,lineHeight:o,capHeight:u,fill:d,scaleToFit:h,textAnchor:m,verticalAnchor:p}=r,g=zE(r,RF),x=w.useMemo(()=>UF({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:h,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,h,g.style,g.width]),{dx:b,dy:j,angle:N,className:_,breakAll:A}=g,P=zE(g,IF);if(!$a(n)||!$a(s)||x.length===0)return null;var O=Number(n)+(Ve(b)?b:0),C=Number(s)+(Ve(j)?j:0);if(!or(O)||!or(C))return null;var D;switch(p){case"start":D=py("calc(".concat(u,")"));break;case"middle":D=py("calc(".concat((x.length-1)/2," * -").concat(o," + (").concat(u," / 2))"));break;default:D=py("calc(".concat(x.length-1," * -").concat(o,")"));break}var R=[];if(h){var L=x[0].width,{width:H}=g;R.push("scale(".concat(Ve(H)&&Ve(L)?H/L:1,")"))}return N&&R.push("rotate(".concat(N,", ").concat(O,", ").concat(C,")")),R.length&&(P.transform=R.join(" ")),w.createElement("text",Mv({},oa(P),{ref:t,x:O,y:C,className:St("recharts-text",_),textAnchor:m,fill:d.includes("url")?uk:d}),x.map((G,he)=>{var ne=G.words.join(A?"":" ");return w.createElement("tspan",{x:O,dy:he===0?D:o,key:"".concat(ne,"-").concat(he)},ne)}))});bm.displayName="Text";var GF=["labelRef"];function FF(e,t){if(e==null)return{};var r,n,s=HF(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function HF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function $E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$E(Object(r),!0).forEach(function(n){VF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$E(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VF(e,t,r){return(t=KF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KF(e){var t=YF(e,"string");return typeof t=="symbol"?t:t+""}function YF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ui(){return ui=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ui.apply(null,arguments)}var dk=w.createContext(null),WF=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:s,width:o,height:u,children:d}=e,h=w.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:s,width:o,height:u}),[t,r,n,s,o,u]);return w.createElement(dk.Provider,{value:h},d)},fk=()=>{var e=w.useContext(dk),t=Xh();return e||CC(t)},XF=w.createContext(null),ZF=()=>{var e=w.useContext(XF),t=Fe(tD);return e||t},QF=e=>{var{value:t,formatter:r}=e,n=Lr(e.children)?t:e.children;return typeof r=="function"?r(n):n},Lb=e=>e!=null&&typeof e=="function",JF=(e,t)=>{var r=zr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},eH=(e,t,r,n,s)=>{var{offset:o,className:u}=e,{cx:d,cy:h,innerRadius:m,outerRadius:p,startAngle:g,endAngle:x,clockWise:b}=s,j=(m+p)/2,N=JF(g,x),_=N>=0?1:-1,A,P;switch(t){case"insideStart":A=g+_*o,P=b;break;case"insideEnd":A=x-_*o,P=!b;break;case"end":A=x+_*o,P=b;break;default:throw new Error("Unsupported position ".concat(t))}P=N<=0?P:!P;var O=yr(d,h,j,A),C=yr(d,h,j,A+(P?1:-1)*359),D="M".concat(O.x,",").concat(O.y,`
    A`).concat(j,",").concat(j,",0,1,").concat(P?0:1,`,
    `).concat(C.x,",").concat(C.y),R=Lr(e.id)?Jc("recharts-radial-line-"):e.id;return w.createElement("text",ui({},n,{dominantBaseline:"central",className:St("recharts-radial-bar-label",u)}),w.createElement("defs",null,w.createElement("path",{id:R,d:D})),w.createElement("textPath",{xlinkHref:"#".concat(R)},r))},tH=(e,t,r)=>{var{cx:n,cy:s,innerRadius:o,outerRadius:u,startAngle:d,endAngle:h}=e,m=(d+h)/2;if(r==="outside"){var{x:p,y:g}=yr(n,s,u+t,m);return{x:p,y:g,textAnchor:p>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"end"};var x=(o+u)/2,{x:b,y:j}=yr(n,s,x,m);return{x:b,y:j,textAnchor:"middle",verticalAnchor:"middle"}},Rv=e=>"cx"in e&&Ve(e.cx),rH=(e,t)=>{var{parentViewBox:r,offset:n,position:s}=e,o;r!=null&&!Rv(r)&&(o=r);var{x:u,y:d,upperWidth:h,lowerWidth:m,height:p}=t,g=u,x=u+(h-m)/2,b=(g+x)/2,j=(h+m)/2,N=g+h/2,_=p>=0?1:-1,A=_*n,P=_>0?"end":"start",O=_>0?"start":"end",C=h>=0?1:-1,D=C*n,R=C>0?"end":"start",L=C>0?"start":"end";if(s==="top"){var H={x:g+h/2,y:d-A,textAnchor:"middle",verticalAnchor:P};return sr(sr({},H),o?{height:Math.max(d-o.y,0),width:h}:{})}if(s==="bottom"){var G={x:x+m/2,y:d+p+A,textAnchor:"middle",verticalAnchor:O};return sr(sr({},G),o?{height:Math.max(o.y+o.height-(d+p),0),width:m}:{})}if(s==="left"){var he={x:b-D,y:d+p/2,textAnchor:R,verticalAnchor:"middle"};return sr(sr({},he),o?{width:Math.max(he.x-o.x,0),height:p}:{})}if(s==="right"){var ne={x:b+j+D,y:d+p/2,textAnchor:L,verticalAnchor:"middle"};return sr(sr({},ne),o?{width:Math.max(o.x+o.width-ne.x,0),height:p}:{})}var k=o?{width:j,height:p}:{};return s==="insideLeft"?sr({x:b+D,y:d+p/2,textAnchor:L,verticalAnchor:"middle"},k):s==="insideRight"?sr({x:b+j-D,y:d+p/2,textAnchor:R,verticalAnchor:"middle"},k):s==="insideTop"?sr({x:g+h/2,y:d+A,textAnchor:"middle",verticalAnchor:O},k):s==="insideBottom"?sr({x:x+m/2,y:d+p-A,textAnchor:"middle",verticalAnchor:P},k):s==="insideTopLeft"?sr({x:g+D,y:d+A,textAnchor:L,verticalAnchor:O},k):s==="insideTopRight"?sr({x:g+h-D,y:d+A,textAnchor:R,verticalAnchor:O},k):s==="insideBottomLeft"?sr({x:x+D,y:d+p-A,textAnchor:L,verticalAnchor:P},k):s==="insideBottomRight"?sr({x:x+m-D,y:d+p-A,textAnchor:R,verticalAnchor:P},k):s&&typeof s=="object"&&(Ve(s.x)||gi(s.x))&&(Ve(s.y)||gi(s.y))?sr({x:u+nn(s.x,j),y:d+nn(s.y,p),textAnchor:"end",verticalAnchor:"end"},k):sr({x:N,y:d+p/2,textAnchor:"middle",verticalAnchor:"middle"},k)},nH={angle:0,offset:5,zIndex:Kr.label,position:"middle",textBreakAll:!1};function fs(e){var t=qr(e,nH),{viewBox:r,position:n,value:s,children:o,content:u,className:d="",textBreakAll:h,labelRef:m}=t,p=ZF(),g=fk(),x=n==="center"?g:p??g,b,j,N;if(r==null?b=x:Rv(r)?b=r:b=CC(r),!b||Lr(s)&&Lr(o)&&!w.isValidElement(u)&&typeof u!="function")return null;var _=sr(sr({},t),{},{viewBox:b});if(w.isValidElement(u)){var{labelRef:A}=_,P=FF(_,GF);return w.cloneElement(u,P)}if(typeof u=="function"){if(j=w.createElement(u,_),w.isValidElement(j))return j}else j=QF(t);var O=oa(t);if(Rv(b)){if(n==="insideStart"||n==="insideEnd"||n==="end")return eH(t,n,j,O,b);N=tH(b,t.offset,t.position)}else N=rH(t,b);return w.createElement(Oa,{zIndex:t.zIndex},w.createElement(bm,ui({ref:m,className:St("recharts-label",d)},O,N,{textAnchor:LF(O.textAnchor)?O.textAnchor:N.textAnchor,breakAll:h}),j))}fs.displayName="Label";var aH=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?w.createElement(fs,ui({key:"label-implicit"},n)):$a(e)?w.createElement(fs,ui({key:"label-implicit",value:e},n)):w.isValidElement(e)?e.type===fs?w.cloneElement(e,sr({key:"label-implicit"},n)):w.createElement(fs,ui({key:"label-implicit",content:e},n)):Lb(e)?w.createElement(fs,ui({key:"label-implicit",content:e},n)):e&&typeof e=="object"?w.createElement(fs,ui({},e,{key:"label-implicit"},n)):null};function iH(e){var{label:t,labelRef:r}=e,n=fk();return aH(t,n,r)||null}var gy={},yy={},UE;function sH(){return UE||(UE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(yy)),yy}var vy={},BE;function lH(){return BE||(BE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(vy)),vy}var GE;function oH(){return GE||(GE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sH(),r=lH(),n=ux();function s(o){if(n.isArrayLike(o))return t.last(r.toArray(o))}e.last=s})(gy)),gy}var xy,FE;function cH(){return FE||(FE=1,xy=oH().last),xy}var uH=cH();const dH=Ea(uH);var fH=["valueAccessor"],hH=["dataKey","clockWise","id","textBreakAll","zIndex"];function vh(){return vh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vh.apply(null,arguments)}function HE(e,t){if(e==null)return{};var r,n,s=mH(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function mH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var pH=e=>Array.isArray(e.value)?dH(e.value):e.value,hk=w.createContext(void 0),gH=hk.Provider,mk=w.createContext(void 0),yH=mk.Provider;function vH(){return w.useContext(hk)}function xH(){return w.useContext(mk)}function Df(e){var{valueAccessor:t=pH}=e,r=HE(e,fH),{dataKey:n,clockWise:s,id:o,textBreakAll:u,zIndex:d}=r,h=HE(r,hH),m=vH(),p=xH(),g=m||p;return!g||!g.length?null:w.createElement(Oa,{zIndex:d??Kr.label},w.createElement(dn,{className:"recharts-label-list"},g.map((x,b)=>{var j,N=Lr(n)?t(x,b):Kt(x&&x.payload,n),_=Lr(o)?{}:{id:"".concat(o,"-").concat(b)};return w.createElement(fs,vh({key:"label-".concat(b)},oa(x),h,_,{fill:(j=r.fill)!==null&&j!==void 0?j:x.fill,parentViewBox:x.parentViewBox,value:N,textBreakAll:u,viewBox:x.viewBox,index:b,zIndex:0}))})))}Df.displayName="LabelList";function pk(e){var{label:t}=e;return t?t===!0?w.createElement(Df,{key:"labelList-implicit"}):w.isValidElement(t)||Lb(t)?w.createElement(Df,{key:"labelList-implicit",content:t}):typeof t=="object"?w.createElement(Df,vh({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var gk=e=>e.graphicalItems.polarItems,bH=re([Wt,Du],ob),wm=re([gk,Qt,bH],ub),wH=re([wm],db),jm=re([wH,Xx],fb),jH=re([jm,Qt,wm],mb);re([jm,Qt,wm],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(s=>{var o,u=Kt(n,(o=t.dataKey)!==null&&o!==void 0?o:s.dataKey);return{value:u,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Kt(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var VE=()=>{},NH=re([jm,Qt,wm,gm,Wt],vb),_H=re([Qt,gb,yb,VE,NH,VE,pt,Wt],xb),yk=re([Qt,pt,jm,jH,Tu,Wt,_H],bb),SH=re([yk,Qt,Ro],Nb);re([Qt,yk,SH,Wt],Sb);var EH={radiusAxis:{},angleAxis:{}},vk=An({name:"polarAxis",initialState:EH,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:TZ,removeRadiusAxis:DZ,addAngleAxis:kZ,removeAngleAxis:PZ}=vk.actions,AH=vk.reducer;function KE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function YE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KE(Object(r),!0).forEach(function(n){OH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OH(e,t,r){return(t=CH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CH(e){var t=TH(e,"string");return typeof t=="symbol"?t:t+""}function TH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DH=(e,t)=>t,qb=re([gk,DH],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),kH=[],$b=(e,t,r)=>(r==null?void 0:r.length)===0?kH:r,xk=re([Xx,qb,$b],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var s;if((t==null?void 0:t.data)!=null&&t.data.length>0?s=t.data:s=n,(!s||!s.length)&&r!=null&&(s=r.map(o=>YE(YE({},t.presentationProps),o.props))),s!=null)return s}}),PH=re([xk,qb,$b],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,s)=>{var o,u=Kt(n,t.nameKey,t.name),d;return r!=null&&(o=r[s])!==null&&o!==void 0&&(o=o.props)!==null&&o!==void 0&&o.fill?d=r[s].props.fill:typeof n=="object"&&n!=null&&"fill"in n?d=n.fill:d=t.fill,{value:Hh(u,t.dataKey),color:d,payload:n,type:t.legendType}})}),MH=re([xk,qb,$b,_r],(e,t,r,n)=>{if(!(t==null||e==null))return zV({offset:n,pieSettings:t,displayedData:e,cells:r})}),by={exports:{}},kt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WE;function RH(){if(WE)return kt;WE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function j(N){if(typeof N=="object"&&N!==null){var _=N.$$typeof;switch(_){case e:switch(N=N.type,N){case r:case s:case n:case h:case m:case x:return N;default:switch(N=N&&N.$$typeof,N){case u:case d:case g:case p:return N;case o:return N;default:return _}}case t:return _}}}return kt.ContextConsumer=o,kt.ContextProvider=u,kt.Element=e,kt.ForwardRef=d,kt.Fragment=r,kt.Lazy=g,kt.Memo=p,kt.Portal=t,kt.Profiler=s,kt.StrictMode=n,kt.Suspense=h,kt.SuspenseList=m,kt.isContextConsumer=function(N){return j(N)===o},kt.isContextProvider=function(N){return j(N)===u},kt.isElement=function(N){return typeof N=="object"&&N!==null&&N.$$typeof===e},kt.isForwardRef=function(N){return j(N)===d},kt.isFragment=function(N){return j(N)===r},kt.isLazy=function(N){return j(N)===g},kt.isMemo=function(N){return j(N)===p},kt.isPortal=function(N){return j(N)===t},kt.isProfiler=function(N){return j(N)===s},kt.isStrictMode=function(N){return j(N)===n},kt.isSuspense=function(N){return j(N)===h},kt.isSuspenseList=function(N){return j(N)===m},kt.isValidElementType=function(N){return typeof N=="string"||typeof N=="function"||N===r||N===s||N===n||N===h||N===m||typeof N=="object"&&N!==null&&(N.$$typeof===g||N.$$typeof===p||N.$$typeof===u||N.$$typeof===o||N.$$typeof===d||N.$$typeof===b||N.getModuleId!==void 0)},kt.typeOf=j,kt}var XE;function IH(){return XE||(XE=1,by.exports=RH()),by.exports}var zH=IH(),ZE=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",QE=null,wy=null,bk=e=>{if(e===QE&&Array.isArray(wy))return wy;var t=[];return w.Children.forEach(e,r=>{Lr(r)||(zH.isFragment(r)?t=t.concat(bk(r.props.children)):t.push(r))}),wy=t,QE=e,t};function Ub(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(s=>ZE(s)):n=[ZE(t)],bk(e).forEach(s=>{var o=il(s,"type.displayName")||il(s,"type.name");o&&n.indexOf(o)!==-1&&r.push(s)}),r}var jy={},JE;function LH(){return JE||(JE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var s;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const o=r[Symbol.toStringTag];return o==null||!((s=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&s.writable)?!1:r.toString()===`[object ${o}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(jy)),jy}var Ny,eA;function qH(){return eA||(eA=1,Ny=LH().isPlainObject),Ny}var $H=qH();const UH=Ea($H);function tA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function rA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tA(Object(r),!0).forEach(function(n){BH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BH(e,t,r){return(t=GH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GH(e){var t=FH(e,"string");return typeof t=="symbol"?t:t+""}function FH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xh(){return xh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xh.apply(null,arguments)}var nA=(e,t,r,n,s)=>{var o=r-n,u;return u="M ".concat(e,",").concat(t),u+="L ".concat(e+r,",").concat(t),u+="L ".concat(e+r-o/2,",").concat(t+s),u+="L ".concat(e+r-o/2-n,",").concat(t+s),u+="L ".concat(e,",").concat(t," Z"),u},HH={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},VH=e=>{var t=qr(e,HH),{x:r,y:n,upperWidth:s,lowerWidth:o,height:u,className:d}=t,{animationEasing:h,animationDuration:m,animationBegin:p,isUpdateAnimationActive:g}=t,x=w.useRef(null),[b,j]=w.useState(-1),N=w.useRef(s),_=w.useRef(o),A=w.useRef(u),P=w.useRef(r),O=w.useRef(n),C=nm(e,"trapezoid-");if(w.useEffect(()=>{if(x.current&&x.current.getTotalLength)try{var U=x.current.getTotalLength();U&&j(U)}catch{}},[]),r!==+r||n!==+n||s!==+s||o!==+o||u!==+u||s===0&&o===0||u===0)return null;var D=St("recharts-trapezoid",d);if(!g)return w.createElement("g",null,w.createElement("path",xh({},oa(t),{className:D,d:nA(r,n,s,o,u)})));var R=N.current,L=_.current,H=A.current,G=P.current,he=O.current,ne="0px ".concat(b===-1?1:b,"px"),k="".concat(b,"px 0px"),se=GC(["strokeDasharray"],m,h);return w.createElement(rm,{animationId:C,key:C,canBegin:b>0,duration:m,easing:h,isActive:g,begin:p},U=>{var V=wr(R,s,U),I=wr(L,o,U),W=wr(H,u,U),ue=wr(G,r,U),be=wr(he,n,U);x.current&&(N.current=V,_.current=I,A.current=W,P.current=ue,O.current=be);var Ee=U>0?{transition:se,strokeDasharray:k}:{strokeDasharray:ne};return w.createElement("path",xh({},oa(t),{className:D,d:nA(ue,be,V,I,W),ref:x,style:rA(rA({},Ee),t.style)}))})},KH=["option","shapeType","propTransformer","activeClassName"];function YH(e,t){if(e==null)return{};var r,n,s=WH(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function WH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function aA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function bh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aA(Object(r),!0).forEach(function(n){XH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XH(e,t,r){return(t=ZH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZH(e){var t=QH(e,"string");return typeof t=="symbol"?t:t+""}function QH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JH(e,t){return bh(bh({},t),e)}function eV(e,t){return e==="symbols"}function iA(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return w.createElement(KC,r);case"trapezoid":return w.createElement(VH,r);case"sector":return w.createElement(ZC,r);case"symbols":if(eV(t))return w.createElement(cx,r);break;case"curve":return w.createElement(Ex,r);default:return null}}function tV(e){return w.isValidElement(e)?e.props:e}function wk(e){var{option:t,shapeType:r,propTransformer:n=JH,activeClassName:s="recharts-active-shape"}=e,o=YH(e,KH),u;if(w.isValidElement(t))u=w.cloneElement(t,bh(bh({},o),tV(t)));else if(typeof t=="function")u=t(o);else if(UH(t)&&typeof t!="boolean"){var d=n(t,o);u=w.createElement(iA,{shapeType:r,elementProps:d})}else{var h=o;u=w.createElement(iA,{shapeType:r,elementProps:h})}return o.isActive?w.createElement(dn,{className:s},u):u}var Bb=(e,t)=>{var r=qt();return(n,s)=>o=>{e==null||e(n,s,o),r(kD({activeIndex:String(s),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},Gb=e=>{var t=qt();return(r,n)=>s=>{e==null||e(r,n,s),t(m9())}},Fb=(e,t)=>{var r=qt();return(n,s)=>o=>{e==null||e(n,s,o),r(p9({activeIndex:String(s),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function jk(e){var{tooltipEntrySettings:t}=e,r=qt(),n=On(),s=w.useRef(null);return w.useLayoutEffect(()=>{n||(s.current===null?r(u9(t)):s.current!==t&&r(d9({prev:s.current,next:t})),s.current=t)},[t,r,n]),w.useLayoutEffect(()=>()=>{s.current&&(r(f9(s.current)),s.current=null)},[r]),null}function rV(e){var{legendPayload:t}=e,r=qt(),n=On(),s=w.useRef(null);return w.useLayoutEffect(()=>{n||(s.current===null?r(LC(t)):s.current!==t&&r(qC({prev:s.current,next:t})),s.current=t)},[r,n,t]),w.useLayoutEffect(()=>()=>{s.current&&(r($C(s.current)),s.current=null)},[r]),null}function nV(e){var{legendPayload:t}=e,r=qt(),n=Fe(pt),s=w.useRef(null);return w.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(s.current===null?r(LC(t)):s.current!==t&&r(qC({prev:s.current,next:t})),s.current=t)},[r,n,t]),w.useLayoutEffect(()=>()=>{s.current&&(r($C(s.current)),s.current=null)},[r]),null}var _y,aV=()=>{var[e]=w.useState(()=>Jc("uid-"));return e},iV=(_y=c4.useId)!==null&&_y!==void 0?_y:aV;function Nk(e,t){var r=iV();return t||(e?"".concat(e,"-").concat(r):r)}var sV=w.createContext(void 0),_k=e=>{var{id:t,type:r,children:n}=e,s=Nk("recharts-".concat(r),t);return w.createElement(sV.Provider,{value:s},n(s))},lV={cartesianItems:[],polarItems:[]},Sk=An({name:"graphicalItems",initialState:lV,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Vt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,s=Na(e).cartesianItems.indexOf(r);s>-1&&(e.cartesianItems[s]=n)},prepare:Vt()},removeCartesianGraphicalItem:{reducer(e,t){var r=Na(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Vt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Vt()},removePolarGraphicalItem:{reducer(e,t){var r=Na(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Vt()}}}),{addCartesianGraphicalItem:oV,replaceCartesianGraphicalItem:cV,removeCartesianGraphicalItem:uV,addPolarGraphicalItem:dV,removePolarGraphicalItem:fV}=Sk.actions,hV=Sk.reducer,mV=e=>{var t=qt(),r=w.useRef(null);return w.useLayoutEffect(()=>{r.current===null?t(oV(e)):r.current!==e&&t(cV({prev:r.current,next:e})),r.current=e},[t,e]),w.useLayoutEffect(()=>()=>{r.current&&(t(uV(r.current)),r.current=null)},[t]),null},pV=w.memo(mV);function gV(e){var t=qt();return w.useLayoutEffect(()=>(t(dV(e)),()=>{t(fV(e))}),[t,e]),null}var yV=["key"],vV=["onMouseEnter","onClick","onMouseLeave"],xV=["id"],bV=["id"];function sA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function rr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sA(Object(r),!0).forEach(function(n){wV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wV(e,t,r){return(t=jV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jV(e){var t=NV(e,"string");return typeof t=="symbol"?t:t+""}function NV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bs(){return bs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bs.apply(null,arguments)}function Nm(e,t){if(e==null)return{};var r,n,s=_V(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function _V(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function SV(e){var t=w.useMemo(()=>Ub(e.children,xs),[e.children]),r=Fe(n=>PH(n,e.id,t));return r==null?null:w.createElement(nV,{legendPayload:r})}var EV=w.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:s,strokeWidth:o,fill:u,name:d,hide:h,tooltipType:m}=e,p={dataDefinedOnItem:n.map(g=>g.tooltipPayload),positions:n.map(g=>g.tooltipPosition),settings:{stroke:s,strokeWidth:o,fill:u,dataKey:t,nameKey:r,name:Hh(d,t),hide:h,type:m,color:u,unit:""}};return w.createElement(jk,{tooltipEntrySettings:p})}),AV=(e,t)=>e>t?"start":e<t?"end":"middle",OV=(e,t,r)=>nn(typeof t=="function"?t(e):t,r,r*.8),CV=(e,t,r)=>{var{top:n,left:s,width:o,height:u}=t,d=YC(o,u),h=s+nn(e.cx,o,o/2),m=n+nn(e.cy,u,u/2),p=nn(e.innerRadius,d,0),g=OV(r,e.outerRadius,d),x=e.maxRadius||Math.sqrt(o*o+u*u)/2;return{cx:h,cy:m,innerRadius:p,outerRadius:g,maxRadius:x}},TV=(e,t)=>{var r=zr(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function DV(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var kV=(e,t)=>{if(w.isValidElement(e))return w.cloneElement(e,t);if(typeof e=="function")return e(t);var r=St("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,s=Nm(t,yV);return w.createElement(Ex,bs({},s,{type:"linear",className:r}))},PV=(e,t,r)=>{if(w.isValidElement(e))return w.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),w.isValidElement(n)))return n;var s=St("recharts-pie-label-text",DV(e));return w.createElement(bm,bs({},t,{alignmentBaseline:"middle",className:s}),n)};function MV(e){var{sectors:t,props:r,showLabels:n}=e,{label:s,labelLine:o,dataKey:u}=r;if(!n||!s||!t)return null;var d=_a(r),h=Qc(s),m=Qc(o),p=typeof s=="object"&&"offsetRadius"in s&&typeof s.offsetRadius=="number"&&s.offsetRadius||20,g=t.map((x,b)=>{var j=(x.startAngle+x.endAngle)/2,N=yr(x.cx,x.cy,x.outerRadius+p,j),_=rr(rr(rr(rr({},d),x),{},{stroke:"none"},h),{},{index:b,textAnchor:AV(N.x,x.cx)},N),A=rr(rr(rr(rr({},d),x),{},{fill:"none",stroke:x.fill},m),{},{index:b,points:[yr(x.cx,x.cy,x.outerRadius,j),N],key:"line"});return w.createElement(Oa,{zIndex:Kr.label,key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(b)},w.createElement(dn,null,o&&kV(o,A),PV(s,_,Kt(x,u))))});return w.createElement(dn,{className:"recharts-pie-labels"},g)}function RV(e){var{sectors:t,props:r,showLabels:n}=e,{label:s}=r;return typeof s=="object"&&s!=null&&"position"in s?w.createElement(pk,{label:s}):w.createElement(MV,{sectors:t,props:r,showLabels:n})}function IV(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:s,shape:o}=e,u=Fe(cl),{onMouseEnter:d,onClick:h,onMouseLeave:m}=s,p=Nm(s,vV),g=Bb(d,s.dataKey),x=Gb(m),b=Fb(h,s.dataKey);return t==null||t.length===0?null:w.createElement(w.Fragment,null,t.map((j,N)=>{if((j==null?void 0:j.startAngle)===0&&(j==null?void 0:j.endAngle)===0&&t.length!==1)return null;var _=String(N)===u,A=u?n:null,P=r&&_?r:A,O=rr(rr({},j),{},{stroke:j.stroke,tabIndex:-1,[_C]:N,[SC]:s.dataKey});return w.createElement(dn,bs({key:"sector-".concat(j==null?void 0:j.startAngle,"-").concat(j==null?void 0:j.endAngle,"-").concat(j.midAngle,"-").concat(N),tabIndex:-1,className:"recharts-pie-sector"},bu(p,j,N),{onMouseEnter:g(j,N),onMouseLeave:x(j,N),onClick:b(j,N)}),w.createElement(wk,bs({option:o??P,shapeType:"sector",isActive:_},O)))}))}function zV(e){var t,{pieSettings:r,displayedData:n,cells:s,offset:o}=e,{cornerRadius:u,startAngle:d,endAngle:h,dataKey:m,nameKey:p,tooltipType:g}=r,x=Math.abs(r.minAngle),b=TV(d,h),j=Math.abs(b),N=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,_=n.filter(R=>Kt(R,m,0)!==0).length,A=(j>=360?_:_-1)*N,P=j-_*x-A,O=n.reduce((R,L)=>{var H=Kt(L,m,0);return R+(Ve(H)?H:0)},0),C;if(O>0){var D;C=n.map((R,L)=>{var H=Kt(R,m,0),G=Kt(R,p,L),he=CV(r,o,R),ne=(Ve(H)?H:0)/O,k,se=rr(rr({},R),s&&s[L]&&s[L].props);L?k=D.endAngle+zr(b)*N*(H!==0?1:0):k=d;var U=k+zr(b)*((H!==0?x:0)+ne*P),V=(k+U)/2,I=(he.innerRadius+he.outerRadius)/2,W=[{name:G,value:H,payload:se,dataKey:m,type:g}],ue=yr(he.cx,he.cy,I,V);return D=rr(rr(rr(rr({},r.presentationProps),{},{percent:ne,cornerRadius:typeof u=="string"?parseFloat(u):u,name:G,tooltipPayload:W,midAngle:V,middleRadius:I,tooltipPosition:ue},se),he),{},{value:H,startAngle:k,endAngle:U,payload:se,paddingAngle:zr(b)*N}),D})}return C}function LV(e){var{showLabels:t,sectors:r,children:n}=e,s=w.useMemo(()=>!t||!r?[]:r.map(o=>({value:o.value,payload:o.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:o.cx,cy:o.cy,innerRadius:o.innerRadius,outerRadius:o.outerRadius,startAngle:o.startAngle,endAngle:o.endAngle,clockWise:!1},fill:o.fill})),[r,t]);return w.createElement(yH,{value:t?s:void 0},n)}function qV(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:s,animationBegin:o,animationDuration:u,animationEasing:d,activeShape:h,inactiveShape:m,onAnimationStart:p,onAnimationEnd:g}=t,x=nm(t,"recharts-pie-"),b=r.current,[j,N]=w.useState(!1),_=w.useCallback(()=>{typeof g=="function"&&g(),N(!1)},[g]),A=w.useCallback(()=>{typeof p=="function"&&p(),N(!0)},[p]);return w.createElement(LV,{showLabels:!j,sectors:n},w.createElement(rm,{animationId:x,begin:o,duration:u,isActive:s,easing:d,onAnimationStart:A,onAnimationEnd:_,key:x},P=>{var O=[],C=n&&n[0],D=C==null?void 0:C.startAngle;return n==null||n.forEach((R,L)=>{var H=b&&b[L],G=L>0?il(R,"paddingAngle",0):0;if(H){var he=wr(H.endAngle-H.startAngle,R.endAngle-R.startAngle,P),ne=rr(rr({},R),{},{startAngle:D+G,endAngle:D+he+G});O.push(ne),D=ne.endAngle}else{var{endAngle:k,startAngle:se}=R,U=wr(0,k-se,P),V=rr(rr({},R),{},{startAngle:D+G,endAngle:D+U+G});O.push(V),D=V.endAngle}}),r.current=O,w.createElement(dn,null,w.createElement(IV,{sectors:O,activeShape:h,inactiveShape:m,allOtherPieProps:t,shape:t.shape}))}),w.createElement(RV,{showLabels:!j,sectors:n,props:t}),t.children)}var $V={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!pl.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Kr.area};function UV(e){var{id:t}=e,r=Nm(e,xV),{hide:n,className:s,rootTabIndex:o}=e,u=w.useMemo(()=>Ub(e.children,xs),[e.children]),d=Fe(p=>MH(p,t,u)),h=w.useRef(null),m=St("recharts-pie",s);return n||d==null?(h.current=null,w.createElement(dn,{tabIndex:o,className:m})):w.createElement(Oa,{zIndex:e.zIndex},w.createElement(EV,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:d,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),w.createElement(dn,{tabIndex:o,className:m},w.createElement(qV,{props:rr(rr({},r),{},{sectors:d}),previousSectorsRef:h})))}function Hb(e){var t=qr(e,$V),{id:r}=t,n=Nm(t,bV),s=_a(n);return w.createElement(_k,{id:r,type:"pie"},o=>w.createElement(w.Fragment,null,w.createElement(gV,{type:"pie",id:o,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:s,maxRadius:t.maxRadius}),w.createElement(SV,bs({},n,{id:o})),w.createElement(UV,bs({},n,{id:o}))))}Hb.displayName="Pie";function lA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function oA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lA(Object(r),!0).forEach(function(n){BV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BV(e,t,r){return(t=GV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GV(e){var t=FV(e,"string");return typeof t=="symbol"?t:t+""}function FV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HV={xAxis:{},yAxis:{},zAxis:{}},Ek=An({name:"cartesianAxis",initialState:HV,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Vt()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Vt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Vt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Vt()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Vt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Vt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Vt()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Vt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Vt()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,s=e.yAxis[r];if(s){var o=s.widthHistory||[];if(o.length===3&&o[0]===o[2]&&n===o[1]&&n!==s.width&&Math.abs(n-o[0])<=1)return;var u=[...o,n].slice(-3);e.yAxis[r]=oA(oA({},e.yAxis[r]),{},{width:n,widthHistory:u})}}}}),{addXAxis:VV,replaceXAxis:KV,removeXAxis:YV,addYAxis:WV,replaceYAxis:XV,removeYAxis:ZV,addZAxis:MZ,replaceZAxis:RZ,removeZAxis:IZ,updateYAxisWidth:QV}=Ek.actions,JV=Ek.reducer,eK=re([_r],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),tK=re([eK,Ni,_i],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Ak=()=>Fe(tK),rK="Invariant failed";function nK(e,t){throw new Error(rK)}var aK=["x","y"];function Iv(){return Iv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iv.apply(null,arguments)}function cA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Bc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cA(Object(r),!0).forEach(function(n){iK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iK(e,t,r){return(t=sK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sK(e){var t=lK(e,"string");return typeof t=="symbol"?t:t+""}function lK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oK(e,t){if(e==null)return{};var r,n,s=cK(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function cK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function uK(e,t){var{x:r,y:n}=e,s=oK(e,aK),o="".concat(r),u=parseInt(o,10),d="".concat(n),h=parseInt(d,10),m="".concat(t.height||s.height),p=parseInt(m,10),g="".concat(t.width||s.width),x=parseInt(g,10);return Bc(Bc(Bc(Bc(Bc({},t),s),u?{x:u}:{}),h?{y:h}:{}),{},{height:p,width:x,name:t.name,radius:t.radius})}function wh(e){return w.createElement(wk,Iv({shapeType:"rectangle",propTransformer:uK,activeClassName:"recharts-active-bar"},e))}var dK=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,s)=>{if(Ve(t))return t;var o=Ve(n)||Lr(n);return o?t(n,s):(o||nK(),r)}},fK={},Ok=An({name:"errorBars",initialState:fK,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:s}=t.payload;e[r]&&(e[r]=e[r].map(o=>o.dataKey===n.dataKey&&o.direction===n.direction?s:o))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(s=>s.dataKey!==n.dataKey||s.direction!==n.direction))}}}),{addErrorBar:zZ,replaceErrorBar:LZ,removeErrorBar:qZ}=Ok.actions,hK=Ok.reducer,mK=["children"];function pK(e,t){if(e==null)return{};var r,n,s=gK(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function gK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var yK={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},vK=w.createContext(yK);function xK(e){var{children:t}=e,r=pK(e,mK);return w.createElement(vK.Provider,{value:r},t)}function Ck(e,t){var r,n,s=Fe(m=>Ei(m,e)),o=Fe(m=>Ai(m,t)),u=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:Pr.allowDataOverflow,d=(n=o==null?void 0:o.allowDataOverflow)!==null&&n!==void 0?n:Mr.allowDataOverflow,h=u||d;return{needClip:h,needClipX:u,needClipY:d}}function bK(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,s=Ak(),{needClipX:o,needClipY:u,needClip:d}=Ck(t,r);if(!d||!s)return null;var{x:h,y:m,width:p,height:g}=s;return w.createElement("clipPath",{id:"clipPath-".concat(n)},w.createElement("rect",{x:o?h:h-p/2,y:u?m:m-g/2,width:o?p:p*2,height:u?g:g*2}))}function wK(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&or(e.zIndex)?e.zIndex:t}var Sy={exports:{}},Ey={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uA;function jK(){if(uA)return Ey;uA=1;var e=Oo();function t(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,s=e.useRef,o=e.useEffect,u=e.useMemo,d=e.useDebugValue;return Ey.useSyncExternalStoreWithSelector=function(h,m,p,g,x){var b=s(null);if(b.current===null){var j={hasValue:!1,value:null};b.current=j}else j=b.current;b=u(function(){function _(D){if(!A){if(A=!0,P=D,D=g(D),x!==void 0&&j.hasValue){var R=j.value;if(x(R,D))return O=R}return O=D}if(R=O,r(P,D))return R;var L=g(D);return x!==void 0&&x(R,L)?(P=D,R):(P=D,O=L)}var A=!1,P,O,C=p===void 0?null:p;return[function(){return _(m())},C===null?void 0:function(){return _(C())}]},[m,p,g,x]);var N=n(h,b[0],b[1]);return o(function(){j.hasValue=!0,j.value=N},[N]),d(N),N},Ey}var dA;function NK(){return dA||(dA=1,Sy.exports=jK()),Sy.exports}NK();function _K(e){e()}function SK(){let e=null,t=null;return{clear(){e=null,t=null},notify(){_K(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const s=t={callback:r,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!n||e===null||(n=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var fA={notify(){},get:()=>[]};function EK(e,t){let r,n=fA,s=0,o=!1;function u(N){p();const _=n.subscribe(N);let A=!1;return()=>{A||(A=!0,_(),g())}}function d(){n.notify()}function h(){j.onStateChange&&j.onStateChange()}function m(){return o}function p(){s++,r||(r=e.subscribe(h),n=SK())}function g(){s--,r&&s===0&&(r(),r=void 0,n.clear(),n=fA)}function x(){o||(o=!0,p())}function b(){o&&(o=!1,g())}const j={addNestedSub:u,notifyNestedSubs:d,handleChangeWrapper:h,isSubscribed:m,trySubscribe:x,tryUnsubscribe:b,getListeners:()=>n};return j}var AK=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",OK=AK(),CK=()=>typeof navigator<"u"&&navigator.product==="ReactNative",TK=CK(),DK=()=>OK||TK?w.useLayoutEffect:w.useEffect,kK=DK();function hA(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function PK(e,t){if(hA(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let s=0;s<r.length;s++)if(!Object.prototype.hasOwnProperty.call(t,r[s])||!hA(e[r[s]],t[r[s]]))return!1;return!0}var Ay=Symbol.for("react-redux-context"),Oy=typeof globalThis<"u"?globalThis:{};function MK(){if(!w.createContext)return{};const e=Oy[Ay]??(Oy[Ay]=new Map);let t=e.get(w.createContext);return t||(t=w.createContext(null),e.set(w.createContext,t)),t}var RK=MK();function IK(e){const{children:t,context:r,serverState:n,store:s}=e,o=w.useMemo(()=>{const h=EK(s);return{store:s,subscription:h,getServerState:n?()=>n:void 0}},[s,n]),u=w.useMemo(()=>s.getState(),[s]);kK(()=>{const{subscription:h}=o;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),u!==s.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[o,u]);const d=r||RK;return w.createElement(d.Provider,{value:o},t)}var zK=IK,LK=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function qK(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Vb(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(LK.has(n)){if(e[n]==null&&t[n]==null)continue;if(!PK(e[n],t[n]))return!1}else if(!qK(e[n],t[n]))return!1;return!0}var $K=["onMouseEnter","onMouseLeave","onClick"],UK=["value","background","tooltipPosition"],BK=["id"],GK=["onMouseEnter","onClick","onMouseLeave"];function ji(){return ji=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ji.apply(null,arguments)}function mA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function cn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mA(Object(r),!0).forEach(function(n){FK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FK(e,t,r){return(t=HK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HK(e){var t=VK(e,"string");return typeof t=="symbol"?t:t+""}function VK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jh(e,t){if(e==null)return{};var r,n,s=KK(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function KK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var YK=e=>{var{dataKey:t,name:r,fill:n,legendType:s,hide:o}=e;return[{inactive:o,dataKey:t,type:s,color:n,value:Hh(r,t),payload:e}]},WK=w.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:s,name:o,hide:u,unit:d,tooltipType:h}=e,m={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:s,dataKey:t,nameKey:void 0,name:Hh(o,t),hide:u,type:h,color:s,unit:d}};return w.createElement(jk,{tooltipEntrySettings:m})});function XK(e){var t=Fe(cl),{data:r,dataKey:n,background:s,allOtherBarProps:o}=e,{onMouseEnter:u,onMouseLeave:d,onClick:h}=o,m=jh(o,$K),p=Bb(u,n),g=Gb(d),x=Fb(h,n);if(!s||r==null)return null;var b=Qc(s);return w.createElement(Oa,{zIndex:wK(s,Kr.barBackground)},r.map((j,N)=>{var{value:_,background:A,tooltipPosition:P}=j,O=jh(j,UK);if(!A)return null;var C=p(j,N),D=g(j,N),R=x(j,N),L=cn(cn(cn(cn(cn({option:s,isActive:String(N)===t},O),{},{fill:"#eee"},A),b),bu(m,j,N)),{},{onMouseEnter:C,onMouseLeave:D,onClick:R,dataKey:n,index:N,className:"recharts-bar-background-rectangle"});return w.createElement(wh,ji({key:"background-bar-".concat(N)},L))}))}function ZK(e){var{showLabels:t,children:r,rects:n}=e,s=n==null?void 0:n.map(o=>{var u={x:o.x,y:o.y,width:o.width,lowerWidth:o.width,upperWidth:o.width,height:o.height};return cn(cn({},u),{},{value:o.value,payload:o.payload,parentViewBox:o.parentViewBox,viewBox:u,fill:o.fill})});return w.createElement(gH,{value:t?s:void 0},r)}function QK(e){var{shape:t,activeBar:r,baseProps:n,entry:s,index:o,dataKey:u}=e,d=Fe(cl),h=Fe(VD),m=r&&String(o)===d&&(h==null||u===h),p=m?r:t;return m?w.createElement(Oa,{zIndex:Kr.activeBar},w.createElement(wh,ji({},n,{name:String(n.name)},s,{isActive:m,option:p,index:o,dataKey:u}))):w.createElement(wh,ji({},n,{name:String(n.name)},s,{isActive:m,option:p,index:o,dataKey:u}))}function JK(e){var{shape:t,baseProps:r,entry:n,index:s,dataKey:o}=e;return w.createElement(wh,ji({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:s,dataKey:o}))}function eY(e){var t,{data:r,props:n}=e,s=(t=_a(n))!==null&&t!==void 0?t:{},{id:o}=s,u=jh(s,BK),{shape:d,dataKey:h,activeBar:m}=n,{onMouseEnter:p,onClick:g,onMouseLeave:x}=n,b=jh(n,GK),j=Bb(p,h),N=Gb(x),_=Fb(g,h);return r?w.createElement(w.Fragment,null,r.map((A,P)=>w.createElement(dn,ji({key:"rectangle-".concat(A==null?void 0:A.x,"-").concat(A==null?void 0:A.y,"-").concat(A==null?void 0:A.value,"-").concat(P),className:"recharts-bar-rectangle"},bu(b,A,P),{onMouseEnter:j(A,P),onMouseLeave:N(A,P),onClick:_(A,P)}),m?w.createElement(QK,{shape:d,activeBar:m,baseProps:u,entry:A,index:P,dataKey:h}):w.createElement(JK,{shape:d,baseProps:u,entry:A,index:P,dataKey:h})))):null}function tY(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:s,isAnimationActive:o,animationBegin:u,animationDuration:d,animationEasing:h,onAnimationEnd:m,onAnimationStart:p}=t,g=r.current,x=nm(t,"recharts-bar-"),[b,j]=w.useState(!1),N=!b,_=w.useCallback(()=>{typeof m=="function"&&m(),j(!1)},[m]),A=w.useCallback(()=>{typeof p=="function"&&p(),j(!0)},[p]);return w.createElement(ZK,{showLabels:N,rects:n},w.createElement(rm,{animationId:x,begin:u,duration:d,isActive:o,easing:h,onAnimationEnd:_,onAnimationStart:A,key:x},P=>{var O=P===1?n:n==null?void 0:n.map((C,D)=>{var R=g&&g[D];if(R)return cn(cn({},C),{},{x:wr(R.x,C.x,P),y:wr(R.y,C.y,P),width:wr(R.width,C.width,P),height:wr(R.height,C.height,P)});if(s==="horizontal"){var L=wr(0,C.height,P),H=wr(C.stackedBarStart,C.y,P);return cn(cn({},C),{},{y:H,height:L})}var G=wr(0,C.width,P),he=wr(C.stackedBarStart,C.x,P);return cn(cn({},C),{},{width:G,x:he})});return P>0&&(r.current=O??null),O==null?null:w.createElement(dn,null,w.createElement(eY,{props:t,data:O}))}),w.createElement(pk,{label:t.label}),t.children)}function rY(e){var t=w.useRef(null);return w.createElement(tY,{previousRectanglesRef:t,props:e})}var Tk=0,nY=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Kt(e,t)}};class aY extends w.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:s,xAxisId:o,yAxisId:u,needClip:d,background:h,id:m}=this.props;if(t||r==null)return null;var p=St("recharts-bar",s),g=m;return w.createElement(dn,{className:p,id:m},d&&w.createElement("defs",null,w.createElement(bK,{clipPathId:g,xAxisId:o,yAxisId:u})),w.createElement(dn,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(g,")"):void 0},w.createElement(XK,{data:r,dataKey:n,background:h,allOtherBarProps:this.props}),w.createElement(rY,this.props)))}}var iY={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:Tk,xAxisId:0,yAxisId:0,zIndex:Kr.bar};function sY(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:s,minPointSize:o,activeBar:u,animationBegin:d,animationDuration:h,animationEasing:m,isAnimationActive:p}=e,{needClip:g}=Ck(t,r),x=Zh(),b=On(),j=Ub(e.children,xs),N=Fe(P=>MY(P,t,r,b,e.id,j));if(x!=="vertical"&&x!=="horizontal")return null;var _,A=N==null?void 0:N[0];return A==null||A.height==null||A.width==null?_=0:_=x==="vertical"?A.height/2:A.width/2,w.createElement(xK,{xAxisId:t,yAxisId:r,data:N,dataPointFormatter:nY,errorBarOffset:_},w.createElement(aY,ji({},e,{layout:x,needClip:g,data:N,xAxisId:t,yAxisId:r,hide:n,legendType:s,minPointSize:o,activeBar:u,animationBegin:d,animationDuration:h,animationEasing:m,isAnimationActive:p})))}function lY(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:s,bandSize:o,xAxis:u,yAxis:d,xAxisTicks:h,yAxisTicks:m,stackedData:p,displayedData:g,offset:x,cells:b,parentViewBox:j,dataStartIndex:N}=e,_=t==="horizontal"?d:u,A=p?_.scale.domain():null,P=UL({numericAxis:_}),O=_.scale(P);return g.map((C,D)=>{var R,L,H,G,he,ne;p?R=RL(p[D+N],A):(R=Kt(C,r),Array.isArray(R)||(R=[P,R]));var k=dK(n,Tk)(R[1],D);if(t==="horizontal"){var se,[U,V]=[d.scale(R[0]),d.scale(R[1])];L=PS({axis:u,ticks:h,bandSize:o,offset:s.offset,entry:C,index:D}),H=(se=V??U)!==null&&se!==void 0?se:void 0,G=s.size;var I=U-V;if(he=Sa(I)?0:I,ne={x:L,y:x.top,width:G,height:x.height},Math.abs(k)>0&&Math.abs(he)<Math.abs(k)){var W=zr(he||k)*(Math.abs(k)-Math.abs(he));H-=W,he+=W}}else{var[ue,be]=[u.scale(R[0]),u.scale(R[1])];if(L=ue,H=PS({axis:d,ticks:m,bandSize:o,offset:s.offset,entry:C,index:D}),G=be-ue,he=s.size,ne={x:x.left,y:H,width:x.width,height:he},Math.abs(k)>0&&Math.abs(G)<Math.abs(k)){var Ee=zr(G||k)*(Math.abs(k)-Math.abs(G));G+=Ee}}if(L==null||H==null||G==null||he==null)return null;var z=cn(cn({},C),{},{stackedBarStart:O,x:L,y:H,width:G,height:he,value:p?R:R[1],payload:C,background:ne,tooltipPosition:{x:L+G/2,y:H+he/2},parentViewBox:j},b&&b[D]&&b[D].props);return z}).filter(Boolean)}function oY(e){var t=qr(e,iY),r=On();return w.createElement(_k,{id:t.id,type:"bar"},n=>w.createElement(w.Fragment,null,w.createElement(rV,{legendPayload:YK(t)}),w.createElement(WK,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),w.createElement(pV,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:$L(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),w.createElement(Oa,{zIndex:t.zIndex},w.createElement(sY,ji({},t,{id:n})))))}var _m=w.memo(oY,Vb);_m.displayName="Bar";function pA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function _f(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pA(Object(r),!0).forEach(function(n){cY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cY(e,t,r){return(t=uY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uY(e){var t=dY(e,"string");return typeof t=="symbol"?t:t+""}function dY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fY=(e,t)=>t,hY=(e,t,r)=>r,mY=(e,t,r,n)=>n,pY=(e,t,r,n,s)=>s,qu=re([cb,pY],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),gY=re([qu],e=>e==null?void 0:e.maxBarSize),yY=(e,t,r,n,s,o)=>o,gA=(e,t,r)=>{var n=r??e;if(!Lr(n))return nn(n,t,0)},vY=re([pt,cb,fY,hY,mY],(e,t,r,n,s)=>t.filter(o=>e==="horizontal"?o.xAxisId===r:o.yAxisId===n).filter(o=>o.isPanorama===s).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),xY=(e,t,r,n)=>{var s=pt(e);return s==="horizontal"?Cv(e,"yAxis",r,n):Cv(e,"xAxis",t,n)},bY=(e,t,r)=>{var n=pt(e);return n==="horizontal"?fE(e,"xAxis",t):fE(e,"yAxis",r)},wY=(e,t,r)=>{var n={},s=e.filter(fm),o=e.filter(m=>m.stackId==null),u=s.reduce((m,p)=>(m[p.stackId]||(m[p.stackId]=[]),m[p.stackId].push(p),m),n),d=Object.entries(u).map(m=>{var[p,g]=m,x=g.map(j=>j.dataKey),b=gA(t,r,g[0].barSize);return{stackId:p,dataKeys:x,barSize:b}}),h=o.map(m=>{var p=[m.dataKey].filter(x=>x!=null),g=gA(t,r,m.barSize);return{stackId:void 0,dataKeys:p,barSize:g}});return[...d,...h]},jY=re([vY,n7,bY],wY),NY=(e,t,r,n,s)=>{var o,u,d=qu(e,t,r,n,s);if(d!=null){var h=pt(e),m=KT(e),{maxBarSize:p}=d,g=Lr(p)?m:p,x,b;return h==="horizontal"?(x=Ao(e,"xAxis",t,n),b=Eo(e,"xAxis",t,n)):(x=Ao(e,"yAxis",r,n),b=Eo(e,"yAxis",r,n)),(o=(u=Wf(x,b,!0))!==null&&u!==void 0?u:g)!==null&&o!==void 0?o:0}},Dk=(e,t,r,n)=>{var s=pt(e),o,u;return s==="horizontal"?(o=Ao(e,"xAxis",t,n),u=Eo(e,"xAxis",t,n)):(o=Ao(e,"yAxis",r,n),u=Eo(e,"yAxis",r,n)),Wf(o,u)};function _Y(e,t,r,n,s){var o=n.length;if(!(o<1)){var u=nn(e,r,0,!0),d,h=[];if(or(n[0].barSize)){var m=!1,p=r/o,g=n.reduce((A,P)=>A+(P.barSize||0),0);g+=(o-1)*u,g>=r&&(g-=(o-1)*u,u=0),g>=r&&p>0&&(m=!0,p*=.9,g=o*p);var x=(r-g)/2>>0,b={offset:x-u,size:0};d=n.reduce((A,P)=>{var O,C={stackId:P.stackId,dataKeys:P.dataKeys,position:{offset:b.offset+b.size+u,size:m?p:(O=P.barSize)!==null&&O!==void 0?O:0}},D=[...A,C];return b=D[D.length-1].position,D},h)}else{var j=nn(t,r,0,!0);r-2*j-(o-1)*u<=0&&(u=0);var N=(r-2*j-(o-1)*u)/o;N>1&&(N>>=0);var _=or(s)?Math.min(N,s):N;d=n.reduce((A,P,O)=>[...A,{stackId:P.stackId,dataKeys:P.dataKeys,position:{offset:j+(N+u)*O+(N-_)/2,size:_}}],h)}return d}}var SY=(e,t,r,n,s,o,u)=>{var d=Lr(u)?t:u,h=_Y(r,n,s!==o?s:o,e,d);return s!==o&&h!=null&&(h=h.map(m=>_f(_f({},m),{},{position:_f(_f({},m.position),{},{offset:m.position.offset-s/2})}))),h},EY=re([jY,KT,r7,YT,NY,Dk,gY],SY),AY=(e,t,r,n)=>Ao(e,"xAxis",t,n),OY=(e,t,r,n)=>Ao(e,"yAxis",r,n),CY=(e,t,r,n)=>Eo(e,"xAxis",t,n),TY=(e,t,r,n)=>Eo(e,"yAxis",r,n),DY=re([EY,qu],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),kY=(e,t)=>{var r=sb(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var s=e[n];if(s){var{stackedData:o}=s;if(o)return o.find(u=>u.key===r)}}}},PY=re([xY,qu],kY),MY=re([_r,bx,AY,OY,CY,TY,DY,pt,Zx,Dk,PY,qu,yY],(e,t,r,n,s,o,u,d,h,m,p,g,x)=>{var{chartData:b,dataStartIndex:j,dataEndIndex:N}=h;if(!(g==null||u==null||t==null||d!=="horizontal"&&d!=="vertical"||r==null||n==null||s==null||o==null||m==null)){var{data:_}=g,A;if(_!=null&&_.length>0?A=_:A=b==null?void 0:b.slice(j,N+1),A!=null)return lY({layout:d,barSettings:g,pos:u,parentViewBox:t,bandSize:m,xAxis:r,yAxis:n,xAxisTicks:s,yAxisTicks:o,stackedData:p,displayedData:A,offset:e,cells:x,dataStartIndex:j})}}),kk=e=>{var{chartData:t}=e,r=qt(),n=On();return w.useEffect(()=>n?()=>{}:(r(SE(t)),()=>{r(SE(void 0))}),[t,r,n]),null},yA={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Pk=An({name:"brush",initialState:yA,reducers:{setBrushSettings(e,t){return t.payload==null?yA:t.payload}}}),{setBrushSettings:$Z}=Pk.actions,RY=Pk.reducer;function IY(e,t,r){return(t=zY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zY(e){var t=LY(e,"string");return typeof t=="symbol"?t:t+""}function LY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Kb{static create(t){return new Kb(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(t)+o}default:return this.scale(t)}if(r){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+u}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],s=r[r.length-1];return n<=s?t>=n&&t<=s:t>=s&&t<=n}}IY(Kb,"EPS",1e-4);function qY(e){return(e%180+180)%180}var $Y=function(t){var{width:r,height:n}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=qY(s),u=o*Math.PI/180,d=Math.atan(n/r),h=u>d&&u<Math.PI-d?n/Math.sin(u):r/Math.cos(u);return Math.abs(h)},UY={dots:[],areas:[],lines:[]},Mk=An({name:"referenceElements",initialState:UY,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Na(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Na(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Na(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:UZ,removeDot:BZ,addArea:GZ,removeArea:FZ,addLine:HZ,removeLine:VZ}=Mk.actions,BY=Mk.reducer,GY=w.createContext(void 0),FY=e=>{var{children:t}=e,[r]=w.useState("".concat(Jc("recharts"),"-clip")),n=Ak();if(n==null)return null;var{x:s,y:o,width:u,height:d}=n;return w.createElement(GY.Provider,{value:r},w.createElement("defs",null,w.createElement("clipPath",{id:r},w.createElement("rect",{x:s,y:o,height:d,width:u}))),t)};function Rk(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function HY(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return $Y(n,r)}function VY(e,t,r){var n=r==="width",{x:s,y:o,width:u,height:d}=e;return t===1?{start:n?s:o,end:n?s+u:o+d}:{start:n?s+u:o+d,end:n?s:o}}function Nh(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var o=r();return e*(t-e*o/2-n)>=0&&e*(t+e*o/2-s)<=0}function KY(e,t){return Rk(e,t+1)}function YY(e,t,r,n,s){for(var o=(n||[]).slice(),{start:u,end:d}=t,h=0,m=1,p=u,g=function(){var j=n==null?void 0:n[h];if(j===void 0)return{v:Rk(n,m)};var N=h,_,A=()=>(_===void 0&&(_=r(j,N)),_),P=j.coordinate,O=h===0||Nh(e,P,A,p,d);O||(h=0,p=u,m+=1),O&&(p=P+e*(A()/2+s),h+=m)},x;m<=o.length;)if(x=g(),x)return x.v;return[]}function vA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function en(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vA(Object(r),!0).forEach(function(n){WY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WY(e,t,r){return(t=XY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XY(e){var t=ZY(e,"string");return typeof t=="symbol"?t:t+""}function ZY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QY(e,t,r,n,s){for(var o=(n||[]).slice(),u=o.length,{start:d}=t,{end:h}=t,m=function(x){var b=o[x],j,N=()=>(j===void 0&&(j=r(b,x)),j);if(x===u-1){var _=e*(b.coordinate+e*N()/2-h);o[x]=b=en(en({},b),{},{tickCoord:_>0?b.coordinate-_*e:b.coordinate})}else o[x]=b=en(en({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var A=Nh(e,b.tickCoord,N,d,h);A&&(h=b.tickCoord-e*(N()/2+s),o[x]=en(en({},b),{},{isShow:!0}))}},p=u-1;p>=0;p--)m(p);return o}function JY(e,t,r,n,s,o){var u=(n||[]).slice(),d=u.length,{start:h,end:m}=t;if(o){var p=n[d-1],g=r(p,d-1),x=e*(p.coordinate+e*g/2-m);if(u[d-1]=p=en(en({},p),{},{tickCoord:x>0?p.coordinate-x*e:p.coordinate}),p.tickCoord!=null){var b=Nh(e,p.tickCoord,()=>g,h,m);b&&(m=p.tickCoord-e*(g/2+s),u[d-1]=en(en({},p),{},{isShow:!0}))}}for(var j=o?d-1:d,N=function(P){var O=u[P],C,D=()=>(C===void 0&&(C=r(O,P)),C);if(P===0){var R=e*(O.coordinate-e*D()/2-h);u[P]=O=en(en({},O),{},{tickCoord:R<0?O.coordinate-R*e:O.coordinate})}else u[P]=O=en(en({},O),{},{tickCoord:O.coordinate});if(O.tickCoord!=null){var L=Nh(e,O.tickCoord,D,h,m);L&&(h=O.tickCoord+e*(D()/2+s),u[P]=en(en({},O),{},{isShow:!0}))}},_=0;_<j;_++)N(_);return u}function Yb(e,t,r){var{tick:n,ticks:s,viewBox:o,minTickGap:u,orientation:d,interval:h,tickFormatter:m,unit:p,angle:g}=e;if(!s||!s.length||!n)return[];if(Ve(h)||pl.isSsr){var x;return(x=KY(s,Ve(h)?h:0))!==null&&x!==void 0?x:[]}var b=[],j=d==="top"||d==="bottom"?"width":"height",N=p&&j==="width"?Yc(p,{fontSize:t,letterSpacing:r}):{width:0,height:0},_=(O,C)=>{var D=typeof m=="function"?m(O.value,C):O.value;return j==="width"?HY(Yc(D,{fontSize:t,letterSpacing:r}),N,g):Yc(D,{fontSize:t,letterSpacing:r})[j]},A=s.length>=2?zr(s[1].coordinate-s[0].coordinate):1,P=VY(o,A,j);return h==="equidistantPreserveStart"?YY(A,P,_,s,u):(h==="preserveStart"||h==="preserveStartEnd"?b=JY(A,P,_,s,u,h==="preserveStartEnd"):b=QY(A,P,_,s,u),b.filter(O=>O.isShow))}var eW=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:s=0,tickMargin:o=0}=e,u=0;if(t){Array.from(t).forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>u&&(u=g.width)}});var d=r?r.getBoundingClientRect().width:0,h=s+o,m=u+h+d+(r?n:0);return Math.round(m)}return 0},tW=["axisLine","width","height","className","hide","ticks","axisType"];function rW(e,t){if(e==null)return{};var r,n,s=nW(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function nW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ul(){return ul=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ul.apply(null,arguments)}function xA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function gr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xA(Object(r),!0).forEach(function(n){aW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aW(e,t,r){return(t=iW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iW(e){var t=sW(e,"string");return typeof t=="symbol"?t:t+""}function sW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pi={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Kr.axis};function lW(e){var{x:t,y:r,width:n,height:s,orientation:o,mirror:u,axisLine:d,otherSvgProps:h}=e;if(!d)return null;var m=gr(gr(gr({},h),_a(d)),{},{fill:"none"});if(o==="top"||o==="bottom"){var p=+(o==="top"&&!u||o==="bottom"&&u);m=gr(gr({},m),{},{x1:t,y1:r+p*s,x2:t+n,y2:r+p*s})}else{var g=+(o==="left"&&!u||o==="right"&&u);m=gr(gr({},m),{},{x1:t+g*n,y1:r,x2:t+g*n,y2:r+s})}return w.createElement("line",ul({},m,{className:St("recharts-cartesian-axis-line",il(d,"className"))}))}function oW(e,t,r,n,s,o,u,d,h){var m,p,g,x,b,j,N=d?-1:1,_=e.tickSize||u,A=Ve(e.tickCoord)?e.tickCoord:e.coordinate;switch(o){case"top":m=p=e.coordinate,x=r+ +!d*s,g=x-N*_,j=g-N*h,b=A;break;case"left":g=x=e.coordinate,p=t+ +!d*n,m=p-N*_,b=m-N*h,j=A;break;case"right":g=x=e.coordinate,p=t+ +d*n,m=p+N*_,b=m+N*h,j=A;break;default:m=p=e.coordinate,x=r+ +d*s,g=x+N*_,j=g+N*h,b=A;break}return{line:{x1:m,y1:g,x2:p,y2:x},tick:{x:b,y:j}}}function cW(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function uW(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function dW(e){var{option:t,tickProps:r,value:n}=e,s,o=St(r.className,"recharts-cartesian-axis-tick-value");if(w.isValidElement(t))s=w.cloneElement(t,gr(gr({},r),{},{className:o}));else if(typeof t=="function")s=t(gr(gr({},r),{},{className:o}));else{var u="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(u=St(u,t==null?void 0:t.className)),s=w.createElement(bm,ul({},r,{className:u}),n)}return s}var fW=w.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:s,stroke:o,tickFormatter:u,unit:d,padding:h,tickTextProps:m,orientation:p,mirror:g,x,y:b,width:j,height:N,tickSize:_,tickMargin:A,fontSize:P,letterSpacing:O,getTicksConfig:C,events:D,axisType:R}=e,L=Yb(gr(gr({},C),{},{ticks:r}),P,O),H=cW(p,g),G=uW(p,g),he=_a(C),ne=Qc(n),k={};typeof s=="object"&&(k=s);var se=gr(gr({},he),{},{fill:"none"},k),U=L.map(W=>gr({entry:W},oW(W,x,b,j,N,p,_,g,A))),V=U.map(W=>{var{entry:ue,line:be}=W;return w.createElement(dn,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ue.value,"-").concat(ue.coordinate,"-").concat(ue.tickCoord)},s&&w.createElement("line",ul({},se,be,{className:St("recharts-cartesian-axis-tick-line",il(s,"className"))})))}),I=U.map((W,ue)=>{var{entry:be,tick:Ee}=W,z=gr(gr(gr(gr({textAnchor:H,verticalAnchor:G},he),{},{stroke:"none",fill:o},ne),Ee),{},{index:ue,payload:be,visibleTicksCount:L.length,tickFormatter:u,padding:h},m);return w.createElement(dn,ul({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(be.value,"-").concat(be.coordinate,"-").concat(be.tickCoord)},bu(D,be,ue)),n&&w.createElement(dW,{option:n,tickProps:z,value:"".concat(typeof u=="function"?u(be.value,ue):be.value).concat(d||"")}))});return w.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(R,"-ticks")},I.length>0&&w.createElement(Oa,{zIndex:Kr.label},w.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(R,"-tick-labels"),ref:t},I)),V.length>0&&w.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(R,"-tick-lines")},V))}),hW=w.forwardRef((e,t)=>{var{axisLine:r,width:n,height:s,className:o,hide:u,ticks:d,axisType:h}=e,m=rW(e,tW),[p,g]=w.useState(""),[x,b]=w.useState(""),j=w.useRef(null);w.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var _;return eW({ticks:j.current,label:(_=e.labelRef)===null||_===void 0?void 0:_.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var N=w.useCallback(_=>{if(_){var A=_.getElementsByClassName("recharts-cartesian-axis-tick-value");j.current=A;var P=A[0];if(P){var O=window.getComputedStyle(P),C=O.fontSize,D=O.letterSpacing;(C!==p||D!==x)&&(g(C),b(D))}}},[p,x]);return u||n!=null&&n<=0||s!=null&&s<=0?null:w.createElement(Oa,{zIndex:e.zIndex},w.createElement(dn,{className:St("recharts-cartesian-axis",o)},w.createElement(lW,{x:e.x,y:e.y,width:n,height:s,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:_a(e)}),w.createElement(fW,{ref:N,axisType:h,events:m,fontSize:p,getTicksConfig:e,height:e.height,letterSpacing:x,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:d,unit:e.unit,width:e.width,x:e.x,y:e.y}),w.createElement(WF,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},w.createElement(iH,{label:e.label,labelRef:e.labelRef}),e.children)))}),Wb=w.forwardRef((e,t)=>{var r=qr(e,pi);return w.createElement(hW,ul({},r,{ref:t}))});Wb.displayName="CartesianAxis";var mW=["x1","y1","x2","y2","key"],pW=["offset"],gW=["xAxisId","yAxisId"],yW=["xAxisId","yAxisId"];function bA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function tn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bA(Object(r),!0).forEach(function(n){vW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vW(e,t,r){return(t=xW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xW(e){var t=bW(e,"string");return typeof t=="symbol"?t:t+""}function bW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ws(){return Ws=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ws.apply(null,arguments)}function _h(e,t){if(e==null)return{};var r,n,s=wW(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function wW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var jW=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:s,width:o,height:u,ry:d}=e;return w.createElement("rect",{x:n,y:s,ry:d,width:o,height:u,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Ik(e){var{option:t,lineItemProps:r}=e,n;if(w.isValidElement(t))n=w.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var s,{x1:o,y1:u,x2:d,y2:h,key:m}=r,p=_h(r,mW),g=(s=_a(p))!==null&&s!==void 0?s:{},{offset:x}=g,b=_h(g,pW);n=w.createElement("line",Ws({},b,{x1:o,y1:u,x2:d,y2:h,fill:"none",key:m}))}return n}function NW(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:s}=e;if(!n||!s||!s.length)return null;var{xAxisId:o,yAxisId:u}=e,d=_h(e,gW),h=s.map((m,p)=>{var g=tn(tn({},d),{},{x1:t,y1:m,x2:t+r,y2:m,key:"line-".concat(p),index:p});return w.createElement(Ik,{key:"line-".concat(p),option:n,lineItemProps:g})});return w.createElement("g",{className:"recharts-cartesian-grid-horizontal"},h)}function _W(e){var{y:t,height:r,vertical:n=!0,verticalPoints:s}=e;if(!n||!s||!s.length)return null;var{xAxisId:o,yAxisId:u}=e,d=_h(e,yW),h=s.map((m,p)=>{var g=tn(tn({},d),{},{x1:m,y1:t,x2:m,y2:t+r,key:"line-".concat(p),index:p});return w.createElement(Ik,{option:n,lineItemProps:g,key:"line-".concat(p)})});return w.createElement("g",{className:"recharts-cartesian-grid-vertical"},h)}function SW(e){var{horizontalFill:t,fillOpacity:r,x:n,y:s,width:o,height:u,horizontalPoints:d,horizontal:h=!0}=e;if(!h||!t||!t.length||d==null)return null;var m=d.map(g=>Math.round(g+s-s)).sort((g,x)=>g-x);s!==m[0]&&m.unshift(0);var p=m.map((g,x)=>{var b=!m[x+1],j=b?s+u-g:m[x+1]-g;if(j<=0)return null;var N=x%t.length;return w.createElement("rect",{key:"react-".concat(x),y:g,x:n,height:j,width:o,stroke:"none",fill:t[N],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function EW(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:s,y:o,width:u,height:d,verticalPoints:h}=e;if(!t||!r||!r.length)return null;var m=h.map(g=>Math.round(g+s-s)).sort((g,x)=>g-x);s!==m[0]&&m.unshift(0);var p=m.map((g,x)=>{var b=!m[x+1],j=b?s+u-g:m[x+1]-g;if(j<=0)return null;var N=x%r.length;return w.createElement("rect",{key:"react-".concat(x),x:g,y:o,width:j,height:d,stroke:"none",fill:r[N],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var AW=(e,t)=>{var{xAxis:r,width:n,height:s,offset:o}=e;return wC(Yb(tn(tn(tn({},pi),r),{},{ticks:jC(r),viewBox:{x:0,y:0,width:n,height:s}})),o.left,o.left+o.width,t)},OW=(e,t)=>{var{yAxis:r,width:n,height:s,offset:o}=e;return wC(Yb(tn(tn(tn({},pi),r),{},{ticks:jC(r),viewBox:{x:0,y:0,width:n,height:s}})),o.top,o.top+o.height,t)},CW={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Kr.grid};function Sm(e){var t=jx(),r=Nx(),n=TC(),s=tn(tn({},qr(e,CW)),{},{x:Ve(e.x)?e.x:n.left,y:Ve(e.y)?e.y:n.top,width:Ve(e.width)?e.width:n.width,height:Ve(e.height)?e.height:n.height}),{xAxisId:o,yAxisId:u,x:d,y:h,width:m,height:p,syncWithTicks:g,horizontalValues:x,verticalValues:b}=s,j=On(),N=Fe(G=>hE(G,"xAxis",o,j)),_=Fe(G=>hE(G,"yAxis",u,j));if(!Ba(m)||!Ba(p)||!Ve(d)||!Ve(h))return null;var A=s.verticalCoordinatesGenerator||AW,P=s.horizontalCoordinatesGenerator||OW,{horizontalPoints:O,verticalPoints:C}=s;if((!O||!O.length)&&typeof P=="function"){var D=x&&x.length,R=P({yAxis:_?tn(tn({},_),{},{ticks:D?x:_.ticks}):void 0,width:t??m,height:r??p,offset:n},D?!0:g);Xf(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof R,"]")),Array.isArray(R)&&(O=R)}if((!C||!C.length)&&typeof A=="function"){var L=b&&b.length,H=A({xAxis:N?tn(tn({},N),{},{ticks:L?b:N.ticks}):void 0,width:t??m,height:r??p,offset:n},L?!0:g);Xf(Array.isArray(H),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof H,"]")),Array.isArray(H)&&(C=H)}return w.createElement(Oa,{zIndex:s.zIndex},w.createElement("g",{className:"recharts-cartesian-grid"},w.createElement(jW,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),w.createElement(SW,Ws({},s,{horizontalPoints:O})),w.createElement(EW,Ws({},s,{verticalPoints:C})),w.createElement(NW,Ws({},s,{offset:n,horizontalPoints:O,xAxis:N,yAxis:_})),w.createElement(_W,Ws({},s,{offset:n,verticalPoints:C,xAxis:N,yAxis:_}))))}Sm.displayName="CartesianGrid";var TW=["domain","range"],DW=["domain","range"];function wA(e,t){if(e==null)return{};var r,n,s=kW(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function kW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function jA(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function zk(e,t){if(e===t)return!0;var{domain:r,range:n}=e,s=wA(e,TW),{domain:o,range:u}=t,d=wA(t,DW);return!jA(r,o)||!jA(n,u)?!1:Vb(s,d)}var PW=["dangerouslySetInnerHTML","ticks"],MW=["id"];function zv(){return zv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zv.apply(null,arguments)}function NA(e,t){if(e==null)return{};var r,n,s=RW(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function RW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function IW(e){var t=qt(),r=w.useRef(null);return w.useLayoutEffect(()=>{r.current===null?t(VV(e)):r.current!==e&&t(KV({prev:r.current,next:e})),r.current=e},[e,t]),w.useLayoutEffect(()=>()=>{r.current&&(t(YV(r.current)),r.current=null)},[t]),null}var zW=e=>{var{xAxisId:t,className:r}=e,n=Fe(bx),s=On(),o="xAxis",u=Fe(_=>Io(_,o,t,s)),d=Fe(_=>ED(_,o,t,s)),h=Fe(_=>jD(_,t)),m=Fe(_=>e9(_,t)),p=Fe(_=>nD(_,t));if(h==null||m==null||p==null)return null;var{dangerouslySetInnerHTML:g,ticks:x}=e,b=NA(e,PW),{id:j}=p,N=NA(p,MW);return w.createElement(Wb,zv({},b,N,{scale:u,x:m.x,y:m.y,width:h.width,height:h.height,className:St("recharts-".concat(o," ").concat(o),r),viewBox:n,ticks:d,axisType:o}))},LW={allowDataOverflow:Pr.allowDataOverflow,allowDecimals:Pr.allowDecimals,allowDuplicatedCategory:Pr.allowDuplicatedCategory,angle:Pr.angle,axisLine:pi.axisLine,height:Pr.height,hide:!1,includeHidden:Pr.includeHidden,interval:Pr.interval,minTickGap:Pr.minTickGap,mirror:Pr.mirror,orientation:Pr.orientation,padding:Pr.padding,reversed:Pr.reversed,scale:Pr.scale,tick:Pr.tick,tickCount:Pr.tickCount,tickLine:pi.tickLine,tickSize:pi.tickSize,type:Pr.type,xAxisId:0},qW=e=>{var t=qr(e,LW);return w.createElement(w.Fragment,null,w.createElement(IW,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),w.createElement(zW,t))},Em=w.memo(qW,zk);Em.displayName="XAxis";var $W=["dangerouslySetInnerHTML","ticks"],UW=["id"];function Lv(){return Lv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lv.apply(null,arguments)}function _A(e,t){if(e==null)return{};var r,n,s=BW(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function BW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function GW(e){var t=qt(),r=w.useRef(null);return w.useLayoutEffect(()=>{r.current===null?t(WV(e)):r.current!==e&&t(XV({prev:r.current,next:e})),r.current=e},[e,t]),w.useLayoutEffect(()=>()=>{r.current&&(t(ZV(r.current)),r.current=null)},[t]),null}var FW=e=>{var{yAxisId:t,className:r,width:n,label:s}=e,o=w.useRef(null),u=w.useRef(null),d=Fe(bx),h=On(),m=qt(),p="yAxis",g=Fe(D=>Io(D,p,t,h)),x=Fe(D=>ND(D,t)),b=Fe(D=>r9(D,t)),j=Fe(D=>ED(D,p,t,h)),N=Fe(D=>aD(D,t));if(w.useLayoutEffect(()=>{if(!(n!=="auto"||!x||Lb(s)||w.isValidElement(s)||N==null)){var D=o.current;if(D){var R=D.getCalculatedWidth();Math.round(x.width)!==Math.round(R)&&m(QV({id:t,width:R}))}}},[j,x,m,s,t,n,N]),x==null||b==null||N==null)return null;var{dangerouslySetInnerHTML:_,ticks:A}=e,P=_A(e,$W),{id:O}=N,C=_A(N,UW);return w.createElement(Wb,Lv({},P,C,{ref:o,labelRef:u,scale:g,x:b.x,y:b.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:x.width,height:x.height,className:St("recharts-".concat(p," ").concat(p),r),viewBox:d,ticks:j,axisType:p}))},HW={allowDataOverflow:Mr.allowDataOverflow,allowDecimals:Mr.allowDecimals,allowDuplicatedCategory:Mr.allowDuplicatedCategory,angle:Mr.angle,axisLine:pi.axisLine,hide:!1,includeHidden:Mr.includeHidden,interval:Mr.interval,minTickGap:Mr.minTickGap,mirror:Mr.mirror,orientation:Mr.orientation,padding:Mr.padding,reversed:Mr.reversed,scale:Mr.scale,tick:Mr.tick,tickCount:Mr.tickCount,tickLine:pi.tickLine,tickSize:pi.tickSize,type:Mr.type,width:Mr.width,yAxisId:0},VW=e=>{var t=qr(e,HW);return w.createElement(w.Fragment,null,w.createElement(GW,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),w.createElement(FW,t))},Am=w.memo(VW,zk);Am.displayName="YAxis";var KW=(e,t)=>t,Xb=re([KW,pt,tD,Er,BD,Oi,gG,_r],NG),Zb=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},Lk=ca("mouseClick"),qk=Nu();qk.startListening({actionCreator:Lk,effect:(e,t)=>{var r=e.payload,n=Xb(t.getState(),Zb(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(g9({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var qv=ca("mouseMove"),$k=Nu(),Sf=null;$k.startListening({actionCreator:qv,effect:(e,t)=>{var r=e.payload;Sf!==null&&cancelAnimationFrame(Sf);var n=Zb(r);Sf=requestAnimationFrame(()=>{var s=t.getState(),o=Ob(s,s.tooltip.settings.shared);if(o==="axis"){var u=Xb(s,n);(u==null?void 0:u.activeIndex)!=null?t.dispatch(MD({activeIndex:u.activeIndex,activeDataKey:void 0,activeCoordinate:u.activeCoordinate})):t.dispatch(PD())}Sf=null})}});var SA={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},Uk=An({name:"rootProps",initialState:SA,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:SA.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),YW=Uk.reducer,{updateOptions:WW}=Uk.actions,Bk=An({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:XW}=Bk.actions,ZW=Bk.reducer,Gk=ca("keyDown"),Fk=ca("focus"),Qb=Nu();Qb.startListening({actionCreator:Gk,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip,o=e.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var u=Cb(s,Lo(r),Mu(r),Lu(r)),d=u==null?-1:Number(u);if(!(!Number.isFinite(d)||d<0)){var h=Oi(r);if(o==="Enter"){var m=yh(r,"axis","hover",String(s.index));t.dispatch(Dv({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:m}));return}var p=s9(r),g=p==="left-to-right"?1:-1,x=o==="ArrowRight"?1:-1,b=d+x*g;if(!(h==null||b>=h.length||b<0)){var j=yh(r,"axis","hover",String(b));t.dispatch(Dv({active:!0,activeIndex:b.toString(),activeDataKey:void 0,activeCoordinate:j}))}}}}}});Qb.startListening({actionCreator:Fk,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip;if(!s.active&&s.index==null){var o="0",u=yh(r,"axis","hover",String(o));t.dispatch(Dv({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:u}))}}}});var na=ca("externalEvent"),Hk=Nu(),Cy=new Map;Hk.startListening({actionCreator:na,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var s=n.type,o=Cy.get(s);o!==void 0&&cancelAnimationFrame(o);var u=requestAnimationFrame(()=>{try{var d=t.getState(),h={activeCoordinate:tG(d),activeDataKey:VD(d),activeIndex:cl(d),activeLabel:HD(d),activeTooltipIndex:cl(d),isTooltipActive:rG(d)};r(h,n)}finally{Cy.delete(s)}});Cy.set(s,u)}}});var QW=re([zo],e=>e.tooltipItemPayloads),JW=re([QW,Iu,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var s=e.find(d=>d.settings.dataKey===n);if(s!=null){var{positions:o}=s;if(o!=null){var u=t(o,r);return u}}}),Vk=ca("touchMove"),Kk=Nu();Kk.startListening({actionCreator:Vk,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),s=Ob(n,n.tooltip.settings.shared);if(s==="axis"){var o=Xb(n,Zb({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(MD({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(s==="item"){var u,d=r.touches[0];if(document.elementFromPoint==null)return;var h=document.elementFromPoint(d.clientX,d.clientY);if(!h||!h.getAttribute)return;var m=h.getAttribute(_C),p=(u=h.getAttribute(SC))!==null&&u!==void 0?u:void 0,g=JW(t.getState(),m,p);t.dispatch(kD({activeDataKey:p,activeIndex:m,activeCoordinate:g}))}}}});var eX=VO({brush:RY,cartesianAxis:JV,chartData:eF,errorBars:hK,graphicalItems:hV,layout:CL,legend:z8,options:WG,polarAxis:AH,polarOptions:ZW,referenceElements:BY,rootProps:YW,tooltip:y9,zIndex:zG}),tX=function(t){return eL({reducer:eX,preloadedState:t,middleware:r=>{var n;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((n="es6")!==null&&n!==void 0?n:"")}).concat([qk.middleware,$k.middleware,Qb.middleware,Hk.middleware,Kk.middleware])},enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(lC({type:"raf"}))},devTools:pl.devToolsEnabled})};function Yk(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,s=On(),o=w.useRef(null);if(s)return r;o.current==null&&(o.current=tX(t));var u=dx;return w.createElement(zK,{context:u,store:o.current},r)}function rX(e){var{layout:t,margin:r}=e,n=qt(),s=On();return w.useEffect(()=>{s||(n(EL(t)),n(SL(r)))},[n,s,t,r]),null}var Wk=w.memo(rX,Vb);function Xk(e){var t=qt();return w.useEffect(()=>{t(WW(e))},[t,e]),null}function EA(e){var{zIndex:t,isPanorama:r}=e,n=r?"recharts-zindex-panorama-":"recharts-zindex-",s=Nk("".concat(n).concat(t)),o=qt();return w.useLayoutEffect(()=>(o(RG({zIndex:t,elementId:s,isPanorama:r})),()=>{o(IG({zIndex:t,isPanorama:r}))}),[o,t,s,r]),w.createElement("g",{id:s})}function AA(e){var{children:t,isPanorama:r}=e,n=Fe(SG);if(!n||n.length===0)return t;var s=n.filter(u=>u<0),o=n.filter(u=>u>0);return w.createElement(w.Fragment,null,s.map(u=>w.createElement(EA,{key:u,zIndex:u,isPanorama:r})),t,o.map(u=>w.createElement(EA,{key:u,zIndex:u,isPanorama:r})))}var nX=["children"];function aX(e,t){if(e==null)return{};var r,n,s=iX(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function iX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Sh(){return Sh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sh.apply(null,arguments)}var sX={width:"100%",height:"100%",display:"block"},lX=w.forwardRef((e,t)=>{var r=jx(),n=Nx(),s=BC();if(!Ba(r)||!Ba(n))return null;var{children:o,otherAttributes:u,title:d,desc:h}=e,m,p;return u!=null&&(typeof u.tabIndex=="number"?m=u.tabIndex:m=s?0:void 0,typeof u.role=="string"?p=u.role:p=s?"application":void 0),w.createElement(tx,Sh({},u,{title:d,desc:h,role:p,tabIndex:m,width:r,height:n,style:sX,ref:t}),o)}),oX=e=>{var{children:t}=e,r=Fe(Wh);if(!r)return null;var{width:n,height:s,y:o,x:u}=r;return w.createElement(tx,{width:n,height:s,x:u,y:o},t)},OA=w.forwardRef((e,t)=>{var{children:r}=e,n=aX(e,nX),s=On();return s?w.createElement(oX,null,w.createElement(AA,{isPanorama:!0},r)):w.createElement(lX,Sh({ref:t},n),w.createElement(AA,{isPanorama:!1},r))});function cX(){var e=qt(),[t,r]=w.useState(null),n=Fe(KL);return w.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),o=s.width/t.offsetWidth;or(o)&&o!==n&&e(OL(o))}},[t,e,n]),r}function CA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function uX(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CA(Object(r),!0).forEach(function(n){dX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dX(e,t,r){return(t=fX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fX(e){var t=hX(e,"string");return typeof t=="symbol"?t:t+""}function hX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dl(){return dl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dl.apply(null,arguments)}var mX=()=>(cF(),null);function Eh(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var pX=w.forwardRef((e,t)=>{var r,n,s=w.useRef(null),[o,u]=w.useState({containerWidth:Eh((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:Eh((n=e.style)===null||n===void 0?void 0:n.height)}),d=w.useCallback((m,p)=>{u(g=>{var x=Math.round(m),b=Math.round(p);return g.containerWidth===x&&g.containerHeight===b?g:{containerWidth:x,containerHeight:b}})},[]),h=w.useCallback(m=>{if(typeof t=="function"&&t(m),m!=null&&typeof ResizeObserver<"u"){var{width:p,height:g}=m.getBoundingClientRect();d(p,g);var x=j=>{var{width:N,height:_}=j[0].contentRect;d(N,_)},b=new ResizeObserver(x);b.observe(m),s.current=b}},[t,d]);return w.useEffect(()=>()=>{var m=s.current;m!=null&&m.disconnect()},[d]),w.createElement(w.Fragment,null,w.createElement(Qh,{width:o.containerWidth,height:o.containerHeight}),w.createElement("div",dl({ref:h},e)))}),gX=w.forwardRef((e,t)=>{var{width:r,height:n}=e,[s,o]=w.useState({containerWidth:Eh(r),containerHeight:Eh(n)}),u=w.useCallback((h,m)=>{o(p=>{var g=Math.round(h),x=Math.round(m);return p.containerWidth===g&&p.containerHeight===x?p:{containerWidth:g,containerHeight:x}})},[]),d=w.useCallback(h=>{if(typeof t=="function"&&t(h),h!=null){var{width:m,height:p}=h.getBoundingClientRect();u(m,p)}},[t,u]);return w.createElement(w.Fragment,null,w.createElement(Qh,{width:s.containerWidth,height:s.containerHeight}),w.createElement("div",dl({ref:d},e)))}),yX=w.forwardRef((e,t)=>{var{width:r,height:n}=e;return w.createElement(w.Fragment,null,w.createElement(Qh,{width:r,height:n}),w.createElement("div",dl({ref:t},e)))}),vX=w.forwardRef((e,t)=>{var{width:r,height:n}=e;return gi(r)||gi(n)?w.createElement(gX,dl({},e,{ref:t})):w.createElement(yX,dl({},e,{ref:t}))});function xX(e){return e===!0?pX:vX}var bX=w.forwardRef((e,t)=>{var{children:r,className:n,height:s,onClick:o,onContextMenu:u,onDoubleClick:d,onMouseDown:h,onMouseEnter:m,onMouseLeave:p,onMouseMove:g,onMouseUp:x,onTouchEnd:b,onTouchMove:j,onTouchStart:N,style:_,width:A,responsive:P,dispatchTouchEvents:O=!0}=e,C=w.useRef(null),D=qt(),[R,L]=w.useState(null),[H,G]=w.useState(null),he=cX(),ne=wx(),k=(ne==null?void 0:ne.width)>0?ne.width:A,se=(ne==null?void 0:ne.height)>0?ne.height:s,U=w.useCallback(X=>{he(X),typeof t=="function"&&t(X),L(X),G(X),X!=null&&(C.current=X)},[he,t,L,G]),V=w.useCallback(X=>{D(Lk(X)),D(na({handler:o,reactEvent:X}))},[D,o]),I=w.useCallback(X=>{D(qv(X)),D(na({handler:m,reactEvent:X}))},[D,m]),W=w.useCallback(X=>{D(PD()),D(na({handler:p,reactEvent:X}))},[D,p]),ue=w.useCallback(X=>{D(qv(X)),D(na({handler:g,reactEvent:X}))},[D,g]),be=w.useCallback(()=>{D(Fk())},[D]),Ee=w.useCallback(X=>{D(Gk(X.key))},[D]),z=w.useCallback(X=>{D(na({handler:u,reactEvent:X}))},[D,u]),K=w.useCallback(X=>{D(na({handler:d,reactEvent:X}))},[D,d]),ge=w.useCallback(X=>{D(na({handler:h,reactEvent:X}))},[D,h]),B=w.useCallback(X=>{D(na({handler:x,reactEvent:X}))},[D,x]),je=w.useCallback(X=>{D(na({handler:N,reactEvent:X}))},[D,N]),_e=w.useCallback(X=>{O&&D(Vk(X)),D(na({handler:j,reactEvent:X}))},[D,O,j]),me=w.useCallback(X=>{D(na({handler:b,reactEvent:X}))},[D,b]),Re=xX(P);return w.createElement(JD.Provider,{value:R},w.createElement(cO.Provider,{value:H},w.createElement(Re,{width:k??(_==null?void 0:_.width),height:se??(_==null?void 0:_.height),className:St("recharts-wrapper",n),style:uX({position:"relative",cursor:"default",width:k,height:se},_),onClick:V,onContextMenu:z,onDoubleClick:K,onFocus:be,onKeyDown:Ee,onMouseDown:ge,onMouseEnter:I,onMouseLeave:W,onMouseMove:ue,onMouseUp:B,onTouchEnd:me,onTouchMove:_e,onTouchStart:je,ref:U},w.createElement(mX,null),r)))}),wX=["width","height","responsive","children","className","style","compact","title","desc"];function jX(e,t){if(e==null)return{};var r,n,s=NX(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function NX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Zk=w.forwardRef((e,t)=>{var{width:r,height:n,responsive:s,children:o,className:u,style:d,compact:h,title:m,desc:p}=e,g=jX(e,wX),x=_a(g);return h?w.createElement(w.Fragment,null,w.createElement(Qh,{width:r,height:n}),w.createElement(OA,{otherAttributes:x,title:m,desc:p},o)):w.createElement(bX,{className:u,style:d,width:r,height:n,responsive:s??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},w.createElement(OA,{otherAttributes:x,title:m,desc:p,ref:t},w.createElement(FY,null,o)))});function $v(){return $v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$v.apply(null,arguments)}var _X={top:5,right:5,bottom:5,left:5},SX={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:_X,reverseStackOrder:!1,syncMethod:"index",responsive:!1},EX=w.forwardRef(function(t,r){var n,s=qr(t.categoricalChartProps,SX),{chartName:o,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:h,categoricalChartProps:m}=t,p={chartName:o,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:h,eventEmitter:void 0};return w.createElement(Yk,{preloadedState:{options:p},reduxStoreName:(n=m.id)!==null&&n!==void 0?n:o},w.createElement(kk,{chartData:m.data}),w.createElement(Wk,{layout:s.layout,margin:s.margin}),w.createElement(Xk,{baseValue:s.baseValue,accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className,reverseStackOrder:s.reverseStackOrder}),w.createElement(Zk,$v({},s,{ref:r})))}),AX=["axis","item"],Jb=w.forwardRef((e,t)=>w.createElement(EX,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:AX,tooltipPayloadSearcher:ek,categoricalChartProps:e,ref:t}));function OX(e){var t=qt();return w.useEffect(()=>{t(XW(e))},[t,e]),null}var CX=["layout"];function Uv(){return Uv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uv.apply(null,arguments)}function TX(e,t){if(e==null)return{};var r,n,s=DX(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function DX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var kX={top:5,right:5,bottom:5,left:5},PX={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:kX,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},MX=w.forwardRef(function(t,r){var n,s=qr(t.categoricalChartProps,PX),{layout:o}=s,u=TX(s,CX),{chartName:d,defaultTooltipEventType:h,validateTooltipEventTypes:m,tooltipPayloadSearcher:p}=t,g={chartName:d,defaultTooltipEventType:h,validateTooltipEventTypes:m,tooltipPayloadSearcher:p,eventEmitter:void 0};return w.createElement(Yk,{preloadedState:{options:g},reduxStoreName:(n=s.id)!==null&&n!==void 0?n:d},w.createElement(kk,{chartData:s.data}),w.createElement(Wk,{layout:o,margin:s.margin}),w.createElement(Xk,{baseValue:void 0,accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className,reverseStackOrder:s.reverseStackOrder}),w.createElement(OX,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),w.createElement(Zk,Uv({},u,{ref:r})))}),RX=["item"],IX={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Qk=w.forwardRef((e,t)=>{var r=qr(e,IX);return w.createElement(MX,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:RX,tooltipPayloadSearcher:ek,categoricalChartProps:r,ref:t})});const TA=({onNavigate:e})=>{var U;const{inventory:t,requisitions:r,items:n,locations:s,currentUser:o,selectedDepartmentId:u,isAdminOrGM:d,transactions:h,accountingEntries:m,performanceRecords:p,allUsers:g,getItemName:x,getLocationName:b,hasPermission:j}=Nr(),[N,_]=w.useState(!1),[A,P]=w.useState(new Date().toISOString().split("T")[0]),O=u||(d?null:o==null?void 0:o.locationId),R=(O?s.filter(V=>V.id===O||V.parentId===O):s).map(V=>V.id),L=t.filter(V=>R.includes(V.locationId)),H=r.filter(V=>R.includes(V.sourceLocationId)||R.includes(V.targetLocationId)),G=n.map(V=>{const I=L.filter(W=>W.itemId===V.id).reduce((W,ue)=>W+ue.quantity,0);return{name:V.name.split(" ")[0],total:I,fullName:V.name}}),he=H.filter(V=>V.status==="PENDING").length,ne=H.filter(V=>V.status==="IN_TRANSIT").length,k=w.useMemo(()=>{const V=A,I=h.filter(_e=>_e.date.startsWith(V)),W=I.filter(_e=>_e.type===xa.SALE),ue=I.filter(_e=>_e.type===xa.EXPENSE),be=W.reduce((_e,me)=>_e+me.amount,0),Ee=ue.reduce((_e,me)=>_e+me.amount,0),z=m.filter(_e=>_e.date.startsWith(V)),K=z.reduce((_e,me)=>_e+me.totalValue,0),ge=r.filter(_e=>_e.updatedAt.startsWith(V)),je=p.filter(_e=>_e.date===V&&_e.status===yt.ABSENT).map(_e=>g.find(me=>me.id===_e.workerId)).filter(Boolean);return{sales:W,expenses:ue,purchases:z,movements:ge,absentWorkers:je,totalSales:be,totalExpenses:Ee,totalPurchasesValue:K}},[A,h,m,r,p,g]),se=V=>new Intl.NumberFormat("pt-MZ",{style:"currency",currency:"MZN"}).format(V);return l.jsxs("div",{className:"space-y-6 pb-20 md:pb-0",children:[e&&l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4",children:[l.jsxs("button",{onClick:()=>e("requisitions"),className:"bg-white p-3 md:p-4 rounded-xl shadow-sm border border-gray-100 hover:shadow-md hover:border-blue-200 transition-all text-left group active:scale-95",children:[l.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 bg-blue-50 text-blue-600 rounded-lg flex items-center justify-center mb-2 md:mb-3 group-hover:bg-blue-600 group-hover:text-white transition-colors",children:l.jsx(za,{size:18})}),l.jsx("h4",{className:"font-bold text-gray-800 text-sm md:text-base",children:"Requisies"}),l.jsx("p",{className:"text-[10px] md:text-xs text-gray-500 mt-1 line-clamp-1",children:"Gerenciar pedidos"})]}),l.jsxs("button",{onClick:()=>e("inventory"),className:"bg-white p-3 md:p-4 rounded-xl shadow-sm border border-gray-100 hover:shadow-md hover:border-emerald-200 transition-all text-left group active:scale-95",children:[l.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 bg-emerald-50 text-emerald-600 rounded-lg flex items-center justify-center mb-2 md:mb-3 group-hover:bg-emerald-600 group-hover:text-white transition-colors",children:l.jsx(Xv,{size:18})}),l.jsx("h4",{className:"font-bold text-gray-800 text-sm md:text-base",children:"Estoque"}),l.jsx("p",{className:"text-[10px] md:text-xs text-gray-500 mt-1 line-clamp-1",children:"Visualizar e adicionar"})]}),l.jsxs("button",{onClick:()=>e("performance"),className:"bg-white p-3 md:p-4 rounded-xl shadow-sm border border-gray-100 hover:shadow-md hover:border-purple-200 transition-all text-left group active:scale-95",children:[l.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 bg-purple-50 text-purple-600 rounded-lg flex items-center justify-center mb-2 md:mb-3 group-hover:bg-purple-600 group-hover:text-white transition-colors",children:l.jsx(Ly,{size:18})}),l.jsx("h4",{className:"font-bold text-gray-800 text-sm md:text-base",children:"Desempenho"}),l.jsx("p",{className:"text-[10px] md:text-xs text-gray-500 mt-1 line-clamp-1",children:"RH e Produtividade"})]}),j("VIEW_REPORTS")&&l.jsxs("button",{onClick:()=>_(!0),className:"bg-white p-3 md:p-4 rounded-xl shadow-sm border border-gray-100 hover:shadow-md hover:border-orange-200 transition-all text-left group active:scale-95",children:[l.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 bg-orange-50 text-orange-600 rounded-lg flex items-center justify-center mb-2 md:mb-3 group-hover:bg-orange-600 group-hover:text-white transition-colors",children:l.jsx(la,{size:18})}),l.jsx("h4",{className:"font-bold text-gray-800 text-sm md:text-base",children:"Relatrios"}),l.jsx("p",{className:"text-[10px] md:text-xs text-gray-500 mt-1 line-clamp-1",children:"Viso Diria"})]})]}),O&&l.jsxs("div",{className:"bg-blue-50 border border-blue-100 p-3 md:p-4 rounded-xl flex items-center gap-3 text-blue-800",children:[l.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:l.jsx(ys,{size:18})}),l.jsxs("div",{children:[l.jsxs("h3",{className:"font-bold text-sm md:text-base",children:["Visualizando: ",(U=s.find(V=>V.id===O))==null?void 0:U.name]}),l.jsx("p",{className:"text-[10px] md:text-xs text-blue-600",children:"Dados filtrados para este departamento."})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6",children:[l.jsxs("div",{className:"bg-white p-4 md:p-6 rounded-xl shadow-sm border border-gray-100 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs md:text-sm text-gray-500 font-medium",children:"Req. Pendentes"}),l.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-gray-900 mt-1",children:he})]}),l.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-yellow-100 text-yellow-600 rounded-full flex items-center justify-center",children:l.jsx(A3,{size:20})})]}),l.jsxs("div",{className:"bg-white p-4 md:p-6 rounded-xl shadow-sm border border-gray-100 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs md:text-sm text-gray-500 font-medium",children:"Em Trnsito"}),l.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-gray-900 mt-1",children:ne})]}),l.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center",children:l.jsx(yu,{size:20})})]}),l.jsxs("div",{className:"bg-white p-4 md:p-6 rounded-xl shadow-sm border border-gray-100 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs md:text-sm text-gray-500 font-medium",children:"Tipos em Estoque"}),l.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-gray-900 mt-1",children:n.length})]}),l.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-green-100 text-green-600 rounded-full flex items-center justify-center",children:l.jsx(Y5,{size:20})})]})]}),l.jsx("div",{className:"grid grid-cols-1 gap-6",children:l.jsxs("div",{className:"bg-white p-4 md:p-6 rounded-xl shadow-sm border border-gray-100 h-80 md:h-96",children:[l.jsx("h3",{className:"text-base md:text-lg font-bold text-gray-800 mb-4",children:"Nveis de Estoque"}),l.jsx(nu,{width:"100%",height:"100%",children:l.jsxs(Jb,{data:G,children:[l.jsx(Sm,{strokeDasharray:"3 3",vertical:!1}),l.jsx(Em,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:10},interval:0}),l.jsx(Am,{axisLine:!1,tickLine:!1,tick:{fontSize:10}}),l.jsx(mu,{}),l.jsx(_m,{dataKey:"total",fill:"#3b82f6",radius:[4,4,0,0],children:G.map((V,I)=>l.jsx(xs,{fill:V.total<5?"#ef4444":"#3b82f6"},`cell-${I}`))})]})})]})}),N&&l.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-end md:items-center justify-center p-0 md:p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white w-full md:max-w-5xl h-[90vh] md:h-auto md:max-h-[90vh] rounded-t-2xl md:rounded-2xl shadow-2xl flex flex-col overflow-hidden animate-in slide-in-from-bottom-10 md:zoom-in duration-200",children:[l.jsxs("div",{className:"bg-slate-900 text-white p-4 md:p-6 shrink-0 flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-xl md:text-2xl font-bold flex items-center gap-2",children:[l.jsx(la,{size:24,className:"text-orange-400"}),"Relatrio Dirio"]}),l.jsx("div",{className:"flex flex-col md:flex-row md:items-center gap-2 md:gap-4 mt-2",children:l.jsxs("div",{className:"flex items-center gap-2 bg-slate-800 px-3 py-1.5 rounded-lg border border-slate-700 w-fit",children:[l.jsx(gu,{size:16,className:"text-gray-400"}),l.jsx("input",{type:"date",value:A,onChange:V=>P(V.target.value),className:"bg-transparent text-white text-sm outline-none cursor-pointer font-medium"})]})})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{className:"p-2 text-slate-300 hover:text-white hover:bg-slate-800 rounded transition hidden md:block",title:"Imprimir",children:l.jsx(Zv,{size:20})}),l.jsx("button",{onClick:()=>_(!1),className:"p-2 text-slate-300 hover:text-white hover:bg-slate-800 rounded transition",title:"Fechar","aria-label":"Fechar",children:l.jsx(rn,{size:24})})]})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-6 bg-gray-50 custom-scrollbar",children:[l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4 mb-6",children:[l.jsxs("div",{className:"bg-white p-3 md:p-4 rounded-xl border border-gray-100 shadow-sm flex flex-col",children:[l.jsx("span",{className:"text-[10px] md:text-xs font-bold text-gray-400 uppercase",children:"Vendas"}),l.jsx("div",{className:"mt-1 flex items-center gap-1 md:gap-2 text-green-600",children:l.jsx("span",{className:"text-lg md:text-2xl font-bold",children:se(k.totalSales)})})]}),l.jsxs("div",{className:"bg-white p-3 md:p-4 rounded-xl border border-gray-100 shadow-sm flex flex-col",children:[l.jsx("span",{className:"text-[10px] md:text-xs font-bold text-gray-400 uppercase",children:"Despesas"}),l.jsx("div",{className:"mt-1 flex items-center gap-1 md:gap-2 text-red-600",children:l.jsx("span",{className:"text-lg md:text-2xl font-bold",children:se(k.totalExpenses)})})]}),l.jsxs("div",{className:"bg-white p-3 md:p-4 rounded-xl border border-gray-100 shadow-sm flex flex-col",children:[l.jsx("span",{className:"text-[10px] md:text-xs font-bold text-gray-400 uppercase",children:"Compras"}),l.jsx("div",{className:"mt-1 flex items-center gap-1 md:gap-2 text-blue-600",children:l.jsx("span",{className:"text-lg md:text-2xl font-bold",children:se(k.totalPurchasesValue)})})]}),l.jsxs("div",{className:"bg-white p-3 md:p-4 rounded-xl border border-gray-100 shadow-sm flex flex-col",children:[l.jsx("span",{className:"text-[10px] md:text-xs font-bold text-gray-400 uppercase",children:"Faltas"}),l.jsx("div",{className:"mt-1 flex items-center gap-1 md:gap-2 text-orange-600",children:l.jsx("span",{className:"text-lg md:text-2xl font-bold",children:k.absentWorkers.length})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[l.jsx("div",{className:"px-4 py-3 border-b border-gray-100 bg-gray-50 flex items-center justify-between",children:l.jsxs("h4",{className:"font-bold text-gray-800 flex items-center gap-2 text-sm",children:[l.jsx(Bn,{size:16})," Movimento Financeiro"]})}),l.jsx("div",{className:"max-h-60 overflow-y-auto",children:l.jsx("table",{className:"w-full text-sm text-left",children:l.jsx("tbody",{className:"divide-y divide-gray-100",children:k.sales.concat(k.expenses).length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:3,className:"px-4 py-8 text-center text-gray-400 text-xs",children:"Sem movimento financeiro."})}):k.sales.concat(k.expenses).map((V,I)=>l.jsxs("tr",{children:[l.jsx("td",{className:"px-4 py-2",children:l.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded font-bold ${V.type===xa.SALE?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:V.type===xa.SALE?"ENT":"SAI"})}),l.jsx("td",{className:"px-4 py-2 text-gray-700 truncate max-w-[120px] text-xs",children:V.clientName||V.description||V.category}),l.jsx("td",{className:`px-4 py-2 text-right font-bold text-xs ${V.type===xa.SALE?"text-green-600":"text-red-600"}`,children:se(V.amount)})]},I))})})})]})}),l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[l.jsx("div",{className:"px-4 py-3 border-b border-gray-100 bg-gray-50 flex items-center justify-between",children:l.jsxs("h4",{className:"font-bold text-gray-800 flex items-center gap-2 text-sm",children:[l.jsx(za,{size:16})," Logstica Hoje"]})}),l.jsx("div",{className:"max-h-60 overflow-y-auto",children:k.movements.length===0?l.jsx("div",{className:"p-8 text-center text-gray-400 text-xs",children:"Nenhuma movimentao."}):l.jsx("ul",{className:"divide-y divide-gray-100",children:k.movements.map((V,I)=>l.jsxs("li",{className:"px-4 py-3 text-sm",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsx("span",{className:"font-bold text-gray-800 text-xs",children:x(V.itemId)}),l.jsx("span",{className:"text-[10px] bg-gray-100 px-2 py-0.5 rounded text-gray-600",children:V.status})]}),l.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-gray-500 mt-1",children:[l.jsx("span",{children:b(V.sourceLocationId)}),l.jsx(Th,{size:10}),l.jsx("span",{children:b(V.targetLocationId)})]})]},I))})})]})})]})]})]})})]})};function lr(e,t){const{dateOnly:r=!1,time:n=!1,fallback:s=""}=t||{};if(e==null)return s;let o=null;if(e instanceof Date)o=e;else if(typeof e=="string"&&e.trim())o=new Date(e);else if(typeof e=="number")o=new Date(e);else if(typeof e=="object"){const u=["timestamp","created_at","createdAt","date","updated_at","updatedAt"];for(const d of u)if(d in e&&e[d]&&(o=new Date(e[d]),!isNaN(o.getTime())))break}if(!o||isNaN(o.getTime()))return s;try{return r?o.toLocaleDateString("pt-MZ",{year:"numeric",month:"2-digit",day:"2-digit"}):n?o.toLocaleString("pt-MZ",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):o.toLocaleString("pt-MZ")}catch{return s}}const zX=({onCancel:e,onSuccess:t})=>{const{items:r,locations:n,currentUser:s,createRequisitionSheet:o,getLocationName:u}=Nr(),[d,h]=w.useState(""),[m,p]=w.useState(""),[g,x]=w.useState([{id:"1",itemId:"",itemName:"",quantity:1,unit:"Unidade",condition:Zt.NEW,notes:""}]),[b,j]=w.useState(!1),N=n.filter(C=>C.id!==(s==null?void 0:s.locationId)),_=()=>{x([...g,{id:Math.random().toString(36).substr(2,9),itemId:"",itemName:"",quantity:1,unit:"Unidade",condition:Zt.NEW,notes:""}])},A=C=>{g.length!==1&&x(g.filter(D=>D.id!==C))},P=(C,D,R)=>{x(g.map(L=>{if(L.id===C){const H={...L,[D]:R};if(D==="itemId"&&R!==""){const G=r.find(he=>he.id===R);G&&(H.itemName=G.name,H.unit=G.unit||"Unidade")}return H}return L}))},O=async C=>{if(C.preventDefault(),!d){alert("Selecione o local de destino.");return}if(g.length===0){alert("Adicione pelo menos um item.");return}if(g.some(D=>!D.itemName)){alert("Todos os itens precisam de uma descrio ou nome.");return}j(!0);try{await o(d,g.map(D=>({itemId:D.itemId||void 0,itemName:D.itemName,quantity:D.quantity,unit:D.unit,condition:D.condition,notes:D.notes})),m),t()}catch(D){console.error(D)}finally{j(!1)}};return l.jsxs("div",{className:"p-4 max-w-5xl mx-auto pb-20 md:pb-4",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[l.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full",title:"Voltar",children:l.jsx(C3,{size:20,className:"text-gray-600"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Nova Requisio de Materiais"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Preencha o formulrio abaixo para solicitar mltiplos itens."})]})]}),l.jsxs("form",{onSubmit:O,className:"space-y-6",children:[l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 grid md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"targetLocation",className:"block text-sm font-medium text-gray-700 mb-1",children:"Destino (Solicitar Para)"}),l.jsxs("select",{id:"targetLocation",className:"w-full border border-gray-300 rounded-lg p-2.5 bg-gray-50 focus:bg-white focus:ring-2 focus:ring-blue-500 outline-none",value:d,onChange:C=>h(C.target.value),required:!0,children:[l.jsx("option",{value:"",children:"Selecione uma localizao..."}),N.map(C=>l.jsx("option",{value:C.id,children:C.name},C.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notas / Observaes Gerais"}),l.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg p-2.5 bg-gray-50 focus:bg-white focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Ex: Urgente para obra em Nampula",value:m,onChange:C=>p(C.target.value)})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[l.jsxs("div",{className:"p-4 border-b border-gray-100 bg-gray-50 flex justify-between items-center",children:[l.jsxs("h3",{className:"font-semibold text-gray-700 flex items-center gap-2",children:[l.jsx(Zs,{size:18})," Itens da Requisio"]}),l.jsx("span",{className:"text-xs text-gray-500 hidden md:inline",children:"Preencha os detalhes de cada item"})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full min-w-[800px]",children:[l.jsx("thead",{className:"bg-gray-50 text-left",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-xs font-bold text-gray-500 uppercase w-10"}),l.jsx("th",{className:"px-4 py-3 text-xs font-bold text-gray-500 uppercase w-1/3",children:"Item (Estoque ou Manual)"}),l.jsx("th",{className:"px-4 py-3 text-xs font-bold text-gray-500 uppercase w-24",children:"Qtd"}),l.jsx("th",{className:"px-4 py-3 text-xs font-bold text-gray-500 uppercase w-24",children:"Unidade"}),l.jsx("th",{className:"px-4 py-3 text-xs font-bold text-gray-500 uppercase w-32",children:"Condio"}),l.jsx("th",{className:"px-4 py-3 text-xs font-bold text-gray-500 uppercase",children:"Observaes"}),l.jsx("th",{className:"px-4 py-3 text-xs font-bold text-gray-500 w-10"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-100",children:g.map((C,D)=>l.jsxs("tr",{className:"hover:bg-slate-50 transition",children:[l.jsx("td",{className:"px-3 py-2 text-center text-gray-400 text-xs font-mono",children:D+1}),l.jsx("td",{className:"px-3 py-2",children:l.jsxs("div",{className:"space-y-1",children:[l.jsxs("select",{"aria-label":"Selecionar item",className:"w-full text-sm border-gray-200 rounded focus:ring-blue-500 border p-1.5",value:C.itemId,onChange:R=>P(C.id,"itemId",R.target.value),children:[l.jsx("option",{value:"",children:"-- Item Manual --"}),r.map(R=>l.jsx("option",{value:R.id,children:R.name},R.id))]}),C.itemId===""&&l.jsx("input",{type:"text",placeholder:"Descreva o item...","aria-label":"Nome do item manual",className:"w-full text-sm border-gray-200 rounded border p-1.5 focus:ring-blue-500",value:C.itemName,onChange:R=>P(C.id,"itemName",R.target.value),required:!0})]})}),l.jsx("td",{className:"px-3 py-2",children:l.jsx("input",{type:"number",min:"0.1",step:"0.1","aria-label":"Quantidade",className:"w-full text-sm border-gray-200 rounded border p-1.5 font-semibold text-center",value:C.quantity,onChange:R=>P(C.id,"quantity",parseFloat(R.target.value)||0)})}),l.jsx("td",{className:"px-3 py-2",children:l.jsx("input",{type:"text","aria-label":"Unidade",className:"w-full text-sm border-gray-200 rounded border p-1.5",value:C.unit,onChange:R=>P(C.id,"unit",R.target.value),list:"units-datalist"})}),l.jsx("td",{className:"px-3 py-2",children:l.jsxs("select",{"aria-label":"Selecionar condio",className:"w-full text-sm border-gray-200 rounded border p-1.5",value:C.condition,onChange:R=>P(C.id,"condition",R.target.value),children:[l.jsx("option",{value:Zt.NEW,children:"Novo"}),l.jsx("option",{value:Zt.GOOD,children:"Bom"}),l.jsx("option",{value:Zt.FAIR,children:"Usado"})]})}),l.jsx("td",{className:"px-3 py-2",children:l.jsx("input",{type:"text",placeholder:"Detalhes...","aria-label":"Observaes",className:"w-full text-sm border-gray-200 rounded border p-1.5 text-gray-500",value:C.notes,onChange:R=>P(C.id,"notes",R.target.value)})}),l.jsx("td",{className:"px-3 py-2 text-center",children:l.jsx("button",{type:"button",onClick:()=>A(C.id),className:"text-gray-400 hover:text-red-500 transition p-1",disabled:g.length===1,title:"Remover linha",children:l.jsx(hi,{size:16})})})]},C.id))})]})}),l.jsx("div",{className:"p-4 bg-gray-50 border-t border-gray-100",children:l.jsxs("button",{type:"button",onClick:_,className:"flex items-center gap-2 text-blue-600 font-bold text-sm hover:underline",children:[l.jsx(Vr,{size:16})," Adicionar Linha"]})})]}),l.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[l.jsx("button",{type:"button",onClick:e,className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-xl font-bold hover:bg-gray-200 transition",children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:b,className:"px-6 py-3 bg-blue-600 text-white rounded-xl font-bold hover:bg-blue-700 transition shadow-lg flex items-center gap-2",children:b?"Enviando...":l.jsxs(l.Fragment,{children:[l.jsx(Dh,{size:18})," Criar Requisio"]})})]})]}),l.jsxs("datalist",{id:"units-datalist",children:[l.jsx("option",{value:"Unidade"}),l.jsx("option",{value:"Kg"}),l.jsx("option",{value:"Litros"}),l.jsx("option",{value:"Metros"}),l.jsx("option",{value:"Par"}),l.jsx("option",{value:"Caixa"}),l.jsx("option",{value:"Saco"})]})]})},LX=({sheet:e,companyInfo:t,onClose:r})=>{const n=()=>{window.print()};return l.jsxs("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-50 z-50 overflow-y-auto flex justify-center items-start p-4",children:[l.jsxs("div",{className:"bg-gray-100 min-h-screen w-full max-w-4xl flex flex-col items-center",children:[l.jsxs("div",{className:"w-full bg-white p-4 shadow-sm mb-4 flex justify-between items-center rounded-lg no-print",children:[l.jsx("h2",{className:"font-bold text-gray-700",children:"Visualizao de Impresso"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:r,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-50",children:"Fechar"}),l.jsx("button",{onClick:n,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 font-bold",children:"Imprimir"})]})]}),l.jsxs("div",{className:"bg-white w-[210mm] min-h-[297mm] p-10 shadow-lg text-sm text-gray-800 print-content",id:"printable-area",children:[l.jsxs("div",{className:"border-b-2 border-gray-800 pb-4 mb-6 flex justify-between items-start",children:[l.jsxs("div",{children:[t!=null&&t.logo?l.jsx("img",{src:t.logo,alt:"Logo",className:"h-16 mb-2"}):l.jsx("h1",{className:"text-2xl font-bold uppercase tracking-wider",children:(t==null?void 0:t.nome)||"EMPRESA DEMO"}),l.jsxs("div",{className:"text-xs text-gray-500 mt-1 space-y-0.5",children:[l.jsx("p",{children:(t==null?void 0:t.endereco)||"Endereo da Empresa"}),l.jsxs("p",{children:["NUIT: ",(t==null?void 0:t.nuit)||"000000000"," | Tel: ",(t==null?void 0:t.contacto)||"82 000 0000"]}),l.jsx("p",{children:(t==null?void 0:t.email)||"contato@empresa.com"})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900 uppercase",children:"Ficha de Requisio"}),l.jsx("p",{className:"text-gray-500 font-mono text-lg mt-1",children:e.requisitionNumber}),l.jsxs("div",{className:"mt-2 text-xs",children:[l.jsxs("p",{children:["Data: ",l.jsx("strong",{children:lr(e.createdAt,{dateOnly:!0})})]}),l.jsxs("p",{children:["Status: ",l.jsx("span",{className:"uppercase font-bold",children:e.status})]})]})]})]}),l.jsxs("div",{className:"flex justify-between border border-gray-200 rounded p-4 mb-6 bg-gray-50",children:[l.jsxs("div",{className:"w-1/2",children:[l.jsx("h3",{className:"text-xs font-bold text-gray-500 uppercase mb-1",children:"Origem (Fornecedor Interno)"}),l.jsx("p",{className:"font-semibold text-lg",children:e.sourceLocationName})]}),l.jsxs("div",{className:"w-1/2 border-l border-gray-200 pl-4",children:[l.jsx("h3",{className:"text-xs font-bold text-gray-500 uppercase mb-1",children:"Destino (Requisitante)"}),l.jsx("p",{className:"font-semibold text-lg",children:e.targetLocationName})]})]}),l.jsxs("table",{className:"w-full mb-8 border-collapse",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-800",children:[l.jsx("th",{className:"py-2 px-2 text-left font-bold uppercase text-xs w-10",children:"#"}),l.jsx("th",{className:"py-2 px-2 text-left font-bold uppercase text-xs",children:"Item / Descrio"}),l.jsx("th",{className:"py-2 px-2 text-center font-bold uppercase text-xs w-20",children:"Qtd"}),l.jsx("th",{className:"py-2 px-2 text-center font-bold uppercase text-xs w-20",children:"Unid."}),l.jsx("th",{className:"py-2 px-2 text-center font-bold uppercase text-xs w-24",children:"Condio"}),l.jsx("th",{className:"py-2 px-2 text-left font-bold uppercase text-xs w-1/4",children:"Obs."})]})}),l.jsx("tbody",{className:"divide-y divide-gray-200",children:e.items.map((s,o)=>l.jsxs("tr",{children:[l.jsx("td",{className:"py-3 px-2 text-gray-500",children:o+1}),l.jsx("td",{className:"py-3 px-2 font-medium",children:s.itemName}),l.jsx("td",{className:"py-3 px-2 text-center",children:s.quantity}),l.jsx("td",{className:"py-3 px-2 text-center text-xs text-gray-500",children:s.unit}),l.jsx("td",{className:"py-3 px-2 text-center text-xs",children:s.condition}),l.jsx("td",{className:"py-3 px-2 text-xs text-gray-500 italic",children:s.notes})]},s.id))})]}),e.notes&&l.jsxs("div",{className:"mb-8 p-4 border border-gray-200 rounded bg-yellow-50",children:[l.jsx("h4",{className:"text-xs font-bold text-gray-500 uppercase mb-1",children:"Observaes Gerais"}),l.jsx("p",{className:"text-sm text-gray-800 italic",children:e.notes})]}),l.jsxs("div",{className:"mt-auto pt-12 grid grid-cols-2 gap-12",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"border-t border-gray-400 w-3/4 mx-auto mb-2"}),l.jsx("p",{className:"text-xs font-bold uppercase",children:"Solicitante"}),l.jsx("p",{className:"text-[10px] text-gray-400",children:"Assinatura e Carimbo"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"border-t border-gray-400 w-3/4 mx-auto mb-2"}),l.jsx("p",{className:"text-xs font-bold uppercase",children:"Autorizado Por"}),l.jsx("p",{className:"text-[10px] text-gray-400",children:"Assinatura e Carimbo"})]})]}),l.jsxs("div",{className:"text-center mt-8 pt-4 border-t border-gray-100 text-[10px] text-gray-400",children:["Processado via OFICE Logistics System | ",lr(new Date().toISOString(),{time:!0})]})]})]}),l.jsx("style",{children:`
        @media print {
          .no-print { display: none !important; }
          .bg-gray-100 { background: white !important; }
          .fixed { position: static !important; overflow: visible !important; }
          .min-h-screen { min-height: 0 !important; }
          @page { margin: 10mm; }
        }
      `})]})},qX=()=>{const{requisitions:e,requisitionSheets:t,currentUser:r,items:n,locations:s,getItemName:o,getLocationName:u,createRequisition:d,updateRequisitionStatus:h,updateRequisitionSheetStatus:m,updateRequisitionSheetItemDelivery:p,isAdminOrGM:g,companyInfo:x}=Nr(),[b,j]=w.useState(!1),[N,_]=w.useState("list"),[A,P]=w.useState("single"),[O,C]=w.useState(null),[D,R]=w.useState(null),[L,H]=w.useState(null),[G,he]=w.useState(n.length>0?n[0].id:""),[ne,k]=w.useState(1),[se,U]=w.useState(Zt.NEW);if(Xs.useEffect(()=>{n.length>0&&!G&&he(n[0].id)},[n,G]),N==="form")return l.jsx(zX,{onCancel:()=>_("list"),onSuccess:()=>_("list")});const V=e.filter(B=>{var je,_e;if(g)return!0;if((r==null?void 0:r.role)===Te.MANAGER){const me=((je=s.find(X=>X.id===B.sourceLocationId))==null?void 0:je.parentId)===r.locationId,Re=((_e=s.find(X=>X.id===B.targetLocationId))==null?void 0:_e.parentId)===r.locationId;return B.sourceLocationId===r.locationId||B.targetLocationId===r.locationId||me||Re}return B.targetLocationId===(r==null?void 0:r.locationId)||B.requesterId===(r==null?void 0:r.id)}),I=(t||[]).filter(B=>{var je,_e;if(g)return!0;if((r==null?void 0:r.role)===Te.MANAGER){const me=((je=s.find(X=>X.id===B.sourceLocationId))==null?void 0:je.parentId)===r.locationId,Re=((_e=s.find(X=>X.id===B.targetLocationId))==null?void 0:_e.parentId)===r.locationId;return B.sourceLocationId===r.locationId||B.targetLocationId===r.locationId||me||Re}return B.targetLocationId===(r==null?void 0:r.locationId)||B.requesterId===(r==null?void 0:r.id)}),W=B=>{H(L===B?null:B)},ue=B=>{B.preventDefault(),d(G,ne,se),j(!1),k(1),U(Zt.NEW)},be=B=>{switch(B){case et.PENDING:return l.jsxs("span",{className:"px-2 py-1 rounded text-xs font-bold bg-yellow-100 text-yellow-800 flex items-center gap-1 w-max",children:[l.jsx(Xc,{size:12})," Pendente"]});case et.APPROVED:return l.jsxs("span",{className:"px-2 py-1 rounded text-xs font-bold bg-blue-100 text-blue-800 flex items-center gap-1 w-max",children:[l.jsx(ia,{size:12})," Aprovado"]});case et.IN_TRANSIT:return l.jsxs("span",{className:"px-2 py-1 rounded text-xs font-bold bg-indigo-100 text-indigo-800 flex items-center gap-1 w-max",children:[l.jsx(za,{size:12})," Em Trnsito"]});case et.DELIVERED:return l.jsxs("span",{className:"px-2 py-1 rounded text-xs font-bold bg-orange-100 text-orange-800 flex items-center gap-1 w-max",children:[l.jsx(W0,{size:12})," Entregue"]});case et.REJECTED:return l.jsxs("span",{className:"px-2 py-1 rounded text-xs font-bold bg-red-100 text-red-800 flex items-center gap-1 w-max",children:[l.jsx(Mf,{size:12})," Rejeitado"]});case et.CONFIRMED:return l.jsxs("span",{className:"px-2 py-1 rounded text-xs font-bold bg-green-100 text-green-800 flex items-center gap-1 w-max",children:[l.jsx(ia,{size:12})," Confirmado"]});default:return null}},Ee=B=>{switch(B){case Zt.NEW:return l.jsx("span",{className:"text-[10px] font-semibold text-green-600 border border-green-200 bg-green-50 px-1.5 py-0.5 rounded",children:"Novo"});case Zt.GOOD:return l.jsx("span",{className:"text-[10px] font-semibold text-blue-600 border border-blue-200 bg-blue-50 px-1.5 py-0.5 rounded",children:"Bom"});case Zt.FAIR:return l.jsx("span",{className:"text-[10px] font-semibold text-orange-600 border border-orange-200 bg-orange-50 px-1.5 py-0.5 rounded",children:"Usado"});case Zt.POOR:return l.jsx("span",{className:"text-[10px] font-semibold text-red-600 border border-red-200 bg-red-50 px-1.5 py-0.5 rounded",children:"Ruim"});default:return l.jsx("span",{className:"text-[10px] font-semibold text-gray-600 border border-gray-200 bg-gray-50 px-1.5 py-0.5 rounded",children:B})}},z=B=>(B==null?void 0:B.type)===Pt.CONSUMABLE?l.jsxs("span",{className:"flex items-center gap-1 text-[10px] text-purple-600 bg-purple-50 px-1.5 py-0.5 rounded border border-purple-100",children:[l.jsx(m6,{size:10})," Consumvel"]}):l.jsxs("span",{className:"flex items-center gap-1 text-[10px] text-slate-600 bg-slate-50 px-1.5 py-0.5 rounded border border-slate-200",children:[l.jsx(Zs,{size:10})," Ativo"]}),K=(B,je=!1)=>{var De,Oe;const _e=(r==null?void 0:r.role)===Te.MANAGER&&(B.sourceLocationId===r.locationId||((De=s.find(te=>te.id===B.sourceLocationId))==null?void 0:De.parentId)===r.locationId),me=(r==null?void 0:r.role)===Te.MANAGER&&(B.targetLocationId===r.locationId||((Oe=s.find(te=>te.id===B.targetLocationId))==null?void 0:Oe.parentId)===r.locationId),Re=g||_e||me,X=je?"flex-1 py-3 justify-center text-sm font-bold shadow-md":"px-3 py-1 text-xs shadow-sm whitespace-nowrap";if(!Re&&(r==null?void 0:r.role)!==Te.WORKER)return l.jsxs("span",{className:"text-gray-300 text-xs flex items-center gap-1",children:[l.jsx(al,{size:10})," Visualizao"]});if(B.status===et.PENDING&&(g||_e||me))return l.jsxs("div",{className:`flex gap-2 ${je?"w-full mt-2":""}`,children:[l.jsx("button",{onClick:te=>{te.stopPropagation(),h(B.id,et.APPROVED)},className:`${X} bg-blue-600 text-white rounded hover:bg-blue-700`,children:"Aprovar"}),l.jsx("button",{onClick:te=>{te.stopPropagation(),h(B.id,et.REJECTED)},className:`${X} bg-red-50 text-red-600 rounded hover:bg-red-100 border border-red-200`,children:"Rejeitar"})]});if(B.status===et.APPROVED)return g||_e?l.jsxs("button",{onClick:te=>{te.stopPropagation(),h(B.id,et.IN_TRANSIT)},className:`${X} bg-indigo-600 text-white rounded hover:bg-indigo-700 flex items-center gap-1 ${je?"w-full":""}`,children:[l.jsx(za,{size:12})," Despachar"]}):l.jsx("span",{className:"text-blue-500 text-xs italic",children:"Aguardando Envio..."});if(B.status===et.IN_TRANSIT)return g||me?l.jsxs("button",{onClick:te=>{te.stopPropagation(),h(B.id,et.DELIVERED)},className:`${X} bg-blue-500 text-white rounded hover:bg-blue-600 flex items-center gap-1 ${je?"w-full":""}`,children:[l.jsx(za,{size:12})," Registrar Chegada"]}):l.jsx("span",{className:"text-indigo-500 text-xs italic",children:"Em Trnsito..."});if(B.status===et.DELIVERED){if(g||me)return l.jsxs("button",{onClick:te=>{te.stopPropagation(),h(B.id,et.CONFIRMED)},className:`${X} bg-green-600 text-white rounded hover:bg-green-700 flex items-center gap-1 animate-pulse ${je?"w-full":""}`,children:[l.jsx(W0,{size:12})," Conferir e Aceitar"]});if((r==null?void 0:r.role)===Te.WORKER&&B.targetLocationId===r.locationId)return l.jsxs("button",{onClick:te=>{te.stopPropagation(),h(B.id,et.CONFIRMED)},className:`${X} bg-green-600 text-white rounded hover:bg-green-700 flex items-center gap-1 ${je?"w-full":""}`,children:[l.jsx(ia,{size:12})," Confirmar"]})}return B.status===et.CONFIRMED?l.jsxs("span",{className:"text-green-600 text-xs font-medium flex items-center gap-1",children:[l.jsx(ia,{size:12})," Concludo"]}):B.status===et.PENDING&&!Re?l.jsxs("span",{className:"text-orange-400 text-xs font-medium flex items-center gap-1 whitespace-nowrap",children:[l.jsx(Xc,{size:12})," Aguardando"]}):B.status===et.REJECTED?l.jsxs("span",{className:"text-red-400 text-xs font-medium flex items-center gap-1 whitespace-nowrap",children:[l.jsx(Mf,{size:12})," Cancelado"]}):l.jsxs("span",{className:"text-gray-400 text-xs italic whitespace-nowrap",children:["Status: ",B.status]})},ge=n.find(B=>B.id===G);return l.jsxs("div",{children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-800",children:"Fluxo de Requisies"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Gerencie a entrada e sada de materiais."})]}),l.jsxs("div",{className:"flex flex-col md:flex-row gap-2 w-full md:w-auto",children:[l.jsxs("button",{onClick:()=>j(!0),className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-3 md:py-2 rounded-lg hover:bg-blue-700 transition shadow-md w-full md:w-auto justify-center font-medium",children:[l.jsx(Vr,{size:18})," Nova Requisio (Simples)"]}),l.jsxs("button",{onClick:()=>_("form"),className:"flex items-center gap-2 bg-indigo-600 text-white px-4 py-3 md:py-2 rounded-lg hover:bg-indigo-700 transition shadow-md w-full md:w-auto justify-center font-medium",children:[l.jsx(la,{size:18})," Nova Requisio (Mltipla)"]})]})]}),l.jsxs("div",{className:"flex gap-4 mb-4 border-b border-gray-200",children:[l.jsx("button",{onClick:()=>P("single"),className:`pb-2 px-1 text-sm font-medium ${A==="single"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Requisies Individuais (Legado)"}),l.jsx("button",{onClick:()=>P("sheets"),className:`pb-2 px-1 text-sm font-medium ${A==="sheets"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Fichas de Requisio (Mltiplos Itens)"})]}),A==="single"?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"hidden md:block bg-white rounded-xl shadow border border-gray-100 overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left",children:[l.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase whitespace-nowrap w-8"}),l.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase whitespace-nowrap",children:"Item / Condio"}),l.jsxs("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase whitespace-nowrap",children:["Origem ",l.jsx(Th,{size:10,className:"inline mx-1"})," Destino"]}),l.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase whitespace-nowrap",children:"Qtd"}),l.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase whitespace-nowrap",children:"Status"}),l.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase whitespace-nowrap",children:"Data"}),l.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase text-right whitespace-nowrap",children:"Aes"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-100",children:V.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-400",children:"Nenhuma requisio encontrada."})}):V.map(B=>{const je=n.find(me=>me.id===B.itemId),_e=L===B.id;return l.jsxs(Xs.Fragment,{children:[l.jsxs("tr",{onClick:()=>W(B.id),className:`hover:bg-slate-50 transition cursor-pointer ${_e?"bg-slate-50":""}`,children:[l.jsx("td",{className:"px-6 py-4 text-center",children:_e?l.jsx(d_,{size:16,className:"text-gray-400"}):l.jsx(u_,{size:16,className:"text-gray-400"})}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[l.jsxs("div",{className:"font-medium text-gray-900 flex items-center gap-2",children:[je==null?void 0:je.name,z(je)]}),l.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-2 mt-1",children:[l.jsxs("span",{children:["ID: ",B.id]}),(je==null?void 0:je.type)===Pt.ASSET&&Ee(B.condition)]})]}),l.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 whitespace-nowrap",children:l.jsxs("div",{className:"flex flex-col",children:[l.jsxs("span",{className:"text-xs text-gray-400",children:["De: ",u(B.sourceLocationId)]}),l.jsxs("span",{className:"font-medium text-gray-800",children:["Para: ",u(B.targetLocationId)]})]})}),l.jsxs("td",{className:"px-6 py-4 text-sm font-semibold text-gray-900 whitespace-nowrap",children:[B.quantity," un"]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:be(B.status)}),l.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap",children:lr(B.createdAt,{dateOnly:!0})}),l.jsx("td",{className:"px-6 py-4 text-right whitespace-nowrap",onClick:me=>me.stopPropagation(),children:K(B)})]}),_e&&l.jsx("tr",{className:"bg-slate-50 border-b border-gray-100",children:l.jsx("td",{colSpan:7,className:"px-6 py-4",children:l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[l.jsxs("h4",{className:"text-xs font-bold text-gray-500 uppercase flex items-center gap-2 mb-3",children:[l.jsx(Wv,{size:14})," Histrico de Rastreabilidade"]}),l.jsxs("div",{className:"space-y-4 relative pl-2",children:[l.jsx("div",{className:"absolute left-3.5 top-2 bottom-2 w-0.5 bg-gray-100"}),B.logs.map((me,Re)=>l.jsxs("div",{className:"relative flex gap-4 text-sm",children:[l.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-50 border-2 border-white shadow-sm z-10 mt-1 shrink-0"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-800",children:me.message}),l.jsxs("p",{className:"text-xs text-gray-400",children:[lr(me.timestamp,{time:!0}),"  ",me.actorId||"Sistema"," (",me.action,")"]})]})]},Re))]})]})})})]},B.id)})})]})})}),l.jsxs("div",{className:"md:hidden space-y-4",children:[V.length===0&&l.jsxs("div",{className:"text-center p-8 bg-white rounded-xl border border-gray-200 text-gray-400",children:[l.jsx(Zs,{size:40,className:"mx-auto mb-2 opacity-20"}),l.jsx("p",{children:"Nenhuma requisio."})]}),V.map(B=>{const je=n.find(_e=>_e.id===B.itemId);return l.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsxs("div",{children:[l.jsxs("span",{className:"text-[10px] text-gray-400 font-mono block mb-1",children:["#",B.id.slice(-6)]}),l.jsx("h4",{className:"font-bold text-gray-900 text-lg leading-tight",children:je==null?void 0:je.name})]}),be(B.status)]}),l.jsxs("div",{className:"flex gap-2 mb-3",children:[z(je),(je==null?void 0:je.type)===Pt.ASSET&&Ee(B.condition),l.jsxs("span",{className:"text-[10px] font-bold bg-gray-100 text-gray-700 px-2 py-0.5 rounded",children:[B.quantity," un"]})]}),l.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-100 text-sm space-y-2 mb-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ys,{size:14,className:"text-gray-400"}),l.jsx("span",{className:"text-gray-500 text-xs",children:"De:"}),l.jsx("span",{className:"font-medium text-gray-800",children:u(B.sourceLocationId)})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ys,{size:14,className:"text-blue-500"}),l.jsx("span",{className:"text-gray-500 text-xs",children:"Para:"}),l.jsx("span",{className:"font-bold text-gray-900",children:u(B.targetLocationId)})]}),l.jsxs("div",{className:"flex items-center gap-2 border-t border-gray-100 pt-2 mt-1",children:[l.jsx(gu,{size:14,className:"text-gray-400"}),l.jsx("span",{className:"text-xs text-gray-500",children:lr(B.createdAt,{dateOnly:!0})})]})]}),l.jsx("div",{className:"border-t border-gray-100 pt-3",children:K(B,!0)})]},B.id)})]})]}):l.jsx("div",{className:"bg-white rounded-xl shadow border border-gray-100 overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left",children:[l.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase whitespace-nowrap",children:"N Requisio"}),l.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase whitespace-nowrap",children:"Origem / Destino"}),l.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase whitespace-nowrap",children:"Itens"}),l.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase whitespace-nowrap",children:"Status"}),l.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase whitespace-nowrap",children:"Data"}),l.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase text-right",children:"Aes"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-100",children:I.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-400",children:"Nenhuma ficha de requisio encontrada."})}):I.map(B=>{var X,De,Oe;const je=D===B.id,_e=(r==null?void 0:r.role)===Te.MANAGER&&(B.sourceLocationId===r.locationId||((X=s.find(te=>te.id===B.sourceLocationId))==null?void 0:X.parentId)===r.locationId),me=(r==null?void 0:r.role)===Te.MANAGER&&(B.targetLocationId===r.locationId||((De=s.find(te=>te.id===B.targetLocationId))==null?void 0:De.parentId)===r.locationId),Re=g||_e||me;return l.jsxs(Xs.Fragment,{children:[l.jsxs("tr",{className:`hover:bg-slate-50 transition cursor-pointer ${je?"bg-slate-50":""}`,onClick:()=>R(je?null:B.id),children:[l.jsx("td",{className:"px-6 py-4 font-mono text-sm font-medium text-gray-700",children:l.jsxs("div",{className:"flex items-center gap-2",children:[je?l.jsx(d_,{size:14,className:"text-gray-400"}):l.jsx(u_,{size:14,className:"text-gray-400"}),B.requisitionNumber||"N/A"]})}),l.jsx("td",{className:"px-6 py-4 text-sm whitespace-nowrap",children:l.jsxs("div",{className:"flex flex-col",children:[l.jsxs("span",{className:"text-xs text-gray-400",children:["De: ",B.sourceLocationName]}),l.jsxs("span",{className:"font-medium text-gray-800",children:["Para: ",B.targetLocationName]})]})}),l.jsxs("td",{className:"px-6 py-4 text-sm font-semibold text-gray-900",children:[((Oe=B.items)==null?void 0:Oe.length)||0," itens"]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:be(B.status)}),l.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap",children:lr(B.createdAt,{dateOnly:!0})}),l.jsx("td",{className:"px-6 py-4 text-right",onClick:te=>te.stopPropagation(),children:l.jsxs("div",{className:"flex justify-end gap-2",children:[B.status===et.PENDING&&Re&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>m(B.id,et.APPROVED),className:"p-1 px-2 text-[10px] font-bold bg-blue-600 text-white rounded hover:bg-blue-700",children:"Aprovar"}),l.jsx("button",{onClick:()=>m(B.id,et.REJECTED),className:"p-1 px-2 text-[10px] font-bold bg-white text-red-600 border border-red-200 rounded hover:bg-red-50",children:"Rejeitar"})]}),B.status===et.APPROVED&&(g||_e)&&l.jsxs("button",{onClick:()=>m(B.id,et.IN_TRANSIT),className:"p-1 px-2 text-[10px] font-bold bg-indigo-600 text-white rounded hover:bg-indigo-700 flex items-center gap-1",children:[l.jsx(za,{size:10})," Despachar"]}),B.status===et.IN_TRANSIT&&(g||me)&&l.jsxs("button",{onClick:()=>m(B.id,et.DELIVERED),className:"p-1 px-2 text-[10px] font-bold bg-blue-500 text-white rounded hover:bg-blue-600 flex items-center gap-1",children:[l.jsx(za,{size:10})," Registrar Chegada"]}),B.status===et.DELIVERED&&(g||me)&&l.jsxs("button",{onClick:()=>m(B.id,et.CONFIRMED),className:"p-1 px-2 text-[10px] font-bold bg-green-600 text-white rounded hover:bg-green-700 flex items-center gap-1",children:[l.jsx(W0,{size:10})," Aceitar"]}),l.jsx("button",{onClick:()=>C(B),className:"text-gray-400 hover:text-blue-600 p-1",title:"Imprimir",children:l.jsx(la,{size:18})})]})})]}),je&&l.jsx("tr",{className:"bg-slate-50",children:l.jsx("td",{colSpan:6,className:"px-6 py-4",children:l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[l.jsxs("h4",{className:"text-xs font-bold text-gray-500 uppercase mb-3 flex items-center gap-2",children:[l.jsx(Zs,{size:14})," Detalhes dos Itens e Entrega"]}),l.jsx("div",{className:"space-y-2",children:B.items.map(te=>l.jsxs("div",{className:"flex items-center justify-between p-2 border-b border-gray-50 last:border-0 hover:bg-gray-50 rounded",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("input",{type:"checkbox","aria-label":`Marcar ${te.itemName} como entregue`,checked:te.isDelivered,onChange:rt=>p(te.id,rt.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",disabled:B.status===et.CONFIRMED}),l.jsxs("div",{children:[l.jsx("p",{className:`text-sm font-medium ${te.isDelivered?"text-gray-400 line-through":"text-gray-900"}`,children:te.itemName}),l.jsxs("p",{className:"text-[10px] text-gray-500",children:[te.quantity," ",te.unit,"  ",te.condition]})]})]}),te.notes&&l.jsxs("p",{className:"text-[10px] text-gray-400 italic",children:['"',te.notes,'"']})]},te.id))}),B.notes&&l.jsxs("div",{className:"mt-4 p-3 bg-yellow-50 rounded border border-yellow-100 italic text-xs text-gray-600",children:[l.jsx("strong",{children:"Notas:"})," ",B.notes]})]})})})]},B.id)})})]})})}),O&&l.jsx(LX,{sheet:O,companyInfo:x,onClose:()=>C(null)}),b&&l.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-end md:items-center justify-center z-50 p-0 md:p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white rounded-t-2xl md:rounded-xl shadow-2xl w-full max-w-md p-6 animate-in slide-in-from-bottom-10 md:slide-in-from-bottom-4 duration-200",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Nova Requisio"}),l.jsx("button",{onClick:()=>j(!1),className:"bg-gray-100 p-1 rounded-full",title:"Fechar","aria-label":"Fechar",children:l.jsx(rn,{size:20,className:"text-gray-500"})})]}),l.jsxs("form",{onSubmit:ue,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"item-select",className:"block text-sm font-medium text-gray-700 mb-1",children:"Item Necessrio"}),l.jsx("select",{id:"item-select",className:"w-full border border-gray-300 rounded-xl p-3 focus:ring-2 focus:ring-blue-500 focus:outline-none bg-white text-gray-900 text-base",value:G,onChange:B=>he(B.target.value),children:n.map(B=>l.jsx("option",{value:B.id,children:B.name},B.id))}),ge&&l.jsx("div",{className:"mt-2",children:z(ge)})]}),(ge==null?void 0:ge.type)===Pt.ASSET&&l.jsxs("div",{children:[l.jsx("label",{htmlFor:"condition-select",className:"block text-sm font-medium text-gray-700 mb-1",children:"Condio Desejada"}),l.jsxs("select",{id:"condition-select",className:"w-full border border-gray-300 rounded-xl p-3 focus:ring-2 focus:ring-blue-500 focus:outline-none bg-white text-gray-900 text-base",value:se,onChange:B=>U(B.target.value),children:[l.jsx("option",{value:Zt.NEW,children:"Novo"}),l.jsx("option",{value:Zt.GOOD,children:"Bom Estado (Usado)"}),l.jsx("option",{value:Zt.FAIR,children:"Qualquer um (Funcional)"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"quantity-input",className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantidade"}),l.jsx("input",{id:"quantity-input",type:"number",min:"1",className:"w-full border border-gray-300 rounded-xl p-3 focus:ring-2 focus:ring-blue-500 focus:outline-none bg-white text-gray-900 text-lg font-bold",value:ne,onChange:B=>k(parseInt(B.target.value))})]}),l.jsx("div",{className:"bg-blue-50 p-4 rounded-xl text-sm text-blue-800 border border-blue-100",children:l.jsxs("p",{children:["A requisio ser enviada para aprovao do ",l.jsx("strong",{children:"Gerente Regional"})," ou ",l.jsx("strong",{children:"Administrao"}),"."]})}),l.jsxs("div",{className:"flex gap-3 mt-6 pt-2",children:[l.jsx("button",{type:"button",onClick:()=>j(!1),className:"flex-1 py-3 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-xl text-sm font-bold",children:"Cancelar"}),l.jsx("button",{type:"submit",className:"flex-1 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 text-sm font-bold shadow-md",children:"Confirmar Envio"})]})]})]})})]})},$X=()=>{var He,Et,vt;const{locations:e,items:t,inventory:r,currentUser:n,selectedDepartmentId:s,registerNewItem:o,addToInventory:u,createRequisition:d,itemTypes:h,measureUnits:m,getItemName:p,isAdminOrGM:g,deleteItem:x,allUsers:b,createFicha:j,updateItem:N}=Nr(),[_,A]=w.useState(s||(n==null?void 0:n.locationId)||"all"),[P,O]=w.useState(!1),[C,D]=w.useState(!1),[R,L]=w.useState(!1),[H,G]=w.useState(!1),[he,ne]=w.useState(!1),[k,se]=w.useState(!1),[U,V]=w.useState(null),[I,W]=w.useState(null),[ue,be]=w.useState(null),[Ee,z]=w.useState({name:"",sku:"",itemTypeId:"",unit:"",qty:1,locationId:null,unitPrice:0,isForSale:!0}),[K,ge]=w.useState({itemId:"",qty:1,locationId:null,unitPrice:0}),[B,je]=w.useState({itemId:"",targetLocationId:(n==null?void 0:n.locationId)||"",qty:1,condition:Zt.NEW});w.useEffect(()=>{s?(A(s),z(ie=>({...ie,locationId:s})),ge(ie=>({...ie,locationId:s}))):(n==null?void 0:n.role)!=="ADMIN"?n!=null&&n.locationId&&(A(n.locationId),z(ie=>({...ie,locationId:n.locationId})),ge(ie=>({...ie,locationId:n.locationId}))):A("all")},[s,n]);const _e=r.filter(ie=>_==="all"?!0:ie.locationId===_),me=ie=>{var Yr;ie.preventDefault();const $t=Ee.locationId||((Yr=e[0])==null?void 0:Yr.id)||"",Le=Ee.unit||m[0],Xt=h.find(Jt=>Jt.id===Ee.itemTypeId),Ze=Xt?Xt.name:"Geral",Cn=Xt?Xt.behavior:Pt.ASSET;o(Ee.name,Ee.sku,Ze,Le,Cn,Ee.qty,$t,Ee.unitPrice,Ee.isForSale),O(!1),z({name:"",sku:"",itemTypeId:"",unit:"",qty:1,locationId:null,unitPrice:0,isForSale:!0})},Re=ie=>{var Xt,Ze;ie.preventDefault();const $t=K.locationId||((Xt=e[0])==null?void 0:Xt.id)||"",Le=K.itemId||((Ze=t[0])==null?void 0:Ze.id)||"";u(Le,$t,K.qty,K.unitPrice),D(!1),ge({itemId:"",qty:1,locationId:null,unitPrice:0})},X=ie=>{je({itemId:ie,targetLocationId:(n==null?void 0:n.locationId)||"",qty:1,condition:Zt.NEW}),L(!0)},De=ie=>{ie.preventDefault(),d(B.itemId,B.qty,B.condition,B.targetLocationId||void 0),L(!1)},Oe=ie=>{const $t=t.find(Le=>Le.id===ie);ge({...K,itemId:ie,unitPrice:($t==null?void 0:$t.price)||0})},te=async ie=>{V(ie),ne(!0)},rt=async()=>{U&&(await x(U),ne(!1),V(null))};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Controle de Estoque"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Visualizao e gesto de ativos por localidade."})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[l.jsxs("div",{className:"flex items-center gap-2 bg-white p-2 rounded-lg border border-gray-200 shadow-sm w-full sm:w-auto",children:[l.jsx(ys,{size:18,className:"text-gray-400 ml-2"}),l.jsxs("select",{"aria-label":"Filtrar por localizao",value:_||"",onChange:ie=>A(ie.target.value),className:"bg-transparent border-none text-sm font-medium text-gray-700 focus:outline-none pr-4 w-full sm:w-auto bg-white text-gray-900",children:[l.jsx("option",{value:"all",children:"Todas as Localizaes"}),e.map(ie=>l.jsx("option",{value:ie.id,children:ie.name},ie.id))]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[l.jsxs("button",{onClick:()=>D(!0),className:"flex items-center justify-center gap-2 bg-emerald-600 text-white px-4 py-2 rounded-lg hover:bg-emerald-700 transition shadow-sm text-sm font-medium w-full sm:w-auto",title:"Registrar entrada de estoque",children:[l.jsx(Zs,{size:16})," Entrada"]}),g&&l.jsxs("button",{onClick:()=>O(!0),className:"flex items-center justify-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition shadow-sm text-sm font-medium w-full sm:w-auto",title:"Cadastrar um novo tipo de item",children:[l.jsx(Vr,{size:16})," Novo Item"]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[_e.map((ie,$t)=>{const Le=t.find(Ze=>Ze.id===ie.itemId),Xt=e.find(Ze=>Ze.id===ie.locationId);return l.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-100 shadow-sm flex flex-col justify-between hover:shadow-md transition",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded uppercase tracking-wider ${(Le==null?void 0:Le.type)===Pt.ASSET?"bg-blue-50 text-blue-600":"bg-purple-50 text-purple-600"}`,children:Le==null?void 0:Le.category}),l.jsx("span",{className:"text-xs font-bold px-2 py-1 bg-gray-50 text-gray-600 rounded uppercase tracking-wider border border-gray-100",children:Le==null?void 0:Le.unit})]}),l.jsx("span",{className:"text-xs text-gray-400",children:Le==null?void 0:Le.sku})]}),l.jsx("h3",{className:"font-semibold text-gray-800 text-lg mb-1",children:Le==null?void 0:Le.name}),l.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-1",children:[l.jsx(ys,{size:12})," ",Xt==null?void 0:Xt.name]})]}),l.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-50 flex items-end justify-between",children:[l.jsx("div",{className:"text-xs text-gray-400",children:"Quantidade Disponvel"}),l.jsx("div",{className:`text-2xl font-bold ${ie.quantity<5?"text-red-500":"text-gray-900"}`,children:ie.quantity})]}),l.jsxs("button",{onClick:()=>X(ie.itemId),className:"mt-4 w-full bg-slate-100 text-slate-700 py-2 rounded flex items-center justify-center gap-2 hover:bg-slate-200 transition text-sm font-medium",children:[l.jsx(za,{size:14})," Solicitar"]}),l.jsxs("button",{onClick:()=>{be(ie.itemId),G(!0)},className:"mt-2 w-full bg-emerald-50 text-emerald-700 py-2 rounded flex items-center justify-center gap-2 hover:bg-emerald-100 transition text-sm font-bold border border-emerald-100 shadow-sm",children:[l.jsx(Zs,{size:14})," Entregar a Pessoa"]}),g&&l.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[l.jsxs("button",{onClick:()=>{const Ze=t.find(Cn=>Cn.id===ie.itemId);W(Ze),se(!0)},className:"bg-blue-50 text-blue-600 py-2 rounded flex items-center justify-center gap-2 hover:bg-blue-100 transition text-sm font-medium border border-blue-200",children:[l.jsx(Dh,{size:14})," Editar"]}),l.jsxs("button",{onClick:()=>te(ie.itemId),className:"bg-red-50 text-red-600 py-2 rounded flex items-center justify-center gap-2 hover:bg-red-100 transition text-sm font-medium border border-red-200",children:[l.jsx(hi,{size:14})," Apagar"]})]})]},$t)}),_e.length===0&&l.jsx("div",{className:"col-span-full p-12 text-center border-2 border-dashed border-gray-200 rounded-xl text-gray-400",children:"Nenhum item encontrado nesta localizao."})]}),P&&l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-6 max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Cadastrar Novo Item (Definio)"}),l.jsx("button",{onClick:()=>O(!1),className:"text-gray-400 hover:text-gray-600",title:"Fechar","aria-label":"Fechar",children:l.jsx(rn,{size:20})})]}),l.jsxs("form",{onSubmit:me,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Item"}),l.jsx("input",{required:!0,type:"text",className:"w-full border rounded p-2 bg-white text-gray-900",value:Ee.name,onChange:ie=>z({...Ee,name:ie.target.value}),placeholder:"Ex: P Florestal"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SKU"}),l.jsx("input",{required:!0,type:"text",className:"w-full border rounded p-2 bg-white text-gray-900",value:Ee.sku,onChange:ie=>z({...Ee,sku:ie.target.value}),placeholder:"FER-001"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Item"}),l.jsxs("select",{"aria-label":"Tipo de Item",required:!0,className:"w-full border rounded p-2 bg-white text-gray-900",value:Ee.itemTypeId,onChange:ie=>z({...Ee,itemTypeId:ie.target.value}),children:[l.jsx("option",{value:"",children:"Selecione..."}),h.map(ie=>l.jsxs("option",{value:ie.id,children:[ie.name," (",ie.behavior===Pt.ASSET?"Ativo":"Consumvel",")"]},ie.id))]}),l.jsx("p",{className:"text-[10px] text-gray-500 mt-1",children:"Define comportamento Contbil."})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unidade"}),l.jsxs("select",{"aria-label":"Unidade",required:!0,className:"w-full border rounded p-2 bg-white text-gray-900",value:Ee.unit,onChange:ie=>z({...Ee,unit:ie.target.value}),children:[l.jsx("option",{value:"",children:"Selecione..."}),m.map(ie=>l.jsx("option",{value:ie,children:ie},ie))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Preo Un. (MZN)"}),l.jsx("input",{"aria-label":"Preo Un. (MZN)",required:!0,type:"number",min:"0",step:"0.01",className:"w-full border rounded p-2 bg-white text-gray-900",value:Ee.unitPrice,onChange:ie=>z({...Ee,unitPrice:parseFloat(ie.target.value)||0})})]})]}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded border border-gray-100",children:[l.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase mb-2",children:"Estoque Inicial"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Localizao"}),l.jsxs("select",{"aria-label":"Localizao",className:"w-full border rounded p-2 bg-white text-gray-900",value:Ee.locationId||"",onChange:ie=>z({...Ee,locationId:ie.target.value}),disabled:!g,children:[l.jsx("option",{value:"",children:"Selecione..."}),e.map(ie=>l.jsx("option",{value:ie.id,children:ie.name},ie.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantidade"}),l.jsx("input",{"aria-label":"Quantidade",type:"number",min:"0",className:"w-full border rounded p-2 bg-white text-gray-900",value:Ee.qty,onChange:ie=>z({...Ee,qty:parseInt(ie.target.value)})})]})]})]}),l.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[l.jsx("input",{type:"checkbox",id:"isForSale",checked:Ee.isForSale,onChange:ie=>z({...Ee,isForSale:ie.target.checked}),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),l.jsx("label",{htmlFor:"isForSale",className:"text-sm font-medium text-gray-700",children:"Disponvel para venda no POS"})]}),l.jsx("div",{className:"flex justify-end gap-2 mt-4",children:l.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 font-medium w-full",children:"Cadastrar"})})]})]})}),C&&l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Entrada de Estoque"}),l.jsx("button",{onClick:()=>D(!1),className:"text-gray-400 hover:text-gray-600",title:"Fechar","aria-label":"Fechar",children:l.jsx(rn,{size:20})})]}),l.jsxs("form",{onSubmit:Re,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Item"}),l.jsxs("select",{"aria-label":"Item",className:"w-full border rounded p-2 bg-white text-gray-900",value:K.itemId,onChange:ie=>Oe(ie.target.value),children:[l.jsx("option",{value:"",children:"Selecione o item..."}),t.map(ie=>l.jsx("option",{value:ie.id,children:ie.name},ie.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Localizao (Destino)"}),l.jsxs("select",{"aria-label":"Localizao (Destino)",className:`w-full border rounded p-2 bg-white text-gray-900 ${g?"":"bg-gray-100 text-gray-500"}`,value:K.locationId||"",onChange:ie=>ge({...K,locationId:ie.target.value}),disabled:!g,children:[l.jsx("option",{value:"",children:"Selecione a localizao..."}),e.map(ie=>l.jsx("option",{value:ie.id,children:ie.name},ie.id))]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantidade"}),l.jsx("input",{"aria-label":"Quantidade",required:!0,type:"number",min:"1",className:"w-full border rounded p-2 bg-white text-gray-900",value:K.qty,onChange:ie=>ge({...K,qty:parseInt(ie.target.value)})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Preo Un. (MZN)"}),l.jsx("input",{"aria-label":"Preo Un. (MZN)",required:!0,type:"number",min:"0",step:"0.01",className:"w-full border rounded p-2 bg-white text-gray-900",value:K.unitPrice,onChange:ie=>ge({...K,unitPrice:parseFloat(ie.target.value)||0})})]})]}),l.jsx("p",{className:"text-xs text-gray-500",children:"Isso registrar uma entrada contbil e atualizar o patrimnio."}),l.jsx("div",{className:"flex justify-end gap-2 mt-4",children:l.jsx("button",{type:"submit",className:"bg-emerald-600 text-white px-4 py-2 rounded hover:bg-emerald-700 font-medium w-full",children:"Confirmar Entrada"})})]})]})}),R&&l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Solicitar Item"}),l.jsx("button",{onClick:()=>L(!1),className:"text-gray-400 hover:text-gray-600",title:"Fechar","aria-label":"Fechar",children:l.jsx(rn,{size:20})})]}),l.jsxs("div",{className:"mb-4 text-sm text-gray-500",children:["Solicitando: ",l.jsx("span",{className:"font-bold text-gray-800",children:p(B.itemId)})]}),l.jsxs("form",{onSubmit:De,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Destino (Onde ser entregue?)"}),l.jsx("select",{"aria-label":"Destino (Onde ser entregue?)",className:"w-full border rounded p-2 bg-white text-gray-900",value:B.targetLocationId||"",onChange:ie=>je({...B,targetLocationId:ie.target.value}),children:e.map(ie=>l.jsx("option",{value:ie.id,children:ie.name},ie.id))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Requerente"}),l.jsx("input",{"aria-label":"Nome do Requerente",type:"text",disabled:!0,className:"w-full border rounded p-2 bg-gray-100 text-gray-500 cursor-not-allowed",value:(n==null?void 0:n.name)||""})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantidade"}),l.jsx("input",{"aria-label":"Quantidade",required:!0,type:"number",min:"1",className:"w-full border rounded p-2 bg-white text-gray-900",value:B.qty,onChange:ie=>je({...B,qty:parseInt(ie.target.value)})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Condio"}),l.jsxs("select",{"aria-label":"Condio",className:"w-full border rounded p-2 bg-white text-gray-900",value:B.condition,onChange:ie=>je({...B,condition:ie.target.value}),children:[l.jsx("option",{value:Zt.NEW,children:"Novo"}),l.jsx("option",{value:Zt.GOOD,children:"Bom"}),l.jsx("option",{value:Zt.FAIR,children:"Regular"})]})]})]}),l.jsx("div",{className:"flex justify-end gap-2 mt-6",children:l.jsxs("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 font-medium w-full flex items-center justify-center gap-2",children:[l.jsx(za,{size:16})," Enviar Requisio"]})})]})]})}),he&&U&&l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-6",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Confirmar Apagamento"}),l.jsxs("p",{className:"text-gray-600 mb-6",children:["Tem a certeza que deseja apagar a definio do item ",l.jsx("strong",{children:(He=t.find(ie=>ie.id===U))==null?void 0:He.name}),"? Esta ao no pode ser desfeita."]}),l.jsxs("div",{className:"flex gap-3 justify-end",children:[l.jsx("button",{onClick:()=>{ne(!1),V(null)},className:"px-4 py-2 rounded border border-gray-300 text-gray-700 hover:bg-gray-50 font-medium transition",children:"Cancelar"}),l.jsxs("button",{onClick:rt,className:"px-4 py-2 rounded bg-red-600 text-white hover:bg-red-700 font-medium transition flex items-center gap-2",children:[l.jsx(hi,{size:16})," Apagar"]})]})]})}),H&&ue&&l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in duration-200",children:[l.jsxs("div",{className:"bg-emerald-600 p-6 text-white flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold",children:"Entregar Material"}),l.jsx("p",{className:"text-emerald-100 text-[10px] uppercase font-bold tracking-widest mt-1",children:"Sada direta para funcionrio"})]}),l.jsx("button",{onClick:()=>G(!1),className:"hover:bg-white/10 p-1 rounded-full",children:l.jsx(rn,{size:20})})]}),l.jsx("div",{className:"p-6",children:l.jsxs("form",{onSubmit:async ie=>{ie.preventDefault();const $t=ie.target,Le=$t.person.value,Xt=parseFloat($t.qty.value),Ze=t.find(Cn=>Cn.id===ue);if(!Le){alert("Selecione uma pessoa.");return}await j({tipo:"ferramentas",entidade_id:Le,entidade_tipo:"trabalhador",data:new Date().toISOString().split("T")[0],produto_id:ue,produto:(Ze==null?void 0:Ze.name)||"",quantidade:Xt,unidade:(Ze==null?void 0:Ze.unit)||"Unidade",usuario_registou:(n==null?void 0:n.id)||"",estado:"confirmado"}),G(!1)},className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Item Selecionado"}),l.jsx("div",{className:"p-3 bg-gray-50 border border-gray-100 rounded-xl font-bold text-gray-800",children:(Et=t.find(ie=>ie.id===ue))==null?void 0:Et.name})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Beneficirio (Pessoa)"}),l.jsxs("select",{name:"person",required:!0,className:"w-full p-3 border border-gray-200 rounded-xl outline-none focus:ring-2 focus:ring-emerald-500 bg-white text-gray-900",children:[l.jsx("option",{value:"",children:"Selecione um funcionrio..."}),b.map(ie=>l.jsxs("option",{value:ie.id,children:[ie.name," (",ie.jobTitle||"Sem cargo",")"]},ie.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Quantidade"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{name:"qty",type:"number",step:"0.01",defaultValue:"1",className:"flex-1 p-3 border border-gray-200 rounded-xl outline-none focus:ring-2 focus:ring-emerald-500 font-bold"}),l.jsx("div",{className:"px-4 flex items-center bg-gray-50 border border-gray-200 rounded-xl text-gray-500 text-sm",children:(vt=t.find(ie=>ie.id===ue))==null?void 0:vt.unit})]})]}),l.jsx("button",{type:"submit",className:"w-full bg-emerald-600 text-white font-bold py-3 rounded-xl hover:bg-emerald-700 shadow-lg shadow-emerald-100 uppercase tracking-widest text-xs mt-4",children:"Confirmar Entrega"})]})})]})}),k&&I&&l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-6 max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Editar Definio do Item"}),l.jsx("button",{onClick:()=>se(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx(rn,{size:20})})]}),l.jsxs("form",{onSubmit:async ie=>{ie.preventDefault(),await N(I.id,I),se(!1)},className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Item"}),l.jsx("input",{required:!0,type:"text",className:"w-full border rounded p-2 bg-white text-gray-900",value:I.name,onChange:ie=>W({...I,name:ie.target.value})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SKU"}),l.jsx("input",{required:!0,type:"text",className:"w-full border rounded p-2 bg-white text-gray-900",value:I.sku,onChange:ie=>W({...I,sku:ie.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unidade"}),l.jsx("select",{className:"w-full border rounded p-2 bg-white text-gray-900",value:I.unit,onChange:ie=>W({...I,unit:ie.target.value}),children:m.map(ie=>l.jsx("option",{value:ie,children:ie},ie))})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Patrimnio"}),l.jsxs("select",{className:"w-full border rounded p-2 bg-white text-gray-900",value:I.type,onChange:ie=>W({...I,type:ie.target.value}),children:[l.jsx("option",{value:Pt.ASSET,children:"Ativo (Permanente)"}),l.jsx("option",{value:Pt.CONSUMABLE,children:"Consumvel"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Preo Sugerido (Venda/Valor)"}),l.jsx("input",{type:"number",step:"0.01",className:"w-full border rounded p-2 bg-white text-gray-900",value:I.price,onChange:ie=>W({...I,price:parseFloat(ie.target.value)})})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",id:"editIsForSale",checked:I.is_for_sale,onChange:ie=>W({...I,is_for_sale:ie.target.checked})}),l.jsx("label",{htmlFor:"editIsForSale",className:"text-sm text-gray-700",children:"Disponvel para Venda"})]}),l.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white font-bold py-3 rounded-xl hover:bg-blue-700 shadow-lg mt-4",children:"Salvar Alteraes"})]})]})})]})},UX=()=>{const{currentUser:e,getWorkersByManager:t,getWorkersByLocation:r,performanceRecords:n,savePerformanceRecord:s,locations:o,selectedDepartmentId:u,allUsers:d,isAdminOrGM:h}=Nr(),[m,p]=w.useState("register"),[g,x]=w.useState(new Date().toISOString().split("T")[0]),[b,j]=w.useState(null),[N,_]=w.useState({status:yt.FULL_DAY,production:0,notes:""}),[A,P]=w.useState(()=>{const U=new Date;return U.setDate(1),U.toISOString().split("T")[0]}),[O,C]=w.useState(new Date().toISOString().split("T")[0]),D=(U,V=g)=>n.find(I=>I.workerId===U&&I.date===V),R=U=>{switch(U){case yt.FULL_DAY:return"D";case yt.HALF_DAY:return"D/2";case yt.ABSENT:return"F";default:return U}},L=U=>{switch(U){case yt.FULL_DAY:return"text-green-600 bg-green-50 border-green-200";case yt.HALF_DAY:return"text-orange-600 bg-orange-50 border-orange-200";case yt.ABSENT:return"text-red-600 bg-red-50 border-red-200";default:return"text-gray-600"}},H=U=>{const V=D(U.id);if(V&&!h){alert("Apenas Administradores podem alterar registros j submetidos.");return}j(U.id),_(V?{status:V.status,production:V.production,notes:V.notes||""}:{status:yt.FULL_DAY,production:U.defaultDailyGoal||0,notes:""})},G=U=>{const V=D(U.id);if(V&&!h||!confirm(`Confirmar "Falta" (F) para ${U.name} na data ${g}?`))return;const I={id:(V==null?void 0:V.id)||`perf-${Date.now()}-${U.id}`,workerId:U.id,date:g,status:yt.ABSENT,production:0,notes:"Falta Registrada (Rpido)"};s(I)},he=U=>{const V=D(U.id),I={id:(V==null?void 0:V.id)||`perf-${Date.now()}-${U.id}`,workerId:U.id,date:g,status:N.status,production:N.status===yt.ABSENT?0:N.production,notes:N.notes};s(I),j(null)},ne=()=>{let U=[];if((e==null?void 0:e.role)===Te.ADMIN){const V=d.filter(I=>I.role===Te.WORKER);if(u){const I=o.filter(ue=>ue.parentId===u).map(ue=>ue.id),W=[u,...I];U=V.filter(ue=>ue.locationId&&W.includes(ue.locationId))}else U=V}else U=e?t(e.id):[];return U.sort((V,I)=>V.name.localeCompare(I.name)),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-2",children:[l.jsx(al,{size:14})," Registros salvos s podem ser alterados pela Administrao."]}),l.jsxs("div",{className:"flex items-center gap-2 bg-white p-2 rounded-lg border border-gray-200 shadow-sm",children:[l.jsx(gu,{size:18,className:"text-gray-400"}),l.jsx("input",{type:"date",value:g,onChange:V=>x(V.target.value),className:"text-sm font-medium text-gray-700 outline-none bg-white"})]})]}),U.length===0?l.jsxs("div",{className:"text-center p-8 bg-white rounded-xl border border-dashed border-gray-300 text-gray-400",children:[l.jsx(kh,{size:48,className:"mx-auto mb-2 opacity-20"}),l.jsx("p",{children:"Nenhum trabalhador encontrado para o filtro atual."})]}):U.map(V=>{const I=D(V.id),W=b===V.id,ue=V.defaultDailyGoal||0,be=!!I&&!h;return l.jsx("div",{className:`bg-white rounded-xl border transition-all ${W?"border-blue-500 shadow-md ring-1 ring-blue-500":"border-gray-200 shadow-sm hover:border-blue-300"}`,children:l.jsxs("div",{className:"p-4 flex flex-col md:flex-row items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-3 w-full md:w-1/4",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center text-slate-600 font-bold shrink-0",children:V.name.charAt(0)}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-gray-900",children:V.name}),l.jsx("p",{className:"text-xs text-gray-500",children:V.jobTitle||"Operrio"})]})]}),l.jsx("div",{className:"flex-1 w-full",children:W?l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx("div",{className:"flex gap-2",children:[yt.FULL_DAY,yt.HALF_DAY,yt.ABSENT].map(Ee=>l.jsx("button",{onClick:()=>_({...N,status:Ee}),className:`flex-1 py-2 px-3 rounded border text-sm font-bold transition-all ${N.status===Ee?"bg-blue-600 text-white border-blue-600 shadow-md":"bg-white text-gray-600 border-gray-200 hover:bg-gray-50"}`,children:R(Ee)},Ee))}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"text-[10px] uppercase text-gray-400 font-bold mb-1 block",children:"Produo"}),l.jsx("input",{type:"number",min:"0",disabled:N.status===yt.ABSENT,className:"w-full p-2 border border-gray-300 rounded focus:border-blue-500 outline-none text-sm font-semibold disabled:bg-gray-100 disabled:text-gray-400 bg-white text-gray-900",value:N.production,onChange:Ee=>_({...N,production:parseFloat(Ee.target.value)})})]}),l.jsxs("div",{className:"text-xs text-gray-400 pt-5",children:["Meta: ",ue]})]})]}):l.jsxs("div",{className:"flex items-center justify-between md:justify-around w-full",children:[l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("span",{className:"text-[10px] text-gray-400 uppercase font-bold",children:"Estado"}),l.jsx("span",{className:`px-3 py-1 rounded text-sm font-bold border mt-1 ${I?L(I.status):"bg-gray-100 text-gray-400"}`,children:I?R(I.status):"-"})]}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("span",{className:"text-[10px] text-gray-400 uppercase font-bold",children:"Produo"}),l.jsxs("div",{className:"mt-1 flex items-baseline gap-1",children:[l.jsx("span",{className:"text-lg font-bold text-gray-900",children:I?I.production:"-"}),l.jsxs("span",{className:"text-xs text-gray-400",children:["/ ",ue]})]})]})]})}),l.jsx("div",{className:"w-full md:w-auto flex justify-end gap-2 mt-2 md:mt-0",children:W?l.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[l.jsx("button",{onClick:()=>j(null),className:"flex-1 md:flex-none px-3 py-2 text-sm text-gray-500 hover:bg-gray-100 rounded border border-gray-200",children:"Cancelar"}),l.jsxs("button",{onClick:()=>he(V),className:"flex-1 md:flex-none px-4 py-2 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center justify-center gap-2",children:[l.jsx(Dh,{size:14})," Salvar"]})]}):l.jsxs(l.Fragment,{children:[!be&&l.jsxs("button",{onClick:()=>G(V),className:"px-3 py-2 text-sm border border-red-200 text-red-700 bg-red-50 rounded hover:bg-red-100 transition flex items-center gap-1",title:"Registrar Falta",children:[l.jsx(Mf,{size:14})," ",l.jsx("span",{className:"hidden sm:inline",children:"Falta"})]}),be?l.jsxs("button",{disabled:!0,className:"px-4 py-2 text-sm border border-gray-100 bg-gray-50 text-gray-400 rounded flex items-center gap-2 cursor-not-allowed",children:[l.jsx(al,{size:12})," Registrado"]}):l.jsx("button",{onClick:()=>H(V),className:`px-4 py-2 text-sm border rounded hover:bg-gray-50 transition ${I?"border-gray-300 text-gray-700":"border-blue-200 text-blue-600 bg-blue-50"}`,children:I?"Editar":"Registrar"})]})})]})},V.id)})]})},k=w.useMemo(()=>{const U=d.filter(z=>z.role===Te.WORKER);let V=U;if(!e||e.role!==Te.ADMIN){const z=[(e==null?void 0:e.locationId)||"",...o.filter(K=>K.parentId===(e==null?void 0:e.locationId)).map(K=>K.id)];V=U.filter(K=>K.locationId&&z.includes(K.locationId))}else if(u){const z=o.filter(ge=>ge.parentId===u).map(ge=>ge.id),K=[u,...z];V=U.filter(ge=>ge.locationId&&K.includes(ge.locationId))}const I=V.map(z=>{var De;const K=n.filter(Oe=>Oe.workerId===z.id&&Oe.date>=A&&Oe.date<=O),ge=K.filter(Oe=>Oe.status===yt.FULL_DAY).length,B=K.filter(Oe=>Oe.status===yt.HALF_DAY).length,je=K.filter(Oe=>Oe.status===yt.ABSENT).length,_e=K.reduce((Oe,te)=>Oe+(te.production||0),0),me=ge+B,Re=me>0?(_e/me).toFixed(1):"0",X=((De=o.find(Oe=>Oe.id===z.locationId))==null?void 0:De.name)||"N/A";return{worker:z,locationName:X,dCount:ge,halfCount:B,fCount:je,totalProduction:_e,avgProduction:parseFloat(Re)}}),W=I.reduce((z,K)=>z+K.totalProduction,0),ue=I.reduce((z,K)=>z+K.fCount,0),be=I.reduce((z,K)=>z+K.dCount,0),Ee=I.reduce((z,K)=>z+K.halfCount,0);return{rows:I,globalTotalProduction:W,globalAbsences:ue,globalD:be,globalHalf:Ee,totalWorkers:I.length}},[d,n,o,e,u,A,O]),se=()=>{const{rows:U,globalTotalProduction:V,globalAbsences:I,globalD:W,globalHalf:ue}=k,be=[...U].sort((z,K)=>K.totalProduction-z.totalProduction).slice(0,5),Ee=[{name:"Dias Completos (D)",value:W,color:"#22c55e"},{name:"Meios Dias (D/2)",value:ue,color:"#f97316"},{name:"Faltas (F)",value:I,color:"#ef4444"}].filter(z=>z.value>0);return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm flex flex-col md:flex-row items-center gap-4 justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[l.jsx(rO,{size:18}),l.jsx("span",{className:"font-semibold text-sm",children:"Filtro de Perodo:"})]}),l.jsxs("div",{className:"flex items-center gap-3 w-full md:w-auto",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-[10px] text-gray-400 font-bold uppercase",children:"De"}),l.jsx("input",{type:"date",value:A,onChange:z=>P(z.target.value),className:"border rounded px-2 py-1 text-sm bg-gray-50 text-gray-900 focus:outline-blue-500"})]}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-[10px] text-gray-400 font-bold uppercase",children:"At"}),l.jsx("input",{type:"date",value:O,onChange:z=>C(z.target.value),className:"border rounded px-2 py-1 text-sm bg-gray-50 text-gray-900 focus:outline-blue-500"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-100 shadow-sm",children:[l.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase",children:"Produo Total"}),l.jsx("h3",{className:"text-3xl font-bold text-blue-600 mt-1",children:V}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"rvores no perodo"})]}),l.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-100 shadow-sm",children:[l.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase",children:"Total de Faltas"}),l.jsx("h3",{className:"text-3xl font-bold text-red-600 mt-1",children:I}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Ocorrncias 'F'"})]}),l.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-100 shadow-sm",children:[l.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase",children:"Assiduidade Total"}),l.jsx("h3",{className:"text-3xl font-bold text-green-600 mt-1",children:W+ue}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Dias trabalhados (D + D/2)"})]}),l.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-100 shadow-sm",children:[l.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase",children:"Mdia Geral"}),l.jsx("h3",{className:"text-3xl font-bold text-gray-800 mt-1",children:(V/(W+ue||1)).toFixed(1)}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"rvores / Dia Trabalhado"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm h-80",children:[l.jsxs("h4",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2",children:[l.jsx(Jv,{className:"rotate-180 text-green-600"})," Top 5 Produtores"]}),l.jsx(nu,{width:"100%",height:"90%",children:l.jsxs(Jb,{data:be,layout:"vertical",margin:{left:40,right:20},children:[l.jsx(Sm,{strokeDasharray:"3 3",horizontal:!1}),l.jsx(Em,{type:"number",hide:!0}),l.jsx(Am,{type:"category",dataKey:"worker.name",width:100,tick:{fontSize:10}}),l.jsx(mu,{}),l.jsx(_m,{dataKey:"totalProduction",fill:"#3b82f6",radius:[0,4,4,0],children:be.map((z,K)=>l.jsx(xs,{fill:K===0?"#f59e0b":"#3b82f6"},`cell-${K}`))})]})})]}),l.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm h-80 flex flex-col",children:[l.jsxs("h4",{className:"font-bold text-gray-800 mb-2 flex items-center gap-2",children:[l.jsx(o6,{className:"text-purple-600"})," Distribuio de Presena"]}),l.jsx("div",{className:"flex-1 w-full",children:l.jsx(nu,{width:"100%",height:"100%",children:l.jsxs(Qk,{children:[l.jsx(Hb,{data:Ee,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:Ee.map((z,K)=>l.jsx(xs,{fill:z.color},`cell-${K}`))}),l.jsx(mu,{}),l.jsx(UC,{})]})})})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[l.jsx("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:l.jsxs("h3",{className:"font-bold text-gray-800 flex items-center gap-2",children:[l.jsx(la,{size:18})," Detalhe por Funcionrio"]})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left text-sm",children:[l.jsx("thead",{className:"bg-white text-xs text-gray-500 uppercase font-semibold border-b border-gray-200",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-4",children:"Funcionrio"}),l.jsx("th",{className:"px-6 py-4",children:"Localizao"}),l.jsx("th",{className:"px-6 py-4 text-center text-green-700 bg-green-50/50",children:"D (Dias)"}),l.jsx("th",{className:"px-6 py-4 text-center text-orange-700 bg-orange-50/50",children:"D/2 (Meios)"}),l.jsx("th",{className:"px-6 py-4 text-center text-red-700 bg-red-50/50",children:"F (Faltas)"}),l.jsx("th",{className:"px-6 py-4 text-right",children:"Total Produo"}),l.jsx("th",{className:"px-6 py-4 text-right",children:"Mdia / Dia"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-100",children:U.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-400",children:"Nenhum dado no perodo."})}):U.map(z=>l.jsxs("tr",{className:"hover:bg-slate-50 transition",children:[l.jsx("td",{className:"px-6 py-4 font-medium text-gray-900",children:z.worker.name}),l.jsx("td",{className:"px-6 py-4 text-gray-600",children:z.locationName}),l.jsx("td",{className:"px-6 py-4 text-center font-bold text-green-700 bg-green-50/30",children:z.dCount}),l.jsx("td",{className:"px-6 py-4 text-center font-bold text-orange-700 bg-orange-50/30",children:z.halfCount}),l.jsx("td",{className:"px-6 py-4 text-center font-bold text-red-700 bg-red-50/30",children:z.fCount}),l.jsx("td",{className:"px-6 py-4 text-right font-bold text-blue-700",children:z.totalProduction}),l.jsx("td",{className:"px-6 py-4 text-right text-gray-600",children:z.avgProduction})]},z.worker.id))})]})})]})]})};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-end gap-4 border-b border-gray-200 pb-2",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Desempenho Operacional"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Controle de produo florestal e assiduidade."})]}),l.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg",children:[l.jsx("button",{onClick:()=>p("register"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${m==="register"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ia,{size:16}),"Registo Dirio"]})}),l.jsx("button",{onClick:()=>p("report"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${m==="report"?"bg-white text-purple-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(B3,{size:16}),"Relatrio Geral"]})})]})]}),m==="register"?ne():se()]})},BX=()=>{var se;const{allUsers:e,locations:t,addUser:r,updateUser:n,deleteUser:s,performanceRecords:o,payrollParams:u,updatePayrollParams:d,isAdminOrGM:h}=Nr(),[m,p]=w.useState(""),[g,x]=w.useState(null),[b,j]=w.useState("summary"),[N,_]=w.useState(!1),[A,P]=w.useState(null),[O,C]=w.useState({name:"",email:"",password:"",role:Te.WORKER,locationId:null,jobTitle:"",defaultDailyGoal:10,dailyRate:236.5,halfDayRate:118,absencePenalty:95,bonusPerUnit:10}),[D,R]=w.useState({}),L=e.filter(U=>{var V;return U.name.toLowerCase().includes(m.toLowerCase())||((V=U.jobTitle)==null?void 0:V.toLowerCase().includes(m.toLowerCase()))}),H=async U=>{if(U.preventDefault(),!O.locationId){alert("Selecione um departamento/localizao.");return}try{const V={name:O.name,email:O.email,password:O.password,role:O.role,locationId:O.locationId||void 0,jobTitle:O.jobTitle,defaultDailyGoal:O.role===Te.WORKER?O.defaultDailyGoal:void 0,dailyRate:O.role===Te.WORKER?O.dailyRate:void 0,halfDayRate:O.role===Te.WORKER?O.halfDayRate:void 0,absencePenalty:O.role===Te.WORKER?O.absencePenalty:void 0,bonusPerUnit:O.role===Te.WORKER?O.bonusPerUnit:void 0};await r(V),alert("Funcionrio adicionado com sucesso!"),C({name:"",email:"",password:"",role:Te.WORKER,locationId:null,jobTitle:"",defaultDailyGoal:10,dailyRate:236.5,halfDayRate:118,absencePenalty:95,bonusPerUnit:10})}catch(V){console.error("Erro ao adicionar funcionrio:",V);const I=V instanceof Error?V.message:String(V);alert(`Erro ao adicionar funcionrio: ${I}`)}},G=U=>{x(U),j("summary"),R({defaultDailyGoal:U.defaultDailyGoal,dailyRate:U.dailyRate,halfDayRate:U.halfDayRate,absencePenalty:U.absencePenalty,bonusPerUnit:U.bonusPerUnit,role:U.role,jobTitle:U.jobTitle})},he=U=>{P(U),_(!0)},ne=async()=>{A&&(await s(A.id),_(!1),P(null),x(null))},k=()=>{if(!g)return null;const U=new Date().toISOString().slice(0,7),V=o.filter(me=>me.workerId===g.id),I=V.filter(me=>me.date.startsWith(U)),W=I.filter(me=>me.status===yt.FULL_DAY).length,ue=I.filter(me=>me.status===yt.HALF_DAY).length,be=I.filter(me=>me.status===yt.ABSENT).length,Ee=I.reduce((me,Re)=>me+(Re.production||0),0),K=(W+ue*.5)*(g.defaultDailyGoal||0),ge=W*(g.dailyRate||0)+ue*(g.halfDayRate||0),B=Math.max(0,Ee-K)*(g.bonusPerUnit||0),je=be*(g.absencePenalty||0),_e=ge+B-je;if(b==="summary")return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-100 shadow-sm",children:[l.jsxs("h4",{className:"font-bold text-gray-700 mb-3 flex items-center gap-2",children:[l.jsx(Xc,{size:18,className:"text-blue-500"})," Este Ms (",U,")"]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between border-b border-gray-50 pb-2",children:[l.jsx("span",{className:"text-gray-500 text-sm",children:"Dias Trabalhados"}),l.jsxs("span",{className:"font-bold text-gray-800",children:[W," ",l.jsxs("span",{className:"text-xs font-normal text-gray-400",children:["(",ue," meios)"]})]})]}),l.jsxs("div",{className:"flex justify-between border-b border-gray-50 pb-2",children:[l.jsx("span",{className:"text-gray-500 text-sm",children:"Produo Real"}),l.jsxs("span",{className:`font-bold ${Ee>=K?"text-green-600":"text-orange-500"}`,children:[Ee," ",l.jsxs("span",{className:"text-xs text-gray-400",children:["/ ",K," meta"]})]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-500 text-sm",children:"Faltas"}),l.jsx("span",{className:"font-bold text-red-500",children:be})]})]})]}),l.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-100 shadow-sm",children:[l.jsxs("h4",{className:"font-bold text-gray-700 mb-3 flex items-center gap-2",children:[l.jsx(Bn,{size:18,className:"text-green-500"})," Salrio Previsto"]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between border-b border-gray-50 pb-2",children:[l.jsx("span",{className:"text-gray-500 text-sm",children:"Base Calculada"}),l.jsxs("span",{className:"font-medium text-gray-800",children:[ge.toFixed(2)," MT"]})]}),l.jsxs("div",{className:"flex justify-between border-b border-gray-50 pb-2",children:[l.jsx("span",{className:"text-gray-500 text-sm",children:"Bnus Produtividade"}),l.jsxs("span",{className:"font-medium text-blue-600",children:["+",B.toFixed(2)," MT"]})]}),l.jsxs("div",{className:"flex justify-between pt-1",children:[l.jsx("span",{className:"text-gray-800 font-bold text-sm",children:"Lquido Estimado"}),l.jsxs("span",{className:"font-bold text-green-700 text-lg",children:[_e.toFixed(2)," MT"]})]})]})]})]}),l.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl border border-blue-100 flex items-start gap-3",children:[l.jsx(yu,{className:"text-blue-600 mt-1",size:20}),l.jsxs("div",{children:[l.jsx("h5",{className:"font-bold text-blue-800",children:"Anlise de Eficincia"}),l.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["O funcionrio est com uma eficincia de ",l.jsxs("strong",{children:[K>0?(Ee/K*100).toFixed(0):0,"%"]})," este ms.",Ee>K?" Excelente desempenho, acima da meta estabelecida.":" Ateno: Produo abaixo do esperado para os dias trabalhados."]})]})]})]});if(b==="history"){const me={};V.forEach(X=>{const De=X.date.slice(0,7);me[De]||(me[De]={d:0,h:0,f:0,prod:0}),X.status===yt.FULL_DAY&&me[De].d++,X.status===yt.HALF_DAY&&me[De].h++,X.status===yt.ABSENT&&me[De].f++,me[De].prod+=X.production||0});const Re=Object.keys(me).sort().reverse();return l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left text-sm",children:[l.jsx("thead",{className:"bg-gray-50 text-gray-500 font-semibold border-b border-gray-200",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3",children:"Ms/Ano"}),l.jsx("th",{className:"px-4 py-3 text-center",children:"Dias (D)"}),l.jsx("th",{className:"px-4 py-3 text-center",children:"Faltas"}),l.jsx("th",{className:"px-4 py-3 text-right",children:"Produo"}),l.jsx("th",{className:"px-4 py-3 text-right",children:"Eficincia"}),l.jsx("th",{className:"px-4 py-3 text-center",children:"Status"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-100",children:Re.map(X=>{const De=me[X],te=(De.d+De.h*.5)*(g.defaultDailyGoal||0),rt=te>0?De.prod/te*100:0,He=X<U;return l.jsxs("tr",{className:"hover:bg-slate-50",children:[l.jsx("td",{className:"px-4 py-3 font-medium text-gray-800",children:X}),l.jsxs("td",{className:"px-4 py-3 text-center text-gray-600",children:[De.d," ",l.jsxs("span",{className:"text-xs text-gray-400",children:["(",De.h,")"]})]}),l.jsx("td",{className:"px-4 py-3 text-center text-red-500 font-bold",children:De.f}),l.jsx("td",{className:"px-4 py-3 text-right font-medium",children:De.prod}),l.jsx("td",{className:"px-4 py-3 text-right",children:l.jsxs("span",{className:`px-2 py-0.5 rounded text-xs font-bold ${rt>=100?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:[rt.toFixed(0),"%"]})}),l.jsx("td",{className:"px-4 py-3 text-center",children:He?l.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded",children:"Fechado"}):l.jsx("span",{className:"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded",children:"Aberto"})})]},X)})})]})})}if(b==="daily"){const me=[...V].sort((Re,X)=>X.date.localeCompare(Re.date));return l.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto pr-2 custom-scrollbar",children:me.map(Re=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border border-gray-100 rounded-lg shadow-sm hover:border-blue-200 transition",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"bg-gray-100 text-gray-600 text-xs font-bold px-2 py-1 rounded border border-gray-200",children:lr(Re.date,{dateOnly:!0})}),l.jsx("div",{className:`text-xs font-bold px-2 py-0.5 rounded uppercase w-10 text-center ${Re.status==="D"?"bg-green-100 text-green-700":Re.status==="D/2"?"bg-orange-100 text-orange-700":"bg-red-100 text-red-700"}`,children:Re.status})]}),l.jsxs("div",{className:"flex items-center gap-6",children:[l.jsxs("div",{className:"text-sm",children:[l.jsx("span",{className:"text-gray-400 text-xs mr-2",children:"PRODUO"}),l.jsx("span",{className:"font-bold text-gray-800",children:Re.production})]}),Re.notes&&l.jsxs("div",{className:"text-xs text-gray-500 italic max-w-[150px] truncate",title:Re.notes,children:['"',Re.notes,'"']})]})]},Re.id))})}if(b==="financial"){const me=[];return V.forEach(Re=>{const X=Re.date.slice(0,7);me.includes(X)||me.push(X)}),me.sort().reverse(),l.jsx("div",{className:"space-y-3",children:me.map(Re=>{const X=Re===U;return l.jsxs("div",{className:"flex items-center justify-between p-4 bg-white border border-gray-200 rounded-xl shadow-sm",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${X?"bg-blue-100 text-blue-600":"bg-green-100 text-green-600"}`,children:l.jsx(Bn,{size:20})}),l.jsxs("div",{children:[l.jsxs("h5",{className:"font-bold text-gray-800",children:["Salrio ",Re]}),l.jsx("p",{className:"text-xs text-gray-500",children:X?"Em processamento":"Processado e Fechado"})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${X?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:X?"Pendente":"Pago"}),l.jsx("button",{className:"text-gray-400 hover:text-blue-600",title:"Ver recibo",children:l.jsx(la,{size:18})})]})]},Re)})})}if(b==="fichas"){const{fichasIndividuais:me,createFicha:Re,items:X,inventory:De}=Nr(),Oe=me.filter(He=>He.entidade_id===g.id),[te,rt]=w.useState(!1);return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center bg-emerald-50 p-4 rounded-xl border border-emerald-100",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-emerald-800",children:"Carga Individual / Ferramentas"}),l.jsx("p",{className:"text-xs text-emerald-600",children:"Histrico de materiais e EPIs entregues ao funcionrio."})]}),l.jsxs("button",{onClick:()=>rt(!0),className:"bg-emerald-600 text-white px-4 py-2 rounded-lg hover:bg-emerald-700 transition flex items-center gap-2 text-sm font-bold shadow-sm",children:[l.jsx(Vr,{size:16})," Nova Entrega"]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left text-sm",children:[l.jsx("thead",{className:"bg-gray-50 text-gray-500 font-semibold border-b border-gray-200",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3",children:"Data"}),l.jsx("th",{className:"px-4 py-3",children:"Produto"}),l.jsx("th",{className:"px-4 py-3 text-center",children:"Qtd"}),l.jsx("th",{className:"px-4 py-3 text-center",children:"Tipo"}),l.jsx("th",{className:"px-4 py-3 text-center",children:"Estado"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-100",children:Oe.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:5,className:"px-4 py-10 text-center text-gray-400",children:"Nenhuma entrega registrada."})}):Oe.map(He=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-4 py-3 text-gray-600",children:lr(He.data,{dateOnly:!0})}),l.jsx("td",{className:"px-4 py-3 font-medium text-gray-800",children:He.produto}),l.jsxs("td",{className:"px-4 py-3 text-center font-bold text-emerald-600",children:[He.quantidade," ",He.unidade]}),l.jsx("td",{className:"px-4 py-3 text-center",children:l.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded bg-gray-100 text-gray-600 uppercase font-bold tracking-tighter",children:He.tipo})}),l.jsx("td",{className:"px-4 py-3 text-center",children:l.jsx("span",{className:`px-2 py-0.5 rounded-[4px] text-[10px] font-bold ${He.estado==="confirmado"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:He.estado.toUpperCase()})})]},He.id))})]})}),te&&l.jsx("div",{className:"fixed inset-0 bg-black/60 z-[100] flex items-center justify-center p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden animate-in zoom-in duration-200",children:[l.jsxs("div",{className:"bg-emerald-600 p-6 text-white flex justify-between items-center",children:[l.jsxs("h3",{className:"text-xl font-bold",children:["Nova Entrega para ",g.name]}),l.jsx("button",{type:"button",onClick:()=>rt(!1),title:"Fechar modal","aria-label":"Fechar",className:"hover:bg-white/10 p-1 rounded-full",children:l.jsx(rn,{size:24})})]}),l.jsx("div",{className:"p-6",children:l.jsx(GX,{userId:g.id,items:X,inventory:De,onSave:async He=>{await Re(He),rt(!1)},onCancel:()=>rt(!1)})})]})})]})}return null};return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Recursos Humanos"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Gesto de pessoal, cadastro e configurao de salrios."})]})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 h-fit",children:[l.jsxs("h3",{className:"font-bold text-gray-800 flex items-center gap-2 mb-4",children:[l.jsx(Zc,{size:20,className:"text-blue-600"}),"Cadastrar Novo Funcionrio"]}),l.jsxs("form",{onSubmit:H,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome Completo"}),l.jsx("input",{required:!0,type:"text",className:"w-full border rounded p-2 bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 outline-none",value:O.name,onChange:U=>C({...O,name:U.target.value}),placeholder:"Ex: Joo da Silva"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cargo / Funo"}),l.jsx("input",{required:!0,type:"text",className:"w-full border rounded p-2 bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 outline-none",value:O.jobTitle,onChange:U=>C({...O,jobTitle:U.target.value}),placeholder:"Ex: Operador de Mquina"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email (para login)"}),l.jsx("input",{required:!0,type:"email",className:"w-full border rounded p-2 bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 outline-none",value:O.email,onChange:U=>C({...O,email:U.target.value}),placeholder:"funcionario@example.com"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Senha Inicial"}),l.jsx("input",{required:!0,type:"password",minLength:6,className:"w-full border rounded p-2 bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 outline-none",value:O.password,onChange:U=>C({...O,password:U.target.value}),placeholder:"Mnimo 6 caracteres"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nvel de Acesso"}),l.jsxs("select",{"aria-label":"Nvel de Acesso",className:"w-full border rounded p-2 bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 outline-none",value:O.role,onChange:U=>C({...O,role:U.target.value}),children:[l.jsx("option",{value:Te.WORKER,children:"Operrio (Campo)"}),l.jsx("option",{value:Te.MANAGER,children:"Gerente Regional"}),l.jsx("option",{value:Te.GENERAL_MANAGER,children:"Diretor Geral"}),l.jsx("option",{value:Te.ADMIN,children:"Administrador"})]})]}),O.role===Te.WORKER&&l.jsxs("div",{className:"bg-gray-50 p-3 rounded border border-gray-100 space-y-3",children:[l.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase",children:"Configurao Salarial (MZN)"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Valor Dia"}),l.jsx("input",{"aria-label":"Valor Dia",title:"Valor Dia",type:"number",step:"0.1",placeholder:"0.00",className:"w-full border rounded p-1 text-sm bg-white text-gray-900",value:O.dailyRate,onChange:U=>C({...O,dailyRate:parseFloat(U.target.value)})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Valor Meio Dia"}),l.jsx("input",{"aria-label":"Valor Meio Dia",title:"Valor Meio Dia",type:"number",step:"0.1",placeholder:"0.00",className:"w-full border rounded p-1 text-sm bg-white text-gray-900",value:O.halfDayRate,onChange:U=>C({...O,halfDayRate:parseFloat(U.target.value)})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Valor Falta"}),l.jsx("input",{"aria-label":"Valor Falta",title:"Valor Falta",type:"number",step:"0.1",placeholder:"0.00",className:"w-full border rounded p-1 text-sm bg-white text-gray-900",value:O.absencePenalty,onChange:U=>C({...O,absencePenalty:parseFloat(U.target.value)})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Bnus (Unid)"}),l.jsx("input",{"aria-label":"Bnus (Unid)",title:"Bnus por Unidade",type:"number",step:"0.1",placeholder:"0.00",className:"w-full border rounded p-1 text-sm bg-white text-gray-900",value:O.bonusPerUnit,onChange:U=>C({...O,bonusPerUnit:parseFloat(U.target.value)})})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Meta Diria (Produo)"}),l.jsx("input",{"aria-label":"Meta Diria (Produo)",title:"Meta Diria",type:"number",placeholder:"0",className:"w-full border rounded p-1 text-sm bg-white text-gray-900",value:O.defaultDailyGoal,onChange:U=>C({...O,defaultDailyGoal:parseFloat(U.target.value)})})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Departamento / Alocao"}),l.jsxs("select",{"aria-label":"Departamento / Alocao",title:"Selecione o departamento",className:"w-full border rounded p-2 bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 outline-none",value:O.locationId||"",onChange:U=>C({...O,locationId:U.target.value}),children:[l.jsx("option",{value:"",children:"Selecione..."}),t.filter((U,V,I)=>V===I.findIndex(W=>W.id===U.id)).map(U=>l.jsx("option",{value:U.id,children:U.name},U.id))]})]}),l.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white font-medium py-2 rounded hover:bg-blue-700 transition shadow-sm mt-4",children:"Cadastrar"})]})]}),l.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("h3",{className:"font-bold text-gray-800 flex items-center gap-2",children:[l.jsx(kh,{size:20,className:"text-blue-600"}),"Quadro de Funcionrios (",L.length,")"]}),l.jsxs("div",{className:"relative",children:[l.jsx(ps,{size:16,className:"absolute left-2.5 top-2.5 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Buscar por nome...",className:"pl-8 pr-4 py-2 border rounded-full text-sm focus:outline-none focus:border-blue-500 bg-gray-50",value:m,onChange:U=>p(U.target.value)})]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left border-collapse",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100 text-xs text-gray-500 uppercase",children:[l.jsx("th",{className:"px-4 py-3",children:"Nome"}),l.jsx("th",{className:"px-4 py-3",children:"Cargo"}),l.jsx("th",{className:"px-4 py-3",children:"Departamento"}),l.jsx("th",{className:"px-4 py-3 text-center",children:"Meta"}),l.jsx("th",{className:"px-4 py-3 text-center",children:"Aes"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-50",children:L.map(U=>{var V;return l.jsxs("tr",{className:"hover:bg-slate-50",children:[l.jsxs("td",{className:"px-4 py-3 font-medium text-gray-800 flex items-center gap-2 cursor-pointer",onClick:()=>G(U),children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center text-xs font-bold text-gray-600",children:U.name.charAt(0)}),U.name]}),l.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 cursor-pointer",onClick:()=>G(U),children:U.jobTitle||"-"}),l.jsxs("td",{className:"px-4 py-3 text-sm text-gray-600 flex items-center gap-1 cursor-pointer",onClick:()=>G(U),children:[l.jsx(ys,{size:12,className:"text-gray-400"}),(V=t.find(I=>I.id===U.locationId))==null?void 0:V.name]}),l.jsx("td",{className:"px-4 py-3 text-sm font-bold text-gray-700 text-center cursor-pointer",onClick:()=>G(U),children:U.defaultDailyGoal?U.defaultDailyGoal:"-"}),l.jsx("td",{className:"px-4 py-3 text-center",children:l.jsx("button",{onClick:()=>G(U),"aria-label":`Abrir perfil de ${U.name}`,title:`Abrir perfil de ${U.name}`,className:"text-blue-600 hover:text-blue-800 text-xs font-medium border border-blue-200 px-2 py-1 rounded bg-blue-50",children:"Perfil"})})]},U.id)})})]})})]})]}),g&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 overflow-hidden",children:l.jsxs("div",{className:"bg-white w-full max-w-4xl max-h-[90vh] rounded-2xl shadow-2xl flex flex-col overflow-hidden animate-in fade-in zoom-in duration-200",children:[l.jsxs("div",{className:"bg-slate-900 text-white p-6 shrink-0 flex justify-between items-start",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center text-2xl font-bold border-4 border-slate-800",children:g.name.charAt(0)}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold",children:g.name}),l.jsxs("p",{className:"text-slate-400 flex items-center gap-2",children:[l.jsx(QA,{size:14})," ",g.jobTitle," ",l.jsx("span",{className:"bg-slate-800 px-2 py-0.5 rounded text-xs text-blue-300 border border-slate-700",children:(se=t.find(U=>U.id===g.locationId))==null?void 0:se.name})]})]})]}),l.jsxs("div",{className:"flex gap-2",children:[h&&l.jsx("button",{onClick:()=>he(g),className:"text-red-400 hover:text-red-300 p-2 hover:bg-red-900/20 rounded transition",title:"Apagar Funcionrio",children:l.jsx(hi,{size:20})}),l.jsx("button",{onClick:()=>x(null),className:"text-slate-400 hover:text-white p-2","aria-label":"Fechar",children:l.jsx(rn,{size:24})})]})]}),l.jsxs("div",{className:"bg-slate-50 border-b border-gray-200 px-6 flex gap-6 overflow-x-auto shrink-0",children:[l.jsx("button",{onClick:()=>j("summary"),className:`py-4 text-sm font-medium border-b-2 transition ${b==="summary"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Resumo"}),l.jsx("button",{onClick:()=>j("history"),className:`py-4 text-sm font-medium border-b-2 transition ${b==="history"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Histrico Mensal"}),l.jsx("button",{onClick:()=>j("daily"),className:`py-4 text-sm font-medium border-b-2 transition ${b==="daily"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Registo Dirio"}),l.jsx("button",{onClick:()=>j("financial"),className:`py-4 text-sm font-medium border-b-2 transition ${b==="financial"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Financeiro"}),l.jsx("button",{onClick:()=>j("fichas"),className:`py-4 text-sm font-medium border-b-2 transition ${b==="fichas"?"border-emerald-600 text-emerald-600 underline":"border-transparent text-gray-500 hover:text-gray-700"}`,children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(la,{size:16})," Ficha de Entregas"]})}),l.jsx("button",{onClick:()=>j("settings"),className:`py-4 text-sm font-medium border-b-2 transition ${b==="settings"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Configuraes"})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-white",children:k()})]})}),N&&A&&l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-6",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Confirmar Apagamento de Funcionrio"}),l.jsxs("p",{className:"text-gray-600 mb-6",children:["Tem a certeza que deseja apagar o funcionrio ",l.jsx("strong",{children:A.name}),"? Esta ao no pode ser desfeita e todos os seus dados relacionados sero removidos."]}),l.jsxs("div",{className:"flex gap-3 justify-end",children:[l.jsx("button",{onClick:()=>{_(!1),P(null)},className:"px-4 py-2 rounded border border-gray-300 text-gray-700 hover:bg-gray-50 font-medium transition",children:"Cancelar"}),l.jsxs("button",{onClick:ne,className:"px-4 py-2 rounded bg-red-600 text-white hover:bg-red-700 font-medium transition flex items-center gap-2",children:[l.jsx(hi,{size:16})," Apagar"]})]})]})})]})},GX=({userId:e,items:t,inventory:r,onSave:n,onCancel:s})=>{const[o,u]=w.useState({tipo:"ferramentas",entidade_id:e,entidade_tipo:"trabalhador",data:new Date().toISOString().split("T")[0],produto_id:"",produto:"",quantidade:1,unidade:"Unidade",observacoes:""}),[d,h]=w.useState(""),[m,p]=w.useState(!1),g=w.useMemo(()=>d?t.filter(b=>b.name.toLowerCase().includes(d.toLowerCase())).slice(0,5):[],[t,d]),x=b=>{u({...o,produto_id:b.id,produto:b.name,unidade:b.unit||"Unidade"}),h(b.name),p(!1)};return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Procurar Produto"}),l.jsxs("div",{className:"relative",children:[l.jsx(ps,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),l.jsx("input",{type:"text",value:d,onChange:b=>{h(b.target.value),p(!0)},className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl outline-none focus:ring-2 focus:ring-emerald-500",placeholder:"Ex: Enxada, Bota, Combustvel..."})]}),m&&g.length>0&&l.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-xl shadow-lg z-50",children:g.map(b=>l.jsxs("button",{onClick:()=>x(b),className:"w-full text-left p-3 hover:bg-emerald-50 border-b border-gray-50 last:border-0",children:[l.jsx("div",{className:"font-bold text-gray-800 text-sm",children:b.name}),l.jsx("div",{className:"text-[10px] text-gray-500 uppercase",children:b.category})]},b.id))})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Quantidade"}),l.jsx("input",{type:"number",step:"0.01",value:o.quantidade,onChange:b=>u({...o,quantidade:parseFloat(b.target.value)}),className:"w-full p-3 border border-gray-200 rounded-xl outline-none focus:ring-2 focus:ring-emerald-500 font-bold"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Unidade"}),l.jsx("div",{className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl text-gray-500 text-sm",children:o.unidade})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Tipo de Ficha"}),l.jsxs("select",{value:o.tipo,onChange:b=>u({...o,tipo:b.target.value}),className:"w-full p-3 border border-gray-200 rounded-xl outline-none focus:ring-2 focus:ring-emerald-500 text-sm",children:[l.jsx("option",{value:"ferramentas",children:"Ferramentas"}),l.jsx("option",{value:"pecas",children:"Peas"}),l.jsx("option",{value:"materiais",children:"Materiais"}),l.jsx("option",{value:"combustivel",children:"Combustvel"}),l.jsx("option",{value:"oleo",children:"leo"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Data"}),l.jsx("input",{type:"date",value:o.data,onChange:b=>u({...o,data:b.target.value}),className:"w-full p-3 border border-gray-200 rounded-xl outline-none focus:ring-2 focus:ring-emerald-500 text-sm"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Observaes (Opcional)"}),l.jsx("textarea",{value:o.observacoes,onChange:b=>u({...o,observacoes:b.target.value}),className:"w-full p-3 border border-gray-200 rounded-xl outline-none focus:ring-2 focus:ring-emerald-500 text-sm min-h-[80px]",placeholder:"Notas adicionais..."})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx("button",{onClick:s,className:"flex-1 py-3 bg-gray-100 text-gray-600 font-bold rounded-xl hover:bg-gray-200 uppercase text-xs tracking-widest",children:"Cancelar"}),l.jsx("button",{onClick:()=>n(o),disabled:!o.produto_id,className:"flex-[2] py-3 bg-emerald-600 text-white font-bold rounded-xl hover:bg-emerald-700 disabled:opacity-50 uppercase text-xs tracking-widest shadow-lg shadow-emerald-200",children:"Confirmar Entrega"})]})]})},FX=()=>{const{locations:e,addLocation:t,removeLocation:r,categories:n,addCategory:s,measureUnits:o,addMeasureUnit:u,itemTypes:d,addItemType:h,paymentMethods:m,addPaymentMethod:p,removePaymentMethod:g,expenseCategories:x,addExpenseCategory:b,removeExpenseCategory:j,companyInfo:N,updateCompanyInfo:_,availableCurrencies:A,defaultCurrency:P,setDefaultCurrency:O,hasPermission:C,addUser:D,resetLocalData:R}=Nr(),[L,H]=w.useState("organization"),[G,he]=w.useState(!1),[ne,k]=w.useState(N),[se,U]=w.useState(""),[V,I]=w.useState(br.BRANCH),[W,ue]=w.useState(""),[be,Ee]=w.useState(""),[z,K]=w.useState(""),[ge,B]=w.useState(Pt.ASSET),[je,_e]=w.useState(""),[me,Re]=w.useState(""),[X,De]=w.useState(""),[Oe,te]=w.useState(""),[rt,He]=w.useState(""),[Et,vt]=w.useState(Te.WORKER),[ie,$t]=w.useState(""),Le=C("MANAGE_SETTINGS"),Xt=Ae=>{if(Ae.preventDefault(),se.trim()!==""){const ut=e.find(Or=>Or.type===br.CENTRAL),At=ut?ut.id:null;t(se,V,At),U("")}},Ze=Ae=>{Ae.preventDefault(),W.trim()!==""&&(s(W),ue(""))},Cn=Ae=>{Ae.preventDefault(),be.trim()!==""&&(u(be),Ee(""))},Yr=Ae=>{Ae.preventDefault(),z.trim()!==""&&(h(z,ge),K(""))},Jt=Ae=>{Ae.preventDefault(),je.trim()!==""&&(p(je),_e(""))},hn=Ae=>{Ae.preventDefault(),me.trim()!==""&&(b(me),Re(""))},mn=Ae=>{Ae.preventDefault(),_(ne)},Wr=async Ae=>{if(Ae.preventDefault(),!X||!Oe||!rt){alert("Por favor preencha todos os campos obrigatrios.");return}if(rt.length<8){alert("A senha deve ter no mnimo 8 caracteres");return}try{await D({name:X,email:Oe,password:rt,role:Et,locationId:ie||void 0}),he(!1),De(""),te(""),He(""),vt(Te.WORKER),$t("")}catch(ut){console.error("Erro ao criar utilizador:",ut),alert(`Erro ao criar utilizador: ${ut.message}`)}},Ca=()=>{if(!Le||!window.confirm("Isto ir apagar TODOS os dados locais. Continuar?"))return;if(window.prompt("Digite RESET para confirmar:")==="RESET")try{R(),alert("Dados locais reiniciados.")}catch(ut){console.error("Erro ao reiniciar dados locais:",ut),alert("Erro ao reiniciar dados locais. Veja o console.")}else alert("Confirmao cancelada.")},Tn=({id:Ae,label:ut,icon:At})=>l.jsxs("button",{onClick:()=>H(Ae),className:`flex items-center gap-2 px-4 py-3 font-medium transition-all rounded-lg ${L===Ae?"bg-emerald-600 text-white shadow-md":"text-gray-600 hover:bg-gray-100"}`,children:[At,l.jsx("span",{className:"hidden sm:inline",children:ut})]}),Ta=()=>G&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md p-6 max-h-96 overflow-y-auto",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("h3",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[l.jsx(Zc,{className:"text-emerald-600",size:24}),"Novo Usurio"]}),l.jsx("button",{"aria-label":"Fechar modal",title:"Fechar",onClick:()=>he(!1),className:"text-gray-500 hover:text-gray-700 transition",children:l.jsx(rn,{size:24})})]}),l.jsxs("form",{onSubmit:Wr,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"userFullName",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Nome Completo *"}),l.jsx("input",{id:"userFullName",type:"text",value:X,onChange:Ae=>De(Ae.target.value),className:"w-full border border-gray-300 p-2.5 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-emerald-500 transition",placeholder:"Joo Silva",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"userEmail",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email *"}),l.jsx("input",{id:"userEmail",type:"email",value:Oe,onChange:Ae=>te(Ae.target.value),className:"w-full border border-gray-300 p-2.5 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-emerald-500 transition",placeholder:"joao@example.com",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"userPassword",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Senha (min. 8 caracteres) *"}),l.jsx("input",{id:"userPassword",type:"password",value:rt,onChange:Ae=>He(Ae.target.value),className:"w-full border border-gray-300 p-2.5 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-emerald-500 transition",placeholder:"",minLength:8,required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"userRole",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Funo *"}),l.jsxs("select",{id:"userRole",value:Et,onChange:Ae=>vt(Ae.target.value),className:"w-full border border-gray-300 p-2.5 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-emerald-500 transition",children:[l.jsx("option",{value:Te.WORKER,children:"Trabalhador (Campo)"}),l.jsx("option",{value:Te.MANAGER,children:"Gerente (Filial)"}),l.jsx("option",{value:Te.GENERAL_MANAGER,children:"Diretor Geral"}),l.jsx("option",{value:Te.ADMIN,children:"Administrador"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"userLocation",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Localizao"}),l.jsxs("select",{id:"userLocation",value:ie,onChange:Ae=>$t(Ae.target.value),className:"w-full border border-gray-300 p-2.5 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-emerald-500 transition",children:[l.jsx("option",{value:"",children:"Nenhuma"}),e.map(Ae=>l.jsx("option",{value:Ae.id,children:Ae.name},Ae.id))]})]}),l.jsxs("div",{className:"pt-4 flex gap-3",children:[l.jsx("button",{type:"button",onClick:()=>he(!1),className:"flex-1 py-2.5 px-4 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium transition",children:"Cancelar"}),l.jsx("button",{type:"submit",className:"flex-1 py-2.5 px-4 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 font-medium transition shadow-sm",children:"Criar Usurio"})]})]})]})}),an=({icon:Ae,title:ut,description:At,children:Or,className:nr=""})=>l.jsxs("div",{className:`bg-white rounded-xl border border-gray-200 p-6 shadow-sm hover:shadow-md transition ${nr}`,children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"p-2.5 bg-gray-100 rounded-lg",children:l.jsx(Ae,{size:20,className:"text-gray-700"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-gray-800",children:ut}),At&&l.jsx("p",{className:"text-xs text-gray-500",children:At})]})]}),l.jsx("div",{className:"border-t border-gray-100 pt-4",children:Or})]});return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Definies"}),l.jsx("p",{className:"text-gray-500 mt-1",children:"Configure o sistema para sua operao"})]}),!Le&&l.jsxs("div",{className:"bg-yellow-50 text-yellow-700 px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 border border-yellow-200",children:[l.jsx(al,{size:16})," Modo Visualizao"]})]}),l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-2 flex flex-wrap gap-1 md:gap-2",children:[l.jsx(Tn,{id:"organization",label:"Organizao",icon:l.jsx(ys,{size:18})}),l.jsx(Tn,{id:"catalog",label:"Catlogo",icon:l.jsx(zy,{size:18})}),l.jsx(Tn,{id:"finance",label:"Financeiro",icon:l.jsx(Bn,{size:18})}),C("MANAGE_USERS")&&l.jsx(Tn,{id:"admin",label:"Administrao",icon:l.jsx(kh,{size:18})})]}),L==="organization"&&l.jsxs("div",{className:"space-y-6",children:[l.jsx(an,{icon:JA,title:"Informaes da Empresa",description:"Dados exibidos em faturas e documentos",children:Le?l.jsxs("form",{onSubmit:mn,className:"space-y-4",children:[l.jsx("input",{type:"text",placeholder:"Nome da Empresa",value:ne.nome,onChange:Ae=>k({...ne,nome:Ae.target.value}),className:"w-full border border-gray-300 p-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500",required:!0}),l.jsx("input",{type:"text",placeholder:"NUIT",value:ne.nuit,onChange:Ae=>k({...ne,nuit:Ae.target.value}),className:"w-full border border-gray-300 p-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500",required:!0}),l.jsx("input",{type:"text",placeholder:"Endereo",value:ne.endereco,onChange:Ae=>k({...ne,endereco:Ae.target.value}),className:"w-full border border-gray-300 p-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500",required:!0}),l.jsx("input",{type:"text",placeholder:"Contacto (Opcional)",value:ne.contacto||"",onChange:Ae=>k({...ne,contacto:Ae.target.value}),className:"w-full border border-gray-300 p-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500"}),l.jsx("button",{type:"submit",className:"w-full bg-emerald-600 text-white py-2.5 rounded-lg hover:bg-emerald-700 font-medium transition",children:"Guardar Informaes"})]}):l.jsxs("div",{className:"space-y-3 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-semibold text-gray-700",children:"Nome:"}),l.jsx("p",{className:"text-gray-600",children:N.nome})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-semibold text-gray-700",children:"NUIT:"}),l.jsx("p",{className:"text-gray-600",children:N.nuit})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-semibold text-gray-700",children:"Endereo:"}),l.jsx("p",{className:"text-gray-600",children:N.endereco})]}),N.contacto&&l.jsxs("div",{children:[l.jsx("span",{className:"font-semibold text-gray-700",children:"Contacto:"}),l.jsx("p",{className:"text-gray-600",children:N.contacto})]})]})}),l.jsxs(an,{icon:ys,title:"Localizaes",description:"Filiais, sucursais e equipes de campo",children:[Le&&l.jsxs("form",{onSubmit:Xt,className:"mb-4 space-y-3",children:[l.jsx("input",{type:"text",placeholder:"Nome da Filial/Local",value:se,onChange:Ae=>U(Ae.target.value),className:"w-full border border-gray-300 p-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500"}),l.jsxs("select",{title:"Tipo de localizao","aria-label":"Tipo de localizao",value:V,onChange:Ae=>I(Ae.target.value),className:"w-full border border-gray-300 p-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500",children:[l.jsx("option",{value:br.BRANCH,children:"Filial (Branch)"}),l.jsx("option",{value:br.FIELD,children:"Equipe de Campo (Field)"})]}),l.jsxs("button",{type:"submit",className:"w-full bg-emerald-600 text-white py-2.5 rounded-lg hover:bg-emerald-700 font-medium transition flex items-center justify-center gap-2",children:[l.jsx(Vr,{size:18})," Adicionar Local"]})]}),l.jsx("div",{className:"space-y-2",children:e.filter(Ae=>Ae.type!=="CENTRAL").map(Ae=>l.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-3 rounded-lg border border-gray-200",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-800",children:Ae.name}),l.jsx("p",{className:"text-xs text-gray-500",children:Ae.type})]}),Le&&l.jsx("button",{onClick:()=>{window.confirm(`Remover "${Ae.name}"?`)&&r(Ae.id)},className:"text-red-500 hover:text-red-700 p-1.5 hover:bg-red-50 rounded transition",title:"Remover",children:l.jsx(hi,{size:18})})]},Ae.id))})]})]}),L==="catalog"&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs(an,{icon:Zs,title:"Tipos de Item",description:"Ativo (durvel) ou Consumvel",children:[Le&&l.jsxs("form",{onSubmit:Yr,className:"mb-4 space-y-3",children:[l.jsx("input",{type:"text",placeholder:"Ex: Ferramenta Eltrica",value:z,onChange:Ae=>K(Ae.target.value),className:"w-full border border-gray-300 p-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500"}),l.jsxs("select",{title:"Comportamento do item","aria-label":"Comportamento do item",value:ge,onChange:Ae=>B(Ae.target.value),className:"w-full border border-gray-300 p-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500",children:[l.jsx("option",{value:Pt.ASSET,children:"Ativo (Durvel)"}),l.jsx("option",{value:Pt.CONSUMABLE,children:"Consumvel"})]}),l.jsxs("button",{type:"submit",className:"w-full bg-emerald-600 text-white py-2.5 rounded-lg hover:bg-emerald-700 font-medium transition flex items-center justify-center gap-2",children:[l.jsx(Vr,{size:18})," Adicionar Tipo"]})]}),l.jsx("div",{className:"space-y-2",children:d.map(Ae=>l.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-3 rounded-lg",children:[l.jsx("p",{className:"font-medium text-gray-800",children:Ae.name}),l.jsx("span",{className:`text-xs px-2.5 py-1 rounded-full font-semibold ${Ae.behavior===Pt.ASSET?"bg-blue-100 text-blue-700":"bg-purple-100 text-purple-700"}`,children:Ae.behavior===Pt.ASSET?"Ativo":"Consumvel"})]},Ae.id))})]}),l.jsxs(an,{icon:B5,title:"Unidades de Medida",description:"Ex: Kg, Litros, Unidade",children:[Le&&l.jsxs("form",{onSubmit:Cn,className:"mb-4 flex gap-2",children:[l.jsx("input",{type:"text",placeholder:"Ex: Kg, Litros",value:be,onChange:Ae=>Ee(Ae.target.value),className:"flex-1 border border-gray-300 p-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500"}),l.jsx("button",{type:"submit",className:"bg-emerald-600 text-white p-2.5 rounded-lg hover:bg-emerald-700 transition",title:"Adicionar",children:l.jsx(Vr,{size:18})})]}),l.jsx("div",{className:"space-y-2",children:o.map((Ae,ut)=>l.jsx("div",{className:"bg-gray-50 p-3 rounded-lg font-medium text-gray-800 border border-gray-200",children:Ae},ut))})]}),l.jsxs(an,{icon:iO,title:"Categorias de Itens",description:"Classificao de produtos",children:[Le&&l.jsxs("form",{onSubmit:Ze,className:"mb-4 flex gap-2",children:[l.jsx("input",{type:"text",placeholder:"Ex: EPI, Ferramentas",value:W,onChange:Ae=>ue(Ae.target.value),className:"flex-1 border border-gray-300 p-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500"}),l.jsx("button",{type:"submit",className:"bg-emerald-600 text-white p-2.5 rounded-lg hover:bg-emerald-700 transition",title:"Adicionar",children:l.jsx(Vr,{size:18})})]}),l.jsx("div",{className:"space-y-2",children:n.map((Ae,ut)=>l.jsx("div",{className:"bg-gray-50 p-3 rounded-lg font-medium text-gray-800 border border-gray-200",children:Ae},ut))})]})]}),L==="finance"&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs(an,{icon:tO,title:"Mtodos de Pagamento",description:"Cash, Carto, Mobile Money, etc",children:[Le&&l.jsxs("form",{onSubmit:Jt,className:"mb-4 flex gap-2",children:[l.jsx("input",{type:"text",placeholder:"Ex: PayPal, Crypto",value:je,onChange:Ae=>_e(Ae.target.value),className:"flex-1 border border-gray-300 p-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500"}),l.jsx("button",{type:"submit",className:"bg-emerald-600 text-white p-2.5 rounded-lg hover:bg-emerald-700 transition",title:"Adicionar mtodo de pagamento","aria-label":"Adicionar mtodo de pagamento",children:l.jsx(Vr,{size:18})})]}),l.jsx("div",{className:"space-y-2",children:m.map((Ae,ut)=>l.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-3 rounded-lg border border-gray-200",children:[l.jsx("p",{className:"font-medium text-gray-800",children:Ae}),Le&&l.jsx("button",{onClick:()=>g(Ae),className:"text-red-500 hover:text-red-700 p-1 hover:bg-red-50 rounded transition",children:l.jsx(hi,{size:16})})]},ut))})]}),l.jsxs(an,{icon:Bn,title:"Categorias de Despesas",description:"Classificao de gastos",children:[Le&&l.jsxs("form",{onSubmit:hn,className:"mb-4 flex gap-2",children:[l.jsx("input",{type:"text",placeholder:"Ex: Marketing, Transporte",value:me,onChange:Ae=>Re(Ae.target.value),className:"flex-1 border border-gray-300 p-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500"}),l.jsx("button",{type:"submit",className:"bg-emerald-600 text-white p-2.5 rounded-lg hover:bg-emerald-700 transition",title:"Adicionar categoria de despesa","aria-label":"Adicionar categoria de despesa",children:l.jsx(Vr,{size:18})})]}),l.jsx("div",{className:"space-y-2",children:x.map((Ae,ut)=>l.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-3 rounded-lg border border-gray-200",children:[l.jsx("p",{className:"font-medium text-gray-800",children:Ae}),Le&&l.jsx("button",{onClick:()=>j(Ae),className:"text-red-500 hover:text-red-700 p-1 hover:bg-red-50 rounded transition",children:l.jsx(hi,{size:16})})]},ut))})]}),l.jsxs(an,{icon:n5,title:"Moeda Padro",description:"Moeda para novos documentos",className:"md:col-span-2",children:['title="Moeda padro do sistema" aria-label="Moeda padro do sistema"',Le?l.jsxs("div",{className:"space-y-4",children:[l.jsx("select",{value:P,onChange:Ae=>O(Ae.target.value),className:"w-full border border-gray-300 p-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500",children:A.map(Ae=>l.jsx("option",{value:Ae,children:Ae},Ae))}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Moedas Disponveis:"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:A.map(Ae=>l.jsx("span",{className:"px-3 py-1.5 bg-emerald-100 text-emerald-700 rounded-full text-sm font-semibold border border-emerald-200",children:Ae},Ae))})]})]}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx("p",{className:"text-3xl font-bold text-emerald-600 mb-2",children:P}),l.jsx("p",{className:"text-sm text-gray-500",children:"Moeda padro do sistema"})]})]})]}),L==="admin"&&C("MANAGE_USERS")&&l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:"Gesto de Usurios"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Criar novos usurios no sistema"})]}),l.jsxs("button",{onClick:()=>he(!0),className:"flex items-center gap-2 bg-emerald-600 text-white px-4 py-3 rounded-lg hover:bg-emerald-700 font-medium transition shadow-sm",children:[l.jsx(Zc,{size:18}),"Novo Usurio"]})]})}),l.jsxs("div",{className:"bg-red-50 rounded-xl border border-red-200 p-6 shadow-sm",children:[l.jsxs("h3",{className:"font-bold text-red-700 text-lg mb-2 flex items-center gap-2",children:[l.jsx(Qv,{size:20})," Danger Zone"]}),l.jsx("p",{className:"text-sm text-red-600 mb-4",children:"Aes nesta seco so irreversveis. Apagam dados locais do navegador."}),l.jsx("button",{onClick:Ca,className:"bg-red-600 text-white px-4 py-2.5 rounded-lg hover:bg-red-700 font-medium transition",children:"Resetar Dados Locais"})]}),l.jsx(Ta,{})]}),L==="admin"&&!C("MANAGE_USERS")&&l.jsxs("div",{className:"bg-yellow-50 rounded-xl border border-yellow-200 p-8 text-center",children:[l.jsx(al,{size:32,className:"mx-auto text-yellow-600 mb-2"}),l.jsx("p",{className:"text-gray-600 font-medium",children:"Acesso Restrito"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Voc no tem permisso para acessar esta seco."})]})]})},HX=()=>{const{inventory:e,items:t,locations:r,accountingEntries:n}=Nr();let s=0,o=0;e.forEach(g=>{const x=t.find(b=>b.id===g.itemId);if(x){const b=g.quantity*x.price;x.type===Pt.ASSET?s+=b:o+=b}});const u=s+o,h=r.filter(g=>g.type===br.BRANCH).map(g=>{const x=r.filter(N=>N.parentId===g.id).map(N=>N.id),b=[g.id,...x];let j=0;return e.filter(N=>b.includes(N.locationId)).forEach(N=>{const _=t.find(A=>A.id===N.itemId);_&&(j+=N.quantity*_.price)}),{name:g.name.replace("Filial ",""),value:j}}),m=[{name:"Ativos (Bens Durveis)",value:s,color:"#3b82f6"},{name:"Consumveis (Em Estoque)",value:o,color:"#a855f7"}],p=g=>new Intl.NumberFormat("pt-MZ",{style:"currency",currency:"MZN"}).format(g);return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[l.jsx(nO,{className:"text-blue-600"}),"Patrimnio & Contabilidade"]}),l.jsx("p",{className:"text-sm text-gray-500",children:"Gesto financeira de ativos e estoque."})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 relative overflow-hidden",children:[l.jsxs("div",{className:"relative z-10",children:[l.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Valor Total do Patrimnio"}),l.jsx("h3",{className:"text-3xl font-bold text-gray-900 mt-2",children:p(u)}),l.jsxs("p",{className:"text-xs text-green-600 flex items-center gap-1 mt-1",children:[l.jsx(yu,{size:12})," Posio Atual"]})]}),l.jsx(Bn,{className:"absolute right-4 top-4 text-gray-100",size:80})]}),l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 relative overflow-hidden",children:[l.jsxs("div",{className:"relative z-10",children:[l.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Ativos Fixos (Mquinas/Equip.)"}),l.jsx("h3",{className:"text-3xl font-bold text-blue-600 mt-2",children:p(s)}),l.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Bens durveis da empresa"})]}),l.jsx(eO,{className:"absolute right-4 top-4 text-blue-50",size:80})]}),l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 relative overflow-hidden",children:[l.jsxs("div",{className:"relative z-10",children:[l.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Passivo Circulante (Consumveis)"}),l.jsx("h3",{className:"text-3xl font-bold text-purple-600 mt-2",children:p(o)}),l.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Estoque rotativo (EPIs, Insumos)"})]}),l.jsx(la,{className:"absolute right-4 top-4 text-purple-50",size:80})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[l.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:"Valor de Estoque por Filial"}),l.jsx("div",{className:"h-64",children:l.jsx(nu,{width:"100%",height:"100%",children:l.jsxs(Jb,{data:h,children:[l.jsx(Sm,{strokeDasharray:"3 3",vertical:!1}),l.jsx(Em,{dataKey:"name",axisLine:!1,tickLine:!1,fontSize:12}),l.jsx(Am,{axisLine:!1,tickLine:!1,fontSize:12,tickFormatter:g=>`MZN ${g/1e3}k`}),l.jsx(mu,{formatter:g=>p(g)}),l.jsx(_m,{dataKey:"value",fill:"#3b82f6",radius:[4,4,0,0]})]})})})]}),l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 flex flex-col items-center justify-center",children:[l.jsx("h3",{className:"font-bold text-gray-800 mb-4 w-full text-left",children:"Composio do Patrimnio"}),l.jsx("div",{className:"h-64 w-full",children:l.jsx(nu,{width:"100%",height:"100%",children:l.jsxs(Qk,{children:[l.jsx(Hb,{data:m,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,label:!0,children:m.map((g,x)=>l.jsx(xs,{fill:g.color},`cell-${x}`))}),l.jsx(mu,{formatter:g=>p(g)})]})})}),l.jsxs("div",{className:"flex gap-4 text-xs mt-2",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),l.jsx("span",{children:"Ativos"})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),l.jsx("span",{children:"Consumveis"})]})]})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[l.jsx("h3",{className:"font-bold text-gray-800",children:"Histrico de Lanamentos Contbeis (Entradas)"}),l.jsx("button",{className:"text-blue-600 text-sm hover:underline",children:"Exportar Relatrio"})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left",children:[l.jsx("thead",{className:"bg-gray-50 text-xs text-gray-500 uppercase font-semibold",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-4",children:"Data"}),l.jsx("th",{className:"px-6 py-4",children:"Item"}),l.jsx("th",{className:"px-6 py-4",children:"Tipo"}),l.jsx("th",{className:"px-6 py-4",children:"Local"}),l.jsx("th",{className:"px-6 py-4 text-right",children:"Qtd"}),l.jsx("th",{className:"px-6 py-4 text-right",children:"Preo Un."}),l.jsx("th",{className:"px-6 py-4 text-right",children:"Total"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-100 text-sm",children:n.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-400",children:"Nenhum lanamento registrado recentemente."})}):n.map(g=>{var x;return l.jsxs("tr",{className:"hover:bg-slate-50",children:[l.jsx("td",{className:"px-6 py-4 text-gray-600",children:lr(g.date,{dateOnly:!0})}),l.jsx("td",{className:"px-6 py-4 font-medium text-gray-800",children:g.itemName}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold border ${g.type==="ATIVO"?"bg-blue-50 text-blue-600 border-blue-200":"bg-purple-50 text-purple-600 border-purple-200"}`,children:g.type})}),l.jsx("td",{className:"px-6 py-4 text-gray-600",children:(x=r.find(b=>b.id===g.locationId))==null?void 0:x.name}),l.jsx("td",{className:"px-6 py-4 text-right font-medium",children:g.quantity}),l.jsx("td",{className:"px-6 py-4 text-right text-gray-600",children:p(g.unitPrice)}),l.jsx("td",{className:"px-6 py-4 text-right font-bold text-gray-900",children:p(g.totalValue)})]},g.id)})})]})})]})]})},Ah=e=>{const t=e.reduce((s,o)=>s+o.quantidade*o.precoUnitario,0),r=e.reduce((s,o)=>{const u=(o.impostoPercent??16)/100;return s+o.quantidade*o.precoUnitario*u},0),n=t+r;return{subtotal:t,impostos:r,total:n}},Oh=e=>e.reduce((t,r)=>t+r.valor,0),VX=e=>{const{total:t}=Ah(e.itens),r=Oh(e.pagamentos);return r>=t-.1?{saldo:0,situacao:"Pago"}:r<=0?{saldo:t,situacao:"Por pagar"}:{saldo:t-r,situacao:"Pagamento parcial"}};function KX({invoice:e,onClose:t,onConfirm:r}){const[n,s]=w.useState(0),[o,u]=w.useState(_n.CASH),[d,h]=w.useState("");if(!e)return null;const{total:m}=Ah(e.itens),p=Oh(e.pagamentos),g=Math.max(0,m-p),x=()=>{if(n<=0){alert("Insira um valor vlido.");return}if(n>g+.1&&!confirm("O valor excede o saldo restante. Deseja continuar e registrar como troco/crdito?"))return;const b={data:new Date().toISOString(),valor:n,modalidade:o,referencia:d};r(b),t()};return l.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-[60] backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white w-full max-w-md rounded-xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200",children:[l.jsxs("div",{className:"bg-blue-600 p-4 flex justify-between items-center text-white",children:[l.jsxs("h3",{className:"font-bold flex items-center gap-2",children:[l.jsx(Bn,{size:20})," Receber Pagamento"]}),l.jsx("button",{onClick:t,className:"hover:bg-blue-700 p-1 rounded",title:"Fechar",children:l.jsx(rn,{size:20})})]}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"mb-6 bg-gray-50 p-4 rounded-lg border border-gray-100 text-center",children:[l.jsxs("p",{className:"text-gray-500 text-sm",children:["Fatura N ",e.numero]}),l.jsxs("div",{className:"flex justify-between items-end mt-2",children:[l.jsxs("div",{className:"text-left",children:[l.jsx("p",{className:"text-xs text-gray-400",children:"Total Fatura"}),l.jsxs("p",{className:"font-bold text-gray-800",children:[m.toFixed(2)," ",e.moeda]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs text-gray-400",children:"Saldo Devedor"}),l.jsxs("p",{className:"font-bold text-2xl text-red-600",children:[g.toFixed(2)," ",e.moeda]})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"payment-amount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor a Pagar"}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-3 top-2.5 text-gray-400 font-bold text-sm",children:e.moeda}),l.jsx("input",{id:"payment-amount","aria-label":"Valor a pagar",title:"Valor a pagar",type:"number",step:"0.01",className:"w-full pl-12 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none text-lg font-bold text-gray-900 bg-white",value:n===0?"":n,onChange:b=>{const j=b.target.value;s(j===""?0:parseFloat(j))},placeholder:g.toFixed(2)})]}),l.jsx("div",{className:"flex justify-end gap-2 mt-2",children:l.jsx("button",{title:"Pagar o valor total",onClick:()=>s(g),className:"text-xs bg-blue-50 text-blue-600 px-2 py-1 rounded border border-blue-100 font-medium hover:bg-blue-100",children:"Pagar Total"})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"payment-method",className:"block text-sm font-medium text-gray-700 mb-1",children:"Mtodo"}),l.jsxs("select",{id:"payment-method",title:"Mtodo de pagamento","aria-label":"Mtodo de pagamento",className:"w-full border rounded-lg p-2 bg-white text-gray-900",value:o,onChange:b=>u(b.target.value),children:[l.jsx("option",{value:"CASH",children:"Dinheiro"}),l.jsx("option",{value:"CARD",children:"POS / Carto"}),l.jsx("option",{value:"MOBILE_MONEY",children:"M-Pesa / E-Mola"}),l.jsx("option",{value:"BANK_TRANSFER",children:"Transferncia"}),l.jsx("option",{value:"CHEQUE",children:"Cheque"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"payment-ref",className:"block text-sm font-medium text-gray-700 mb-1",children:"Referncia"}),l.jsx("input",{id:"payment-ref",title:"Referncia do pagamento","aria-label":"Referncia do pagamento",type:"text",className:"w-full border rounded-lg p-2 bg-white text-gray-900",placeholder:"Ex: Talo 123",value:d,onChange:b=>h(b.target.value)})]})]}),l.jsxs("button",{title:"Confirmar recebimento",onClick:x,className:"w-full bg-green-600 text-white py-3 rounded-lg font-bold hover:bg-green-700 shadow-md flex items-center justify-center gap-2 mt-4",children:[l.jsx(ia,{size:18})," Confirmar Recebimento"]})]})]})]})})}function YX({open:e,onClose:t,initial:r,onSave:n,companyDefaults:s}){const{clients:o,registerPayment:u}=Nr(),[d,h]=w.useState(()=>{var k,se,U,V,I;return{id:(r==null?void 0:r.id)||`doc-${Date.now()}`,numero:(r==null?void 0:r.numero)||s.gerarNumero(),tipo:(r==null?void 0:r.tipo)??"FATURA",status:(r==null?void 0:r.status)??"RASCUNHO",locationId:(r==null?void 0:r.locationId)||s.locationId,empresa:s.empresa,cliente:{nome:((k=r==null?void 0:r.cliente)==null?void 0:k.nome)??"",nuit:((se=r==null?void 0:r.cliente)==null?void 0:se.nuit)??"",endereco:((U=r==null?void 0:r.cliente)==null?void 0:U.endereco)??"",contacto:((V=r==null?void 0:r.cliente)==null?void 0:V.contacto)??"",id:(I=r==null?void 0:r.cliente)==null?void 0:I.id},itens:(r==null?void 0:r.itens)??[],pagamentos:(r==null?void 0:r.pagamentos)??[],moeda:s.moeda,dataEmissao:(r==null?void 0:r.dataEmissao)||new Date().toISOString().slice(0,10),vencimento:r==null?void 0:r.vencimento,observacoes:(r==null?void 0:r.observacoes)??"",createdBy:(r==null?void 0:r.createdBy)||s.userId}}),[m,p]=w.useState({descricao:"",quantidade:1,precoUnitario:0,impostoPercent:16}),[g,x]=w.useState(!1),[b,j]=w.useState(""),[N,_]=w.useState(!1),A=w.useMemo(()=>Ah(d.itens),[d.itens]),P=w.useMemo(()=>VX(d),[d]),O=w.useRef(null);if(w.useEffect(()=>{e&&!r?h({id:`doc-${Date.now()}`,numero:s.gerarNumero(),tipo:"FATURA",status:"RASCUNHO",locationId:s.locationId,empresa:s.empresa,cliente:{nome:"",nuit:"",endereco:"",contacto:""},itens:[],pagamentos:[],moeda:s.moeda,dataEmissao:new Date().toISOString().slice(0,10),observacoes:"",createdBy:s.userId}):e&&r&&h(k=>({...k,...r}))},[e,r]),!e)return null;const C=()=>{if(!m.descricao||m.quantidade<=0)return;const k=m.impostoPercent??16;if(k<0){alert("IVA no pode ser negativo");return}if(d.status!=="RASCUNHO"){alert("No  possvel adicionar itens aps emisso da fatura");return}const se={...m,impostoPercent:k};h(U=>({...U,itens:[...U.itens,se]})),p({descricao:"",quantidade:1,precoUnitario:0,impostoPercent:16})},D=k=>{h(se=>({...se,itens:se.itens.filter((U,V)=>V!==k)}))},R=async()=>{try{const k=d.status==="RASCUNHO"?"EMITIDA":d.status,se={...d,status:k};await n(se),t()}catch(k){console.error("Erro ao emitir fatura:",k),alert("Erro ao guardar fatura. Por favor tente novamente.")}},L=k=>{h(se=>({...se,cliente:{id:k.id,nome:k.name||k.nome||"",nuit:k.nuit||"",endereco:k.address||k.endereco||"",contacto:k.contact||k.contacto||""}})),_(!1)},H=k=>{h(se=>{const U=[...se.pagamentos,k],V=U.reduce((ue,be)=>ue+be.valor,0),{total:I}=Ah(se.itens);let W=se.status;return V>=I-.1?W="PAGA":V>0&&(W="PAGA_PARCIAL"),{...se,pagamentos:U,status:W}}),u(d.id,k)},G=()=>{const k=O.current;if(!k)return;k.style.display="block";const se={margin:10,filename:`Fatura_${d.numero.replace("/","-")}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}};html2pdf().set(se).from(k).save().then(()=>{k.style.display="none"})},he=()=>{var U;const k=((U=O.current)==null?void 0:U.innerHTML)??"",se=window.open("","_blank","width=800,height=900");se&&(se.document.write(`
      <html>
        <head>
          <title>${d.tipo} ${d.numero}</title>
          <style>
            body { font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; color: #333; }
            .sheet { width: 100%; max-width: 800px; margin: 0 auto; padding: 40px; }
            .header { display:flex; justify-content:space-between; margin-bottom: 30px; border-bottom: 2px solid #eee; padding-bottom: 20px; }
            .title { font-size: 24px; font-weight: bold; color: #111; text-transform: uppercase; }
            .meta { font-size: 14px; color: #666; margin-top: 5px; }
            .section-title { font-size: 12px; font-weight: bold; text-transform: uppercase; color: #888; margin-bottom: 8px; }
            table { width: 100%; border-collapse: collapse; margin-top: 20px; }
            th { text-align: left; background: #f9f9f9; padding: 10px; font-size: 12px; text-transform: uppercase; border-bottom: 1px solid #ddd; }
            td { padding: 10px; font-size: 13px; border-bottom: 1px solid #eee; }
            .right { text-align: right; }
            .totals { margin-top: 30px; display: flex; justify-content: flex-end; }
            .totals-box { width: 250px; }
            .total-row { display: flex; justify-content: space-between; padding: 5px 0; }
            .grand-total { font-weight: bold; font-size: 16px; border-top: 2px solid #333; margin-top: 10px; padding-top: 10px; }
          </style>
        </head>
        <body onload="window.print(); setTimeout(()=>window.close(), 300);">
          <div class="sheet">${k}</div>
        </body>
      </html>
    `),se.document.close())},ne=o.filter(k=>(k.name||k.nome||"").toLowerCase().includes(b.toLowerCase()));return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white w-[1000px] max-h-[90vh] overflow-y-auto rounded-xl shadow-2xl flex flex-col",children:[l.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-100 bg-gray-50",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:l.jsxs("select",{"aria-label":"Tipo de documento",value:d.tipo,onChange:k=>h({...d,tipo:k.target.value}),className:"bg-transparent border-none font-bold text-xl focus:ring-0 cursor-pointer",children:[l.jsx("option",{value:"FATURA",children:"FATURA"}),l.jsx("option",{value:"COTACAO",children:"COTAO"}),l.jsx("option",{value:"PRO_FORMA",children:"PRO FORMA"}),l.jsx("option",{value:"FATURA_RECIBO",children:"FATURA RECIBO"})]})}),l.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["N ",d.numero,"  Status: ",l.jsx("span",{className:"font-bold text-blue-600",children:d.status})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{"aria-label":"Fechar modal",title:"Fechar",className:"px-3 py-2 text-gray-600 hover:bg-gray-100 rounded-lg flex items-center gap-2",onClick:t,children:l.jsx(rn,{size:18})}),l.jsxs("button",{"aria-label":"Descarregar PDF",title:"Descarregar PDF",className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg flex items-center gap-2 hover:bg-gray-200",onClick:G,children:[l.jsx(Yv,{size:18})," PDF"]}),l.jsxs("button",{"aria-label":"Imprimir",title:"Imprimir",className:"px-3 py-2 bg-gray-800 text-white rounded-lg flex items-center gap-2 hover:bg-gray-900",onClick:he,children:[l.jsx(Zv,{size:18})," Print"]}),l.jsxs("button",{"aria-label":"Salvar fatura",title:"Salvar e emitir",className:"px-3 py-2 bg-blue-600 text-white rounded-lg flex items-center gap-2 hover:bg-blue-700 shadow-sm",onClick:R,children:[l.jsx(Dh,{size:18})," Salvar"]})]})]}),l.jsxs("div",{className:"p-8 grid grid-cols-2 gap-8",children:[l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-100",children:[l.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase mb-2",children:"Emissor (Sua Empresa)"}),l.jsxs("div",{className:"text-sm text-gray-800 space-y-1",children:[l.jsx("div",{className:"font-bold text-lg",children:d.empresa.nome}),l.jsxs("div",{children:["NUIT: ",d.empresa.nuit]}),l.jsx("div",{children:d.empresa.endereco}),d.empresa.contacto&&l.jsxs("div",{children:["Tel: ",d.empresa.contacto]})]})]}),l.jsxs("div",{className:"border border-gray-200 p-4 rounded-lg relative",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase",children:"Cliente / Destinatrio"}),d.status==="RASCUNHO"&&l.jsxs("button",{onClick:()=>_(!N),className:"text-xs text-blue-600 font-medium flex items-center gap-1",children:[l.jsx(ps,{size:12})," Buscar Registrado"]})]}),N&&l.jsxs("div",{className:"absolute top-10 right-0 left-0 bg-white shadow-xl border border-gray-200 rounded-lg z-10 max-h-40 overflow-y-auto",children:[l.jsx("input",{className:"w-full p-2 text-sm border-b",placeholder:"Filtrar clientes...",autoFocus:!0,value:b,onChange:k=>j(k.target.value)}),ne.map(k=>l.jsxs("div",{onClick:()=>L(k),className:"p-2 hover:bg-gray-50 cursor-pointer text-sm border-b border-gray-50",children:[l.jsx("span",{className:"font-bold",children:k.name}),l.jsx("span",{className:"text-gray-400 text-xs ml-2",children:k.nuit})]},k.id))]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsxs("div",{className:"relative",children:[l.jsx(Ef,{size:16,className:"absolute top-2.5 left-2.5 text-gray-400"}),l.jsx("input",{disabled:d.status!=="RASCUNHO",className:`border border-gray-300 p-2 pl-8 rounded text-sm w-full font-bold focus:outline-blue-500 bg-white text-gray-900 ${d.status!=="RASCUNHO"?"bg-gray-100 cursor-not-allowed opacity-60":""}`,placeholder:"Nome do cliente",value:d.cliente.nome,onChange:k=>h({...d,cliente:{...d.cliente,nome:k.target.value}})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsx("input",{disabled:d.status!=="RASCUNHO",className:`border border-gray-300 p-2 rounded text-sm bg-white text-gray-900 ${d.status!=="RASCUNHO"?"bg-gray-100 cursor-not-allowed opacity-60":""}`,placeholder:"NUIT",value:d.cliente.nuit??"",onChange:k=>h({...d,cliente:{...d.cliente,nuit:k.target.value}})}),l.jsx("input",{disabled:d.status!=="RASCUNHO",className:`border border-gray-300 p-2 rounded text-sm bg-white text-gray-900 ${d.status!=="RASCUNHO"?"bg-gray-100 cursor-not-allowed opacity-60":""}`,placeholder:"Contacto",value:d.cliente.contacto??"",onChange:k=>h({...d,cliente:{...d.cliente,contacto:k.target.value}})})]}),l.jsx("input",{disabled:d.status!=="RASCUNHO",className:`border border-gray-300 p-2 rounded text-sm bg-white text-gray-900 ${d.status!=="RASCUNHO"?"bg-gray-100 cursor-not-allowed opacity-60":""}`,placeholder:"Endereo",value:d.cliente.endereco??"",onChange:k=>h({...d,cliente:{...d.cliente,endereco:k.target.value}})})]})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("div",{className:"text-sm font-bold text-gray-800 mb-2 flex items-center gap-2",children:"Itens do Documento"}),d.status==="RASCUNHO"&&l.jsxs("div",{className:"grid grid-cols-12 gap-2 mb-4 bg-gray-50 p-2 rounded border border-gray-200 items-end",children:[l.jsxs("div",{className:"col-span-5",children:[l.jsx("label",{className:"text-[10px] text-gray-500",children:"Descrio"}),l.jsx("input",{className:"w-full border p-2 rounded text-sm bg-white text-gray-900",placeholder:"Descrio do item",value:m.descricao,onChange:k=>p({...m,descricao:k.target.value})})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("label",{className:"text-[10px] text-gray-500",children:"Qtd"}),l.jsx("input",{"aria-label":"Quantidade de item",className:"w-full border p-2 rounded text-sm bg-white text-gray-900",type:"number",min:1,value:m.quantidade,onChange:k=>p({...m,quantidade:+k.target.value})})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("label",{className:"text-[10px] text-gray-500",children:"Preo"}),l.jsx("input",{"aria-label":"Preo unitrio",className:"w-full border p-2 rounded text-sm bg-white text-gray-900",type:"number",step:"0.01",value:m.precoUnitario,onChange:k=>p({...m,precoUnitario:+k.target.value})})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsxs("label",{className:"text-[10px] text-gray-500",children:["IVA% ",l.jsx("span",{className:"text-red-500",title:"Obrigatrio 16% (MZN)",children:"*"})]}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{"aria-label":"Percentagem de imposto IVA - Obrigatrio 16% para Moambique",className:"w-full border p-2 rounded text-sm bg-white text-gray-900",type:"number",step:"0.01",value:m.impostoPercent??16,onChange:k=>p({...m,impostoPercent:+k.target.value||16})}),(m.impostoPercent??16)!==16&&l.jsx("span",{className:"text-[9px] text-orange-500 absolute -bottom-4 left-0",children:" 16%  padro em MZN"})]})]}),l.jsx("div",{className:"col-span-1",children:l.jsx("button",{"aria-label":"Adicionar item  fatura",title:"Adicionar item",className:"w-full bg-gray-800 text-white rounded p-2 flex justify-center",onClick:C,children:l.jsx(Vr,{size:18})})})]}),l.jsxs("table",{className:"w-full border-collapse",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-100 border-b border-gray-200 text-xs uppercase text-gray-500 font-semibold",children:[l.jsx("th",{className:"p-3 text-left",children:"Descrio"}),l.jsx("th",{className:"p-3 text-right",children:"Qtd"}),l.jsx("th",{className:"p-3 text-right",children:"Preo"}),l.jsx("th",{className:"p-3 text-right",children:"IVA %"}),l.jsx("th",{className:"p-3 text-right",children:"Total"}),d.status==="RASCUNHO"&&l.jsx("th",{className:"p-3 w-10"})]})}),l.jsxs("tbody",{className:"text-sm",children:[d.itens.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"text-center p-4 text-gray-400",children:"Nenhum item adicionado."})}),d.itens.map((k,se)=>l.jsxs("tr",{className:"border-b border-gray-50",children:[l.jsx("td",{className:"p-3",children:k.descricao}),l.jsx("td",{className:"p-3 text-right",children:k.quantidade}),l.jsxs("td",{className:"p-3 text-right",children:[k.precoUnitario.toFixed(2)," ",d.moeda]}),l.jsxs("td",{className:"p-3 text-right",children:[(k.impostoPercent??0).toFixed(0),"%"]}),l.jsxs("td",{className:"p-3 text-right font-medium",children:[(k.quantidade*k.precoUnitario*(1+(k.impostoPercent??0)/100)).toFixed(2)," ",d.moeda]}),d.status==="RASCUNHO"&&l.jsx("td",{className:"p-3 text-right",children:l.jsx("button",{"aria-label":"Remover item",title:"Remover",onClick:()=>D(se),className:"text-red-400 hover:text-red-600",children:l.jsx(rn,{size:14})})})]},se))]})]}),l.jsx("div",{className:"flex justify-end mt-4",children:l.jsxs("div",{className:"w-64 space-y-2 bg-gray-50 p-4 rounded border border-gray-100",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:"Subtotal:"})," ",l.jsxs("span",{children:[A.subtotal.toFixed(2)," ",d.moeda]})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:"Impostos:"})," ",l.jsxs("span",{children:[A.impostos.toFixed(2)," ",d.moeda]})]}),l.jsxs("div",{className:"flex justify-between text-lg font-bold border-t border-gray-200 pt-2 text-gray-900",children:[l.jsx("span",{children:"Total:"})," ",l.jsxs("span",{children:[A.total.toFixed(2)," ",d.moeda]})]}),l.jsxs("div",{className:"flex justify-between text-xs text-gray-500 pt-1",children:[l.jsx("span",{children:"Saldo a Pagar:"})," ",l.jsxs("span",{className:`${P.saldo>0?"text-red-600 font-bold":"text-green-600"}`,children:[P.saldo.toFixed(2)," ",d.moeda]})]})]})})]}),l.jsxs("div",{className:"col-span-2 border-t border-gray-200 pt-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("div",{className:"text-sm font-bold text-gray-800",children:"Pagamentos & Recebimentos"}),d.tipo!=="COTACAO"&&d.tipo!=="PRO_FORMA"&&d.status!=="CANCELADA"&&l.jsxs("button",{onClick:()=>x(!0),className:"bg-green-600 text-white px-4 py-2 rounded-lg shadow-sm hover:bg-green-700 flex items-center gap-2 text-sm font-bold",children:[l.jsx(Bn,{size:16})," Receber Pagamento"]})]}),l.jsxs("table",{className:"w-full border-collapse",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-100 border-b border-gray-200 text-xs uppercase text-gray-500 font-semibold",children:[l.jsx("th",{className:"p-2 text-left",children:"Data"}),l.jsx("th",{className:"p-2 text-left",children:"Modalidade"}),l.jsx("th",{className:"p-2 text-left",children:"Ref."}),l.jsx("th",{className:"p-2 text-right",children:"Valor"})]})}),l.jsxs("tbody",{className:"text-sm",children:[d.pagamentos.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:4,className:"text-center p-2 text-gray-400 text-xs",children:"Nenhum pagamento registrado."})}),d.pagamentos.map((k,se)=>l.jsxs("tr",{className:"border-b border-gray-50",children:[l.jsx("td",{className:"p-2",children:lr(k.data,{time:!0})}),l.jsx("td",{className:"p-2",children:k.modalidade}),l.jsx("td",{className:"p-2",children:k.referencia??"-"}),l.jsxs("td",{className:"p-2 text-right font-medium text-green-600",children:[k.valor.toFixed(2)," ",d.moeda]})]},se))]})]})]})]})]})}),g&&l.jsx(KX,{invoice:d,onClose:()=>x(!1),onConfirm:H}),l.jsx("div",{className:"invoice-pdf-hidden",children:l.jsxs("div",{ref:O,className:"invoice-pdf-container",children:[l.jsxs("div",{className:"invoice-pdf-header",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"invoice-pdf-title",children:d.tipo.replace("_"," ")}),l.jsxs("div",{className:"invoice-pdf-meta",children:["N Documento: ",l.jsx("strong",{children:d.numero})]}),l.jsxs("div",{className:"invoice-pdf-meta",children:["Data Emisso: ",d.dataEmissao]}),d.vencimento&&l.jsxs("div",{className:"invoice-pdf-meta",children:["Vencimento: ",d.vencimento]})]}),l.jsxs("div",{className:"invoice-pdf-right",children:[l.jsx("div",{className:"invoice-pdf-section-title",children:"EMITIDO POR"}),l.jsx("div",{className:"invoice-pdf-company-name",children:d.empresa.nome}),l.jsxs("div",{className:"invoice-pdf-company-detail",children:["NUIT: ",d.empresa.nuit]}),l.jsx("div",{className:"invoice-pdf-company-detail",children:d.empresa.endereco}),d.empresa.contacto&&l.jsx("div",{className:"invoice-pdf-company-detail",children:d.empresa.contacto})]})]}),l.jsxs("div",{className:"invoice-pdf-client-box",children:[l.jsx("div",{className:"invoice-pdf-section-title",children:"CLIENTE"}),l.jsx("div",{className:"invoice-pdf-client-name",children:d.cliente.nome}),d.cliente.nuit&&l.jsxs("div",{className:"invoice-pdf-client-detail",children:["NUIT: ",d.cliente.nuit]}),d.cliente.endereco&&l.jsx("div",{className:"invoice-pdf-client-detail",children:d.cliente.endereco}),d.cliente.contacto&&l.jsx("div",{className:"invoice-pdf-client-detail",children:d.cliente.contacto})]}),l.jsxs("table",{className:"invoice-pdf-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Descrio"}),l.jsx("th",{children:"Qtd"}),l.jsx("th",{children:"Preo Un."}),l.jsx("th",{children:"IVA %"}),l.jsx("th",{children:"Total"})]})}),l.jsx("tbody",{children:d.itens.map((k,se)=>l.jsxs("tr",{children:[l.jsx("td",{children:k.descricao}),l.jsx("td",{children:k.quantidade}),l.jsx("td",{children:k.precoUnitario.toFixed(2)}),l.jsxs("td",{children:[(k.impostoPercent??0).toFixed(0),"%"]}),l.jsx("td",{children:(k.quantidade*k.precoUnitario*(1+(k.impostoPercent??0)/100)).toFixed(2)})]},se))})]}),l.jsx("div",{className:"invoice-pdf-totals",children:l.jsxs("div",{className:"invoice-pdf-totals-box",children:[l.jsxs("div",{className:"invoice-pdf-totals-row",children:[l.jsx("span",{children:"Subtotal:"})," ",l.jsxs("span",{children:[A.subtotal.toFixed(2)," ",d.moeda]})]}),l.jsxs("div",{className:"invoice-pdf-totals-row",children:[l.jsx("span",{children:"Impostos:"})," ",l.jsxs("span",{children:[A.impostos.toFixed(2)," ",d.moeda]})]}),l.jsxs("div",{className:"invoice-pdf-totals-total",children:[l.jsx("span",{children:"Total:"})," ",l.jsxs("span",{children:[A.total.toFixed(2)," ",d.moeda]})]}),Oh(d.pagamentos)>0&&l.jsxs("div",{className:"invoice-pdf-totals-paid",children:[l.jsx("span",{children:"Valor Pago:"})," ",l.jsxs("span",{children:[Oh(d.pagamentos).toFixed(2)," ",d.moeda]})]})]})}),l.jsxs("div",{className:"invoice-pdf-footer",children:[l.jsx("p",{children:"Processado por OFFICIO Software. Documento gerado eletronicamente."}),d.observacoes&&l.jsxs("p",{children:["Obs: ",d.observacoes]})]})]})})]})}const WX=()=>{const{items:e,inventory:t,currentUser:r,processSale:n,registerExpense:s,transactions:o,invoices:u,addInvoice:d,updateInvoice:h,getNextInvoiceNumber:m,hasPermission:p,locations:g,clients:x,addClient:b,updateClient:j,getClientBalance:N,companyInfo:_}=Nr(),[A,P]=w.useState("terminal"),[O,C]=w.useState([]),[D,R]=w.useState("Consumidor Final"),[L,H]=w.useState(""),[G,he]=w.useState(null),[ne,k]=w.useState(_n.CASH),[se,U]=w.useState(""),[V,I]=w.useState(""),[W,ue]=w.useState(""),[be,Ee]=w.useState(0),[z,K]=w.useState(_n.CASH),[ge,B]=w.useState(!1),[je,_e]=w.useState(void 0),[me,Re]=w.useState(""),[X,De]=w.useState(!1),[Oe,te]=w.useState({}),[rt,He]=w.useState(""),[Et,vt]=w.useState(!1),[ie,$t]=w.useState("ALL"),[Le,Xt]=w.useState(null),[Ze,Cn]=w.useState(null),[Yr,Jt]=w.useState(""),[hn,mn]=w.useState(1),[Wr,Ca]=w.useState(20),Tn=()=>{const ct=o.filter(wt=>!(r!=null&&r.locationId)||wt.locationId===r.locationId).filter(wt=>ie==="ALL"?!0:wt.type===ie).filter(wt=>{if(!Le&&!Ze)return!0;const pn=wt.date?wt.date.slice(0,10):"";return!(Le&&pn<Le||Ze&&pn>Ze)}).filter(wt=>{const pn=Yr.toLowerCase();return pn?(wt.clientName||"").toLowerCase().includes(pn)||(wt.description||"").toLowerCase().includes(pn)||(wt.category||"").toLowerCase().includes(pn):!0});if(ct.length===0)return;const Cr=ct.map(wt=>({id:wt.id,date:wt.date,type:wt.type,client:wt.clientName||"",description:wt.description||"",category:wt.category||"",amount:wt.amount,paymentMethod:wt.paymentMethod||"",locationId:wt.locationId||""})),xt=Object.keys(Cr[0]).join(",")+`
`+Cr.map(wt=>Object.values(wt).map(pn=>`"${String(pn).replace(/"/g,'""')}"`).join(",")).join(`
`),Ut=new Blob([xt],{type:"text/csv;charset=utf-8;"}),Zr=URL.createObjectURL(Ut),Fa=document.createElement("a");Fa.href=Zr,Fa.download=`transactions_${new Date().toISOString().slice(0,10)}.csv`,Fa.click(),URL.revokeObjectURL(Zr)},Ta=t.filter(le=>le.locationId===(r==null?void 0:r.locationId)&&le.quantity>0).map(le=>({...e.find(dt=>dt.id===le.itemId),stockQty:le.quantity})).filter(le=>le.id&&le.name&&le.price).filter(le=>le.is_for_sale!==!1).filter(le=>{var Ue;return(Ue=le.name)==null?void 0:Ue.toLowerCase().includes(se.toLowerCase())}),an=le=>{C(Ue=>{const dt=Ue.find(ct=>ct.itemId===le.id);return dt?dt.quantity>=le.stockQty?Ue:Ue.map(ct=>ct.itemId===le.id?{...ct,quantity:ct.quantity+1}:ct):[...Ue,{itemId:le.id,name:le.name,quantity:1,unitPrice:le.price}]})},Ae=le=>{C(Ue=>Ue.filter(dt=>dt.itemId!==le))},ut=(le,Ue)=>{C(dt=>dt.map(ct=>{if(ct.itemId===le){const Cr=ct.quantity+Ue;if(Cr<1)return ct;const sn=Ta.find(xt=>xt.id===le);return Cr>((sn==null?void 0:sn.stockQty)||0)?ct:{...ct,quantity:Cr}}return ct}))},At=le=>{R(le.name||le.nome||""),H(le.nuit||""),he(le.id||"")},Or=O.reduce((le,Ue)=>le+Ue.quantity*Ue.unitPrice,0),nr=Or*.16,vl=Or+nr,Ci=()=>{if(O.length===0)return;const le={tipo:"FATURA_RECIBO",status:"PAGA",cliente:{id:G||void 0,nome:D,nuit:L,endereco:"",contacto:""},itens:O.map(Ue=>({itemId:Ue.itemId,descricao:Ue.name,quantidade:Ue.quantity,precoUnitario:Ue.unitPrice,impostoPercent:16})),pagamentos:[{data:new Date().toISOString(),valor:vl,modalidade:ne}],observacoes:"Venda via POS Terminal - Rastreabilidade: Itens do inventrio"};_e(le),vt(!0),B(!0)},oe=le=>{le.preventDefault(),!(be<=0)&&(s(V,W,be,z),I(""),ue(""),Ee(0),K(_n.CASH))},Ti=()=>{_e(void 0),vt(!1),B(!0)},Di=le=>{_e(le),vt(!1),B(!0)},fa=async le=>{try{u.find(dt=>dt.id===le.id)?await h(le):await d(le),B(!1),Et&&(C([]),R("Consumidor Final"),H(""),he(null),k(_n.CASH),vt(!1))}catch(Ue){console.error("Erro ao guardar fatura:",Ue),alert("Erro ao guardar fatura. Por favor tente novamente.")}},Hn=le=>{le.preventDefault(),Oe.name&&(Oe.id?j(Oe):b({id:`cli-${Date.now()}`,name:Oe.name,nuit:Oe.nuit,contact:Oe.contact,email:Oe.email,address:Oe.address,notes:Oe.notes}),De(!1),te({}))},ki=le=>{te(le),De(!0)},Xr=le=>new Intl.NumberFormat("pt-MZ",{style:"currency",currency:"MZN"}).format(le);return g.find(le=>le.id===(r==null?void 0:r.locationId)),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex gap-2 border-b border-gray-200 pb-2 overflow-x-auto hide-scrollbar",children:[l.jsx("button",{onClick:()=>P("terminal"),className:`px-4 py-2 font-medium text-sm rounded-full whitespace-nowrap ${A==="terminal"?"bg-blue-600 text-white shadow":"bg-white text-gray-600 border border-gray-100"}`,children:"Terminal"}),p("VIEW_INVOICES")&&l.jsxs("button",{onClick:()=>P("invoices"),className:`px-4 py-2 font-medium text-sm rounded-full whitespace-nowrap flex items-center gap-2 ${A==="invoices"?"bg-indigo-600 text-white shadow":"bg-white text-gray-600 border border-gray-100"}`,children:[l.jsx(la,{size:16})," Documentos"]}),l.jsxs("button",{onClick:()=>P("clients"),className:`px-4 py-2 font-medium text-sm rounded-full whitespace-nowrap flex items-center gap-2 ${A==="clients"?"bg-green-600 text-white shadow":"bg-white text-gray-600 border border-gray-100"}`,children:[l.jsx(kh,{size:16})," Clientes"]}),l.jsx("button",{onClick:()=>P("expenses"),className:`px-4 py-2 font-medium text-sm rounded-full whitespace-nowrap ${A==="expenses"?"bg-orange-600 text-white shadow":"bg-white text-gray-600 border border-gray-100"}`,children:"Despesas"}),l.jsx("button",{onClick:()=>P("history"),className:`px-4 py-2 font-medium text-sm rounded-full whitespace-nowrap ${A==="history"?"bg-gray-600 text-white shadow":"bg-white text-gray-600 border border-gray-100"}`,children:"Histrico"})]}),A==="terminal"&&l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-auto lg:h-[calc(100vh-220px)] pb-20 lg:pb-0",children:[l.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-gray-200 flex flex-col overflow-hidden h-[500px] lg:h-full",children:[l.jsx("div",{className:"p-4 border-b border-gray-100 flex gap-4 bg-white sticky top-0 z-10",children:l.jsxs("div",{className:"relative flex-1",children:[l.jsx(ps,{className:"absolute left-3 top-2.5 text-gray-400",size:18}),l.jsx("input",{type:"text",placeholder:"Buscar produto...",className:"w-full pl-10 pr-4 py-2 border rounded-lg bg-gray-50 focus:outline-none focus:border-blue-500 text-gray-900",value:se,onChange:le=>U(le.target.value)})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4 grid grid-cols-2 sm:grid-cols-3 xl:grid-cols-4 gap-3 bg-gray-50",children:Ta.length===0?l.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center text-gray-400 mt-20",children:[l.jsx(Xv,{size:48,className:"mb-2 opacity-30"}),l.jsx("p",{children:"Sem itens no estoque."})]}):Ta.map((le,Ue)=>l.jsxs("button",{onClick:()=>an(le),className:"bg-white p-3 md:p-4 rounded-xl border border-gray-100 shadow-sm hover:shadow-md hover:border-blue-300 transition text-left flex flex-col h-full active:scale-95",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2 w-full",children:[l.jsx("span",{className:"text-[10px] bg-gray-100 text-gray-600 px-1.5 py-0.5 rounded truncate max-w-[60%]",children:le.sku}),l.jsxs("span",{className:"text-[10px] font-bold text-blue-600",children:[le.stockQty," un"]})]}),l.jsx("h4",{className:"font-semibold text-gray-800 text-sm mb-auto line-clamp-2 leading-tight",children:le.name}),l.jsxs("div",{className:"mt-3 flex items-end justify-between w-full",children:[l.jsx("span",{className:"text-sm md:text-lg font-bold text-gray-900",children:Xr(le.price||0)}),l.jsx("div",{className:"bg-blue-50 text-blue-600 p-1 rounded-full",children:l.jsx(Vr,{size:16})})]})]},Ue))})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 flex flex-col lg:h-full order-first lg:order-last mb-4 lg:mb-0",children:[l.jsxs("div",{className:"p-4 border-b border-gray-100 bg-slate-50",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsxs("h3",{className:"font-bold text-gray-800 flex items-center gap-2",children:[l.jsx(Uy,{size:20,className:"text-blue-600"})," Carrinho (",O.length,")"]}),l.jsx("button",{onClick:()=>P("clients"),className:"text-xs text-blue-600 bg-white border border-blue-100 px-2 py-1 rounded font-medium",children:"Cliente"})]}),l.jsxs("div",{className:"mt-2 space-y-2",children:[x.length>0&&l.jsxs("select",{"aria-label":"Selecionar cliente rpido",className:"w-full border rounded p-1.5 text-sm bg-white text-gray-900",value:G||"",onChange:le=>{const Ue=x.find(dt=>dt.id===le.target.value);Ue?At(Ue):(he(null),R("Consumidor Final"),H(""))},children:[l.jsx("option",{value:"",children:"-- Cliente Rpido --"}),x.map(le=>l.jsx("option",{value:le.id,children:le.name},le.id))]}),l.jsx("input",{type:"text",placeholder:"Nome do Cliente",className:"w-full border rounded p-1.5 text-sm bg-white text-gray-900",value:D,onChange:le=>R(le.target.value)})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 min-h-[150px] lg:min-h-0",children:O.length===0?l.jsxs("div",{className:"text-center text-gray-400 mt-10",children:[l.jsx(Uy,{size:32,className:"mx-auto mb-2 opacity-20"}),l.jsx("p",{className:"text-sm",children:"Carrinho vazio"})]}):O.map((le,Ue)=>l.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-2 rounded-lg border border-gray-100",children:[l.jsxs("div",{className:"flex-1 min-w-0 mr-2",children:[l.jsx("h4",{className:"font-medium text-gray-800 text-sm truncate",children:le.name}),l.jsx("p",{className:"text-xs text-blue-600 font-bold",children:Xr(le.unitPrice)})]}),l.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[l.jsxs("div",{className:"flex items-center gap-0 bg-white rounded border border-gray-200",children:[l.jsx("button",{"aria-label":"Diminuir quantidade",title:"Diminuir quantidade",onClick:()=>ut(le.itemId,-1),className:"p-1 hover:bg-gray-100 text-gray-600 w-6 h-6 flex items-center justify-center",children:l.jsx(O5,{size:10})}),l.jsx("span",{className:"text-xs font-bold w-6 text-center","aria-label":`Quantidade: ${le.quantity}`,children:le.quantity}),l.jsx("button",{"aria-label":"Aumentar quantidade",title:"Aumentar quantidade",onClick:()=>ut(le.itemId,1),className:"p-1 hover:bg-gray-100 text-gray-600 w-6 h-6 flex items-center justify-center",children:l.jsx(Vr,{size:10})})]}),l.jsx("button",{"aria-label":"Remover item do carrinho",title:"Remover",onClick:()=>Ae(le.itemId),className:"text-red-400 hover:text-red-600",children:l.jsx(hi,{size:16})})]})]},Ue))}),l.jsxs("div",{className:"p-4 bg-white border-t border-gray-200 shadow-inner",children:[l.jsxs("div",{className:"flex justify-between text-sm mb-1 text-gray-600",children:[l.jsx("span",{children:"Subtotal"}),l.jsx("span",{children:Xr(Or)})]}),l.jsxs("div",{className:"flex justify-between text-sm mb-3 text-gray-600",children:[l.jsx("span",{children:"IVA (16%)"}),l.jsx("span",{children:Xr(nr)})]}),l.jsxs("div",{className:"flex justify-between text-xl font-bold text-gray-900 mb-4",children:[l.jsx("span",{children:"Total"}),l.jsx("span",{children:Xr(vl)})]}),l.jsx("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[{id:_n.CASH,label:"Dinheiro",icon:Kv},{id:_n.CARD,label:"POS",icon:tO},{id:_n.MOBILE_MONEY,label:"M-Pesa",icon:Q5},{id:_n.BANK_TRANSFER,label:"Transf.",icon:z5}].map(le=>l.jsxs("button",{"aria-label":`Mtodo de pagamento: ${le.label}`,title:`Selecionar ${le.label}`,onClick:()=>k(le.id),className:`flex items-center justify-center gap-1 py-2 rounded text-[10px] md:text-xs font-bold border transition ${ne===le.id?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-600 border-gray-200 hover:bg-gray-100"}`,children:[l.jsx(le.icon,{size:12})," ",le.label]},le.id))}),l.jsxs("button",{onClick:Ci,disabled:O.length===0,className:"w-full bg-green-600 text-white py-3 rounded-xl font-bold hover:bg-green-700 transition shadow-md disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[l.jsx(ia,{size:20})," Finalizar Venda"]})]})]})]}),A==="invoices"&&l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 flex flex-col h-[calc(100vh-220px)]",children:[l.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center bg-white sticky top-0 z-10",children:[l.jsxs("div",{className:"relative w-full max-w-xs",children:[l.jsx(ps,{className:"absolute left-3 top-2.5 text-gray-400",size:18}),l.jsx("input",{type:"text",placeholder:"Buscar documento...",className:"w-full pl-10 pr-4 py-2 border rounded-lg bg-gray-50 focus:outline-none focus:border-blue-500 text-gray-900 text-sm",value:me,onChange:le=>Re(le.target.value)})]}),l.jsxs("button",{onClick:Ti,className:"bg-blue-600 text-white p-2 md:px-4 md:py-2 rounded-lg flex items-center gap-2 hover:bg-blue-700 shadow-sm ml-2 shrink-0",children:[l.jsx(Vr,{size:18})," ",l.jsx("span",{className:"hidden md:inline",children:"Novo"})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto",children:l.jsxs("table",{className:"w-full text-left border-collapse",children:[l.jsx("thead",{className:"bg-gray-50 text-xs font-semibold text-gray-500 uppercase sticky top-0",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4 border-b",children:"Documento"}),l.jsx("th",{className:"p-4 border-b hidden md:table-cell",children:"Cliente"}),l.jsx("th",{className:"p-4 border-b text-right",children:"Total"}),l.jsx("th",{className:"p-4 border-b text-center",children:"Status"}),l.jsx("th",{className:"p-4 border-b text-center"})]})}),l.jsxs("tbody",{className:"divide-y divide-gray-100 text-sm",children:[u.filter(le=>le.numero.includes(me)||le.cliente.nome.toLowerCase().includes(me.toLowerCase())).map(le=>{const Ue=le.itens.reduce((dt,ct)=>dt+ct.quantidade*ct.precoUnitario*(1+(ct.impostoPercent||0)/100),0);return l.jsxs("tr",{className:"hover:bg-slate-50",children:[l.jsxs("td",{className:"p-4",children:[l.jsx("div",{className:"font-bold text-gray-900",children:le.numero}),l.jsx("div",{className:"text-xs text-gray-500 md:hidden",children:le.cliente.nome}),l.jsx("span",{className:"text-[10px] bg-gray-100 px-1.5 py-0.5 rounded border border-gray-200 mt-1 inline-block",children:le.tipo.replace("_"," ")})]}),l.jsx("td",{className:"p-4 text-gray-600 hidden md:table-cell",children:le.cliente.nome}),l.jsx("td",{className:"p-4 text-right font-bold text-gray-800",children:Xr(Ue)}),l.jsx("td",{className:"p-4 text-center",children:l.jsx("span",{className:`text-[10px] md:text-xs font-bold px-2 py-1 rounded-full ${le.status==="PAGA"?"bg-green-100 text-green-700":le.status==="EMITIDA"?"bg-blue-100 text-blue-700":le.status==="CANCELADA"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:le.status})}),l.jsx("td",{className:"p-4 text-center",children:l.jsx("button",{"aria-label":"Editar documento",title:"Editar",onClick:()=>Di(le),className:"text-blue-600 hover:text-blue-800 p-2 bg-blue-50 rounded-lg",children:l.jsx(h_,{size:16})})})]},le.id)}),u.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:5,className:"p-8 text-center text-gray-400",children:"Nenhum documento encontrado."})})]})]})})]}),A==="clients"&&l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 flex flex-col h-[calc(100vh-220px)]",children:[l.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center sticky top-0 bg-white z-10",children:[l.jsxs("div",{className:"relative w-full max-w-xs",children:[l.jsx(ps,{className:"absolute left-3 top-2.5 text-gray-400",size:18}),l.jsx("input",{type:"text",placeholder:"Buscar cliente...",className:"w-full pl-10 pr-4 py-2 border rounded-lg bg-gray-50 focus:outline-none focus:border-blue-500 text-gray-900 text-sm",value:rt,onChange:le=>He(le.target.value)})]}),l.jsxs("button",{onClick:()=>{te({}),De(!0)},className:"bg-green-600 text-white p-2 md:px-4 md:py-2 rounded-lg flex items-center gap-2 hover:bg-green-700 ml-2 shrink-0 shadow-sm",children:[l.jsx(Zc,{size:18})," ",l.jsx("span",{className:"hidden md:inline",children:"Novo"})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto",children:l.jsxs("table",{className:"w-full text-left border-collapse",children:[l.jsx("thead",{className:"bg-gray-50 text-xs font-semibold text-gray-500 uppercase sticky top-0",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4 border-b",children:"Nome"}),l.jsx("th",{className:"p-4 border-b hidden md:table-cell",children:"Contacto"}),l.jsx("th",{className:"p-4 border-b text-right",children:"Saldo"}),l.jsx("th",{className:"p-4 border-b text-center"})]})}),l.jsxs("tbody",{className:"divide-y divide-gray-100 text-sm",children:[x.filter(le=>(le.name||le.nome||"").toLowerCase().includes(rt.toLowerCase())).map(le=>{const Ue=N(le.id||"");return l.jsxs("tr",{className:"hover:bg-slate-50",children:[l.jsxs("td",{className:"p-4",children:[l.jsx("div",{className:"font-bold text-gray-800",children:le.name}),l.jsx("div",{className:"text-xs text-gray-500 md:hidden",children:le.nuit})]}),l.jsx("td",{className:"p-4 text-gray-600 hidden md:table-cell",children:le.contact||"-"}),l.jsx("td",{className:`p-4 text-right font-bold ${Ue>0?"text-red-600":"text-green-600"}`,children:Xr(Ue)}),l.jsx("td",{className:"p-4 text-center",children:l.jsx("button",{"aria-label":"Editar cliente",title:"Editar",onClick:()=>ki(le),className:"text-blue-600 hover:text-blue-800 p-2 bg-blue-50 rounded-lg",children:l.jsx(h_,{size:16})})})]},le.id)}),x.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:4,className:"p-8 text-center text-gray-400",children:"Nenhum cliente registrado."})})]})]})})]}),A==="history"&&l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 flex flex-col h-[calc(100vh-220px)]",children:[l.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center sticky top-0 z-10 bg-white",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Wv,{size:20,className:"text-gray-600"}),l.jsx("h3",{className:"font-bold text-gray-800",children:"Histrico Financeiro"})]}),l.jsx("div",{className:"text-sm text-gray-500",children:"Mostrando transaes da sua localizao"})]}),l.jsx("div",{className:"p-4 border-t bg-white flex items-center justify-between",children:(()=>{const ct=o.filter(Ut=>!(r!=null&&r.locationId)||Ut.locationId===r.locationId).filter(Ut=>ie==="ALL"?!0:Ut.type===ie).filter(Ut=>{if(!Le&&!Ze)return!0;const Zr=Ut.date?Ut.date.slice(0,10):"";return!(Le&&Zr<Le||Ze&&Zr>Ze)}).filter(Ut=>{const Zr=Yr.toLowerCase();return Zr?(Ut.clientName||"").toLowerCase().includes(Zr)||(Ut.description||"").toLowerCase().includes(Zr)||(Ut.category||"").toLowerCase().includes(Zr):!0}),Cr=ct.length,sn=(hn-1)*Wr,xt=ct.slice(sn,sn+Wr);return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"text-sm text-gray-600",children:["Mostrando ",Cr===0?0:sn+1," - ",Math.min(sn+xt.length,Cr)," de ",Cr]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{disabled:hn===1,onClick:()=>mn(hn-1),className:"px-3 py-1 bg-gray-100 rounded text-sm disabled:opacity-50",children:"Anterior"}),l.jsxs("div",{className:"text-sm text-gray-600",children:["Pgina ",hn]}),l.jsx("button",{disabled:hn*Wr>=Cr,onClick:()=>mn(hn+1),className:"px-3 py-1 bg-gray-100 rounded text-sm disabled:opacity-50",children:"Prxima"})]})]})})()}),l.jsxs("div",{className:"p-4 border-b border-gray-100 flex flex-col gap-3 md:flex-row md:items-center md:justify-between sticky top-0 z-10 bg-white",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("label",{htmlFor:"historyType",className:"text-xs text-gray-500",children:"Tipo"}),l.jsxs("select",{id:"historyType",value:ie,onChange:le=>{$t(le.target.value),mn(1)},className:"border px-2 py-1 rounded text-sm bg-white",children:[l.jsx("option",{value:"ALL",children:"Todos"}),l.jsx("option",{value:"SALE",children:"Recebimentos"}),l.jsx("option",{value:"EXPENSE",children:"Despesas"})]}),l.jsx("label",{htmlFor:"historyStartDate",className:"text-xs text-gray-500 ml-4",children:"De"}),l.jsx("input",{id:"historyStartDate",type:"date",value:Le||"",onChange:le=>{Xt(le.target.value||null),mn(1)},className:"border px-2 py-1 rounded text-sm bg-white"}),l.jsx("label",{htmlFor:"historyEndDate",className:"text-xs text-gray-500 ml-2",children:"At"}),l.jsx("input",{id:"historyEndDate",type:"date",value:Ze||"",onChange:le=>{Cn(le.target.value||null),mn(1)},className:"border px-2 py-1 rounded text-sm bg-white"}),l.jsx("label",{htmlFor:"historySearch",className:"text-xs text-gray-500 ml-4",children:"Buscar"}),l.jsx("input",{id:"historySearch",placeholder:"Buscar",value:Yr,onChange:le=>{Jt(le.target.value),mn(1)},className:"ml-4 border rounded px-2 py-1 text-sm bg-white"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{"aria-label":"Exportar transaes para CSV",title:"Exportar para CSV",onClick:()=>{Tn()},className:"text-sm bg-blue-50 text-blue-700 px-3 py-1 rounded",children:"Exportar CSV"}),l.jsx("label",{htmlFor:"historyPageSize",className:"text-xs text-gray-500",children:"Linhas por pgina:"}),l.jsxs("select",{id:"historyPageSize",value:Wr,onChange:le=>{Ca(Number(le.target.value)),mn(1)},className:"border px-2 py-1 rounded text-sm bg-white",children:[l.jsx("option",{value:10,children:"10"}),l.jsx("option",{value:20,children:"20"}),l.jsx("option",{value:50,children:"50"})]})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:l.jsxs("table",{className:"w-full text-left border-collapse",children:[l.jsx("thead",{className:"bg-gray-50 text-xs font-semibold text-gray-500 uppercase sticky top-0",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-3 border-b",children:"Data"}),l.jsx("th",{className:"p-3 border-b",children:"Tipo"}),l.jsx("th",{className:"p-3 border-b",children:"Origem / Descrio"}),l.jsx("th",{className:"p-3 border-b text-right",children:"Valor"}),l.jsx("th",{className:"p-3 border-b",children:"Mtodo"})]})}),l.jsxs("tbody",{className:"divide-y divide-gray-100 text-sm",children:[(()=>{const ct=o.filter(xt=>!(r!=null&&r.locationId)||xt.locationId===r.locationId).filter(xt=>ie==="ALL"?!0:xt.type===ie).filter(xt=>{if(!Le&&!Ze)return!0;const Ut=xt.date?xt.date.slice(0,10):"";return!(Le&&Ut<Le||Ze&&Ut>Ze)}).filter(xt=>{const Ut=Yr.toLowerCase();return Ut?(xt.clientName||"").toLowerCase().includes(Ut)||(xt.description||"").toLowerCase().includes(Ut)||(xt.category||"").toLowerCase().includes(Ut):!0});ct.length;const Cr=(hn-1)*Wr;return ct.slice(Cr,Cr+Wr).map(xt=>l.jsxs("tr",{className:"hover:bg-slate-50",children:[l.jsx("td",{className:"p-3 text-xs text-gray-500",children:lr(xt.date,{time:!0})}),l.jsx("td",{className:"p-3 font-bold text-[12px]",children:xt.type==="SALE"?"Recebimento":"Despesa"}),l.jsx("td",{className:"p-3 text-gray-700",children:xt.clientName||xt.description||xt.category||"-"}),l.jsx("td",{className:"p-3 text-right font-bold text-gray-800",children:Xr(xt.amount)}),l.jsx("td",{className:"p-3 text-sm text-gray-600",children:xt.paymentMethod})]},xt.id))})(),o.filter(Ue=>!(r!=null&&r.locationId)||Ue.locationId===r.locationId).filter(Ue=>ie==="ALL"?!0:Ue.type===ie).filter(Ue=>{if(!Le&&!Ze)return!0;const dt=Ue.date?Ue.date.slice(0,10):"";return!(Le&&dt<Le||Ze&&dt>Ze)}).filter(Ue=>{const dt=Yr.toLowerCase();return dt?(Ue.clientName||"").toLowerCase().includes(dt)||(Ue.description||"").toLowerCase().includes(dt)||(Ue.category||"").toLowerCase().includes(dt):!0}).length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:5,className:"p-8 text-center text-gray-400",children:"Nenhuma transao encontrada."})}):null]})]})})]}),A==="expenses"&&l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pb-20 md:pb-0",children:l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[l.jsxs("h3",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2",children:[l.jsx(Jv,{className:"text-red-500"})," Registrar Despesa"]}),l.jsxs("form",{onSubmit:oe,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"expenseDesc",className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),l.jsx("input",{id:"expenseDesc",required:!0,type:"text",className:"w-full border rounded-lg p-3 bg-white text-gray-900",value:V,onChange:le=>I(le.target.value),placeholder:"Ex: Compra de material"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"expenseCategory",className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),l.jsxs("select",{id:"expenseCategory",className:"w-full border rounded-lg p-3 bg-white text-gray-900",value:W,onChange:le=>ue(le.target.value),children:[l.jsx("option",{value:"",children:"Selecione..."}),l.jsx("option",{value:"Combustvel",children:"Combustvel"}),l.jsx("option",{value:"Manuteno",children:"Manuteno"}),l.jsx("option",{value:"Alimentao",children:"Alimentao"}),l.jsx("option",{value:"Transporte",children:"Transporte"}),l.jsx("option",{value:"Outros",children:"Outros"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"expenseAmount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor"}),l.jsx("input",{id:"expenseAmount",required:!0,type:"number",min:"0",step:"0.01",className:"w-full border rounded-lg p-3 bg-white text-gray-900",value:be,onChange:le=>Ee(parseFloat(le.target.value))})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"expenseMethod",className:"block text-sm font-medium text-gray-700 mb-1",children:"Mtodo"}),l.jsxs("select",{id:"expenseMethod",className:"w-full border rounded-lg p-3 bg-white text-gray-900",value:z,onChange:le=>K(le.target.value),children:[l.jsx("option",{value:_n.CASH,children:"Dinheiro"}),l.jsx("option",{value:_n.MOBILE_MONEY,children:"M-Pesa"}),l.jsx("option",{value:_n.CARD,children:"Carto"})]})]})]}),l.jsx("button",{type:"submit",className:"w-full bg-red-600 text-white py-3 rounded-xl font-bold hover:bg-red-700 mt-2 shadow-md",children:"Lanar Despesa"})]})]})}),l.jsx(YX,{open:ge,onClose:()=>B(!1),onSave:fa,initial:je,companyDefaults:{empresa:_,moeda:"MZN",gerarNumero:m,locationId:(r==null?void 0:r.locationId)||"",userId:(r==null?void 0:r.id)||""}}),X&&l.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-end md:items-center justify-center z-50 p-0 md:p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white w-full max-w-md rounded-t-2xl md:rounded-xl shadow-xl p-6 animate-in slide-in-from-bottom-10 md:zoom-in",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:Oe.id?"Editar Cliente":"Novo Cliente"}),l.jsxs("form",{onSubmit:Hn,className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"clientName",className:"block text-sm font-medium text-gray-700",children:"Nome"}),l.jsx("input",{id:"clientName",className:"w-full border rounded-lg p-3 bg-white text-gray-900",required:!0,value:Oe.name||"",onChange:le=>te({...Oe,name:le.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"clientNuit",className:"block text-sm font-medium text-gray-700",children:"NUIT"}),l.jsx("input",{id:"clientNuit",className:"w-full border rounded-lg p-3 bg-white text-gray-900",value:Oe.nuit||"",onChange:le=>te({...Oe,nuit:le.target.value})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"clientContact",className:"block text-sm font-medium text-gray-700",children:"Telefone"}),l.jsx("input",{id:"clientContact",className:"w-full border rounded-lg p-3 bg-white text-gray-900",value:Oe.contact||"",onChange:le=>te({...Oe,contact:le.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"clientEmail",className:"block text-sm font-medium text-gray-700",children:"Email"}),l.jsx("input",{id:"clientEmail",className:"w-full border rounded-lg p-3 bg-white text-gray-900",value:Oe.email||"",onChange:le=>te({...Oe,email:le.target.value})})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"clientAddress",className:"block text-sm font-medium text-gray-700",children:"Endereo"}),l.jsx("input",{id:"clientAddress",className:"w-full border rounded-lg p-3 bg-white text-gray-900",value:Oe.address||"",onChange:le=>te({...Oe,address:le.target.value})})]}),l.jsxs("div",{className:"flex gap-3 mt-6",children:[l.jsx("button",{type:"button",onClick:()=>De(!1),className:"flex-1 text-gray-700 bg-gray-100 py-3 font-bold rounded-xl",children:"Cancelar"}),l.jsx("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-3 rounded-xl font-bold hover:bg-blue-700 shadow-md",children:"Salvar"})]})]})]})})]})},XX=()=>{const{rolePermissions:e,togglePermission:t,hasPermission:r,isAdminOrGM:n}=Nr(),s=Array.from(new Set(o_.map(u=>u.category))),o=[Te.ADMIN,Te.GENERAL_MANAGER,Te.MANAGER,Te.WORKER];return n?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[l.jsx(aO,{className:"text-indigo-600"}),"Matriz de Permisses"]}),l.jsx("p",{className:"text-sm text-gray-500",children:"Controle granular de acesso por cargo e funcionalidade."})]}),l.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 text-yellow-800 px-4 py-2 rounded-lg text-xs flex items-center gap-2",children:[l.jsx(i6,{size:14}),l.jsx("span",{children:"Alteraes entram em vigor imediatamente."})]})]}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left border-collapse",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[l.jsx("th",{className:"p-4 text-sm font-semibold text-gray-600 uppercase tracking-wider w-1/3",children:"Funcionalidade / Permisso"}),o.map(u=>l.jsx("th",{className:"p-4 text-center text-xs font-bold text-gray-600 uppercase tracking-wider",children:u.replace("_"," ")},u))]})}),l.jsx("tbody",{className:"divide-y divide-gray-100",children:s.map(u=>l.jsxs(Xs.Fragment,{children:[l.jsx("tr",{className:"bg-slate-50",children:l.jsx("td",{colSpan:5,className:"px-4 py-2 text-xs font-bold text-slate-500 uppercase tracking-widest border-y border-gray-200",children:u})}),o_.filter(d=>d.category===u).map(d=>l.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[l.jsxs("td",{className:"p-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-800",children:d.label}),l.jsx("p",{className:"text-xs text-gray-400 font-mono mt-0.5",children:d.id})]}),o.map(h=>{var g;const m=(g=e[h])==null?void 0:g.includes(d.id),p=h===Te.ADMIN&&d.id==="MANAGE_PERMISSIONS";return l.jsx("td",{className:"p-4 text-center",children:l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",className:"sr-only peer",checked:m||p,disabled:p,onChange:()=>t(h,d.id)}),l.jsx("div",{className:`w-11 h-6 rounded-full peer peer-focus:ring-4 peer-focus:ring-indigo-300 dark:peer-focus:ring-indigo-800 transition-colors ${m||p?"bg-indigo-600":"bg-gray-200"}`,children:l.jsx("div",{className:`absolute top-0.5 left-[2px] bg-white border border-gray-300 rounded-full h-5 w-5 transition-all ${m||p?"translate-x-full border-white":""}`})})]})},`${h}-${d.id}`)})]},d.id))]},u))})]})})})]}):l.jsxs("div",{className:"flex flex-col items-center justify-center h-96 text-gray-400",children:[l.jsx(al,{size:64,className:"mb-4 text-gray-300"}),l.jsx("h2",{className:"text-xl font-bold text-gray-700",children:"Acesso Negado"}),l.jsx("p",{children:"Voc no tem permisso para gerenciar as configuraes de acesso."})]})},ZX=()=>{const{allUsers:e,calculatePayrollForUser:t,updatePayrollParams:r,payrollParams:n}=Nr(),[s,o]=w.useState(new Date().toISOString().slice(0,7)),u=e.map(x=>t(x)),d=u.reduce((x,b)=>x+b.baseSalary,0),h=u.reduce((x,b)=>x+b.productionBonus,0),m=u.reduce((x,b)=>x+b.netSalary,0),p=u.reduce((x,b)=>x+b.totalDeductions,0),g=x=>new Intl.NumberFormat("pt-MZ",{style:"currency",currency:"MZN"}).format(x);return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[l.jsx(Kv,{className:"text-green-600"}),"Folha Salarial (Payroll)"]}),l.jsx("p",{className:"text-sm text-gray-500",children:"Modelo Florestal: (Dias x Taxa) + Bnus - Descontos"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("input",{type:"month",className:"border rounded-lg p-2 bg-white text-gray-800 shadow-sm",value:s,onChange:x=>o(x.target.value)}),l.jsxs("button",{className:"bg-green-600 text-white px-4 py-2 rounded-lg font-medium shadow-sm hover:bg-green-700 flex items-center gap-2",children:[l.jsx(L3,{size:18})," Processar"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[l.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-gray-100",children:[l.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase",children:"Total Lquido a Pagar"}),l.jsx("h3",{className:"text-2xl font-bold text-green-600 mt-1",children:g(m)})]}),l.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-gray-100",children:[l.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase",children:"Total Salrio Base"}),l.jsx("h3",{className:"text-2xl font-bold text-gray-900 mt-1",children:g(d)}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Dias teis"})]}),l.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-gray-100",children:[l.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase",children:"Total Bnus Produo"}),l.jsx("h3",{className:"text-2xl font-bold text-blue-600 mt-1",children:g(h)})]}),l.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-gray-100",children:[l.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase",children:"Total Descontos"}),l.jsx("h3",{className:"text-2xl font-bold text-red-600 mt-1",children:g(p)}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Faltas e Adiantamentos"})]})]}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left text-sm whitespace-nowrap",children:[l.jsx("thead",{className:"bg-gray-50 text-xs text-gray-500 uppercase font-bold border-b border-gray-200",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-4",children:"Funcionrio"}),l.jsx("th",{className:"px-6 py-4 text-center text-green-700 bg-green-50/50",title:"Dias Completos",children:"D"}),l.jsx("th",{className:"px-6 py-4 text-center text-orange-700 bg-orange-50/50",title:"Meios Dias",children:"D/2"}),l.jsx("th",{className:"px-6 py-4 text-center text-red-700 bg-red-50/50",title:"Faltas",children:"F"}),l.jsx("th",{className:"px-6 py-4 text-center",children:"Produo (Real/Meta)"}),l.jsx("th",{className:"px-6 py-4 text-right font-bold bg-blue-50/50",children:"Salrio Base"}),l.jsx("th",{className:"px-6 py-4 text-right text-blue-600",children:"Bnus"}),l.jsx("th",{className:"px-6 py-4 text-center w-24 text-red-600",children:"Adiant."}),l.jsx("th",{className:"px-6 py-4 text-right text-red-600",children:"T. Desc."}),l.jsx("th",{className:"px-6 py-4 text-right font-bold text-green-700 bg-green-50",children:"Lquido"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-100",children:u.map(x=>{var b;return l.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[l.jsx("td",{className:"px-6 py-4 font-medium text-gray-800",children:x.userName}),l.jsx("td",{className:"px-6 py-4 text-center font-bold text-green-700 bg-green-50/30",children:x.fullDays}),l.jsx("td",{className:"px-6 py-4 text-center font-bold text-orange-700 bg-orange-50/30",children:x.halfDays}),l.jsx("td",{className:"px-6 py-4 text-center font-bold text-red-700 bg-red-50/30",children:x.absences}),l.jsx("td",{className:"px-6 py-4 text-center",children:l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("span",{className:"font-bold",children:x.realProduction}),l.jsxs("span",{className:"text-[10px] text-gray-400",children:["Meta: ",x.targetProduction]}),l.jsxs("span",{className:`text-[10px] font-bold ${x.efficiency>=100?"text-green-600":"text-orange-500"}`,children:[x.efficiency,"%"]})]})}),l.jsx("td",{className:"px-6 py-4 text-right font-bold bg-blue-50/30",children:g(x.baseSalary)}),l.jsx("td",{className:"px-6 py-4 text-right text-blue-600",children:g(x.productionBonus)}),l.jsx("td",{className:"px-6 py-4 text-center",children:l.jsx("input",{type:"number",min:"0",className:"w-20 border rounded p-1 text-center bg-white focus:ring-1 focus:ring-red-500 outline-none text-red-600 font-medium",value:((b=n[x.userId])==null?void 0:b.advances)||0,onChange:j=>r(x.userId,parseFloat(j.target.value)||0)})}),l.jsx("td",{className:"px-6 py-4 text-right text-red-600",children:g(x.totalDeductions)}),l.jsx("td",{className:"px-6 py-4 text-right font-bold text-green-700 bg-green-50 text-base border-l border-green-100",children:g(x.netSalary)})]},x.userId)})})]})})})]})},QX=()=>{const{fichasIndividuais:e,currentUser:t,allUsers:r,isAdminOrGM:n,items:s,inventory:o,createFicha:u,confirmFicha:d,lockFicha:h,deleteFicha:m}=Nr(),[p,g]=w.useState(""),[x,b]=w.useState(null),[j,N]=w.useState(!1),[_,A]=w.useState("todos"),P=w.useMemo(()=>r.filter(L=>{var H;return L.name.toLowerCase().includes(p.toLowerCase())||((H=L.jobTitle)==null?void 0:H.toLowerCase().includes(p.toLowerCase()))}),[r,p]),O=w.useMemo(()=>r.find(L=>L.id===x),[r,x]),C=w.useMemo(()=>{let L=e.filter(H=>H.entidade_id===x);return _!=="todos"&&(L=L.filter(H=>H.tipo===_)),L},[e,x,_]),D=L=>{switch(L){case"pendente":return l.jsx(Xc,{className:"w-4 h-4 text-yellow-500"});case"confirmado":return l.jsx(ia,{className:"w-4 h-4 text-green-500"});case"trancado":return l.jsx(al,{className:"w-4 h-4 text-blue-500"})}},R=L=>{switch(L){case"combustivel":return"bg-amber-100 text-amber-800";case"oleo":return"bg-orange-100 text-orange-800";case"pecas":return"bg-blue-100 text-blue-800";case"materiais":return"bg-green-100 text-green-800";case"ferramentas":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}};return l.jsx("div",{className:"p-6 bg-gray-50 min-h-screen",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[l.jsx(la,{className:"w-8 h-8 text-emerald-600"}),"Fichas Individuais"]}),!x&&l.jsxs("button",{onClick:()=>N(!0),className:"bg-emerald-600 text-white px-4 py-2 rounded-lg hover:bg-emerald-700 transition-all flex items-center gap-2 shadow-sm",children:[l.jsx(Vr,{className:"w-5 h-5"}),"Nova Entrega"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6",children:[l.jsxs("div",{className:`${x?"hidden md:block md:col-span-4":"col-span-12"} bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden transition-all shrink-0`,children:[l.jsx("div",{className:"p-4 border-b border-gray-100 bg-gray-50/50",children:l.jsxs("div",{className:"relative",children:[l.jsx(ps,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Procurar funcionrio...",value:p,onChange:L=>g(L.target.value),className:"w-full pl-10 pr-4 py-2 bg-white border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-emerald-500 transition-all outline-none"})]})}),l.jsx("div",{className:"overflow-y-auto max-h-[calc(100vh-250px)]",children:P.length===0?l.jsx("div",{className:"p-8 text-center text-gray-500",children:"Nenhum funcionrio encontrado."}):P.map(L=>l.jsxs("button",{onClick:()=>b(L.id),className:`w-full p-4 flex items-center justify-between hover:bg-emerald-50 transition-colors border-b border-gray-50 last:border-0 ${x===L.id?"bg-emerald-50 border-r-4 border-r-emerald-500":""}`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${x===L.id?"bg-emerald-600 text-white":"bg-gray-100 text-gray-500"}`,children:l.jsx(Ef,{className:"w-5 h-5"})}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"font-semibold text-gray-900 line-clamp-1",children:L.name}),l.jsx("div",{className:"text-xs text-gray-500",children:L.jobTitle||"Sem cargo"})]})]}),l.jsx(Pf,{className:`w-4 h-4 text-gray-400 ${x===L.id?"text-emerald-500 translate-x-1":""} transition-transform`})]},L.id))})]}),l.jsx("div",{className:`${x?"col-span-12 md:col-span-8":"hidden md:flex md:col-span-8 items-center justify-center"} bg-white rounded-xl shadow-sm border border-gray-200 min-h-[500px] overflow-hidden`,children:O?l.jsxs("div",{className:"h-full flex flex-col",children:[l.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-start bg-white sticky top-0 z-10",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:()=>b(null),title:"Voltar","aria-label":"Voltar",className:"md:hidden p-2 hover:bg-gray-100 rounded-lg -ml-2",children:l.jsx(V3,{className:"w-6 h-6 text-gray-600"})}),l.jsx("div",{className:"w-12 h-12 rounded-2xl bg-emerald-100 text-emerald-700 flex items-center justify-center shadow-inner",children:l.jsx(Ef,{className:"w-6 h-6"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:O.name}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[l.jsx("span",{className:"font-medium",children:O.jobTitle||"Cargo no definido"}),l.jsx("span",{children:""}),l.jsx("span",{children:O.locationId?"Local vinculado":"Sem local fixo"})]})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>N(!0),className:"bg-emerald-600 text-white px-4 py-2 rounded-lg hover:bg-emerald-700 transition-all flex items-center gap-2 shadow-sm text-sm",children:[l.jsx(Vr,{className:"w-4 h-4"}),"Nova Entrega"]}),l.jsx("button",{className:"p-2 border border-gray-200 rounded-lg hover:bg-gray-50 text-gray-600 shadow-sm transition-all",title:"Imprimir Ficha",children:l.jsx(Zv,{className:"w-5 h-5"})})]})]}),l.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-100 flex flex-wrap gap-4 items-center justify-between",children:[l.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1 no-scrollbar",children:["todos","combustivel","oleo","pecas","materiais","ferramentas"].map(L=>l.jsx("button",{onClick:()=>A(L),className:`px-3 py-1.5 rounded-full text-xs font-medium whitespace-nowrap transition-all ${_===L?"bg-emerald-600 text-white shadow-sm":"bg-white text-gray-600 border border-gray-200 hover:border-emerald-300"}`,children:L==="todos"?"Todos":L.charAt(0).toUpperCase()+L.slice(1)},L))}),l.jsxs("div",{className:"text-xs text-gray-500 font-medium",children:[C.length," registros encontrados"]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto",children:C.length===0?l.jsxs("div",{className:"p-20 text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4 text-gray-400",children:l.jsx(Wv,{className:"w-8 h-8"})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Sem histrico"}),l.jsx("p",{className:"text-gray-500 text-sm max-w-xs mx-auto mt-1",children:"Este funcionrio ainda no recebeu nenhuma entrega registrada."})]}):l.jsx("div",{className:"divide-y divide-gray-50",children:C.map(L=>l.jsxs("div",{className:"p-6 hover:bg-gray-50 transition-colors group",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider ${R(L.tipo)}`,children:L.tipo}),l.jsx("span",{className:"text-xs text-gray-400 font-mono tracking-tighter",children:L.codigo})]}),l.jsxs("div",{className:"flex items-center gap-1.5 text-xs font-medium bg-white px-2 py-1 rounded-full border border-gray-100 shadow-sm",children:[D(L.estado),l.jsx("span",{className:"text-gray-600 capitalize",children:L.estado})]})]}),l.jsxs("div",{className:"flex items-end justify-between",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-bold text-gray-900 group-hover:text-emerald-700 transition-colors",children:L.produto}),l.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[l.jsxs("div",{className:"text-2xl font-black text-emerald-600",children:[L.quantidade," ",l.jsx("span",{className:"text-sm font-medium text-gray-500",children:L.unidade})]}),l.jsx("div",{className:"h-4 w-px bg-gray-200"}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-widest",children:"Entrega"}),l.jsx("span",{className:"text-sm text-gray-600 font-medium",children:lr(L.data)})]})]})]}),l.jsx("div",{className:"text-right",children:L.stock_antes!==void 0&&l.jsxs("div",{className:"text-[10px] text-gray-400 flex flex-col items-end",children:[l.jsx("span",{className:"uppercase font-bold tracking-widest",children:"Saldo Stock"}),l.jsxs("div",{className:"flex items-center gap-1 mt-0.5 font-medium",children:[l.jsx("span",{children:L.stock_antes}),l.jsx(Th,{className:"w-3 h-3"}),l.jsx("span",{className:"text-emerald-600",children:L.stock_depois})]})]})})]}),L.observacoes&&l.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg border border-gray-100 text-sm text-gray-600 italic",children:['"',L.observacoes,'"']})]},L.id))})})]}):l.jsxs("div",{className:"p-20 text-center max-w-md mx-auto",children:[l.jsx("div",{className:"w-20 h-20 bg-emerald-50 rounded-3xl flex items-center justify-center mx-auto mb-6 text-emerald-500 shadow-inner",children:l.jsx(Ef,{className:"w-10 h-10"})}),l.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Selecione um Funcionrio"}),l.jsx("p",{className:"text-gray-500 mt-2",children:"Escolha uma pessoa ao lado para visualizar seu histrico individual de entregas e consumos."}),l.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-100 grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-gray-900",children:r.length}),l.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-widest font-bold",children:"Pessoas"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-gray-900",children:e.length}),l.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-widest font-bold",children:"Entregas"})]})]})]})})]}),j&&l.jsx(JX,{initialPersonId:x||void 0,allPeople:r,allItems:s,inventory:o,currentUser:t,onClose:()=>N(!1),onSave:async L=>{await u(L),N(!1)}})]})})},JX=({initialPersonId:e,allPeople:t,allItems:r,inventory:n,currentUser:s,onClose:o,onSave:u})=>{const[d,h]=w.useState({tipo:"combustivel",entidade_id:e||"",entidade_tipo:"trabalhador",data:new Date().toISOString().split("T")[0],produto_id:"",produto:"",quantidade:1,unidade:"Unidade",observacoes:""}),[m,p]=w.useState(""),[g,x]=w.useState(!1),b=w.useMemo(()=>m?r.filter(O=>{var C;return O.name.toLowerCase().includes(m.toLowerCase())||((C=O.sku)==null?void 0:C.toLowerCase().includes(m.toLowerCase()))}):r.slice(0,5),[r,m]),j=w.useMemo(()=>t.find(O=>O.id===d.entidade_id),[t,d.entidade_id]),N=w.useMemo(()=>(j==null?void 0:j.locationId)||(s==null?void 0:s.locationId),[j,s]),_=w.useMemo(()=>{if(!d.produto_id||!N)return 0;const O=n.find(C=>C.itemId===d.produto_id&&C.locationId===N);return(O==null?void 0:O.quantity)||0},[d.produto_id,N,n]),A=O=>{if(O.preventDefault(),!d.entidade_id||!d.produto){alert("Por favor, selecione o funcionrio e o produto.");return}u(d)},P=O=>{h({...d,produto_id:O.id,produto:O.name,unidade:O.unit||"Unidade"}),p(O.name),x(!1)};return l.jsx("div",{className:"fixed inset-0 bg-gray-900/60 backdrop-blur-sm flex items-center justify-center z-[100] p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-xl overflow-hidden animate-in fade-in zoom-in duration-200",children:[l.jsxs("div",{className:"bg-emerald-600 p-6 text-white flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold",children:"Registrar Entrega de Material"}),l.jsx("p",{className:"text-emerald-100 text-xs mt-1 uppercase tracking-widest font-bold",children:"Sada de Stock Individual"})]}),l.jsx("button",{title:"Fechar","aria-label":"Fechar",onClick:o,className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:l.jsx(rn,{className:"w-6 h-6"})})]}),l.jsxs("form",{onSubmit:A,className:"p-8 space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"col-span-1 md:col-span-2",children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-widest mb-2",children:"Funcionrio / Beneficirio"}),l.jsxs("select",{id:"ficha-entidade",title:"Funcionrio","aria-label":"Funcionrio",value:d.entidade_id,onChange:O=>h({...d,entidade_id:O.target.value}),className:"w-full border border-gray-200 rounded-xl p-3 text-sm focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none transition-all",required:!0,children:[l.jsx("option",{value:"",children:"Selecione um funcionrio..."}),t.map(O=>l.jsxs("option",{value:O.id,children:[O.name," (",O.jobTitle||"Sem cargo",")"]},O.id))]})]}),l.jsxs("div",{className:"col-span-1 md:col-span-2 relative",children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-widest mb-2",children:"Produto / Material"}),l.jsxs("div",{className:"relative",children:[l.jsx(ps,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),l.jsx("input",{id:"ficha-search-product",title:"Pesquisar produto no inventrio","aria-label":"Pesquisar produto no inventrio",type:"text",placeholder:"Buscar no inventrio...",value:m,onChange:O=>{p(O.target.value),x(!0)},onFocus:()=>x(!0),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl text-sm focus:ring-2 focus:ring-emerald-500 outline-none transition-all"}),g&&l.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-gray-100 rounded-xl shadow-xl z-20 max-h-48 overflow-y-auto",children:b.map(O=>l.jsxs("button",{type:"button",onClick:()=>P(O),className:"w-full p-3 text-left hover:bg-emerald-50 flex items-center justify-between border-b border-gray-50 last:border-0",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-semibold text-gray-900",children:O.name}),l.jsxs("div",{className:"text-[10px] text-gray-500 uppercase tracking-wide",children:[O.category,"  SKU: ",O.sku]})]}),l.jsx(Th,{className:"w-4 h-4 text-gray-300"})]},O.id))})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-widest mb-2",children:"Categoria da Ficha"}),l.jsxs("select",{id:"ficha-tipo",title:"Categoria da ficha","aria-label":"Categoria da ficha",value:d.tipo,onChange:O=>h({...d,tipo:O.target.value}),className:"w-full border border-gray-200 rounded-xl p-3 text-sm focus:ring-2 focus:ring-emerald-500 outline-none",children:[l.jsx("option",{value:"combustivel",children:"Combustvel"}),l.jsx("option",{value:"oleo",children:"leo"}),l.jsx("option",{value:"pecas",children:"Peas"}),l.jsx("option",{value:"materiais",children:"Materiais"}),l.jsx("option",{value:"ferramentas",children:"Ferramentas"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-widest mb-2",children:"Data de Entrega"}),l.jsx("input",{id:"ficha-data",title:"Data da entrega","aria-label":"Data da entrega",type:"date",value:d.data,onChange:O=>h({...d,data:O.target.value}),className:"w-full border border-gray-200 rounded-xl p-3 text-sm focus:ring-2 focus:ring-emerald-500 outline-none",required:!0})]}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-2xl border border-gray-100 col-span-1 md:col-span-2",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest",children:"Quantidade a Entregar"}),d.produto_id&&l.jsxs("div",{className:"text-[10px] font-bold text-gray-400 bg-white px-2 py-1 rounded-full border border-gray-100 shadow-sm",children:["STOCK DISPONVEL: ",l.jsxs("span",{className:"text-emerald-600",children:[_," ",d.unidade]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx("input",{id:"ficha-quantidade",title:"Quantidade a entregar","aria-label":"Quantidade a entregar",type:"number",step:"0.01",placeholder:"0.00",value:d.quantidade,onChange:O=>h({...d,quantidade:parseFloat(O.target.value)}),min:"0.01",className:"w-full border border-gray-200 rounded-xl p-3 text-lg font-bold text-emerald-700 focus:ring-2 focus:ring-emerald-500 outline-none",required:!0}),l.jsx("div",{className:"flex items-center px-4 bg-white border border-gray-200 rounded-xl text-sm font-medium text-gray-600",children:d.unidade})]})]}),l.jsxs("div",{className:"col-span-1 md:col-span-2",children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-widest mb-2",children:"Notas / Observaes"}),l.jsx("textarea",{value:d.observacoes,onChange:O=>h({...d,observacoes:O.target.value}),className:"w-full border border-gray-200 rounded-xl p-3 text-sm focus:ring-2 focus:ring-emerald-500 outline-none min-h-[80px]",placeholder:"Ex: Entrega para manuteno de campo, requisio extra, etc."})]})]}),l.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-100",children:[l.jsx("button",{type:"button",onClick:o,className:"flex-1 px-6 py-3 bg-gray-100 text-gray-600 font-bold rounded-xl hover:bg-gray-200 transition-colors uppercase tracking-widest text-xs",children:"Cancelar"}),l.jsx("button",{type:"submit",className:"flex-[2] px-6 py-3 bg-emerald-600 text-white font-bold rounded-xl hover:bg-emerald-700 shadow-lg shadow-emerald-200 transition-all uppercase tracking-widest text-xs",children:"Confirmar Entrega"})]})]})]})})};async function eZ(e=1){const{data:t,error:r}=await ee.from("v_overdue_installments").select("*").gte("days_overdue",e).order("days_overdue",{ascending:!1});if(r)throw r;return t||[]}async function tZ(e){let t=ee.from("v_client_balances").select("*");const{data:r,error:n}=await t.order("overdue_amount",{ascending:!1});if(n)throw n;return r||[]}async function rZ(e=30,t=50){const{data:r,error:n}=await ee.from("v_client_balances").select("*").gte("max_days_overdue",e).gte("overdue_invoice_count",1).order("max_days_overdue",{ascending:!1}).limit(t);if(n)throw n;return r||[]}async function nZ(e,t=1){let r=ee.from("v_overdue_invoices").select("*").gte("days_overdue",t);e&&(r=r.eq("location_id",e));const{data:n,error:s}=await r.order("days_overdue",{ascending:!1});if(s)throw s;return n||[]}async function aZ(e){let t=ee.from("v_overdue_invoices").select("*");e&&(t=t.eq("location_id",e));const{data:r,error:n}=await t;if(n)throw n;const s={totalOverdue:(r==null?void 0:r.length)||0,totalOverdueAmount:0,byStatus:{due:0,overdue30:0,overdue60:0,overdue90:0},averageDaysOverdue:0};return r&&r.length>0&&(s.totalOverdueAmount=r.reduce((o,u)=>o+(u.valor_total||0),0),s.averageDaysOverdue=Math.round(r.reduce((o,u)=>o+(u.days_overdue||0),0)/r.length),r.forEach(o=>{o.collection_status==="DUE"?s.byStatus.due++:o.collection_status==="OVERDUE_30"?s.byStatus.overdue30++:o.collection_status==="OVERDUE_60"?s.byStatus.overdue60++:o.collection_status==="OVERDUE_90"&&s.byStatus.overdue90++})),s}function iZ(){const{invoices:e,selectedDepartmentId:t}=Nr(),[r,n]=w.useState(!0),[s,o]=w.useState("overview"),[u,d]=w.useState("all"),[h,m]=w.useState(null),[p,g]=w.useState([]),[x,b]=w.useState([]),[j,N]=w.useState([]),[_,A]=w.useState([]);w.useEffect(()=>{P()},[t,u]);const P=async()=>{try{n(!0);const[C,D,R,L,H]=await Promise.all([aZ(t||""),rZ(parseInt(u==="all"?"1":u)),nZ(t||"",1),tZ(),eZ(1)]);m(C),g(D),b(R),N(L),A(H)}catch(C){console.error("Error loading collections data:",C)}finally{n(!1)}},O=C=>C<=0?{label:"No Vencida",color:"bg-green-100 text-green-800"}:C<=30?{label:"Vencida",color:"bg-yellow-100 text-yellow-800"}:C<=60?{label:"Atraso 30+ dias",color:"bg-orange-100 text-orange-800"}:C<=90?{label:"Atraso 60+ dias",color:"bg-red-100 text-red-800"}:{label:"Atraso 90+ dias",color:"bg-red-200 text-red-900"};return r?l.jsx("div",{className:"flex items-center justify-center h-screen",children:l.jsx("div",{className:"text-gray-500",children:"Carregando..."})}):l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("h1",{className:"text-4xl font-bold text-slate-900 flex items-center gap-3",children:[l.jsx(Bn,{className:"w-10 h-10 text-blue-600"}),"Contas a Receber"]}),l.jsx("p",{className:"text-slate-600 mt-2",children:"Dashboard de cobranas, atrasos e parcelamentos"})]}),h&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[l.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-red-500",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-600",children:"Faturas Atrasadas"}),l.jsx("p",{className:"text-3xl font-bold text-slate-900",children:h.totalOverdue})]}),l.jsx(Qs,{className:"w-10 h-10 text-red-500 opacity-50"})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-orange-500",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-600",children:"Montante Atrasado"}),l.jsxs("p",{className:"text-3xl font-bold text-slate-900",children:[(h.totalOverdueAmount/1e3).toFixed(1),"K"]})]}),l.jsx(Jv,{className:"w-10 h-10 text-orange-500 opacity-50"})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-yellow-500",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-600",children:"Dias Mdios de Atraso"}),l.jsx("p",{className:"text-3xl font-bold text-slate-900",children:h.averageDaysOverdue})]}),l.jsx(Xc,{className:"w-10 h-10 text-yellow-500 opacity-50"})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-purple-500",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-600",children:"Clientes c/ Atraso"}),l.jsx("p",{className:"text-3xl font-bold text-slate-900",children:p.length})]}),l.jsx(yu,{className:"w-10 h-10 text-purple-500 opacity-50"})]})})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md mb-6",children:[l.jsx("div",{className:"flex border-b border-slate-200",children:["overview","clientes","faturas","parcelamentos"].map(C=>l.jsxs("button",{onClick:()=>o(C),className:`flex-1 px-6 py-3 text-sm font-medium transition-colors ${s===C?"border-b-2 border-blue-600 text-blue-600":"text-slate-600 hover:text-slate-900"}`,children:[C==="overview"&&"Viso Geral",C==="clientes"&&"Clientes",C==="faturas"&&"Faturas",C==="parcelamentos"&&"Parcelamentos"]},C))}),l.jsxs("div",{className:"p-6",children:[s==="overview"&&l.jsxs("div",{className:"space-y-6",children:[h&&l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"bg-blue-50 rounded p-4 border-l-4 border-blue-500",children:[l.jsx("p",{className:"text-xs text-slate-600",children:"Vencidas"}),l.jsx("p",{className:"text-2xl font-bold text-blue-600",children:h.byStatus.due})]}),l.jsxs("div",{className:"bg-yellow-50 rounded p-4 border-l-4 border-yellow-500",children:[l.jsx("p",{className:"text-xs text-slate-600",children:"30+ dias"}),l.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:h.byStatus.overdue30})]}),l.jsxs("div",{className:"bg-orange-50 rounded p-4 border-l-4 border-orange-500",children:[l.jsx("p",{className:"text-xs text-slate-600",children:"60+ dias"}),l.jsx("p",{className:"text-2xl font-bold text-orange-600",children:h.byStatus.overdue60})]}),l.jsxs("div",{className:"bg-red-50 rounded p-4 border-l-4 border-red-500",children:[l.jsx("p",{className:"text-xs text-slate-600",children:"90+ dias"}),l.jsx("p",{className:"text-2xl font-bold text-red-600",children:h.byStatus.overdue90})]})]}),l.jsxs("div",{className:"mt-6",children:[l.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[l.jsx(Qs,{className:"w-5 h-5 text-red-500"}),"Clientes Prioritrios para Cobrana"]}),l.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:p.slice(0,10).map(C=>{var D;return l.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-semibold text-slate-900",children:C.clientName}),l.jsxs("p",{className:"text-sm text-slate-600",children:["NUIT: ",C.nuit||"N/A"]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"font-semibold text-red-600",children:(D=C.overdueAmount)==null?void 0:D.toLocaleString("pt-BR",{style:"currency",currency:"MZN"})}),l.jsxs("p",{className:"text-sm text-slate-600",children:[C.maxDaysOverdue," dias de atraso"]})]})]},C.clientId)})})]})]}),s==="clientes"&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex items-center gap-4 mb-4",children:l.jsx("div",{className:"flex gap-2",children:["all","30","60","90"].map(C=>l.jsx("button",{onClick:()=>d(C),className:`px-4 py-2 rounded text-sm font-medium transition-colors ${u===C?"bg-blue-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:C==="all"?"Todos":`${C}+ dias`},C))})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{className:"bg-slate-100 border-b border-slate-300",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-2 text-left font-semibold text-slate-900",children:"Cliente"}),l.jsx("th",{className:"px-4 py-2 text-right font-semibold text-slate-900",children:"Saldo Pendente"}),l.jsx("th",{className:"px-4 py-2 text-right font-semibold text-slate-900",children:"Montante Atrasado"}),l.jsx("th",{className:"px-4 py-2 text-right font-semibold text-slate-900",children:"Dias Atraso"}),l.jsx("th",{className:"px-4 py-2 text-center font-semibold text-slate-900",children:"Faturas"}),l.jsx("th",{className:"px-4 py-2 text-center font-semibold text-slate-900",children:"Aes"})]})}),l.jsx("tbody",{children:j.map(C=>{var D,R;return l.jsxs("tr",{className:"border-b border-slate-200 hover:bg-slate-50",children:[l.jsx("td",{className:"px-4 py-3",children:l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-slate-900",children:C.clientName}),l.jsx("p",{className:"text-xs text-slate-600",children:C.nuit})]})}),l.jsx("td",{className:"px-4 py-3 text-right font-semibold text-slate-900",children:(D=C.outstandingAmount)==null?void 0:D.toLocaleString("pt-BR",{style:"currency",currency:"MZN"})}),l.jsx("td",{className:"px-4 py-3 text-right",children:l.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-semibold ${C.overdueAmount&&C.overdueAmount>0?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:(R=C.overdueAmount)==null?void 0:R.toLocaleString("pt-BR",{style:"currency",currency:"MZN"})})}),l.jsx("td",{className:"px-4 py-3 text-right",children:l.jsx("span",{className:`inline-block px-2 py-1 rounded text-sm font-semibold ${C.maxDaysOverdue>90?"bg-red-100 text-red-800":C.maxDaysOverdue>60?"bg-orange-100 text-orange-800":"bg-yellow-100 text-yellow-800"}`,children:C.maxDaysOverdue})}),l.jsx("td",{className:"px-4 py-3 text-center",children:C.overdueInvoiceCount}),l.jsxs("td",{className:"px-4 py-3 text-center flex gap-2 justify-center",children:[l.jsx("button",{className:"p-1 hover:bg-slate-200 rounded transition-colors",title:"Enviar Email",children:l.jsx(f_,{className:"w-4 h-4 text-blue-600"})}),l.jsx("button",{className:"p-1 hover:bg-slate-200 rounded transition-colors",title:"Agendar Chamada",children:l.jsx(P5,{className:"w-4 h-4 text-green-600"})})]})]},C.clientId)})})]})})]}),s==="faturas"&&l.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:x.map(C=>{var R;const D=O(C.daysOverdue);return l.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors border-l-4 border-red-500",children:[l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(la,{className:"w-5 h-5 text-slate-600"}),l.jsxs("div",{children:[l.jsxs("p",{className:"font-semibold text-slate-900",children:["Fatura ",C.numero]}),l.jsx("p",{className:"text-sm text-slate-600",children:C.clientName})]})]})}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"font-semibold text-red-600",children:(R=C.valorTotal)==null?void 0:R.toLocaleString("pt-BR",{style:"currency",currency:"MZN"})}),l.jsxs("p",{className:"text-sm text-slate-600",children:["Venceu em ",lr(C.dueDate)]})]}),l.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${D.color}`,children:D.label}),l.jsx(Pf,{className:"w-5 h-5 text-slate-400"})]})]},C.id)})}),s==="parcelamentos"&&l.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:_.length>0?_.map(C=>{var D;return l.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors border-l-4 border-orange-500",children:[l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(gu,{className:"w-5 h-5 text-slate-600"}),l.jsxs("div",{children:[l.jsxs("p",{className:"font-semibold text-slate-900",children:["Parcela ",C.installmentNumber,"/",C.totalInstallments]}),l.jsxs("p",{className:"text-sm text-slate-600",children:["Vencimento: ",lr(C.dueDate)]})]})]})}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"font-semibold text-orange-600",children:(D=C.installmentAmount)==null?void 0:D.toLocaleString("pt-BR",{style:"currency",currency:"MZN"})}),l.jsxs("p",{className:"text-sm text-slate-600",children:["Atraso: ",C.daysOverdue," dias"]})]}),l.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-orange-100 text-orange-800",children:C.status}),l.jsx(Pf,{className:"w-5 h-5 text-slate-400"})]})]},C.id)}):l.jsx("div",{className:"text-center py-8 text-slate-500",children:"Nenhum parcelamento com atraso"})})]})]}),l.jsxs("div",{className:"flex gap-4 justify-end",children:[l.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-slate-200 text-slate-900 hover:bg-slate-300 transition-colors font-medium",children:[l.jsx(Yv,{className:"w-4 h-4"}),"Exportar Relatrio"]}),l.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 transition-colors font-medium",children:[l.jsx(f_,{className:"w-4 h-4"}),"Enviar Recordatrios"]})]})]})}async function sZ(e){const{data:t,error:r}=await ee.from("transactions").select("*").eq("id",e).eq("type","EXPENSE").single();if(r)throw r;return t}async function lZ(e){const{data:t,error:r}=await ee.from("expense_attachments").select("*").eq("transaction_id",e).order("uploaded_at",{ascending:!1});if(r)throw r;return t||[]}async function oZ(e,t=50){let r=ee.from("v_pending_expense_approvals").select("*");const{data:n,error:s}=await r.limit(t).order("date",{ascending:!1});if(s)throw s;return n||[]}async function cZ(e,t,r){const{data:n,error:s}=await ee.from("transactions").update({approval_status:"APPROVED",approved_by:t,approval_date:new Date().toISOString(),notes:r,requires_approval:!1}).eq("id",e).eq("type","EXPENSE").select().single();if(s)throw s;return n}async function uZ(e,t){const{data:r,error:n}=await ee.from("transactions").update({approval_status:"REJECTED",rejection_reason:t,requires_approval:!1}).eq("id",e).eq("type","EXPENSE").select().single();if(n)throw n;return r}async function dZ(e){const t=new Date,r=new Date(t.getFullYear(),t.getMonth(),1).toISOString().split("T")[0],n=new Date(t.getFullYear(),t.getMonth()+1,0).toISOString().split("T")[0],{data:s,error:o}=await ee.from("v_expense_budget_summary").select("*").eq("cost_center_id",e).gte("period_start",r).lte("period_end",n).single();if(o&&o.code!=="PGRST116")throw o;return s||null}async function Jk(e){let t=ee.from("v_expense_budget_summary").select("*");const r=new Date,n=new Date(r.getFullYear(),r.getMonth(),1).toISOString().split("T")[0],s=new Date(r.getFullYear(),r.getMonth()+1,0).toISOString().split("T")[0],{data:o,error:u}=await t.gte("period_start",n).lte("period_end",s).order("percentage_used",{ascending:!1});if(u)throw u;return o||[]}async function fZ(e,t){const r=await dZ(e);if(!r||!r.budgetAmount)return{canApprove:!0,message:"Sem limite de oramento definido",percentageAfter:0};const n=r.spentAmount+t,s=n/r.budgetAmount*100;return{canApprove:n<=r.budgetAmount,message:s>100?`Excede oramento em ${(s-100).toFixed(2)}%`:`Utilizaria ${s.toFixed(2)}% do oramento`,percentageAfter:s}}async function hZ(e){let t=ee.from("v_expenses_by_category").select("*");const{data:r,error:n}=await t;if(n)throw n;return r||[]}async function mZ(e,t=!0){let r=ee.from("cost_centers").select("*");t&&(r=r.eq("is_active",!0)),e&&(r=r.eq("location_id",e));const{data:n,error:s}=await r.order("name");if(s)throw s;return n||[]}function pZ(){const{currentUser:e,selectedDepartmentId:t}=Nr(),[r,n]=w.useState(!0),[s,o]=w.useState("pending"),[u,d]=w.useState([]),[h,m]=w.useState(null),[p,g]=w.useState([]),[x,b]=w.useState(!1),[j,N]=w.useState([]),[_,A]=w.useState(""),[P,O]=w.useState(null);w.useEffect(()=>{C()},[t]);const C=async()=>{try{n(!0);const[G,he]=await Promise.all([oZ(t||""),Jk(t||"")]);d(G),N(he)}catch(G){console.error("Error loading expense data:",G)}finally{n(!1)}},D=async G=>{try{const he=await sZ(G.id),ne=await lZ(G.id);if(m(he),g(ne),he.costCenterId){const k=await fZ(he.costCenterId,he.amount);k.canApprove?O(null):O(k.message)}b(!0)}catch(he){console.error("Error loading expense details:",he)}},R=async()=>{if(!(!h||!e))try{await cZ(h.id,e.id),d(u.filter(G=>G.id!==h.id)),b(!1),m(null),A("")}catch(G){console.error("Error approving expense:",G),alert("Erro ao aprovar despesa")}},L=async()=>{if(!h||!_.trim()){alert("Por favor, fornea uma razo para a rejeio");return}try{await uZ(h.id,_),d(u.filter(G=>G.id!==h.id)),b(!1),m(null),A("")}catch(G){console.error("Error rejecting expense:",G),alert("Erro ao rejeitar despesa")}},H=G=>{switch(G){case"EXCEEDED":return"bg-red-100 text-red-800 border-red-300";case"CRITICAL":return"bg-orange-100 text-orange-800 border-orange-300";case"WARNING":return"bg-yellow-100 text-yellow-800 border-yellow-300";default:return"bg-green-100 text-green-800 border-green-300"}};return e?l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("h1",{className:"text-4xl font-bold text-slate-900 flex items-center gap-3",children:[l.jsx(Bn,{className:"w-10 h-10 text-blue-600"}),"Aprovao de Despesas"]}),l.jsx("p",{className:"text-slate-600 mt-2",children:"Revise e aprove despesas pendentes | Monitorize oramentos"})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md mb-6",children:[l.jsx("div",{className:"flex border-b border-slate-200",children:["pending","budgets"].map(G=>l.jsxs("button",{onClick:()=>o(G),className:`flex-1 px-6 py-3 text-sm font-medium transition-colors ${s===G?"border-b-2 border-blue-600 text-blue-600":"text-slate-600 hover:text-slate-900"}`,children:[G==="pending"&&`Pendentes (${u.length})`,G==="budgets"&&"Oramentos"]},G))}),s==="pending"&&l.jsx("div",{className:"p-6",children:r?l.jsx("div",{className:"flex items-center justify-center py-8",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):u.length===0?l.jsxs("div",{className:"text-center py-8 text-slate-500",children:[l.jsx(ia,{className:"w-12 h-12 mx-auto text-green-400 mb-3"}),l.jsx("p",{children:"Todas as despesas foram aprovadas!"})]}):l.jsx("div",{className:"space-y-3 max-h-[600px] overflow-y-auto",children:u.map(G=>l.jsx("div",{className:"p-4 bg-slate-50 rounded-lg border-l-4 border-orange-500 hover:bg-slate-100 transition-colors",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx(la,{className:"w-5 h-5 text-slate-600"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-slate-900",children:G.receiptNumber||"Recibo Sem Nmero"}),l.jsx("p",{className:"text-sm text-slate-600",children:G.userName})]})]}),G.description&&l.jsx("p",{className:"text-sm text-slate-700 ml-8 mb-2",children:G.description}),l.jsxs("div",{className:"flex flex-wrap gap-4 ml-8 text-sm text-slate-600",children:[G.category&&l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(iO,{className:"w-4 h-4"}),G.category]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(gu,{className:"w-4 h-4"}),lr(G.date)]}),G.attachmentCount>0&&l.jsxs("span",{className:"flex items-center gap-1 text-blue-600",children:[l.jsx($y,{className:"w-4 h-4"}),G.attachmentCount," anexo",G.attachmentCount>1?"s":""]})]})]}),l.jsxs("div",{className:"flex items-center gap-4 ml-4",children:[l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"font-semibold text-slate-900 text-lg",children:G.amount.toLocaleString("pt-BR",{style:"currency",currency:"MZN"})}),G.requiresApproval&&l.jsx("p",{className:"text-xs text-red-600 font-semibold",children:" Requer Aprovao"})]}),l.jsx("button",{onClick:()=>D(G),className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors whitespace-nowrap",children:"Revisar"})]})]})},G.id))})}),s==="budgets"&&l.jsx("div",{className:"p-6",children:j.length===0?l.jsxs("div",{className:"text-center py-8 text-slate-500",children:[l.jsx(Qs,{className:"w-12 h-12 mx-auto text-slate-300 mb-3"}),l.jsx("p",{children:"Sem oramentos configurados"})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:j.map(G=>{var he;return l.jsxs("div",{className:`p-4 rounded-lg border-2 ${H(G.budgetStatus)}`,children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-sm",children:G.costCenterName||"Centro Sem Nome"}),l.jsxs("p",{className:"text-xs opacity-75",children:[lr(G.periodStart)," a"," ",lr(G.periodEnd)]})]}),l.jsx("span",{className:"text-xs font-bold px-2 py-1 rounded bg-current bg-opacity-20",children:G.budgetStatus})]}),l.jsxs("div",{className:"space-y-2 mb-3",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:"Oramento:"}),l.jsx("span",{className:"font-semibold",children:((he=G.budgetAmount)==null?void 0:he.toLocaleString("pt-BR",{style:"currency",currency:"MZN"}))||"N/A"})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:"Gasto:"}),l.jsx("span",{className:"font-semibold",children:G.spentAmount.toLocaleString("pt-BR",{style:"currency",currency:"MZN"})})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:"Restante:"}),l.jsx("span",{className:"font-semibold",children:G.remainingBudget.toLocaleString("pt-BR",{style:"currency",currency:"MZN"})})]})]}),l.jsx("div",{className:"w-full bg-gray-300 rounded-full h-2 overflow-hidden",children:l.jsx("div",{className:`h-full transition-all ${G.budgetStatus==="EXCEEDED"?"bg-red-600":G.budgetStatus==="CRITICAL"?"bg-orange-600":G.budgetStatus==="WARNING"?"bg-yellow-600":"bg-green-600"}`,style:{width:`${Math.min(G.percentageUsed,100)}%`}})}),l.jsxs("p",{className:"text-xs mt-2 font-semibold",children:[G.percentageUsed.toFixed(1),"% utilizado"]})]},G.costCenterId)})})})]}),x&&h&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] flex flex-col",children:[l.jsx("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 bg-gradient-to-r from-blue-50 to-slate-50",children:l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Detalhes da Despesa"}),l.jsx("p",{className:"text-sm text-slate-600 mt-1",children:h.receiptNumber||"Recibo sem nmero"})]})}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[P&&l.jsx("div",{className:"p-4 bg-red-50 border-l-4 border-red-500 rounded",children:l.jsxs("p",{className:"text-sm text-red-800 font-semibold flex items-center gap-2",children:[l.jsx(Qs,{className:"w-5 h-5"}),P]})}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Solicitante"}),l.jsx("p",{className:"font-semibold text-slate-900",children:h.userId})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Valor"}),l.jsx("p",{className:"font-semibold text-lg text-blue-600",children:h.amount.toLocaleString("pt-BR",{style:"currency",currency:"MZN"})})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Data"}),l.jsx("p",{className:"font-semibold text-slate-900",children:lr(h.date)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Categoria"}),l.jsx("p",{className:"font-semibold text-slate-900",children:h.category||"N/A"})]})]}),h.description&&l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-600 mb-2",children:"Descrio"}),l.jsx("p",{className:"p-3 bg-slate-50 rounded text-slate-800",children:h.description})]}),p.length>0&&l.jsxs("div",{children:[l.jsxs("p",{className:"text-sm font-semibold text-slate-900 mb-3",children:["Documentos (",p.length,")"]}),l.jsx("div",{className:"space-y-2",children:p.map(G=>l.jsxs("a",{href:G.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 p-2 bg-slate-50 hover:bg-blue-50 rounded border border-slate-200 transition-colors",children:[l.jsx($y,{className:"w-4 h-4 text-blue-600"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-slate-900 truncate",children:G.fileName}),l.jsxs("p",{className:"text-xs text-slate-600",children:[G.attachmentType,"  ",lr(G.uploadedAt)]})]})]},G.id))})]}),h.approvalStatus==="PENDING"&&l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Razo da Rejeio (se aplicvel)"}),l.jsx("textarea",{value:_,onChange:G=>A(G.target.value),placeholder:"Explique por que a despesa  rejeitada...",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 text-sm",rows:3})]})]}),l.jsxs("div",{className:"flex gap-3 p-6 border-t border-slate-200 bg-slate-50",children:[l.jsxs("button",{onClick:L,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-colors flex items-center justify-center gap-2",children:[l.jsx(Mf,{className:"w-4 h-4"}),"Rejeitar"]}),l.jsxs("button",{onClick:R,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition-colors flex items-center justify-center gap-2",children:[l.jsx(ia,{className:"w-4 h-4"}),"Aprovar"]}),l.jsx("button",{onClick:()=>{b(!1),m(null),A("")},className:"flex-1 px-4 py-2 bg-slate-300 text-slate-800 rounded-lg font-medium hover:bg-slate-400 transition-colors",children:"Fechar"})]})]})})]}):l.jsx("div",{className:"flex items-center justify-center h-screen",children:l.jsx("div",{className:"text-gray-500",children:"Carregando..."})})}function gZ(){const{currentUser:e,selectedDepartmentId:t}=Nr(),[r,n]=w.useState(!0),[s,o]=w.useState("overview"),[u,d]=w.useState([]),[h,m]=w.useState([]),[p,g]=w.useState([]),x=new Date,b=new Date(x.getFullYear(),x.getMonth(),1),[j,N]=w.useState({startDate:b.toISOString().split("T")[0],endDate:x.toISOString().split("T")[0],costCenterId:void 0}),[_,A]=w.useState(0),[P,O]=w.useState(0),[C,D]=w.useState(0);w.useEffect(()=>{R()},[j,t]);const R=async()=>{try{n(!0);const[k,se,U]=await Promise.all([Jk(t||""),hZ(),mZ(t||"")]);d(k),m(se),g(U);const V=k.reduce((ue,be)=>ue+(be.budgetAmount||0),0),I=k.reduce((ue,be)=>ue+be.spentAmount,0),W=k.reduce((ue,be)=>ue+(be.approvalPendingAmount||0),0);A(V),O(I),D(W)}catch(k){console.error("Error loading report data:",k)}finally{n(!1)}},L=k=>{try{if(k==="csv"){const se=H();G(se,"expenses-report.csv","text/csv")}}catch(se){console.error("Error exporting report:",se)}},H=()=>{const k=["Centro de Custo","Oramento","Gasto","Pendente","Restante","Status","% Utilizado"],se=u.map(U=>{var V,I;return[U.costCenterName||"N/A",((V=U.budgetAmount)==null?void 0:V.toFixed(2))||"0",U.spentAmount.toFixed(2),((I=U.approvalPendingAmount)==null?void 0:I.toFixed(2))||"0",U.remainingBudget.toFixed(2),U.budgetStatus,U.percentageUsed.toFixed(1)]});return[k,...se].map(U=>U.join(",")).join(`
`)},G=(k,se,U)=>{const V=new Blob([k],{type:U}),I=window.URL.createObjectURL(V),W=document.createElement("a");W.href=I,W.download=se,W.click(),window.URL.revokeObjectURL(I)},he=k=>{switch(k){case"EXCEEDED":return"bg-red-100 text-red-800 border-red-300";case"CRITICAL":return"bg-orange-100 text-orange-800 border-orange-300";case"WARNING":return"bg-yellow-100 text-yellow-800 border-yellow-300";default:return"bg-green-100 text-green-800 border-green-300"}},ne=k=>{switch(k){case"EXCEEDED":return"bg-red-600";case"CRITICAL":return"bg-orange-600";case"WARNING":return"bg-yellow-600";default:return"bg-green-600"}};return e?l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("h1",{className:"text-4xl font-bold text-slate-900 flex items-center gap-3",children:[l.jsx(zy,{className:"w-10 h-10 text-purple-600"}),"Relatrios de Oramento"]}),l.jsx("p",{className:"text-slate-600 mt-2",children:"Monitore gastos vs oramento | Anlise por categoria"})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(rO,{className:"w-5 h-5 text-slate-600"}),l.jsx("h3",{className:"font-semibold text-slate-900",children:"Filtros"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Data Inicial"}),l.jsx("input",{type:"date",value:j.startDate,onChange:k=>N({...j,startDate:k.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-sm"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Data Final"}),l.jsx("input",{type:"date",value:j.endDate,onChange:k=>N({...j,endDate:k.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-sm"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Centro de Custo"}),l.jsxs("select",{value:j.costCenterId||"",onChange:k=>N({...j,costCenterId:k.target.value||void 0}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-sm",children:[l.jsx("option",{value:"",children:"Todos"}),p.map(k=>l.jsx("option",{value:k.id,children:k.name},k.id))]})]}),l.jsxs("div",{className:"flex items-end gap-2",children:[l.jsx("button",{onClick:R,className:"flex-1 px-4 py-2 bg-purple-600 text-white rounded-lg font-medium hover:bg-purple-700 transition-colors",children:"Atualizar"}),l.jsxs("button",{onClick:()=>L("csv"),className:"px-4 py-2 bg-slate-600 text-white rounded-lg font-medium hover:bg-slate-700 transition-colors flex items-center gap-2",children:[l.jsx(Yv,{className:"w-4 h-4"}),"CSV"]})]})]})]}),!r&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-blue-500",children:[l.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Oramento Total"}),l.jsx("p",{className:"text-3xl font-bold text-slate-900",children:_.toLocaleString("pt-BR",{style:"currency",currency:"MZN"})})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-orange-500",children:[l.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Gasto Realizado"}),l.jsx("p",{className:"text-3xl font-bold text-slate-900",children:P.toLocaleString("pt-BR",{style:"currency",currency:"MZN"})}),l.jsxs("p",{className:"text-xs text-slate-600 mt-1",children:[_>0?(P/_*100).toFixed(1):"0","% do oramento"]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-yellow-500",children:[l.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Pendente Aprovao"}),l.jsx("p",{className:"text-3xl font-bold text-slate-900",children:C.toLocaleString("pt-BR",{style:"currency",currency:"MZN"})})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-green-500",children:[l.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Restante"}),l.jsx("p",{className:"text-3xl font-bold text-slate-900",children:(_-P-C).toLocaleString("pt-BR",{style:"currency",currency:"MZN"})})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[l.jsx("div",{className:"flex border-b border-slate-200",children:["overview","details","analysis"].map(k=>l.jsxs("button",{onClick:()=>o(k),className:`flex-1 px-6 py-3 text-sm font-medium transition-colors flex items-center justify-center gap-2 ${s===k?"border-b-2 border-purple-600 text-purple-600":"text-slate-600 hover:text-slate-900"}`,children:[k==="overview"&&l.jsxs(l.Fragment,{children:[l.jsx(zy,{className:"w-4 h-4"}),"Viso Geral"]}),k==="details"&&l.jsxs(l.Fragment,{children:[l.jsx(yu,{className:"w-4 h-4"}),"Detalhes"]}),k==="analysis"&&l.jsxs(l.Fragment,{children:[l.jsx(eO,{className:"w-4 h-4"}),"Anlise"]})]},k))}),l.jsx("div",{className:"p-6",children:r?l.jsx("div",{className:"flex items-center justify-center py-8",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"})}):s==="overview"?l.jsx("div",{className:"space-y-6",children:u.length===0?l.jsxs("div",{className:"text-center py-8 text-slate-500",children:[l.jsx(Qs,{className:"w-12 h-12 mx-auto text-slate-300 mb-3"}),l.jsx("p",{children:"Sem dados de oramento para o perodo selecionado"})]}):l.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto",children:u.map(k=>{var se,U;return l.jsxs("div",{className:`p-4 rounded-lg border-2 ${he(k.budgetStatus)}`,children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold",children:k.costCenterName||"Centro Sem Nome"}),l.jsxs("p",{className:"text-xs opacity-75 mt-1",children:[lr(k.periodStart)," a"," ",lr(k.periodEnd)]})]}),l.jsx("span",{className:"text-xs font-bold px-3 py-1 rounded bg-current bg-opacity-20 uppercase",children:k.budgetStatus})]}),l.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-3 text-sm",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs opacity-75",children:"Oramento"}),l.jsx("p",{className:"font-semibold",children:((se=k.budgetAmount)==null?void 0:se.toLocaleString("pt-BR",{style:"currency",currency:"MZN"}))||"N/A"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs opacity-75",children:"Gasto"}),l.jsx("p",{className:"font-semibold",children:k.spentAmount.toLocaleString("pt-BR",{style:"currency",currency:"MZN"})})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs opacity-75",children:"Pendente"}),l.jsx("p",{className:"font-semibold",children:((U=k.approvalPendingAmount)==null?void 0:U.toLocaleString("pt-BR",{style:"currency",currency:"MZN"}))||"0,00 MZN"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs opacity-75",children:"Restante"}),l.jsx("p",{className:"font-semibold",children:k.remainingBudget.toLocaleString("pt-BR",{style:"currency",currency:"MZN"})})]})]}),l.jsx("div",{className:"w-full bg-gray-300 rounded-full h-3 overflow-hidden",children:l.jsx("div",{className:`h-full transition-all ${ne(k.budgetStatus)}`,style:{width:`${Math.min(k.percentageUsed,100)}%`}})}),l.jsxs("p",{className:"text-xs mt-2 font-semibold opacity-75",children:[k.percentageUsed.toFixed(1),"% utilizado"]})]},k.costCenterId)})})}):s==="details"?l.jsx("div",{className:"overflow-x-auto",children:u.length===0?l.jsxs("div",{className:"text-center py-8 text-slate-500",children:[l.jsx(Qs,{className:"w-12 h-12 mx-auto text-slate-300 mb-3"}),l.jsx("p",{children:"Sem dados para exibir"})]}):l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{className:"bg-slate-100",children:l.jsxs("tr",{className:"border-b border-slate-200",children:[l.jsx("th",{className:"px-4 py-3 text-left font-semibold text-slate-900",children:"Centro de Custo"}),l.jsx("th",{className:"px-4 py-3 text-right font-semibold text-slate-900",children:"Oramento"}),l.jsx("th",{className:"px-4 py-3 text-right font-semibold text-slate-900",children:"Gasto"}),l.jsx("th",{className:"px-4 py-3 text-right font-semibold text-slate-900",children:"Pendente"}),l.jsx("th",{className:"px-4 py-3 text-right font-semibold text-slate-900",children:"Restante"}),l.jsx("th",{className:"px-4 py-3 text-right font-semibold text-slate-900",children:"% Utilizado"}),l.jsx("th",{className:"px-4 py-3 text-center font-semibold text-slate-900",children:"Status"})]})}),l.jsx("tbody",{children:u.map(k=>{var se,U;return l.jsxs("tr",{className:"border-b border-slate-200 hover:bg-slate-50",children:[l.jsx("td",{className:"px-4 py-3 font-medium text-slate-900",children:k.costCenterName||"N/A"}),l.jsx("td",{className:"px-4 py-3 text-right text-slate-800",children:((se=k.budgetAmount)==null?void 0:se.toLocaleString("pt-BR",{style:"currency",currency:"MZN"}))||"N/A"}),l.jsx("td",{className:"px-4 py-3 text-right text-slate-800",children:k.spentAmount.toLocaleString("pt-BR",{style:"currency",currency:"MZN"})}),l.jsx("td",{className:"px-4 py-3 text-right text-slate-800",children:((U=k.approvalPendingAmount)==null?void 0:U.toLocaleString("pt-BR",{style:"currency",currency:"MZN"}))||"0,00 MZN"}),l.jsx("td",{className:"px-4 py-3 text-right text-slate-800",children:k.remainingBudget.toLocaleString("pt-BR",{style:"currency",currency:"MZN"})}),l.jsxs("td",{className:"px-4 py-3 text-right font-semibold text-slate-900",children:[k.percentageUsed.toFixed(1),"%"]}),l.jsx("td",{className:"px-4 py-3 text-center",children:l.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded uppercase ${he(k.budgetStatus)}`,children:k.budgetStatus})})]},k.costCenterId)})})]})}):l.jsx("div",{className:"space-y-6",children:h.length===0?l.jsxs("div",{className:"text-center py-8 text-slate-500",children:[l.jsx(Qs,{className:"w-12 h-12 mx-auto text-slate-300 mb-3"}),l.jsx("p",{children:"Sem dados de categoria para o perodo selecionado"})]}):l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"Gastos por Categoria"}),l.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:h.map((k,se)=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg border border-slate-200",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium text-slate-900",children:k.categoryName||k.category||"Sem Categoria"}),l.jsxs("p",{className:"text-xs text-slate-600",children:[k.expenseCount," despesa",k.expenseCount!==1?"s":""]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"font-semibold text-slate-900",children:k.totalAmount.toLocaleString("pt-BR",{style:"currency",currency:"MZN"})}),l.jsxs("p",{className:"text-xs text-slate-600",children:[k.percentageOfTotal.toFixed(1),"%"]})]})]},se))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"Resumo de Gastos"}),l.jsx("div",{className:"space-y-3",children:h.reduce((k,se)=>({totalExpenses:k.totalExpenses+se.totalAmount,count:k.count+se.expenseCount}),{totalExpenses:0,count:0}).totalExpenses>0&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:[l.jsx("p",{className:"text-xs text-blue-600 mb-1",children:"Total de Gastos"}),l.jsx("p",{className:"text-xl font-bold text-blue-900",children:h.reduce((k,se)=>k+se.totalAmount,0).toLocaleString("pt-BR",{style:"currency",currency:"MZN"})})]}),l.jsxs("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200",children:[l.jsx("p",{className:"text-xs text-green-600 mb-1",children:"Total de Despesas"}),l.jsx("p",{className:"text-xl font-bold text-green-900",children:h.reduce((k,se)=>k+se.expenseCount,0)})]}),l.jsxs("div",{className:"p-3 bg-purple-50 rounded-lg border border-purple-200",children:[l.jsx("p",{className:"text-xs text-purple-600 mb-1",children:"Gasto Mdio"}),l.jsx("p",{className:"text-xl font-bold text-purple-900",children:(h.reduce((k,se)=>k+se.totalAmount,0)/h.reduce((k,se)=>k+se.expenseCount,1)).toLocaleString("pt-BR",{style:"currency",currency:"MZN"})})]})]})})]})]})})})]})]}):l.jsx("div",{className:"flex items-center justify-center h-screen",children:l.jsx("div",{className:"text-gray-500",children:"Carregando..."})})}const nl={async createGroup(e,t,r,n){const{data:{user:s}}=await ee.auth.getUser();if(!s)throw new Error("User not authenticated");const{data:o,error:u}=await ee.from("chat_groups").insert({name:e,type:t,description:r,location_id:n,created_by:s.id}).select().single();if(u)throw u;return o},async getUserGroups(){const{data:{user:e}}=await ee.auth.getUser();if(!e)throw new Error("User not authenticated");const{data:t,error:r}=await ee.from("chat_groups").select(`
        *,
        chat_group_members!inner(user_id),
        chat_messages(created_at)
      `).order("created_at",{ascending:!1});if(r)throw r;return t},async getGroupDetails(e){const{data:t,error:r}=await ee.from("chat_groups").select(`
        *,
        chat_group_members(*)
      `).eq("id",e).single();if(r)throw r;return t},async addGroupMember(e,t,r="MEMBER"){const{data:n,error:s}=await ee.from("chat_group_members").insert({group_id:e,user_id:t,role:r}).select().single();if(s)throw s;return n},async removeGroupMember(e,t){const{error:r}=await ee.from("chat_group_members").delete().eq("group_id",e).eq("user_id",t);if(r)throw r},async getOrCreateDirectGroup(e,t){const[r,n]=[e,t].sort(),s=`DIRECT-${r.slice(0,8)}-${n.slice(0,8)}`,{data:o,error:u}=await ee.from("chat_groups").select("*").eq("name",s).eq("type","DIRECT").single();if(u&&u.code!=="PGRST116")throw u;if(o)return o;const{data:d,error:h}=await ee.from("chat_groups").insert({name:s,type:"DIRECT",created_by:e}).select().single();if(h)throw h;return await nl.addGroupMember(d.id,e),await nl.addGroupMember(d.id,t),d},async sendMessage(e,t,r="TEXT"){const{data:{user:n}}=await ee.auth.getUser();if(!n)throw new Error("User not authenticated");const{data:s,error:o}=await ee.from("chat_messages").insert({group_id:e,sender_id:n.id,content:t,message_type:r}).select().single();if(o)throw o;return s},async getGroupMessages(e,t=50,r=0){const{data:n,error:s}=await ee.from("chat_messages").select(`
        *,
        chat_file_attachments(*)
      `).eq("group_id",e).eq("is_deleted",!1).order("created_at",{ascending:!1}).range(r,r+t-1);if(s)throw s;return(n==null?void 0:n.reverse())||[]},async editMessage(e,t){const{data:{user:r}}=await ee.auth.getUser();if(!r)throw new Error("User not authenticated");const{data:n,error:s}=await ee.from("chat_messages").update({content:t,is_edited:!0,edited_at:new Date().toISOString()}).eq("id",e).eq("sender_id",r.id).select().single();if(s)throw s;return n},async deleteMessage(e){const{data:{user:t}}=await ee.auth.getUser();if(!t)throw new Error("User not authenticated");const{data:r,error:n}=await ee.from("chat_messages").update({is_deleted:!0,deleted_by:t.id}).eq("id",e).eq("sender_id",t.id).select().single();if(n)throw n;return r},async markMessageAsRead(e){const{data:{user:t}}=await ee.auth.getUser();if(!t)throw new Error("User not authenticated");const{data:r,error:n}=await ee.from("chat_message_reads").insert({message_id:e,user_id:t.id}).select().single();if(n&&n.code!=="23505")throw n;return r},async getUnreadCount(e){const{data:{user:t}}=await ee.auth.getUser();if(!t)throw new Error("User not authenticated");const{data:r,error:n}=await ee.from("chat_messages").select("id").eq("group_id",e).not("chat_message_reads","is",null);if(n)throw n;return(r==null?void 0:r.length)||0},async validateFileUpload(e,t){const r=await fetch("/functions/v1/validate-chat-file",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fileSize:e.size,mimeType:e.type,groupId:t})});if(!r.ok){const n=await r.json();throw new Error(n.error||"File validation failed")}return await r.json()},async uploadFile(e,t,r){var p;const n=await nl.validateFileUpload(e,t),s=`${t}/${r}/${e.name}`,{data:o,error:u}=await ee.storage.from("chat-files").upload(s,e);if(u)throw u;const d="https://kwnbyiqzrphkembkwyvd.supabase.co",{data:h,error:m}=await ee.from("chat_file_attachments").insert({message_id:r,file_name:e.name,file_url:`${d}/storage/v1/object/public/chat-files/${s}`,file_size:e.size,mime_type:e.type,storage_path:s,uploaded_by:((p=(await ee.auth.getUser()).data.user)==null?void 0:p.id)||"",expires_at:n.expiresAt}).select().single();if(m)throw m;return h},async getFileDownloadUrl(e,t=900){const{data:r,error:n}=await ee.storage.from("chat-files").createSignedUrl(e,t);if(n)throw n;return r.signedUrl},async getMessageAttachments(e){const{data:t,error:r}=await ee.from("chat_file_attachments").select("*").eq("message_id",e).order("uploaded_at",{ascending:!1});if(r)throw r;return t},async addReaction(e,t){const{data:{user:r}}=await ee.auth.getUser();if(!r)throw new Error("User not authenticated");const{data:n,error:s}=await ee.from("chat_reactions").insert({message_id:e,user_id:r.id,emoji:t}).select().single();if(s&&s.code!=="23505")throw s;return n},async removeReaction(e,t){const{data:{user:r}}=await ee.auth.getUser();if(!r)throw new Error("User not authenticated");const{error:n}=await ee.from("chat_reactions").delete().eq("message_id",e).eq("user_id",r.id).eq("emoji",t);if(n)throw n},async getMessageReactions(e){const{data:t,error:r}=await ee.from("chat_reactions").select("*").eq("message_id",e);if(r)throw r;return(t||[]).reduce((s,o)=>(s[o.emoji]||(s[o.emoji]=[]),s[o.emoji].push(o.user_id),s),{})}},yZ=()=>{const{currentUser:e,allUsers:t}=Nr(),[r,n]=w.useState([]),[s,o]=w.useState(null),[u,d]=w.useState([]),[h,m]=w.useState(""),[p,g]=w.useState(new Set),[x,b]=w.useState(!1),[j,N]=w.useState(""),[_,A]=w.useState(!1);w.useEffect(()=>{P()},[]),w.useEffect(()=>{if(!s)return;let H;return(async()=>{H=await p3(ee,s.id,he=>{d(ne=>[...ne,he.new])})})(),O(s.id),()=>{H&&H()}},[s]),w.useEffect(()=>{if(!s)return;let H;return(async()=>{H=await g3(ee,s.id,he=>{g(ne=>{const k=new Set(ne);return he.isTyping?k.add(he.userId):k.delete(he.userId),k})})})(),()=>{H&&H()}},[s]);const P=async()=>{try{const H=await nl.getUserGroups();n(H),H.length>0&&o(H[0])}catch(H){console.error("Error loading groups:",H)}},O=async H=>{b(!0);try{const G=await nl.getGroupMessages(H);d(G)}catch(G){console.error("Error loading messages:",G)}finally{b(!1)}},C=async()=>{if(!(!h.trim()||!s))try{await nl.sendMessage(s.id,h),m(""),await G0(ee,s.id,(e==null?void 0:e.id)||"",!1)}catch(H){console.error("Error sending message:",H)}},D=async()=>{s&&(await G0(ee,s.id,(e==null?void 0:e.id)||"",!0),setTimeout(()=>{h.trim()||G0(ee,s.id,(e==null?void 0:e.id)||"",!1)},3e3))},R=r.filter(H=>H.name.toLowerCase().includes(j.toLowerCase())),L=()=>p.size===0?"":`${Array.from(p).map(G=>{var he;return(he=t.find(ne=>ne.id===G))==null?void 0:he.name}).filter(Boolean).join(", ")} is typing...`;return l.jsxs("div",{className:"flex h-screen bg-gray-100",children:[l.jsxs("div",{className:"w-64 bg-white border-r border-gray-200 flex flex-col",children:[l.jsxs("div",{className:"p-4 border-b border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[l.jsx(qy,{size:24,className:"text-blue-600"}),"Chats"]}),l.jsx("button",{onClick:()=>A(!0),className:"p-2 hover:bg-gray-100 rounded-lg transition",title:"Nova conversa",children:l.jsx(Vr,{size:20,className:"text-blue-600"})})]}),l.jsx("input",{type:"text",placeholder:"Procurar conversas...",value:j,onChange:H=>N(H.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),l.jsx("div",{className:"flex-1 overflow-y-auto",children:R.map(H=>l.jsxs("button",{onClick:()=>o(H),className:`w-full px-4 py-3 text-left border-b border-gray-100 hover:bg-gray-50 transition ${(s==null?void 0:s.id)===H.id?"bg-blue-50":""}`,children:[l.jsx("p",{className:"font-medium text-gray-800 truncate",children:H.name}),l.jsx("p",{className:"text-xs text-gray-500",children:H.type==="DIRECT"?"Direct message":H.type})]},H.id))})]}),l.jsx("div",{className:"flex-1 flex flex-col bg-white",children:s?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-white border-b border-gray-200 p-4 flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-gray-800",children:s.name}),l.jsx("p",{className:"text-sm text-gray-500",children:s.description})]}),l.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition",children:l.jsx(Qv,{size:20,className:"text-gray-600"})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[x?l.jsx("div",{className:"text-center text-gray-500",children:"Carregando mensagens..."}):u.length===0?l.jsx("div",{className:"text-center text-gray-500 mt-8",children:"Nenhuma mensagem ainda. Comece a conversa!"}):u.map(H=>{const G=t.find(he=>he.id===H.sender_id);return l.jsx("div",{className:`flex ${H.sender_id===(e==null?void 0:e.id)?"justify-end":"justify-start"}`,children:l.jsxs("div",{className:`max-w-xs px-4 py-2 rounded-lg ${H.sender_id===(e==null?void 0:e.id)?"bg-blue-600 text-white":"bg-gray-200 text-gray-800"}`,children:[H.sender_id!==(e==null?void 0:e.id)&&l.jsx("p",{className:"text-xs font-semibold mb-1",children:G==null?void 0:G.name}),l.jsx("p",{className:"text-sm break-words",children:H.content}),l.jsx("p",{className:"text-xs mt-1 opacity-70",children:new Date(H.created_at).toLocaleTimeString()})]})},H.id)}),L()&&l.jsx("div",{className:"text-sm text-gray-500 italic",children:L()})]}),l.jsx("div",{className:"border-t border-gray-200 p-4 bg-gray-50",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{className:"p-2 hover:bg-gray-200 rounded-lg transition",title:"Anexar ficheiro",children:l.jsx($y,{size:20,className:"text-gray-600"})}),l.jsx("input",{type:"text",placeholder:"Escreva uma mensagem...",value:h,onChange:H=>m(H.target.value),onKeyUp:D,onKeyPress:H=>{H.key==="Enter"&&!H.shiftKey&&(H.preventDefault(),C())},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),l.jsxs("button",{onClick:C,disabled:!h.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 transition flex items-center gap-2",children:[l.jsx(H5,{size:18}),"Enviar"]})]})})]}):l.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:l.jsxs("div",{className:"text-center",children:[l.jsx(qy,{size:48,className:"mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"Selecione uma conversa para comear"})]})})}),_&&l.jsx(vZ,{onClose:()=>A(!1),onGroupCreated:()=>{P(),A(!1)}})]})},vZ=({onClose:e,onGroupCreated:t})=>{const[r,n]=w.useState(""),[s,o]=w.useState("GROUP"),[u,d]=w.useState(!1),h=async()=>{if(r.trim()){d(!0);try{await nl.createGroup(r,s),t()}catch(m){console.error("Error creating group:",m),alert("Erro ao criar conversa")}finally{d(!1)}}};return l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-md w-full mx-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Nova Conversa"}),l.jsx("button",{onClick:e,className:"p-1 hover:bg-gray-100 rounded",children:l.jsx(rn,{size:20})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome da Conversa"}),l.jsx("input",{type:"text",value:r,onChange:m=>n(m.target.value),placeholder:"Ex: Marketing Team",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),l.jsxs("select",{value:s,onChange:m=>o(m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"GROUP",children:"Grupo"}),l.jsx("option",{value:"CHANNEL",children:"Canal"})]})]}),l.jsxs("div",{className:"flex gap-2 pt-4",children:[l.jsx("button",{onClick:e,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:"Cancelar"}),l.jsx("button",{onClick:h,disabled:!r.trim()||u,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 transition",children:u?"Criando...":"Criar"})]})]})]})})},xZ=({onAuthSuccess:e})=>{const[t,r]=w.useState(!0),[n,s]=w.useState(""),[o,u]=w.useState(""),[d,h]=w.useState(""),[m,p]=w.useState(""),[g,x]=w.useState(""),[b,j]=w.useState(!1),[N,_]=w.useState(null),[A,P]=w.useState(null),O=async D=>{D.preventDefault(),j(!0),_(null);try{const{data:R,error:L}=await ee.auth.signInWithPassword({email:n,password:o});if(L)throw L;R.user&&(P("Login bem-sucedido! Redirecionando..."),setTimeout(()=>e(),1e3))}catch(R){_(R.message||"Erro ao fazer login")}finally{j(!1)}},C=async D=>{D.preventDefault(),j(!0),_(null);try{const R={name:d};m&&(R.jobTitle=m),g&&(R.locationId=g);const{data:L,error:H}=await ee.auth.signUp({email:n,password:o,options:{data:R}});if(H)throw H;L.user&&(P("Conta criada com sucesso! Verifique seu email para confirmar."),s(""),u(""),h(""))}catch(R){_(R.message||"Erro ao criar conta")}finally{j(!1)}};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-white to-blue-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-md",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-emerald-600 rounded-2xl mb-4",children:l.jsx("span",{className:"text-3xl",children:""})}),l.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"OFICE"}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Sistema de Gesto Operacional"})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[l.jsxs("div",{className:"flex gap-2 mb-6 bg-gray-100 p-1 rounded-lg",children:[l.jsxs("button",{onClick:()=>{r(!0),_(null),P(null)},className:`flex-1 py-2 px-4 rounded-md font-medium transition-all ${t?"bg-white text-emerald-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:[l.jsx(v5,{size:18,className:"inline mr-2"}),"Entrar"]}),l.jsxs("button",{onClick:()=>{r(!1),_(null),P(null)},className:`flex-1 py-2 px-4 rounded-md font-medium transition-all ${t?"text-gray-600 hover:text-gray-800":"bg-white text-emerald-600 shadow-sm"}`,children:[l.jsx(Zc,{size:18,className:"inline mr-2"}),"Criar Conta"]})]}),N&&l.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm",children:N}),A&&l.jsx("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 text-green-700 rounded-lg text-sm",children:A}),l.jsxs("form",{onSubmit:t?O:C,className:"space-y-4",children:[!t&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome Completo"}),l.jsx("input",{type:"text",value:d,onChange:D=>h(D.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Joo Silva",required:!t,"aria-label":"Nome completo"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cargo (opcional)"}),l.jsx("input",{type:"text",value:m,onChange:D=>p(D.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Ex.: Motosserrista","aria-label":"Cargo"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Local (opcional)"}),l.jsxs("select",{value:g,onChange:D=>x(D.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent","aria-label":"Localizao",children:[l.jsx("option",{value:"",children:"Sem local"}),v3.map(D=>l.jsx("option",{value:D.id,children:D.name},D.id))]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),l.jsx("input",{type:"email",value:n,onChange:D=>s(D.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"seu@email.com",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Senha"}),l.jsx("input",{type:"password",value:o,onChange:D=>u(D.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"",required:!0,minLength:6}),!t&&l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Mnimo 6 caracteres"})]}),l.jsx("button",{type:"submit",disabled:b,className:"w-full bg-emerald-600 text-white py-3 rounded-lg font-semibold hover:bg-emerald-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:b?l.jsxs(l.Fragment,{children:[l.jsx(g5,{size:20,className:"animate-spin"}),"Processando..."]}):t?"Entrar":"Criar Conta"})]}),l.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[l.jsx("button",{onClick:()=>e(),className:"w-full bg-orange-500 hover:bg-orange-600 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center gap-2",title:"Bypass authentication for development (only works if Supabase is not configured)",children:" Development Mode (Skip Auth)"}),l.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Only use this for testing the UI while setting up Supabase"})]}),t&&l.jsx("div",{className:"mt-4 text-center",children:l.jsx("a",{href:"#",className:"text-sm text-emerald-600 hover:text-emerald-700",children:"Esqueceu a senha?"})})]}),l.jsxs("div",{className:"mt-6 text-center text-sm text-gray-600",children:[l.jsx("p",{children:"Sistema de Gesto Operacional Florestal"}),l.jsx("p",{className:"mt-1",children:" 2025 OFICE - Todos os direitos reservados"})]})]})})};function bZ(){const[e,t]=w.useState("dashboard"),[r,n]=w.useState(null),[s,o]=w.useState(!0);w.useEffect(()=>{ee.auth.getSession().then(({data:{session:h}})=>{n(h),o(!1)});const{data:{subscription:d}}=ee.auth.onAuthStateChange((h,m)=>{n(m)});return()=>d.unsubscribe()},[]);const u=()=>{switch(e){case"dashboard":return l.jsx(TA,{onNavigate:t});case"requisitions":return l.jsx(qX,{});case"inventory":return l.jsx($X,{});case"performance":return l.jsx(UX,{});case"hr":return l.jsx(BX,{});case"settings":return l.jsx(FX,{});case"patrimony":return l.jsx(HX,{});case"pos":return l.jsx(WX,{});case"permissions":return l.jsx(XX,{});case"payroll":return l.jsx(ZX,{});case"fichas":return l.jsx(QX,{});case"contas-receber":return l.jsx(iZ,{});case"expense-approvals":return l.jsx(pZ,{});case"expense-reports":return l.jsx(gZ,{});case"chat":return l.jsx(yZ,{});default:return l.jsx(TA,{onNavigate:t})}};return s?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-white to-blue-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-emerald-600 rounded-2xl mb-4 animate-pulse",children:l.jsx("span",{className:"text-3xl",children:""})}),l.jsx("p",{className:"text-gray-600",children:"Carregando..."})]})}):r?l.jsx(b3,{children:l.jsx(p6,{activeTab:e,onTabChange:t,children:u()})}):l.jsx(xZ,{onAuthSuccess:()=>{ee.auth.getSession().then(({data:{session:d}})=>{n(d)})}})}const eP=document.getElementById("root");if(!eP)throw new Error("Could not find root element to mount to");const wZ=g4.createRoot(eP);wZ.render(l.jsx(Xs.StrictMode,{children:l.jsx(bZ,{})}));export{Ea as g};
